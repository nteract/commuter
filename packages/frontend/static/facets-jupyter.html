<!doctype html><script>define=undefined</script><!--
@license
Copyright 2017 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt

@license
Copyright 2016 The TensorFlow Authors. All Rights Reserved.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

@license
d3
Copyright 2010-2017 Mike Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* Neither the name of the author nor the names of contributors may be used to
  endorse or promote products derived from this software without specific prior
  written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

@license
Plottable.js
Copyright (c) 2014-2017 Palantir Technologies, Inc.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
three.js
Copyright (c) 2010-2013 three.js authors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><script>// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){var c={},d={},e={},f=null;!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=w}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==u.indexOf(b[c]))return;if("direction"==c&&-1==v.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||a>1||0>c||c>1?w:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0==e||1==e)return e;for(var g=0,h=1;;){var i=(g+h)/2,j=f(a,c,i);if(Math.abs(e-j)<1e-4)return f(b,d,i);e>j?g=i:h=i}}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return c+=b*d,c-c%d}}function k(a){B||(B=document.createElement("div").style),B.animationTimingFunction="",B.animationTimingFunction=a;var b=B.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");var c=D.exec(b);if(c)return i.apply(this,c.slice(1).map(Number));var d=E.exec(b);if(d)return j(Number(d[1]),{start:x,middle:y,end:z}[d[2]]);var f=A[b];return f?f:w}function l(a){return Math.abs(m(a)/a.playbackRate)}function m(a){return a.duration*a.iterations}function n(a,b,c){return null==b?F:b<c.delay?G:b>=c.delay+a?H:I}function o(a,b,c,d,e){switch(d){case G:return"backwards"==b||"both"==b?0:null;case I:return c-e;case H:return"forwards"==b||"both"==b?a:null;case F:return null}}function p(a,b,c,d){return(d.playbackRate<0?b-a:b)*d.playbackRate+c}function q(a,b,c,d,e){return c===1/0||c===-(1/0)||c-d==b&&e.iterations&&(e.iterations+e.iterationStart)%1==0?a:c%a}function r(a,b,c,d){return 0===c?0:b==a?d.iterationStart+d.iterations-1:Math.floor(c/a)}function s(a,b,c,d){var e=a%2>=1,f="normal"==d.direction||d.direction==(e?"alternate-reverse":"alternate"),g=f?c:b-c,h=g/b;return b*d._easingFunction(h)}function t(a,b,c){var d=n(a,b,c),e=o(a,c.fill,b,d,c.delay);if(null===e)return null;if(0===a)return d===G?0:1;var f=c.iterationStart*c.duration,g=p(a,e,f,c),h=q(c.duration,m(c),g,f,c),i=r(c.duration,h,g,c);return s(i,c.duration,h,c)/c.duration}var u="backwards|forwards|both|none".split("|"),v="reverse|alternate|alternate-reverse".split("|"),w=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=k(a),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var x=1,y=.5,z=0,A={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,x),"step-middle":j(1,y),"step-end":j(1,z)},B=null,C="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",D=new RegExp("cubic-bezier\\("+C+","+C+","+C+","+C+"\\)"),E=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,F=0,G=1,H=2,I=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=l,a.calculateTimeFraction=t,a.calculatePhase=n,a.toTimingFunction=k}(c,f),function(a,b){function c(a,b){return a in j?j[a][b]||b:b}function d(a,b,d){var e=g[a];if(e){h.style[a]=b;for(var f in e){var i=e[f],j=h.style[i];d[i]=c(i,j)}}else d[a]=c(a,b)}function e(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;f>g;g++)e={},"offset"in a?e.offset=a.offset:1==f?e.offset=1:e.offset=g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function f(a){function b(){var a=c.length;null==c[a-1].offset&&(c[a-1].offset=1),a>1&&null==c[0].offset&&(c[0].offset=0);for(var b=0,d=c[0].offset,e=1;a>e;e++){var f=c[e].offset;if(null!=f){for(var g=1;e-b>g;g++)c[b+g].offset=d+(f-d)*g/(e-b);b=e,d=f}}}if(null==a)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&a[Symbol.iterator]&&(a=Array.from(a)),Array.isArray(a)||(a=e(a));for(var c=a.map(function(a){var b={};for(var c in a){var e=a[c];if("offset"==c){if(null!=e&&(e=Number(e),!isFinite(e)))throw new TypeError("keyframe offsets must be numbers.")}else{if("composite"==c)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};e=""+e}d(c,e,b)}return void 0==b.offset&&(b.offset=null),b}),f=!0,g=-(1/0),h=0;h<c.length;h++){var i=c[h].offset;if(null!=i){if(g>i)throw{code:DOMException.INVALID_MODIFICATION_ERR,name:"InvalidModificationError",message:"Keyframes are not loosely sorted by offset. Sort or specify offsets."};g=i}else f=!1}return c=c.filter(function(a){return a.offset>=0&&a.offset<=1}),f||b(),c}var g={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),i={thin:"1px",medium:"3px",thick:"5px"},j={borderBottomWidth:i,borderLeftWidth:i,borderRightWidth:i,borderTopWidth:i,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:i,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=e,a.normalizeKeyframes=f}(c,f),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),h>g?(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,!1):!0},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=f[g].offset,i=f[g+1].offset,j=f[g].value,k=f[g+1].value,l=f[g].easing;h==i&&(1==i?j=k:k=j),d.push({startTime:h,endTime:i,easing:a.toTimingFunction(l?l:"linear"),property:e,interpolation:b.propertyInterpolation(e,j,k)})}return d.sort(function(a,b){return a.startTime-b.startTime}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return 0>=c&&0==a.startTime||c>=1&&1==a.endTime||c>=a.startTime&&c<=a.endTime}).forEach(function(d){var e=c-d.startTime,f=d.endTime-d.startTime,g=0==f?0:d.easing(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d,f),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){var g=c[f];e(a,b,d(g))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d,f),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateTimeFraction(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d._isCurrent=function(d){var e=a.calculatePhase(c,d,b);return e===PhaseActive||e===PhaseBefore},d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return h=i(a),null!==h},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._isCurrent=i._isCurrent,k._totalDuration=i._totalDuration,k._id=g,k},b.NullEffect=function(a){var b=function(){a&&(a(),a=null)};return b._update=function(){return null},b._totalDuration=0,b._isCurrent=function(){return!1},b._hasSameTarget=function(){return!1},b}}(c,d,f),function(a,b){a.apply=function(b,c,d){b.style[a.propertyName(c)]=d},a.clear=function(b,c){b.style[a.propertyName(c)]=""}}(d,f),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d,f),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._tickCurrentTime(a,!0),b.invalidateEffects()))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.invalidateEffects())},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var b=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!=b&&(this.currentTime=b)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._currentTime=this._playbackRate>0?0:this._totalDuration,this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.invalidateEffects()},pause:function(){this._isFinished||this._paused||this._idle||(this._currentTimePending=!0),this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.invalidateEffects())},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._finishedFlag=!0,this.currentTime=0,this._startTime=null,this._effect._update(null),b.invalidateEffects())},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag}}}(c,d,f),function(a,b,c){function d(a){var b=j;j=[],a<p.currentTime&&(a=p.currentTime),h(a,!0),b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c){n=!1;var d=b.timeline;d.currentTime=a,d._animations.sort(e),m=!1;var f=d._animations;d._animations=[];var g=[],h=[];f=f.filter(function(b){b._tick(a,c),b._inEffect?h.push(b._effect):g.push(b._effect),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;return b._inTimeline=d,d}),o.push.apply(o,g),o.push.apply(o,h),d._animations.push.apply(d._animations,f),m&&requestAnimationFrame(function(){})}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.invalidateEffects(),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.invalidateEffects=function(){h(b.timeline.currentTime,!1),g()};var o=[],p=new f;b.timeline=p}(c,d,f),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],g=b(d,e),!g||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){var d=a(c);return d?d:[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(".000","")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function f(a,b){return[a,b,c]}function g(a,b){return 0!=a?i(0,1/0)(a,b):void 0}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,j,["z-index"]),a.parseNumber=e,a.mergeNumbers=f,a.numberToString=c}(d,f),function(a,b){function c(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","outline-color","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d,f),function(a,b){function c(a,b){if(b=b.trim().toLowerCase(),"0"==b&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});for(var d="U("+a.source+")",e=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+d,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],g=0;g<f.length;)f[g].test(e)?(e=e.replace(f[g],"$1"),g=0):g++;if("D"==e){for(var h in c){var i=eval(b.replace(new RegExp("U"+h,"g"),"").replace(new RegExp(d,"g"),"*0"));if(!isFinite(i))return;c[h]=i}return c}}}function d(a,b){return e(a,b,!0)}function e(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var f="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",g=c.bind(null,new RegExp(f,"g")),h=c.bind(null,new RegExp(f+"|%","g")),i=c.bind(null,/deg|rad|grad|turn/g);a.parseLength=g,a.parseLengthOrPercent=h,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,h),a.parseAngle=i,a.mergeDimensions=e;var j=a.consumeParenthesised.bind(null,g),k=a.consumeRepeated.bind(void 0,j,/^/),l=a.consumeRepeated.bind(void 0,k,/^,/);a.consumeSizePairList=l;var m=function(a){var b=l(a);return b&&""==b[1]?b[0]:void 0},n=a.mergeNestedRepeated.bind(void 0,d," "),o=a.mergeNestedRepeated.bind(void 0,n,",");a.mergeNonNegativeSizePair=n,a.addPropertiesHandler(m,o,["background-size"]),a.addPropertiesHandler(h,d,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(h,e,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","text-indent","top","vertical-align","word-spacing"])}(d,f),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);return d&&4==d[0].length?d[0]:void 0}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d,f),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if(b=b.toLowerCase().trim(),"none"==b)return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r],void 0===p)return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]),g=a.composeMatrix(b[0],b[1],b[2],c,b[4]),h=g.map(f).join(",");return h}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"])}(d,f),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b)})}var d={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a}}(d,f)}(),!function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(g){}finally{c&&c.cancel()}if(!d){var h=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),h.call(this,b,c)}}}(c),!function(a,b,c){function d(a){var b=window.document.timeline;b.currentTime=a,b._discardAnimations(),0==b._animations.length?f=!1:requestAnimationFrame(d);
}var e=window.requestAnimationFrame;window.requestAnimationFrame=function(a){return e(function(b){window.document.timeline._updateAnimationsPromises(),a(b),window.document.timeline._updateAnimationsPromises()})},b.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0},b.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){b.animationsWithPromises=b.animationsWithPromises.filter(function(a){return a._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(a){return"finished"!=a.playState&&"idle"!=a.playState})},_play:function(a){var c=new b.Animation(a,this);return this._animations.push(c),b.restartWebAnimationsNextTick(),c._updatePromises(),c._animation.play(),c._updatePromises(),c},play:function(a){return a&&a.remove(),this._play(a)}};var f=!1;b.restartWebAnimationsNextTick=function(){f||(f=!0,requestAnimationFrame(d))};var g=new b.AnimationTimeline;b.timeline=g;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return g}})}catch(h){}try{window.document.timeline=g}catch(h){}}(c,e,f),function(a,b,c){b.animationsWithPromises=[],b.Animation=function(b,c){if(this.id="",b&&b._id&&(this.id=b._id),this.effect=b,b&&(b._animation=this),!c)throw new Error("Animation with null timeline is not supported");this._timeline=c,this._sequenceNumber=a.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},b.Animation.prototype={_updatePromises:function(){var a=this._oldPlayState,b=this.playState;return this._readyPromise&&b!==a&&("idle"==b?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==a?this._resolveReadyPromise():"pending"==b&&(this._readyPromise=void 0)),this._finishedPromise&&b!==a&&("idle"==b?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==b?this._resolveFinishedPromise():"finished"==a&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var a,c,d,e,f=!!this._animation;f&&(a=this.playbackRate,c=this._paused,d=this.startTime,e=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),(!this.effect||this.effect instanceof window.KeyframeEffect)&&(this._animation=b.newUnderlyingAnimationForKeyframeEffect(this.effect),b.bindAnimationForKeyframeEffect(this)),(this.effect instanceof window.SequenceEffect||this.effect instanceof window.GroupEffect)&&(this._animation=b.newUnderlyingAnimationForGroup(this.effect),b.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&b.bindAnimationForCustomEffect(this),f&&(1!=a&&(this.playbackRate=a),null!==d?this.startTime=d:null!==e?this.currentTime=e:null!==this._holdTime&&(this.currentTime=this._holdTime),c&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var a=this.effect._timing.delay;this._childAnimations.forEach(function(c){this._arrangeChildren(c,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c.effect))}.bind(this))}},_setExternalAnimation:function(a){if(this.effect&&this._isGroup)for(var b=0;b<this.effect.children.length;b++)this.effect.children[b]._animation=a,this._childAnimations[b]._setExternalAnimation(a)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var a=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(c){var d=window.document.timeline._play(c);this._childAnimations.push(d),d.playbackRate=this.playbackRate,this._paused&&d.pause(),c._animation=this.effect._animation,this._arrangeChildren(d,a),this.effect instanceof window.SequenceEffect&&(a+=b.groupChildDuration(c))}.bind(this))}},_arrangeChildren:function(a,b){null===this.startTime?a.currentTime=this.currentTime-b/this.playbackRate:a.startTime!==this.startTime+b/this.playbackRate&&(a.startTime=this.startTime+b/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(a,b){this._resolveFinishedPromise=function(){a(this)},this._rejectFinishedPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==b.animationsWithPromises.indexOf(this)&&b.animationsWithPromises.push(this),this._readyPromise=new Promise(function(a,b){this._resolveReadyPromise=function(){a(this)},this._rejectReadyPromise=function(){b({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(a){"function"==typeof a?this._animation.onfinish=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.onfinish=a},get oncancel(){return this._animation.oncancel},set oncancel(a){"function"==typeof a?this._animation.oncancel=function(b){b.target=this,a.call(this,b)}.bind(this):this._animation.oncancel=a},get currentTime(){this._updatePromises();var a=this._animation.currentTime;return this._updatePromises(),a},set currentTime(a){this._updatePromises(),this._animation.currentTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.currentTime=a-c}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(a){this._updatePromises(),this._animation.startTime=isFinite(a)?a:Math.sign(a)*Number.MAX_VALUE,this._register(),this._forEachChild(function(b,c){b.startTime=a+c}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(a){this._updatePromises();var b=this.currentTime;this._animation.playbackRate=a,this._forEachChild(function(b){b.playbackRate=a}),"paused"!=this.playState&&"idle"!=this.playState&&this.play(),null!==b&&(this.currentTime=b),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),b.awaitStartTime(this),this._forEachChild(function(a){var b=a.currentTime;a.play(),a.currentTime=b}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(a){a.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var a=this.currentTime;this._animation.reverse(),this._forEachChild(function(a){a.reverse()}),null!==a&&(this.currentTime=a),this._updatePromises()},addEventListener:function(a,b){var c=b;"function"==typeof b&&(c=function(a){a.target=this,b.call(this,a)}.bind(this),b._wrapper=c),this._animation.addEventListener(a,c)},removeEventListener:function(a,b){this._animation.removeEventListener(a,b&&b._wrapper||b)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(b){var c=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(a){b.call(this,a,c),this.effect instanceof window.SequenceEffect&&(c+=a.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var d=this.effect._timing,e=this.currentTime;null!==e&&(e=a.calculateTimeFraction(a.calculateActiveDuration(d),e,d)),(null==e||isNaN(e))&&this._removeChildAnimations()}}},window.Animation=b.Animation}(c,e,f),function(a,b,c){function d(b){this._frames=a.normalizeKeyframes(b)}function e(){for(var a=!1;i.length;){var b=i.shift();b._updateChildren(),a=!0}return a}var f=function(a){if(a._animation=void 0,a instanceof window.SequenceEffect||a instanceof window.GroupEffect)for(var b=0;b<a.children.length;b++)f(a.children[b])};b.removeMulti=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d._parent?(-1==b.indexOf(d._parent)&&b.push(d._parent),d._parent.children.splice(d._parent.children.indexOf(d),1),d._parent=null,f(d)):d._animation&&d._animation.effect==d&&(d._animation.cancel(),d._animation.effect=new KeyframeEffect(null,[]),d._animation._callback&&(d._animation._callback._animation=null),d._animation._rebuildUnderlyingAnimation(),f(d))}for(c=0;c<b.length;c++)b[c]._rebuild()},b.KeyframeEffect=function(b,c,e,f){return this.target=b,this._parent=null,e=a.numericTimingToObject(e),this._timingInput=a.cloneTimingInput(e),this._timing=a.normalizeTimingInput(e),this.timing=a.makeTiming(e,!1,this),this.timing._effect=this,"function"==typeof c?(a.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=c):this._normalizedKeyframes=new d(c),this._keyframes=c,this.activeDuration=a.calculateActiveDuration(this._timing),this._id=f,this},b.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(a){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=a,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var b=new KeyframeEffect(this.target,[],a.cloneTimingInput(this._timingInput),this._id);return b._normalizedKeyframes=this._normalizedKeyframes,b._keyframes=this._keyframes,b},remove:function(){b.removeMulti([this])}};var g=Element.prototype.animate;Element.prototype.animate=function(a,c){var d="";return c&&c.id&&(d=c.id),b.timeline._play(new b.KeyframeEffect(this,a,c,d))};var h=document.createElementNS("http://www.w3.org/1999/xhtml","div");b.newUnderlyingAnimationForKeyframeEffect=function(a){if(a){var b=a.target||h,c=a._keyframes;"function"==typeof c&&(c=[]);var d=a._timingInput;d.id=a._id}else var b=h,c=[],d=0;return g.apply(b,[c,d])},b.bindAnimationForKeyframeEffect=function(a){a.effect&&"function"==typeof a.effect._normalizedKeyframes&&b.bindAnimationForCustomEffect(a)};var i=[];b.awaitStartTime=function(a){null===a.startTime&&a._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(a))};var j=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){window.document.timeline._updateAnimationsPromises();var a=j.apply(this,arguments);return e()&&(a=j.apply(this,arguments)),window.document.timeline._updateAnimationsPromises(),a}}),window.KeyframeEffect=b.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(a){return null!==a.effect&&a.effect.target==this}.bind(this))}}(c,e,f),function(a,b,c){function d(a){a._registered||(a._registered=!0,g.push(a),h||(h=!0,requestAnimationFrame(e)))}function e(a){var b=g;g=[],b.sort(function(a,b){return a._sequenceNumber-b._sequenceNumber}),b=b.filter(function(a){a();var b=a._animation?a._animation.playState:"idle";return"running"!=b&&"pending"!=b&&(a._registered=!1),a._registered}),g.push.apply(g,b),g.length?(h=!0,requestAnimationFrame(e)):h=!1}var f=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);b.bindAnimationForCustomEffect=function(b){var c,e=b.effect.target,g="function"==typeof b.effect.getFrames();c=g?b.effect.getFrames():b.effect._onsample;var h=b.effect.timing,i=null;h=a.normalizeTimingInput(h);var j=function(){var d=j._animation?j._animation.currentTime:null;null!==d&&(d=a.calculateTimeFraction(a.calculateActiveDuration(h),d,h),isNaN(d)&&(d=null)),d!==i&&(g?c(d,e,b.effect):c(d,b.effect,b.effect._animation)),i=d};j._animation=b,j._registered=!1,j._sequenceNumber=f++,b._callback=j,d(j)};var g=[],h=!1;b.Animation.prototype._register=function(){this._callback&&d(this._callback)}}(c,e,f),function(a,b,c){function d(a){return a._timing.delay+a.activeDuration+a._timing.endDelay}function e(b,c,d){this._id=d,this._parent=null,this.children=b||[],this._reparent(this.children),c=a.numericTimingToObject(c),this._timingInput=a.cloneTimingInput(c),this._timing=a.normalizeTimingInput(c,!0),this.timing=a.makeTiming(c,!0,this),this.timing._effect=this,"auto"===this._timing.duration&&(this._timing.duration=this.activeDuration)}window.SequenceEffect=function(){e.apply(this,arguments)},window.GroupEffect=function(){e.apply(this,arguments)},e.prototype={_isAncestor:function(a){for(var b=this;null!==b;){if(b==a)return!0;b=b._parent}return!1},_rebuild:function(){for(var a=this;a;)"auto"===a.timing.duration&&(a._timing.duration=a.activeDuration),a=a._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(a){b.removeMulti(a);for(var c=0;c<a.length;c++)a[c]._parent=this},_putChild:function(a,b){for(var c=b?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",d=0;d<a.length;d++)if(this._isAncestor(a[d]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:c};for(var d=0;d<a.length;d++)b?this.children.push(a[d]):this.children.unshift(a[d]);this._reparent(a),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var b=a.cloneTimingInput(this._timingInput),c=[],d=0;d<this.children.length;d++)c.push(this.children[d].clone());return this instanceof GroupEffect?new GroupEffect(c,b):new SequenceEffect(c,b)},remove:function(){b.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a+=d(b)}),Math.max(a,0)}}),window.GroupEffect.prototype=Object.create(e.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var a=0;return this.children.forEach(function(b){a=Math.max(a,d(b))}),a}}),b.newUnderlyingAnimationForGroup=function(c){var d,e=null,f=function(b){var c=d._wrapper;return c&&"pending"!=c.playState&&c.effect?null==b?void c._removeChildAnimations():0==b&&c.playbackRate<0&&(e||(e=a.normalizeTimingInput(c.effect.timing)),b=a.calculateTimeFraction(a.calculateActiveDuration(e),-1,e),isNaN(b)||null==b)?(c._forEachChild(function(a){a.currentTime=-1}),void c._removeChildAnimations()):void 0:void 0},g=new KeyframeEffect(null,[],c._timing,c._id);return g.onsample=f,d=b.timeline._play(g)},b.bindAnimationForGroup=function(a){a._animation._wrapper=a,a._isGroup=!0,b.awaitStartTime(a),a._constructChildAnimations(),a._setExternalAnimation(a)},b.groupChildDuration=d}(c,e,f),b["true"]=a}({},function(){return this}());
//# sourceMappingURL=web-animations-next-lite.min.js.map</script><script>// https://d3js.org Version 4.9.1. Copyright 2017 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})})(this,function(t){"use strict";function n(t){return function(n,e){return js(t(n),e)}}function e(t,n){return[t,n]}function r(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=sf?10:o>=ff?5:o>=lf?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=sf?10:o>=ff?5:o>=lf?2:1)}function i(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=sf?i*=10:o>=ff?i*=5:o>=lf&&(i*=2),n<t?-i:i}function o(t){return t.length}function u(t){return"translate("+(t+.5)+",0)"}function a(t){return"translate(0,"+(t+.5)+")"}function c(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return t(e)+n}}function s(){return!this.__axis}function f(t,n){function e(e){var u=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,a=null==o?n.tickFormat?n.tickFormat.apply(n,r):Cf:o,_=Math.max(f,0)+h,y=n.range(),g=y[0]+.5,m=y[y.length-1]+.5,x=(n.bandwidth?c:Cf)(n.copy()),b=e.selection?e.selection():e,w=b.selectAll(".domain").data([null]),M=b.selectAll(".tick").data(u,n).order(),T=M.exit(),k=M.enter().append("g").attr("class","tick"),N=M.select("line"),S=M.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(k),N=N.merge(k.append("line").attr("stroke","#000").attr(d+"2",p*f)),S=S.merge(k.append("text").attr("fill","#000").attr(d,p*_).attr("dy",t===zf?"0em":t===Lf?"0.71em":"0.32em")),e!==b&&(w=w.transition(e),M=M.transition(e),N=N.transition(e),S=S.transition(e),T=T.transition(e).attr("opacity",qf).attr("transform",function(t){return isFinite(t=x(t))?v(t):this.getAttribute("transform")}),k.attr("opacity",qf).attr("transform",function(t){var n=this.parentNode.__axis;return v(n&&isFinite(n=n(t))?n:x(t))})),T.remove(),w.attr("d",t===Rf||t==Pf?"M"+p*l+","+g+"H0.5V"+m+"H"+p*l:"M"+g+","+p*l+"V0.5H"+m+"V"+p*l),M.attr("opacity",1).attr("transform",function(t){return v(x(t))}),N.attr(d+"2",p*f),S.attr(d,p*_).text(a),b.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Pf?"start":t===Rf?"end":"middle"),b.each(function(){this.__axis=x})}var r=[],i=null,o=null,f=6,l=6,h=3,p=t===zf||t===Rf?-1:1,d=t===Rf||t===Pf?"x":"y",v=t===zf||t===Lf?u:a;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Af.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Af.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Af.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(f=l=+t,e):f},e.tickSizeInner=function(t){return arguments.length?(f=+t,e):f},e.tickSizeOuter=function(t){return arguments.length?(l=+t,e):l},e.tickPadding=function(t){return arguments.length?(h=+t,e):h},e}function l(t){return f(zf,t)}function h(t){return f(Pf,t)}function p(t){return f(Lf,t)}function d(t){return f(Rf,t)}function v(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new _(r)}function _(t){this._=t}function y(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function g(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function m(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Uf,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function x(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Df&&n.documentElement.namespaceURI===Df?n.createElement(t):n.createElementNS(e,t)}}function b(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function w(){return new M}function M(){this._="@"+(++Yf).toString(36)}function T(t,n,e){return t=k(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function k(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function N(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}function S(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function E(t,n,e){var r=$f.hasOwnProperty(t.type)?T:k;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function A(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function C(){}function z(){return[]}function P(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function L(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new P(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function R(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,p=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(p[a]=s=ol+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)s=ol+u.call(t,o[a],a,o),(c=f[s])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new P(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[p[a]]===c&&(i[a]=c)}function q(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function U(t){return function(){this.removeAttribute(t)}}function D(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,n){return function(){this.setAttribute(t,n)}}function F(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function I(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Y(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function B(t){return function(){this.style.removeProperty(t)}}function H(t,n,e){return function(){this.style.setProperty(t,n,e)}}function j(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function X(t,n){return t.style.getPropertyValue(n)||gl(t).getComputedStyle(t,null).getPropertyValue(n)}function $(t){return function(){delete this[t]}}function V(t,n){return function(){this[t]=n}}function W(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Z(t){return t.trim().split(/^|\s+/)}function G(t){return t.classList||new J(t)}function J(t){this._node=t,this._names=Z(t.getAttribute("class")||"")}function Q(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function K(t,n){for(var e=G(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function tt(t){return function(){Q(this,t)}}function nt(t){return function(){K(this,t)}}function et(t,n){return function(){(n.apply(this,arguments)?Q:K)(this,t)}}function rt(){this.textContent=""}function it(t){return function(){this.textContent=t}}function ot(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function ut(){this.innerHTML=""}function at(t){return function(){this.innerHTML=t}}function ct(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function st(){this.nextSibling&&this.parentNode.appendChild(this)}function ft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lt(){return null}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function pt(t,n,e){var r=gl(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function dt(t,n){return function(){return pt(this,t,n)}}function vt(t,n){return function(){return pt(this,t,n.apply(this,arguments))}}function _t(t,n){this._groups=t,this._parents=n}function yt(){return new _t([[document.documentElement]],zl)}function gt(){t.event.stopImmediatePropagation()}function mt(t,n){var e=t.document.documentElement,r=Pl(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ul,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function xt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function bt(){return!t.event.button}function wt(){return this.parentNode}function Mt(n){return null==n?{x:t.event.x,y:t.event.y}:n}function Tt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function kt(){}function Nt(t){var n;return t=(t+"").trim().toLowerCase(),(n=jl.exec(t))?(n=parseInt(n[1],16),new zt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=Xl.exec(t))?St(parseInt(n[1],16)):(n=$l.exec(t))?new zt(n[1],n[2],n[3],1):(n=Vl.exec(t))?new zt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Wl.exec(t))?Et(n[1],n[2],n[3],n[4]):(n=Zl.exec(t))?Et(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Gl.exec(t))?Pt(n[1],n[2]/100,n[3]/100,1):(n=Jl.exec(t))?Pt(n[1],n[2]/100,n[3]/100,n[4]):Ql.hasOwnProperty(t)?St(Ql[t]):"transparent"===t?new zt(NaN,NaN,NaN,0):null}function St(t){return new zt(t>>16&255,t>>8&255,255&t,1)}function Et(t,n,e,r){return r<=0&&(t=n=e=NaN),new zt(t,n,e,r)}function At(t){return t instanceof kt||(t=Nt(t)),t?(t=t.rgb(),new zt(t.r,t.g,t.b,t.opacity)):new zt}function Ct(t,n,e,r){return 1===arguments.length?At(t):new zt(t,n,e,null==r?1:r)}function zt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Pt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new qt(t,n,e,r)}function Lt(t){if(t instanceof qt)return new qt(t.h,t.s,t.l,t.opacity);if(t instanceof kt||(t=Nt(t)),!t)return new qt;if(t instanceof qt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new qt(u,a,c,t.opacity)}function Rt(t,n,e,r){return 1===arguments.length?Lt(t):new qt(t,n,e,null==r?1:r)}function qt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ut(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Dt(t){if(t instanceof Ft)return new Ft(t.l,t.a,t.b,t.opacity);if(t instanceof $t){var n=t.h*Kl;return new Ft(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof zt||(t=At(t));var e=Ht(t.r),r=Ht(t.g),i=Ht(t.b),o=It((.4124564*e+.3575761*r+.1804375*i)/nh),u=It((.2126729*e+.7151522*r+.072175*i)/eh);return new Ft(116*u-16,500*(o-u),200*(u-It((.0193339*e+.119192*r+.9503041*i)/rh)),t.opacity)}function Ot(t,n,e,r){return 1===arguments.length?Dt(t):new Ft(t,n,e,null==r?1:r)}function Ft(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function It(t){return t>ah?Math.pow(t,1/3):t/uh+ih}function Yt(t){return t>oh?t*t*t:uh*(t-ih)}function Bt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ht(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jt(t){if(t instanceof $t)return new $t(t.h,t.c,t.l,t.opacity);t instanceof Ft||(t=Dt(t));var n=Math.atan2(t.b,t.a)*th;return new $t(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Xt(t,n,e,r){return 1===arguments.length?jt(t):new $t(t,n,e,null==r?1:r)}function $t(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Vt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof zt||(t=At(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(vh*r+ph*n-dh*e)/(vh+ph-dh),o=r-i,u=(hh*(e-i)-fh*o)/lh,a=Math.sqrt(u*u+o*o)/(hh*i*(1-i)),c=a?Math.atan2(u,o)*th-120:NaN;return new Zt(c<0?c+360:c,a,i,t.opacity)}function Wt(t,n,e,r){return 1===arguments.length?Vt(t):new Zt(t,n,e,null==r?1:r)}function Zt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Gt(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function Jt(t,n){return function(e){return t+e*n}}function Qt(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Kt(t,n){var e=n-t;return e?Jt(t,e>180||e<-180?e-360*Math.round(e/360):e):Th(isNaN(t)?n:t)}function tn(t){return 1==(t=+t)?nn:function(n,e){return e-n?Qt(n,e,t):Th(isNaN(n)?e:n)}}function nn(t,n){var e=n-t;return e?Jt(t,e):Th(isNaN(t)?n:t)}function en(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Ct(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function rn(t){return function(){return t}}function on(t){return function(n){return t(n)+""}}function un(t){return"none"===t?Oh:(_h||(_h=document.createElement("DIV"),yh=document.documentElement,gh=document.defaultView),_h.style.transform=t,t=gh.getComputedStyle(yh.appendChild(_h),null).getPropertyValue("transform"),yh.removeChild(_h),t=t.slice(7,-1).split(","),Fh(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function an(t){return null==t?Oh:(mh||(mh=document.createElementNS("http://www.w3.org/2000/svg","g")),mh.setAttribute("transform",t),(t=mh.transform.baseVal.consolidate())?(t=t.matrix,Fh(t.a,t.b,t.c,t.d,t.e,t.f)):Oh)}function cn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Ch(t,i)},{i:c-2,x:Ch(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}function u(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ch(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function a(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ch(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function c(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Ch(t,e)},{i:a-2,x:Ch(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),o(n.translateX,n.translateY,e.translateX,e.translateY,r,i),u(n.rotate,e.rotate,r,i),a(n.skewX,e.skewX,r,i),c(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){for(var n,e=-1,o=i.length;++e<o;)r[(n=i[e]).i]=n.x(t);return r.join("")}}}function sn(t){return((t=Math.exp(t))+1/t)/2}function fn(t){return((t=Math.exp(t))-1/t)/2}function ln(t){return((t=Math.exp(2*t))-1)/(t+1)}function hn(t){return function(n,e){var r=t((n=Rt(n)).h,(e=Rt(e)).h),i=nn(n.s,e.s),o=nn(n.l,e.l),u=nn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function pn(t,n){var e=nn((t=Ot(t)).l,(n=Ot(n)).l),r=nn(t.a,n.a),i=nn(t.b,n.b),o=nn(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function dn(t){return function(n,e){var r=t((n=Xt(n)).h,(e=Xt(e)).h),i=nn(n.c,e.c),o=nn(n.l,e.l),u=nn(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function vn(t){return function n(e){function r(n,r){var i=t((n=Wt(n)).h,(r=Wt(r)).h),o=nn(n.s,r.s),u=nn(n.l,r.l),a=nn(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function _n(){return ep||(op(yn),ep=ip.now()+rp)}function yn(){ep=0}function gn(){this._call=this._time=this._next=null}function mn(t,n,e){var r=new gn;return r.restart(t,n,e),r}function xn(){_n(),++Jh;for(var t,n=xh;n;)(t=ep-n._time)>=0&&n._call.call(null,t),n=n._next;--Jh}function bn(){ep=(np=ip.now())+rp,Jh=Qh=0;try{xn()}finally{Jh=0,Mn(),ep=0}}function wn(){var t=ip.now(),n=t-np;n>tp&&(rp-=n,np=t)}function Mn(){for(var t,n,e=xh,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xh=n);bh=t,Tn(r)}function Tn(t){if(!Jh){Qh&&(Qh=clearTimeout(Qh));var n=t-ep;n>24?(t<1/0&&(Qh=setTimeout(bn,n)),Kh&&(Kh=clearInterval(Kh))):(Kh||(np=ep,Kh=setInterval(wn,tp)),Jh=1,op(bn))}}function kn(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>fp)throw new Error("too late");return e}function Nn(t,n){var e=t.__transition;if(!e||!(e=e[n])||e.state>hp)throw new Error("too late");return e}function Sn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("too late");return e}function En(t,n,e){function r(t){e.state=lp,e.timer.restart(i,e.delay,e.time),e.delay<=t&&i(t-e.delay)}function i(r){var s,f,l,h;if(e.state!==lp)return u();for(s in c)if(h=c[s],h.name===e.name){if(h.state===pp)return up(i);h.state===dp?(h.state=_p,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete c[s]):+s<n&&(h.state=_p,h.timer.stop(),delete c[s])}if(up(function(){e.state===pp&&(e.state=dp,e.timer.restart(o,e.delay,e.time),o(r))}),e.state=hp,e.on.call("start",t,t.__data__,e.index,e.group),e.state===hp){for(e.state=pp,a=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(a[++f]=h);a.length=f+1}}function o(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=vp,1),i=-1,o=a.length;++i<o;)a[i].call(null,r);e.state===vp&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=_p,e.timer.stop(),delete c[n];for(var r in c)return;delete t.__transition}var a,c=t.__transition;c[n]=e,e.timer=mn(r,0,e.time)}function An(t,n){var e,r;return function(){var i=Nn(this,t),o=i.tween;if(o!==e){r=e=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===n){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function Cn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Nn(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}}function zn(t,n,e){var r=t._id;return t.each(function(){var t=Nn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Sn(t,r).value[n]}}function Pn(t){return function(){this.removeAttribute(t)}}function Ln(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rn(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}}function qn(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}function Un(t,n,e){var r,i,o;return function(){var u,a=e(this);return null==a?void this.removeAttribute(t):(u=this.getAttribute(t),u===a?null:u===r&&a===i?o:o=n(r=u,i=a))}}function Dn(t,n,e){var r,i,o;return function(){var u,a=e(this);return null==a?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),u===a?null:u===r&&a===i?o:o=n(r=u,i=a))}}function On(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}function Fn(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e}function In(t,n){return function(){kn(this,t).delay=+n.apply(this,arguments)}}function Yn(t,n){return n=+n,function(){kn(this,t).delay=n}}function Bn(t,n){return function(){Nn(this,t).duration=+n.apply(this,arguments)}}function Hn(t,n){return n=+n,function(){Nn(this,t).duration=n}}function jn(t,n){if("function"!=typeof n)throw new Error;return function(){Nn(this,t).ease=n}}function Xn(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}function $n(t,n,e){var r,i,o=Xn(n)?kn:Nn;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}function Vn(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wn(t,n){var e,r,i;return function(){var o=X(this,t),u=(this.style.removeProperty(t),X(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}function Zn(t){return function(){this.style.removeProperty(t)}}function Gn(t,n,e){var r,i;return function(){var o=X(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}function Jn(t,n,e){var r,i,o;return function(){var u=X(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=X(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}function Qn(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}function Kn(t){return function(){this.textContent=t}}function te(t){return function(){var n=t(this);this.textContent=null==n?"":n}}function ne(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function ee(t){return yt().transition(t)}function re(){return++Fp}function ie(t){return+t}function oe(t){return t*t}function ue(t){return t*(2-t)}function ae(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ce(t){return t*t*t}function se(t){return--t*t*t+1}function fe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function le(t){return 1-Math.cos(t*Xp)}function he(t){return Math.sin(t*Xp)}function pe(t){return(1-Math.cos(jp*t))/2}function de(t){return Math.pow(2,10*t-10)}function ve(t){return 1-Math.pow(2,-10*t)}function _e(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function ye(t){return 1-Math.sqrt(1-t*t)}function ge(t){return Math.sqrt(1- --t*t)}function me(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function xe(t){return 1-be(1-t)}function be(t){return(t=+t)<$p?nd*t*t:t<Wp?nd*(t-=Vp)*t+Zp:t<Jp?nd*(t-=Gp)*t+Qp:nd*(t-=Kp)*t+td}function we(t){return((t*=2)<=1?1-be(1-t):be(t-1)+1)/2}function Me(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return sd.time=_n(),sd;return e}function Te(){t.event.stopImmediatePropagation()}function ke(t){return{type:t}}function Ne(){return!t.event.button}function Se(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ee(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ae(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ce(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function ze(){return Le(xd)}function Pe(){return Le(bd)}function Le(n){function e(t){var e=t.property("__brush",a).selectAll(".overlay").data([ke("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Md.overlay).merge(e).each(function(){var t=Ee(this).extent;Pl(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([ke("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Md.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(n.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Md[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function r(){var t=Pl(this),n=Ee(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?n[1][0]-h/2:n[0][0]-h/2}).attr("y",function(t){return"s"===t.type[0]?n[1][1]-h/2:n[0][1]-h/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+h:h}).attr("height",function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+h:h})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,n){return t.__brush.emitter||new o(t,n)}function o(t,n){this.that=t,this.args=n,this.state=t.__brush,this.active=0}function u(){function e(){var t=Gf(T);!U||w||M||(Math.abs(t[0]-O[0])>Math.abs(t[1]-O[1])?M=!0:w=!0),O=t,b=!0,vd(),o()}function o(){var t;switch(m=O[0]-D[0],x=O[1]-D[1],N){case yd:case _d:S&&(m=Math.max(P-l,Math.min(R-v,m)),h=l+m,_=v+m),E&&(x=Math.max(L-p,Math.min(q-y,x)),d=p+x,g=y+x);break;case gd:S<0?(m=Math.max(P-l,Math.min(R-l,m)),h=l+m,_=v):S>0&&(m=Math.max(P-v,Math.min(R-v,m)),h=l,_=v+m),E<0?(x=Math.max(L-p,Math.min(q-p,x)),d=p+x,g=y):E>0&&(x=Math.max(L-y,Math.min(q-y,x)),d=p,g=y+x);break;case md:S&&(h=Math.max(P,Math.min(R,l-m*S)),_=Math.max(P,Math.min(R,v+m*S))),E&&(d=Math.max(L,Math.min(q,p-x*E)),g=Math.max(L,Math.min(q,y+x*E)))}_<h&&(S*=-1,t=l,l=v,v=t,t=h,h=_,_=t,k in Td&&Y.attr("cursor",Md[k=Td[k]])),g<d&&(E*=-1,t=p,p=y,y=t,t=d,d=g,g=t,k in kd&&Y.attr("cursor",Md[k=kd[k]])),A.selection&&(z=A.selection),w&&(h=z[0][0],_=z[1][0]),M&&(d=z[0][1],g=z[1][1]),z[0][0]===h&&z[0][1]===d&&z[1][0]===_&&z[1][1]===g||(A.selection=[[h,d],[_,g]],r.call(T),F.brush())}function u(){if(Te(),t.event.touches){if(t.event.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else mt(t.event.view,b),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),Y.attr("cursor",Md.overlay),A.selection&&(z=A.selection),Ae(z)&&(A.selection=null,r.call(T)),F.end()}function a(){switch(t.event.keyCode){case 16:U=S&&E;break;case 18:N===gd&&(S&&(v=_-m*S,l=h+m*S),E&&(y=g-x*E,p=d+x*E),N=md,o());break;case 32:N!==gd&&N!==md||(S<0?v=_-m:S>0&&(l=h-m),E<0?y=g-x:E>0&&(p=d-x),N=yd,Y.attr("cursor",Md.selection),o());break;default:return}vd()}function s(){switch(t.event.keyCode){case 16:U&&(w=M=U=!1,o());break;case 18:N===md&&(S<0?v=_:S>0&&(l=h),E<0?y=g:E>0&&(p=d),N=gd,o());break;case 32:N===yd&&(t.event.altKey?(S&&(v=_-m*S,l=h+m*S),E&&(y=g-x*E,p=d+x*E),N=md):(S<0?v=_:S>0&&(l=h),E<0?y=g:E>0&&(p=d),N=gd),Y.attr("cursor",Md[k]),o());break;default:return}vd()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vd()}else if(c)return;if(f.apply(this,arguments)){var l,h,p,d,v,_,y,g,m,x,b,w,M,T=this,k=t.event.target.__data__.type,N="selection"===(t.event.metaKey?k="overlay":k)?_d:t.event.altKey?md:gd,S=n===bd?null:Nd[k],E=n===xd?null:Sd[k],A=Ee(T),C=A.extent,z=A.selection,P=C[0][0],L=C[0][1],R=C[1][0],q=C[1][1],U=S&&E&&t.event.shiftKey,D=Gf(T),O=D,F=i(T,arguments).beforestart();"overlay"===k?A.selection=z=[[l=n===bd?P:D[0],p=n===xd?L:D[1]],[v=n===bd?R:l,y=n===xd?q:p]]:(l=z[0][0],p=z[0][1],v=z[1][0],y=z[1][1]),h=l,d=p,_=v,g=y;var I=Pl(T).attr("pointer-events","none"),Y=I.selectAll(".overlay").attr("cursor",Md[k]);if(t.event.touches)I.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",u,!0);else{var B=Pl(t.event.view).on("keydown.brush",a,!0).on("keyup.brush",s,!0).on("mousemove.brush",e,!0).on("mouseup.brush",u,!0);Dl(t.event.view)}Te(),gp(T),r.call(T),F.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=s.apply(this,arguments),t.dim=n,t}var c,s=Se,f=Ne,l=v(e,"start","brush","end"),h=6;return e.move=function(t,e){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){u.selection=1===t&&Ae(s)?null:f(t),r.call(o),a.brush()}var o=this,u=o.__brush,a=i(o,arguments),c=u.selection,s=n.input("function"==typeof e?e.apply(this,arguments):e,u.extent),f=qh(c,s);return c&&s?t:t(1)}):t.each(function(){var t=this,o=arguments,u=t.__brush,a=n.input("function"==typeof e?e.apply(t,o):e,u.extent),c=i(t,o).beforestart();gp(t),u.selection=null==a||Ae(a)?null:a,r.call(t),c.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){A(new dd(e,t,n.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},e.extent=function(t){return arguments.length?(s="function"==typeof t?t:pd([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):s},e.filter=function(t){return arguments.length?(f="function"==typeof t?t:pd(!!t),e):f},e.handleSize=function(t){return arguments.length?(h=+t,e):h},e.on=function(){var t=l.on.apply(l,arguments);return t===l?e:t},e}function Re(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}function qe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ue(){return new qe}function De(t){return t.source}function Oe(t){return t.target}function Fe(t){return t.radius}function Ie(t){return t.startAngle}function Ye(t){return t.endAngle}function Be(){}function He(t,n){var e=new Be;if(t instanceof Be)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function je(){return{}}function Xe(t,n,e){t[n]=e}function $e(){return He()}function Ve(t,n,e){t.set(n,e)}function We(){}function Ze(t,n){var e=new We;if(t instanceof We)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function Ge(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Je(t,n){var e=Ge(t);return function(r,i){return n(e(r),i,t)}}function Qe(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function Ke(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,s,f,l,h,p=t._root,d={data:r},v=t._x0,_=t._y0,y=t._x1,g=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(u=(_+g)/2))?_=u:g=u,i=p,!(p=p[l=f<<1|s]))return i[l]=d,t;if(a=+t._x.call(null,p.data),c=+t._y.call(null,p.data),n===a&&e===c)return d.next=p,i?i[l]=d:t._root=d,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(s=n>=(o=(v+y)/2))?v=o:y=o,(f=e>=(u=(_+g)/2))?_=u:g=u}while((l=f<<1|s)==(h=(c>=u)<<1|a>=o));return i[h]=p,i[l]=d,t}function tr(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,s=1/0,f=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>f&&(f=r),i<s&&(s=i),i>l&&(l=i));for(f<c&&(c=this._x0,f=this._x1),l<s&&(s=this._y0,l=this._y1),this.cover(c,s).cover(f,l),e=0;e<o;++e)Ke(this,u[e],a[e],t[e]);return this}function nr(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function er(t){return t[0]}function rr(t){return t[1]}function ir(t,n,e){var r=new or(null==n?er:n,null==e?rr:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function or(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ur(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}function ar(t){return t.x+t.vx}function cr(t){return t.y+t.vy}function sr(t){return t.index}function fr(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function lr(t){return t.x}function hr(t){return t.y}function pr(t){return new dr(t)}function dr(t){if(!(n=Ov.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Dv[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,
this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function vr(n){return Fv=Bv(n),t.format=Fv.format,t.formatPrefix=Fv.formatPrefix,Fv}function _r(){this.reset()}function yr(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}function gr(t){return t>1?0:t<-1?N_:Math.acos(t)}function mr(t){return t>1?S_:t<-1?-S_:Math.asin(t)}function xr(t){return(t=I_(t/2))*t}function br(){}function wr(t,n){t&&X_.hasOwnProperty(t.type)&&X_[t.type](t,n)}function Mr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Tr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Mr(t[e],n,1);n.polygonEnd()}function kr(){Z_.point=Sr}function Nr(){Er(Vv,Wv)}function Sr(t,n){Z_.point=Er,Vv=t,Wv=n,t*=z_,n*=z_,Zv=t,Gv=q_(n=n/2+E_),Jv=I_(n)}function Er(t,n){t*=z_,n*=z_,n=n/2+E_;var e=t-Zv,r=e>=0?1:-1,i=r*e,o=q_(n),u=I_(n),a=Jv*u,c=Gv*o+a*q_(i),s=a*r*I_(i);V_.add(R_(s,c)),Zv=t,Gv=o,Jv=u}function Ar(t){return[R_(t[1],t[0]),mr(t[2])]}function Cr(t){var n=t[0],e=t[1],r=q_(e);return[r*q_(n),r*I_(n),I_(e)]}function zr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Pr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Lr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Rr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function qr(t){var n=B_(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ur(t,n){u_.push(a_=[Qv=t,t_=t]),n<Kv&&(Kv=n),n>n_&&(n_=n)}function Dr(t,n){var e=Cr([t*z_,n*z_]);if(o_){var r=Pr(o_,e),i=[r[1],-r[0],0],o=Pr(i,r);qr(o),o=Ar(o);var u,a=t-e_,c=a>0?1:-1,s=o[0]*C_*c,f=P_(a)>180;f^(c*e_<s&&s<c*t)?(u=o[1]*C_)>n_&&(n_=u):(s=(s+360)%360-180,f^(c*e_<s&&s<c*t)?(u=-o[1]*C_)<Kv&&(Kv=u):(n<Kv&&(Kv=n),n>n_&&(n_=n))),f?t<e_?Hr(Qv,t)>Hr(Qv,t_)&&(t_=t):Hr(t,t_)>Hr(Qv,t_)&&(Qv=t):t_>=Qv?(t<Qv&&(Qv=t),t>t_&&(t_=t)):t>e_?Hr(Qv,t)>Hr(Qv,t_)&&(t_=t):Hr(t,t_)>Hr(Qv,t_)&&(Qv=t)}else u_.push(a_=[Qv=t,t_=t]);n<Kv&&(Kv=n),n>n_&&(n_=n),o_=e,e_=t}function Or(){Q_.point=Dr}function Fr(){a_[0]=Qv,a_[1]=t_,Q_.point=Ur,o_=null}function Ir(t,n){if(o_){var e=t-e_;J_.add(P_(e)>180?e+(e>0?360:-360):e)}else r_=t,i_=n;Z_.point(t,n),Dr(t,n)}function Yr(){Z_.lineStart()}function Br(){Ir(r_,i_),Z_.lineEnd(),P_(J_)>k_&&(Qv=-(t_=180)),a_[0]=Qv,a_[1]=t_,o_=null}function Hr(t,n){return(n-=t)<0?n+360:n}function jr(t,n){return t[0]-n[0]}function Xr(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}function $r(t,n){t*=z_,n*=z_;var e=q_(n);Vr(e*q_(t),e*I_(t),I_(n))}function Vr(t,n,e){++c_,f_+=(t-f_)/c_,l_+=(n-l_)/c_,h_+=(e-h_)/c_}function Wr(){ty.point=Zr}function Zr(t,n){t*=z_,n*=z_;var e=q_(n);b_=e*q_(t),w_=e*I_(t),M_=I_(n),ty.point=Gr,Vr(b_,w_,M_)}function Gr(t,n){t*=z_,n*=z_;var e=q_(n),r=e*q_(t),i=e*I_(t),o=I_(n),u=R_(B_((u=w_*o-M_*i)*u+(u=M_*r-b_*o)*u+(u=b_*i-w_*r)*u),b_*r+w_*i+M_*o);s_+=u,p_+=u*(b_+(b_=r)),d_+=u*(w_+(w_=i)),v_+=u*(M_+(M_=o)),Vr(b_,w_,M_)}function Jr(){ty.point=$r}function Qr(){ty.point=ti}function Kr(){ni(m_,x_),ty.point=$r}function ti(t,n){m_=t,x_=n,t*=z_,n*=z_,ty.point=ni;var e=q_(n);b_=e*q_(t),w_=e*I_(t),M_=I_(n),Vr(b_,w_,M_)}function ni(t,n){t*=z_,n*=z_;var e=q_(n),r=e*q_(t),i=e*I_(t),o=I_(n),u=w_*o-M_*i,a=M_*r-b_*o,c=b_*i-w_*r,s=B_(u*u+a*a+c*c),f=mr(s),l=s&&-f/s;__+=l*u,y_+=l*a,g_+=l*c,s_+=f,p_+=f*(b_+(b_=r)),d_+=f*(w_+(w_=i)),v_+=f*(M_+(M_=o)),Vr(b_,w_,M_)}function ei(t,n){return[t>N_?t-A_:t<-N_?t+A_:t,n]}function ri(t,n,e){return(t%=A_)?n||e?ry(oi(t),ui(n,e)):oi(t):n||e?ui(n,e):ei}function ii(t){return function(n,e){return n+=t,[n>N_?n-A_:n<-N_?n+A_:n,e]}}function oi(t){var n=ii(t);return n.invert=ii(-t),n}function ui(t,n){function e(t,n){var e=q_(n),a=q_(t)*e,c=I_(t)*e,s=I_(n),f=s*r+a*i;return[R_(c*o-f*u,a*r-s*i),mr(f*o+c*u)]}var r=q_(t),i=I_(t),o=q_(n),u=I_(n);return e.invert=function(t,n){var e=q_(n),a=q_(t)*e,c=I_(t)*e,s=I_(n),f=s*o-c*u;return[R_(c*o+s*u,a*r+f*i),mr(f*r-a*i)]},e}function ai(t,n,e,r,i,o){if(e){var u=q_(n),a=I_(n),c=r*e;null==i?(i=n+r*A_,o=n-c/2):(i=ci(u,i),o=ci(u,o),(r>0?i<o:i>o)&&(i+=r*A_));for(var s,f=i;r>0?f>o:f<o;f-=c)s=Ar([u,-a*q_(f),-a*I_(f)]),t.point(s[0],s[1])}}function ci(t,n){n=Cr(n),n[0]-=t,qr(n);var e=gr(-n[1]);return((-n[2]<0?-e:e)+A_-k_)%A_}function si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function fi(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function li(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,s){var f=0,l=0;if(null==i||(f=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{s.point(0===f||3===f?t:e,f>1?r:n)}while((f=(f+a+4)%4)!==l);else s.point(o[0],o[1])}function u(r,i){return P_(r[0]-t)<k_?i>0?0:3:P_(r[0]-e)<k_?i>0?2:1:P_(r[1]-n)<k_?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t,n){i(t,n)&&N.point(t,n)}function s(){for(var n=0,e=0,i=_.length;e<i;++e)for(var o,u,a=_[e],c=1,s=a.length,f=a[0],l=f[0],h=f[1];c<s;++c)o=l,u=h,f=a[c],l=f[0],h=f[1],u<=r?h>r&&(l-o)*(r-u)>(h-u)*(t-o)&&++n:h<=r&&(l-o)*(r-u)<(h-u)*(t-o)&&--n;return n}function f(){N=S,v=[],_=[],k=!0}function l(){var t=s(),n=k&&t,e=(v=bf(v)).length;(n||e)&&(u.polygonStart(),n&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),e&&xy(v,a,t,o,u),u.polygonEnd()),N=u,v=_=y=null}function h(){E.point=d,_&&_.push(y=[]),T=!0,M=!1,b=w=NaN}function p(){v&&(d(g,m),x&&M&&S.rejoin(),v.push(S.result())),E.point=c,M&&N.lineEnd()}function d(o,u){var a=i(o,u);if(_&&y.push([o,u]),T)g=o,m=u,x=a,T=!1,a&&(N.lineStart(),N.point(o,u));else if(a&&M)N.point(o,u);else{var c=[b=Math.max(wy,Math.min(by,b)),w=Math.max(wy,Math.min(by,w))],s=[o=Math.max(wy,Math.min(by,o)),u=Math.max(wy,Math.min(by,u))];gy(c,s,t,n,e,r)?(M||(N.lineStart(),N.point(c[0],c[1])),N.point(s[0],s[1]),a||N.lineEnd(),k=!1):a&&(N.lineStart(),N.point(o,u),k=!1)}b=o,w=u,M=a}var v,_,y,g,m,x,b,w,M,T,k,N=u,S=yy(),E={point:c,lineStart:h,lineEnd:p,polygonStart:f,polygonEnd:l};return E}}function hi(){Sy.point=di,Sy.lineEnd=pi}function pi(){Sy.point=Sy.lineEnd=br}function di(t,n){t*=z_,n*=z_,iy=t,oy=I_(n),uy=q_(n),Sy.point=vi}function vi(t,n){t*=z_,n*=z_;var e=I_(n),r=q_(n),i=P_(t-iy),o=q_(i),u=I_(i),a=r*u,c=uy*e-oy*r*o,s=oy*e+uy*r*o;Ny.add(R_(B_(a*a+c*c),s)),iy=t,oy=e,uy=r}function _i(t,n){return!(!t||!Ly.hasOwnProperty(t.type))&&Ly[t.type](t,n)}function yi(t,n){return 0===zy(t,n)}function gi(t,n){var e=zy(t[0],t[1]);return zy(t[0],n)+zy(n,t[1])<=e+k_}function mi(t,n){return!!ky(t.map(xi),bi(n))}function xi(t){return t=t.map(bi),t.pop(),t}function bi(t){return[t[0]*z_,t[1]*z_]}function wi(t,n,e){var r=cf(t,n-k_,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function Mi(t,n,e){var r=cf(t,n-k_,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function Ti(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return cf(U_(o/_)*_,i,_).map(h).concat(cf(U_(s/y)*y,c,y).map(p)).concat(cf(U_(r/d)*d,e,d).filter(function(t){return P_(t%_)>k_}).map(f)).concat(cf(U_(a/v)*v,u,v).filter(function(t){return P_(t%y)>k_}).map(l))}var e,r,i,o,u,a,c,s,f,l,h,p,d=10,v=d,_=90,y=360,g=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(c).slice(1),h(i).reverse().slice(1),p(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.extentMajor(n).extentMinor(n):t.extentMinor()},t.extentMajor=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],s=+n[0][1],c=+n[1][1],o>i&&(n=o,o=i,i=n),s>c&&(n=s,s=c,c=n),t.precision(g)):[[o,s],[i,c]]},t.extentMinor=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(g)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.stepMajor(n).stepMinor(n):t.stepMinor()},t.stepMajor=function(n){return arguments.length?(_=+n[0],y=+n[1],t):[_,y]},t.stepMinor=function(n){return arguments.length?(d=+n[0],v=+n[1],t):[d,v]},t.precision=function(n){return arguments.length?(g=+n,f=wi(a,u,90),l=Mi(r,e,g),h=wi(s,c,90),p=Mi(o,i,g),t):g},t.extentMajor([[-180,-90+k_],[180,90-k_]]).extentMinor([[-180,-80-k_],[180,80+k_]])}function ki(){return Ti()()}function Ni(){Fy.point=Si}function Si(t,n){Fy.point=Ei,ay=sy=t,cy=fy=n}function Ei(t,n){Oy.add(fy*t-sy*n),sy=t,fy=n}function Ai(){Ei(ay,cy)}function Ci(t,n){t<Iy&&(Iy=t),t>By&&(By=t),n<Yy&&(Yy=n),n>Hy&&(Hy=n)}function zi(t,n){Xy+=t,$y+=n,++Vy}function Pi(){tg.point=Li}function Li(t,n){tg.point=Ri,zi(py=t,dy=n)}function Ri(t,n){var e=t-py,r=n-dy,i=B_(e*e+r*r);Wy+=i*(py+t)/2,Zy+=i*(dy+n)/2,Gy+=i,zi(py=t,dy=n)}function qi(){tg.point=zi}function Ui(){tg.point=Oi}function Di(){Fi(ly,hy)}function Oi(t,n){tg.point=Fi,zi(ly=py=t,hy=dy=n)}function Fi(t,n){var e=t-py,r=n-dy,i=B_(e*e+r*r);Wy+=i*(py+t)/2,Zy+=i*(dy+n)/2,Gy+=i,i=dy*t-py*n,Jy+=i*(py+t),Qy+=i*(dy+n),Ky+=3*i,zi(py=t,dy=n)}function Ii(t){this._context=t}function Yi(t,n){ag.point=Bi,eg=ig=t,rg=og=n}function Bi(t,n){ig-=t,og-=n,ug.add(B_(ig*ig+og*og)),ig=t,og=n}function Hi(){this._string=[]}function ji(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xi(t){return t.length>1}function $i(t,n){return((t=t.x)[0]<0?t[1]-S_-k_:S_-t[1])-((n=n.x)[0]<0?n[1]-S_-k_:S_-n[1])}function Vi(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?N_:-N_,c=P_(o-e);P_(c-N_)<k_?(t.point(e,r=(r+u)/2>0?S_:-S_),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=N_&&(P_(e-i)<k_&&(e-=i*k_),P_(o-a)<k_&&(o-=a*k_),r=Wi(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function Wi(t,n,e,r){var i,o,u=I_(t-e);return P_(u)>k_?L_((I_(n)*(o=q_(r))*I_(e)-I_(r)*(i=q_(n))*I_(t))/(i*o*u)):(n+r)/2}function Zi(t,n,e,r){var i;if(null==t)i=e*S_,r.point(-N_,i),r.point(0,i),r.point(N_,i),r.point(N_,0),r.point(N_,-i),r.point(0,-i),r.point(-N_,-i),r.point(-N_,0),r.point(-N_,i);else if(P_(t[0]-n[0])>k_){var o=t[0]<n[0]?N_:-N_;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Gi(t){return function(n){var e=new Ji;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Ji(){}function Qi(t,n,e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),$_(e,t.stream(jy));var u=jy.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),c=+n[0][0]+(r-a*(u[1][0]+u[0][0]))/2,s=+n[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([c,s])}function Ki(t,n,e){return Qi(t,[[0,0],n],e)}function to(t){return Gi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function no(t,n){function e(r,i,o,u,a,c,s,f,l,h,p,d,v,_){var y=s-r,g=f-i,m=y*y+g*g;if(m>4*n&&v--){var x=u+h,b=a+p,w=c+d,M=B_(x*x+b*b+w*w),T=mr(w/=M),k=P_(P_(w)-1)<k_||P_(o-l)<k_?(o+l)/2:R_(b,x),N=t(k,T),S=N[0],E=N[1],A=S-r,C=E-i,z=g*A-y*C;(z*z/m>n||P_((y*A+g*C)/m-.5)>.3||u*h+a*p+c*d<dg)&&(e(r,i,o,u,a,c,S,E,k,x/=M,b/=M,w,v,_),_.point(S,E),e(S,E,k,x,b,w,s,f,l,h,p,d,v,_))}}return function(n){function r(e,r){e=t(e,r),n.point(e[0],e[1])}function i(){y=NaN,w.point=o,n.lineStart()}function o(r,i){var o=Cr([r,i]),u=t(r,i);e(y,g,_,m,x,b,y=u[0],g=u[1],_=r,m=o[0],x=o[1],b=o[2],pg,n),n.point(y,g)}function u(){w.point=r,n.lineEnd()}function a(){i(),w.point=c,w.lineEnd=s}function c(t,n){o(f=t,n),l=y,h=g,p=m,d=x,v=b,w.point=o}function s(){e(y,g,_,m,x,b,l,h,f,p,d,v,pg,n),w.lineEnd=u,u()}var f,l,h,p,d,v,_,y,g,m,x,b,w={point:r,lineStart:i,lineEnd:u,polygonStart:function(){n.polygonStart(),w.lineStart=a},polygonEnd:function(){n.polygonEnd(),w.lineStart=i}};return w}}function eo(t){return ro(function(){return t})()}function ro(t){function n(t){return t=f(t[0]*z_,t[1]*z_),[t[0]*_+a,c-t[1]*_]}function e(t){return(t=f.invert((t[0]-a)/_,(c-t[1])/_))&&[t[0]*C_,t[1]*C_]}function r(t,n){return t=u(t,n),[t[0]*_+a,c-t[1]*_]}function i(){f=ry(s=ri(b,w,M),u);var t=u(m,x);return a=y-t[0]*_,c=g+t[1]*_,o()}function o(){return d=v=null,n}var u,a,c,s,f,l,h,p,d,v,_=150,y=480,g=250,m=0,x=0,b=0,w=0,M=0,T=null,k=fg,N=null,S=Uy,E=.5,A=vg(r,E);return n.stream=function(t){return d&&v===t?d:d=_g(k(s,A(S(v=t))))},n.clipAngle=function(t){return arguments.length?(k=+t?lg(T=t*z_,6*z_):(T=null,fg),o()):T*C_},n.clipExtent=function(t){return arguments.length?(S=null==t?(N=l=h=p=null,Uy):li(N=+t[0][0],l=+t[0][1],h=+t[1][0],p=+t[1][1]),o()):null==N?null:[[N,l],[h,p]]},n.scale=function(t){return arguments.length?(_=+t,i()):_},n.translate=function(t){return arguments.length?(y=+t[0],g=+t[1],i()):[y,g]},n.center=function(t){return arguments.length?(m=t[0]%360*z_,x=t[1]%360*z_,i()):[m*C_,x*C_]},n.rotate=function(t){return arguments.length?(b=t[0]%360*z_,w=t[1]%360*z_,M=t.length>2?t[2]%360*z_:0,i()):[b*C_,w*C_,M*C_]},n.precision=function(t){return arguments.length?(A=vg(r,E=t*t),o()):B_(E)},n.fitExtent=function(t,e){return Qi(n,t,e)},n.fitSize=function(t,e){return Ki(n,t,e)},function(){return u=t.apply(this,arguments),n.invert=u.invert&&e,i()}}function io(t){var n=0,e=N_/3,r=ro(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*z_,e=t[1]*z_):[n*C_,e*C_]},i}function oo(t){function n(t,n){return[t*e,I_(n)/e]}var e=q_(t);return n.invert=function(t,n){return[t/e,mr(n*e)]},n}function uo(t,n){function e(t,n){var e=B_(o-2*i*I_(n))/i;return[e*I_(t*=i),u-e*q_(t)]}var r=I_(t),i=(r+I_(n))/2;if(P_(i)<k_)return oo(t);var o=1+r*(2*i-r),u=B_(o)/i;return e.invert=function(t,n){var e=u-n;return[R_(t,P_(e))/i*Y_(e),mr((o-(t*t+e*e)*i*i)/(2*i))]},e}function ao(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function co(t){return function(n,e){var r=q_(n),i=q_(e),o=t(r*i);return[o*i*I_(n),o*I_(e)]}}function so(t){return function(n,e){var r=B_(n*n+e*e),i=t(r),o=I_(i),u=q_(i);return[R_(n*o,r*u),mr(r&&e*o/r)]}}function fo(t,n){return[t,O_(H_((S_+n)/2))]}function lo(t){function n(){var n=N_*a(),u=o(vy(o.rotate()).invert([0,0]));return s(null==f?[[u[0]-n,u[1]-n],[u[0]+n,u[1]+n]]:t===fo?[[Math.max(u[0]-n,f),e],[Math.min(u[0]+n,r),i]]:[[f,Math.max(u[1]-n,e)],[r,Math.min(u[1]+n,i)]])}var e,r,i,o=eo(t),u=o.center,a=o.scale,c=o.translate,s=o.clipExtent,f=null;return o.scale=function(t){return arguments.length?(a(t),n()):a()},o.translate=function(t){return arguments.length?(c(t),n()):c()},o.center=function(t){return arguments.length?(u(t),n()):u()},o.clipExtent=function(t){return arguments.length?(null==t?f=e=r=i=null:(f=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),n()):null==f?null:[[f,e],[r,i]]},n()}function ho(t){return H_((S_+t)/2)}function po(t,n){function e(t,n){o>0?n<-S_+k_&&(n=-S_+k_):n>S_-k_&&(n=S_-k_);var e=o/F_(ho(n),i);return[e*I_(i*t),o-e*q_(i*t)]}var r=q_(t),i=t===n?I_(t):O_(r/q_(n))/O_(ho(n)/ho(t)),o=r*F_(ho(t),i)/i;return i?(e.invert=function(t,n){var e=o-n,r=Y_(i)*B_(t*t+e*e);return[R_(t,P_(e))/i*Y_(e),2*L_(F_(o/r,1/i))-S_]},e):fo}function vo(t,n){return[t,n]}function _o(t,n){function e(t,n){var e=o-n,r=i*t;return[e*I_(r),o-e*q_(r)]}var r=q_(t),i=t===n?I_(t):(r-q_(n))/(n-t),o=r/i+t;return P_(i)<k_?vo:(e.invert=function(t,n){var e=o-n;return[R_(t,P_(e))/i*Y_(e),o-Y_(i)*B_(t*t+e*e)]},e)}function yo(t,n){var e=q_(n),r=q_(t)*e;return[e*I_(t)/r,I_(n)/r]}function go(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?Uy:Gi({point:function(i,o){this.stream.point(i*t+e,o*n+r)}})}function mo(t,n){return[q_(n)*I_(t),I_(n)]}function xo(t,n){var e=q_(n),r=1+q_(t)*e;return[e*I_(t)/r,I_(n)/r]}function bo(t,n){return[O_(H_((S_+n)/2)),-t]}function wo(t,n){return t.parent===n.parent?1:2}function Mo(t){return t.reduce(To,0)/t.length}function To(t,n){return t+n.x}function ko(t){return 1+t.reduce(No,0)}function No(t,n){return Math.max(t,n.y)}function So(t){for(var n;n=t.children;)t=n[0];return t}function Eo(t){for(var n;n=t.children;)t=n[n.length-1];return t}function Ao(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Co(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function zo(t,n){var e,r,i,o,u,a=new Uo(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=Lo);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new Uo(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(qo)}function Po(){return zo(this).eachBefore(Ro)}function Lo(t){return t.children}function Ro(t){t.data=t.data.data}function qo(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Uo(t){this.data=t,this.depth=this.height=0,this.parent=null}function Do(t){this._=t,this.next=null}function Oo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r-n.r;return i*i+1e-6>e*e+r*r}function Fo(t,n){var e,r,i,o=null,u=t.head;switch(n.length){case 1:e=Io(n[0]);break;case 2:e=Yo(n[0],n[1]);break;case 3:e=Bo(n[0],n[1],n[2])}for(;u;)i=u._,r=u.next,e&&Oo(e,i)?o=u:(o?(t.tail=o,o.next=null):t.head=t.tail=null,n.push(i),e=Fo(t,n),n.pop(),t.head?(u.next=t.head,t.head=u):(u.next=null,t.head=t.tail=u),o=t.tail,o.next=r),u=r;return t.tail=o,e}function Io(t){return{x:t.x,y:t.y,r:t.r}}function Yo(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function Bo(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=2*(r-u),p=2*(i-a),d=2*(c-o),v=r*r+i*i-o*o-u*u-a*a+c*c,_=2*(r-s),y=2*(i-f),g=2*(l-o),m=r*r+i*i-o*o-s*s-f*f+l*l,x=_*p-h*y,b=(p*m-y*v)/x-r,w=(y*d-p*g)/x,M=(_*v-h*m)/x-i,T=(h*g-_*d)/x,k=w*w+T*T-1,N=2*(b*w+M*T+o),S=b*b+M*M-o*o,E=(-N-Math.sqrt(N*N-4*k*S))/(2*k);return{x:b+w*E+r,y:M+T*E+i,r:E}}function Ho(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function jo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function Xo(t,n,e){var r=t._,i=t.next._,o=r.r+i.r,u=(r.x*i.r+i.x*r.r)/o-n,a=(r.y*i.r+i.y*r.r)/o-e;return u*u+a*a}function $o(t){this._=t,this.next=null,this.previous=null}function Vo(t){if(!(i=t.length))return 0;var n,e,r,i;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Ho(e,n,r=t[2]);var o,u,a,c,s,f,l,h=n.r*n.r,p=e.r*e.r,d=r.r*r.r,v=h+p+d,_=h*n.x+p*e.x+d*r.x,y=h*n.y+p*e.y+d*r.y;n=new $o(n),e=new $o(e),r=new $o(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){Ho(n._,e._,r=t[a]),r=new $o(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(jo(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(jo(s._,r._)){n=s,n.next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,v+=d=r._.r*r._.r,_+=d*r._.x,y+=d*r._.y,h=Xo(n,o=_/v,u=y/v);(r=r.next)!==e;)(d=Xo(r,o,u))<h&&(n=r,h=d);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=$g(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Wo(t){return null==t?null:Zo(t)}function Zo(t){if("function"!=typeof t)throw new Error;return t}function Go(){return 0}function Jo(t){return Math.sqrt(t.value)}function Qo(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function Ko(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Vo(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function tu(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function nu(t){return t.id}function eu(t){return t.parentId}function ru(t,n){return t.parent===n.parent?1:2}function iu(t){var n=t.children;return n?n[0]:t.t}function ou(t){var n=t.children;return n?n[n.length-1]:t.t}function uu(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function au(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)n=i[o],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function cu(t,n,e){return t.a.parent===n.parent?t.a:e}function su(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function fu(t){for(var n,e,r,i,o,u=new su(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new su(r[i],i)),e.parent=n;return(u.parent=new su(null,0)).children=[u],u}function lu(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,p,d,v,_,y=[],g=n.children,m=0,x=0,b=g.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=g[x++].value}while(!f&&x<b);for(l=h=f,v=Math.max(s/c,c/s)/(w*t),_=f*f*v,d=Math.max(h/_,_/l);x<b;++x){if(f+=a=g[x].value,a<l&&(l=a),a>h&&(h=a),_=f*f*v,(p=Math.max(h/_,_/l))>d){f-=a;break}d=p}y.push(u={value:f,dice:c<s,children:g.slice(m,x)}),u.dice?Jg(u,e,r,i,w?r+=s*f/w:o):im(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return y}function hu(t,n){return t[0]-n[0]||t[1]-n[1]}function pu(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&pm(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function du(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function vu(t){if(!t._start)try{_u(t)}catch(n){if(t._tasks[t._ended+t._active-1])gu(t,n);else if(!t._data)throw n}}function _u(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=yu(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||gm)}}function yu(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?gu(t,e):(t._data[n]=r,t._waiting?vu(t):mu(t))))}}function gu(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,mu(t)}function mu(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function xu(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new du(t)}function bu(t){return function(n,e){t(null==n?e:null)}}function wu(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Mu(t,n){return function(e){return t(e.responseText,n)}}function Tu(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==Om)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=He(),r=[],i=Om;return t=null==t?[]:Dm.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=He();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Dm.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return Tu().domain(r).range(t).unknown(i)},n}function ku(){function t(){var t=i().length,r=u[1]<u[0],l=u[r-0],h=u[1-r];n=(h-l)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),l+=(h-l-n*(t-c))*f,e=n*(1-c),a&&(l=Math.round(l),e=Math.round(e));var p=cf(t).map(function(t){return l+n*t});return o(r?p.reverse():p)}var n,e,r=Tu().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,f=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(f=Math.max(0,Math.min(1,n)),t()):f},r.copy=function(){return ku().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(f)},t()}function Nu(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Nu(n())},t}function Su(){return Nu(ku().paddingInner(1))}function Eu(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Fm(n)}function Au(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}function Cu(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}function zu(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function Pu(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=Vs(t,n,1,i)-1;return u[e](o[e](n))}}function Lu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ru(t,n){function e(){return i=Math.min(a.length,c.length)>2?Pu:zu,o=u=null,r}function r(n){return(o||(o=i(a,c,f?Au(t):t,s)))(+n)}var i,o,u,a=Ym,c=Ym,s=qh,f=!1;return r.invert=function(t){return(u||(u=i(c,a,Eu,f?Cu(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=Um.call(t,Im),e()):a.slice()},r.range=function(t){return arguments.length?(c=Dm.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Dm.call(t),s=Uh,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function qu(t){var n=t.domain;return t.ticks=function(t){var e=n();return hf(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){return Bm(n(),t,e)},t.nice=function(e){null==e&&(e=10);var i,o=n(),u=0,a=o.length-1,c=o[u],s=o[a];return s<c&&(i=c,c=s,s=i,i=u,u=a,a=i),i=r(c,s,e),i>0?(c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i,i=r(c,s,e)):i<0&&(c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i,i=r(c,s,e)),i>0?(o[u]=Math.floor(c/i)*i,o[a]=Math.ceil(s/i)*i,n(o)):i<0&&(o[u]=Math.ceil(c*i)/i,o[a]=Math.floor(s*i)/i,n(o)),t},t}function Uu(){var t=Ru(Eu,Ch);return t.copy=function(){return Lu(t,Uu())},qu(t)}function Du(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=Um.call(e,Im),t):n.slice()},t.copy=function(){return Du().domain(n)},qu(t)}function Ou(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:Fm(n)}function Fu(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function Iu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Yu(t){return 10===t?Iu:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Bu(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Hu(t){return function(n){return-t(-n)}}function ju(){function n(){return o=Bu(i),u=Yu(i),r()[0]<0&&(o=Hu(o),u=Hu(u)),e}var e=Ru(Ou,Fu).domain([1,10]),r=e.domain,i=10,o=Bu(10),u=Yu(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(h=a,a=c,c=h);var s,f,l,h=o(a),p=o(c),d=null==t?10:+t,v=[];if(!(i%1)&&p-h<d){if(h=Math.round(h)-1,p=Math.round(p)+1,a>0){for(;h<p;++h)for(f=1,s=u(h);f<i;++f)if(!((l=s*f)<a)){if(l>c)break;v.push(l)}}else for(;h<p;++h)for(f=i-1,s=u(h);f>=1;--f)if(!((l=s*f)<a)){if(l>c)break;v.push(l)}}else v=hf(h,p,Math.min(p-h,d)).map(u);return n?v.reverse():v},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(Hm(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return Lu(e,ju().base(i))},e}function Xu(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function $u(){function t(t,n){return(n=Xu(n,e)-(t=Xu(t,e)))?function(r){return(Xu(r,e)-t)/n}:Fm(n)}function n(t,n){return n=Xu(n,e)-(t=Xu(t,e)),function(r){return Xu(t+n*r,1/e)}}var e=1,r=Ru(t,n),i=r.domain;return r.exponent=function(t){return arguments.length?(e=+t,i(i())):e},r.copy=function(){return Lu(r,$u().exponent(e))},qu(r)}function Vu(){return $u().exponent(.5)}function Wu(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=vf(e,t/o);return n}function n(t){if(!isNaN(t=+t))return r[Vs(i,t)]}var e=[],r=[],i=[];return n.invertExtent=function(t){var n=r.indexOf(t);return n<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},n.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var r,i=0,o=n.length;i<o;++i)null==(r=n[i])||isNaN(r=+r)||e.push(r);return e.sort(js),t()},n.range=function(n){return arguments.length?(r=Dm.call(n),t()):r.slice()},n.quantiles=function(){return i.slice()},n.copy=function(){return Wu().domain(e).range(r)},n}function Zu(){function t(t){if(t<=t)return u[Vs(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=Dm.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return Zu().domain([e,r]).range(u)},qu(t)}function Gu(){function t(t){if(t<=t)return e[Vs(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=Dm.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=Dm.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return Gu().domain(n).range(e)},t}function Ju(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(new Date(+e))}while(n(e,o),t(e),e<r);return u},i.filter=function(e){return Ju(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return jm.setTime(+n),Xm.setTime(+r),t(jm),t(Xm),Math.floor(e(jm,Xm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function Qu(t){return Ju(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wm)/Zm})}function Ku(t){return Ju(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Zm})}function ta(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function na(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ea(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ra(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Vx[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),
u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i=ea(1900);if(r(i,t,e+="",0)!=e.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?na(ea(i.y)).getUTCDay():n(ea(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,na(i)):n(i)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=B[i in Vx?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function i(t,n,e){var r=C.exec(n.slice(e));return r?(t.p=z[r[0].toLowerCase()],e+r[0].length):-1}function o(t,n,e){var r=R.exec(n.slice(e));return r?(t.w=q[r[0].toLowerCase()],e+r[0].length):-1}function u(t,n,e){var r=P.exec(n.slice(e));return r?(t.w=L[r[0].toLowerCase()],e+r[0].length):-1}function a(t,n,e){var r=O.exec(n.slice(e));return r?(t.m=F[r[0].toLowerCase()],e+r[0].length):-1}function c(t,n,e){var r=U.exec(n.slice(e));return r?(t.m=D[r[0].toLowerCase()],e+r[0].length):-1}function s(t,n,e){return r(t,w,n,e)}function f(t,n,e){return r(t,M,n,e)}function l(t,n,e){return r(t,T,n,e)}function h(t){return S[t.getDay()]}function p(t){return N[t.getDay()]}function d(t){return A[t.getMonth()]}function v(t){return E[t.getMonth()]}function _(t){return k[+(t.getHours()>=12)]}function y(t){return S[t.getUTCDay()]}function g(t){return N[t.getUTCDay()]}function m(t){return A[t.getUTCMonth()]}function x(t){return E[t.getUTCMonth()]}function b(t){return k[+(t.getUTCHours()>=12)]}var w=t.dateTime,M=t.date,T=t.time,k=t.periods,N=t.days,S=t.shortDays,E=t.months,A=t.shortMonths,C=ua(k),z=aa(k),P=ua(N),L=aa(N),R=ua(S),q=aa(S),U=ua(E),D=aa(E),O=ua(A),F=aa(A),I={a:h,A:p,b:d,B:v,c:null,d:wa,e:wa,H:Ma,I:Ta,j:ka,L:Na,m:Sa,M:Ea,p:_,S:Aa,U:Ca,w:za,W:Pa,x:null,X:null,y:La,Y:Ra,Z:qa,"%":Ga},Y={a:y,A:g,b:m,B:x,c:null,d:Ua,e:Ua,H:Da,I:Oa,j:Fa,L:Ia,m:Ya,M:Ba,p:b,S:Ha,U:ja,w:Xa,W:$a,x:null,X:null,y:Va,Y:Wa,Z:Za,"%":Ga},B={a:o,A:u,b:a,B:c,c:s,d:va,e:va,H:ya,I:ya,j:_a,L:xa,m:da,M:ga,p:i,S:ma,U:sa,w:ca,W:fa,x:f,X:l,y:ha,Y:la,Z:pa,"%":ba};return I.x=n(M,I),I.X=n(T,I),I.c=n(w,I),Y.x=n(M,Y),Y.X=n(T,Y),Y.c=n(w,Y),{format:function(t){var e=n(t+="",I);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",ta);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",Y);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,na);return n.toString=function(){return t},n}}}function ia(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function oa(t){return t.replace(Gx,"\\$&")}function ua(t){return new RegExp("^(?:"+t.map(oa).join("|")+")","i")}function aa(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ca(t,n,e){var r=Wx.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function sa(t,n,e){var r=Wx.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function fa(t,n,e){var r=Wx.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function la(t,n,e){var r=Wx.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ha(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function pa(t,n,e){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function da(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function va(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function _a(t,n,e){var r=Wx.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ya(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ga(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ma(t,n,e){var r=Wx.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function xa(t,n,e){var r=Wx.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ba(t,n,e){var r=Zx.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function wa(t,n){return ia(t.getDate(),n,2)}function Ma(t,n){return ia(t.getHours(),n,2)}function Ta(t,n){return ia(t.getHours()%12||12,n,2)}function ka(t,n){return ia(1+ex.count(xx(t),t),n,3)}function Na(t,n){return ia(t.getMilliseconds(),n,3)}function Sa(t,n){return ia(t.getMonth()+1,n,2)}function Ea(t,n){return ia(t.getMinutes(),n,2)}function Aa(t,n){return ia(t.getSeconds(),n,2)}function Ca(t,n){return ia(ix.count(xx(t),t),n,2)}function za(t){return t.getDay()}function Pa(t,n){return ia(ox.count(xx(t),t),n,2)}function La(t,n){return ia(t.getFullYear()%100,n,2)}function Ra(t,n){return ia(t.getFullYear()%1e4,n,4)}function qa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ia(n/60|0,"0",2)+ia(n%60,"0",2)}function Ua(t,n){return ia(t.getUTCDate(),n,2)}function Da(t,n){return ia(t.getUTCHours(),n,2)}function Oa(t,n){return ia(t.getUTCHours()%12||12,n,2)}function Fa(t,n){return ia(1+Nx.count(jx(t),t),n,3)}function Ia(t,n){return ia(t.getUTCMilliseconds(),n,3)}function Ya(t,n){return ia(t.getUTCMonth()+1,n,2)}function Ba(t,n){return ia(t.getUTCMinutes(),n,2)}function Ha(t,n){return ia(t.getUTCSeconds(),n,2)}function ja(t,n){return ia(Ex.count(jx(t),t),n,2)}function Xa(t){return t.getUTCDay()}function $a(t,n){return ia(Ax.count(jx(t),t),n,2)}function Va(t,n){return ia(t.getUTCFullYear()%100,n,2)}function Wa(t,n){return ia(t.getUTCFullYear()%1e4,n,4)}function Za(){return"+0000"}function Ga(){return"%"}function Ja(n){return Xx=ra(n),t.timeFormat=Xx.format,t.timeParse=Xx.parse,t.utcFormat=Xx.utcFormat,t.utcParse=Xx.utcParse,Xx}function Qa(t){return t.toISOString()}function Ka(t){var n=new Date(t);return isNaN(n)?null:n}function tc(t){return new Date(t)}function nc(t){return t instanceof Date?+t:+new Date(+t)}function ec(t,n,e,r,o,u,a,c,s){function f(i){return(a(i)<i?v:u(i)<i?_:o(i)<i?y:r(i)<i?g:n(i)<i?e(i)<i?m:x:t(i)<i?b:w)(i)}function l(n,e,r,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(r-e)/n,a=Xs(function(t){return t[2]}).right(M,u);a===M.length?(o=i(e/ob,r/ob,n),n=t):a?(a=M[u/M[a-1][2]<M[a][2]/u?a-1:a],o=a[1],n=a[0]):(o=i(e,r,n),n=c)}return null==o?n:n.every(o)}var h=Ru(Eu,Ch),p=h.invert,d=h.domain,v=s(".%L"),_=s(":%S"),y=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),x=s("%b %d"),b=s("%B"),w=s("%Y"),M=[[a,1,Kx],[a,5,5*Kx],[a,15,15*Kx],[a,30,30*Kx],[u,1,tb],[u,5,5*tb],[u,15,15*tb],[u,30,30*tb],[o,1,nb],[o,3,3*nb],[o,6,6*nb],[o,12,12*nb],[r,1,eb],[r,2,2*eb],[e,1,rb],[n,1,ib],[n,3,3*ib],[t,1,ob]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(Um.call(t,nc)):d().map(tc)},h.ticks=function(t,n){var e,r=d(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=d();return(t=l(t,e[0],e[e.length-1],n))?d(Hm(e,t)):h},h.copy=function(){return Lu(h,ec(t,n,e,r,o,u,a,c,s))},h}function rc(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function ic(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return ic(t).domain([e,r]).clamp(i)},qu(n)}function oc(t){return t>1?0:t<-1?zb:Math.acos(t)}function uc(t){return t>=1?Pb:t<=-1?-Pb:Math.asin(t)}function ac(t){return t.innerRadius}function cc(t){return t.outerRadius}function sc(t){return t.startAngle}function fc(t){return t.endAngle}function lc(t){return t&&t.padAngle}function hc(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}function pc(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/Ab(a*a+c*c),f=s*c,l=-s*a,h=t+f,p=n+l,d=e+f,v=r+l,_=(h+d)/2,y=(p+v)/2,g=d-h,m=v-p,x=g*g+m*m,b=i-o,w=h*v-d*p,M=(m<0?-1:1)*Ab(Nb(0,b*b*x-w*w)),T=(w*m-g*M)/x,k=(-w*g-m*M)/x,N=(w*m+g*M)/x,S=(-w*g+m*M)/x,E=T-_,A=k-y,C=N-_,z=S-y;return E*E+A*A>C*C+z*z&&(T=N,k=S),{cx:T,cy:k,x01:-f,y01:-l,x11:T*(i/b-1),y11:k*(i/b-1)}}function dc(t){this._context=t}function vc(t){return t[0]}function _c(t){return t[1]}function yc(t){this._curve=t}function gc(t){function n(n){return new yc(t(n))}return n._curve=t,n}function mc(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(gc(t)):n()._curve},t}function xc(t){return t.source}function bc(t){return t.target}function wc(t){function n(){var n,a=jb.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=Ue()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=xc,r=bc,i=vc,o=_c,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:wb(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:wb(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function Mc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function Tc(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function kc(t,n,e,r,i){var o=Xb(n,e),u=Xb(n,e=(e+i)/2),a=Xb(r,e),c=Xb(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function Nc(){return wc(Mc)}function Sc(){return wc(Tc)}function Ec(){var t=wc(kc);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ac(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Cc(t){this._context=t}function zc(t){this._context=t}function Pc(t){this._context=t}function Lc(t,n){this._basis=new Cc(t),this._beta=n}function Rc(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function qc(t,n){this._context=t,this._k=(1-n)/6}function Uc(t,n){this._context=t,this._k=(1-n)/6}function Dc(t,n){this._context=t,this._k=(1-n)/6}function Oc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>Cb){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Cb){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function Fc(t,n){this._context=t,this._alpha=n}function Ic(t,n){this._context=t,this._alpha=n}function Yc(t,n){this._context=t,this._alpha=n}function Bc(t){this._context=t}function Hc(t){return t<0?-1:1}function jc(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Hc(o)+Hc(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Xc(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function $c(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Vc(t){this._context=t}function Wc(t){this._context=new Zc(t)}function Zc(t){this._context=t}function Gc(t){return new Vc(t)}function Jc(t){return new Wc(t)}function Qc(t){this._context=t}function Kc(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function ts(t,n){this._context=t,this._t=n}function ns(t){return new ts(t,0)}function es(t){return new ts(t,1)}function rs(t,n){return t[n]}function is(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function os(t){return t[0]}function us(t){return t[1]}function as(){this._=null}function cs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ss(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function fs(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ls(t){for(;t.L;)t=t.L;return t}function hs(t,n,e,r){var i=[null,null],o=Yw.push(i)-1;return i.left=t,i.right=n,e&&ds(i,t,n,e),r&&ds(i,n,t,r),Fw[t.index].halfedges.push(o),Fw[n.index].halfedges.push(o),i}function ps(t,n,e){var r=[n,e];return r.left=t,r}function ds(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function vs(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=a[0],l=a[1],h=0,p=1,d=f-c,v=l-s;if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<p&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,d||!(o<0)){if(o/=d,d<0){if(o>p)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<p&&(p=o)}if(o=e-s,v||!(o>0)){if(o/=v,v<0){if(o<h)return;o<p&&(p=o)}else if(v>0){if(o>p)return;o>h&&(h=o)}if(o=i-s,v||!(o<0)){if(o/=v,v<0){if(o>p)return;o>h&&(h=o)}else if(v>0){if(o<h)return;o<p&&(p=o)}return!(h>0||p<1)||(h>0&&(t[0]=[c+h*d,s+h*v]),p<1&&(t[1]=[c+p*d,s+p*v]),!0)}}}}}function _s(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],p=f[0],d=f[1],v=(l+p)/2,_=(h+d)/2;if(d===h){if(v<n||v>=r)return;if(l>p){if(c){if(c[1]>=i)return}else c=[v,e];o=[v,i]}else{if(c){if(c[1]<e)return}else c=[v,i];o=[v,e]}}else if(u=(l-p)/(d-h),a=_-u*v,u<-1||u>1)if(l>p){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<d){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function ys(t,n,e,r){for(var i,o=Yw.length;o--;)_s(i=Yw[o],t,n,e,r)&&vs(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>jw||Math.abs(i[0][1]-i[1][1])>jw)||delete Yw[o]}function gs(t){return Fw[t.index]={site:t,halfedges:[]}}function ms(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function xs(t,n){return n[+(n.left!==t.site)]}function bs(t,n){return n[+(n.left===t.site)]}function ws(){for(var t,n,e,r,i=0,o=Fw.length;i<o;++i)if((t=Fw[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=ms(t,Yw[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}function Ms(t,n,e,r){var i,o,u,a,c,s,f,l,h,p,d,v,_=Fw.length,y=!0;for(i=0;i<_;++i)if(o=Fw[i]){for(u=o.site,c=o.halfedges,a=c.length;a--;)Yw[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)p=bs(o,Yw[c[a]]),d=p[0],v=p[1],f=xs(o,Yw[c[++a%s]]),l=f[0],h=f[1],(Math.abs(d-l)>jw||Math.abs(v-h)>jw)&&(c.splice(a,0,Yw.push(ps(u,p,Math.abs(d-t)<jw&&r-v>jw?[t,Math.abs(l-t)<jw?h:r]:Math.abs(v-r)<jw&&e-d>jw?[Math.abs(h-r)<jw?l:e,r]:Math.abs(d-e)<jw&&v-n>jw?[e,Math.abs(l-e)<jw?h:n]:Math.abs(v-n)<jw&&d-t>jw?[Math.abs(h-n)<jw?l:t,n]:null))-1),++s);s&&(y=!1)}if(y){var g,m,x,b=1/0;for(i=0,y=null;i<_;++i)(o=Fw[i])&&(u=o.site,g=u[0]-t,m=u[1]-n,(x=g*g+m*m)<b&&(b=x,y=o));if(y){var w=[t,n],M=[t,r],T=[e,r],k=[e,n];y.halfedges.push(Yw.push(ps(u=y.site,w,M))-1,Yw.push(ps(u,M,T))-1,Yw.push(ps(u,T,k))-1,Yw.push(ps(u,k,w))-1)}}for(i=0;i<_;++i)(o=Fw[i])&&(o.halfedges.length||delete Fw[i])}function Ts(){cs(this),this.x=this.y=this.arc=this.site=this.cy=null}function ks(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-Xw)){var p=c*c+s*s,d=f*f+l*l,v=(l*p-s*d)/h,_=(c*d-f*p)/h,y=Bw.pop()||new Ts;y.arc=t,y.site=i,y.x=v+u,y.y=(y.cy=_+a)+Math.sqrt(v*v+_*_),t.circle=y;for(var g=null,m=Iw._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(!m.L){g=m.P;break}m=m.L}else{if(!m.R){g=m;break}m=m.R}Iw.insert(g,y),g||(Dw=y)}}}}function Ns(t){var n=t.circle;n&&(n.P||(Dw=n.N),Iw.remove(n),Bw.push(n),cs(n),t.circle=null)}function Ss(){cs(this),this.edge=this.site=this.circle=null}function Es(t){var n=Hw.pop()||new Ss;return n.site=t,n}function As(t){Ns(t),Ow.remove(t),Hw.push(t),cs(t)}function Cs(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];As(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<jw&&Math.abs(r-c.circle.cy)<jw;)o=c.P,a.unshift(c),As(c),c=o;a.unshift(c),Ns(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<jw&&Math.abs(r-s.circle.cy)<jw;)u=s.N,a.push(s),As(s),s=u;a.push(s),Ns(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],ds(s.edge,c.site,s.site,i);c=a[0],s=a[l-1],s.edge=hs(c.site,s.site,null,i),ks(c),ks(s)}function zs(t){for(var n,e,r,i,o=t[0],u=t[1],a=Ow._;a;)if((r=Ps(a,u)-o)>jw)a=a.L;else{if(!((i=o-Ls(a,u))>jw)){r>-jw?(n=a.P,e=a):i>-jw?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}gs(t);var c=Es(t);if(Ow.insert(n,c),n||e){if(n===e)return Ns(n),e=Es(n.site),Ow.insert(c,e),c.edge=e.edge=hs(n.site,c.site),ks(n),void ks(e);if(!e)return void(c.edge=hs(n.site,c.site));Ns(n),Ns(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,p=t[1]-l,d=e.site,v=d[0]-f,_=d[1]-l,y=2*(h*_-p*v),g=h*h+p*p,m=v*v+_*_,x=[(_*g-p*m)/y+f,(h*m-v*g)/y+l];ds(e.edge,s,d,x),c.edge=hs(s,t,null,x),e.edge=hs(t,d,null,x),ks(n),ks(e)}}function Ps(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;e=u.site;var a=e[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Ls(t,n){var e=t.N;if(e)return Ps(e,n);var r=t.site;return r[1]===n?r[0]:1/0}function Rs(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function qs(t,n){return n[1]-t[1]||n[0]-t[0]}function Us(t,n){var e,r,i,o=t.sort(qs).pop();for(Yw=[],Fw=new Array(t.length),Ow=new as,Iw=new as;;)if(i=Dw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(zs(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Cs(i.arc)}if(ws(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];ys(u,a,c,s),Ms(u,a,c,s)}this.edges=Yw,this.cells=Fw,Ow=Iw=Yw=Fw=null}function Ds(t,n,e){this.target=t,this.type=n,this.transform=e}function Os(t,n,e){this.k=t,this.x=n,this.y=e}function Fs(t){return t.__zoom||Ww}function Is(){t.event.stopImmediatePropagation()}function Ys(){return!t.event.button}function Bs(){var t,n,e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,t=e.width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Hs(){return this.__zoom||Ww}var js=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Xs=function(t){return 1===t.length&&(t=n(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}},$s=Xs(js),Vs=$s.right,Ws=$s.left,Zs=function(t,n){null==n&&(n=e);for(var r=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);r<i;)u[r]=n(o,o=t[++r]);return u},Gs=function(t,n,r){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==r&&(r=e),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=r(a,n[o]);return f},Js=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Qs=function(t){return null===t?NaN:+t},Ks=function(t,n){var e,r,i=t.length,o=0,u=-1,a=0,c=0;if(null==n)for(;++u<i;)isNaN(e=Qs(t[u]))||(r=e-a,a+=r/++o,c+=r*(e-a));else for(;++u<i;)isNaN(e=Qs(n(t[u],u,t)))||(r=e-a,a+=r/++o,c+=r*(e-a));if(o>1)return c/(o-1)},tf=function(t,n){var e=Ks(t,n);return e?Math.sqrt(e):e},nf=function(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]},ef=Array.prototype,rf=ef.slice,of=ef.map,uf=function(t){return function(){return t}},af=function(t){return t},cf=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o},sf=Math.sqrt(50),ff=Math.sqrt(10),lf=Math.sqrt(2),hf=function(t,n,e){var i,o,u,a=n<t,c=-1;if(a&&(i=t,t=n,n=i),0===(u=r(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++c<i;)o[c]=(t+c)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++c<i;)o[c]=(t-c)/u;return a&&o.reverse(),o},pf=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},df=function(){function t(t){var o,u,a=t.length,c=new Array(a);for(o=0;o<a;++o)c[o]=n(t[o],o,t);var s=e(c),f=s[0],l=s[1],h=r(c,f,l);Array.isArray(h)||(h=i(f,l,h),h=cf(Math.ceil(f/h)*h,Math.floor(l/h)*h,h));for(var p=h.length;h[0]<=f;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var d,v=new Array(p+1);for(o=0;o<=p;++o)d=v[o]=[],d.x0=o>0?h[o-1]:f,d.x1=o<p?h[o]:l;for(o=0;o<a;++o)u=c[o],f<=u&&u<=l&&v[Vs(h,u,0,p)].push(t[o]);return v}var n=af,e=nf,r=pf;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:uf(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:uf([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:uf(Array.isArray(n)?rf.call(n):n),t):r},t},vf=function(t,n,e){if(null==e&&(e=Qs),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+e(t[o],o,t);return u+(+e(t[o+1],o+1,t)-u)*(i-o)}},_f=function(t,n,e){return t=of.call(t,Qs).sort(js),Math.ceil((e-n)/(2*(vf(t,.75)-vf(t,.25))*Math.pow(t.length,-1/3)))},yf=function(t,n,e){return Math.ceil((e-n)/(3.5*tf(t)*Math.pow(t.length,-1/3)))},gf=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},mf=function(t,n){var e,r=t.length,i=r,o=-1,u=0;if(null==n)for(;++o<r;)isNaN(e=Qs(t[o]))?--i:u+=e;else for(;++o<r;)isNaN(e=Qs(n(t[o],o,t)))?--i:u+=e;if(i)return u/i},xf=function(t,n){var e,r=t.length,i=-1,o=[];if(null==n)for(;++i<r;)isNaN(e=Qs(t[i]))||o.push(e);else for(;++i<r;)isNaN(e=Qs(n(t[i],i,t)))||o.push(e);return vf(o.sort(js),.5)},bf=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--u]=r[n];return e},wf=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r},Mf=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Tf=function(t,n){if(e=t.length){var e,r,i=0,o=0,u=t[o];for(null==n&&(n=js);++i<e;)(n(r=t[i],u)<0||0!==n(u,u))&&(u=r,o=i);return 0===n(u,u)?o:void 0}},kf=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},Nf=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},Sf=function(t){if(!(i=t.length))return[];for(var n=-1,e=wf(t,o),r=new Array(e);++n<e;)for(var i,u=-1,a=r[n]=new Array(i);++u<i;)a[u]=t[u][n];return r},Ef=function(){return Sf(arguments)},Af=Array.prototype.slice,Cf=function(t){return t},zf=1,Pf=2,Lf=3,Rf=4,qf=1e-6,Uf={value:function(){}};_.prototype=v.prototype={constructor:_,on:function(t,n){var e,r=this._,i=y(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=m(r[e],t.name,n);else if(null==n)for(e in r)r[e]=m(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=g(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Df="http://www.w3.org/1999/xhtml",Of={svg:"http://www.w3.org/2000/svg",xhtml:Df,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ff=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Of.hasOwnProperty(n)?{space:Of[n],local:t}:t},If=function(t){var n=Ff(t);return(n.local?b:x)(n)},Yf=0;M.prototype=w.prototype={constructor:M,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Bf=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Hf=document.documentElement;if(!Hf.matches){var jf=Hf.webkitMatchesSelector||Hf.msMatchesSelector||Hf.mozMatchesSelector||Hf.oMatchesSelector;Bf=function(t){return function(){return jf.call(this,t)}}}}var Xf=Bf,$f={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||($f={mouseenter:"mouseover",mouseleave:"mouseout"})}var Vf=function(t,n,e){var r,i,o=N(t+""),u=o.length;{if(!(arguments.length<2)){for(a=n?E:S,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}},Wf=function(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e},Zf=function(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]},Gf=function(t){var n=Wf();return n.changedTouches&&(n=n.changedTouches[0]),Zf(t,n)},Jf=function(t){return null==t?C:function(){return this.querySelector(t)}},Qf=function(t){"function"!=typeof t&&(t=Jf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new _t(r,this._parents)},Kf=function(t){return null==t?z:function(){return this.querySelectorAll(t)}},tl=function(t){"function"!=typeof t&&(t=Kf(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new _t(r,i)},nl=function(t){"function"!=typeof t&&(t=Xf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new _t(r,this._parents)},el=function(t){return new Array(t.length)},rl=function(){return new _t(this._enter||this._groups.map(el),this._parents)};P.prototype={constructor:P,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var il=function(t){return function(){return t}},ol="$",ul=function(t,n){if(!t)return p=new Array(this.size()),s=-1,this.each(function(t){p[++s]=t}),p;var e=n?R:L,r=this._parents,i=this._groups;"function"!=typeof t&&(t=il(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,p=t.call(f,f&&f.__data__,s,r),d=p.length,v=a[s]=new Array(d),_=u[s]=new Array(d);e(f,l,v,_,c[s]=new Array(h),p,n);for(var y,g,m=0,x=0;m<d;++m)if(y=v[m]){for(m>=x&&(x=m+1);!(g=_[x])&&++x<d;);y._next=g||null}}return u=new _t(u,r),u._enter=a,u._exit=c,u},al=function(){return new _t(this._exit||this._groups.map(el),this._parents)},cl=function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new _t(u,this._parents)},sl=function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},fl=function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=q);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new _t(i,this._parents).order()},ll=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},hl=function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},pl=function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},dl=function(){var t=0;return this.each(function(){++t}),t},vl=function(){return!this.node()},_l=function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},yl=function(t,n){var e=Ff(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?D:U:"function"==typeof n?e.local?Y:I:e.local?F:O)(e,n))},gl=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},ml=function(t,n,e){return arguments.length>1?this.each((null==n?B:"function"==typeof n?j:H)(t,n,null==e?"":e)):X(this.node(),t)},xl=function(t,n){return arguments.length>1?this.each((null==n?$:"function"==typeof n?W:V)(t,n)):this.node()[t]};J.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var bl=function(t,n){var e=Z(t+"");if(arguments.length<2){for(var r=G(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?et:n?tt:nt)(e,n))},wl=function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?ot:it)(t)):this.node().textContent},Ml=function(t){return arguments.length?this.each(null==t?ut:("function"==typeof t?ct:at)(t)):this.node().innerHTML},Tl=function(){return this.each(st)},kl=function(){return this.each(ft)},Nl=function(t){var n="function"==typeof t?t:If(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},Sl=function(t,n){var e="function"==typeof t?t:If(t),r=null==n?lt:"function"==typeof n?n:Jf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},El=function(){return this.each(ht)},Al=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Cl=function(t,n){return this.each(("function"==typeof n?vt:dt)(t,n))},zl=[null];_t.prototype=yt.prototype={constructor:_t,select:Qf,selectAll:tl,filter:nl,data:ul,enter:rl,exit:al,merge:cl,order:sl,sort:fl,call:ll,nodes:hl,node:pl,size:dl,empty:vl,each:_l,attr:yl,style:ml,property:xl,classed:bl,text:wl,html:Ml,raise:Tl,lower:kl,append:Nl,insert:Sl,remove:El,datum:Al,on:Vf,dispatch:Cl};var Pl=function(t){return"string"==typeof t?new _t([[document.querySelector(t)]],[document.documentElement]):new _t([[t]],zl)},Ll=function(t){return"string"==typeof t?new _t([document.querySelectorAll(t)],[document.documentElement]):new _t([null==t?[]:t],zl)
},Rl=function(t,n,e){arguments.length<3&&(e=n,n=Wf().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Zf(t,r);return null},ql=function(t,n){null==n&&(n=Wf().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Zf(t,n[e]);return i},Ul=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Dl=function(t){var n=t.document.documentElement,e=Pl(t).on("dragstart.drag",Ul,!0);"onselectstart"in n?e.on("selectstart.drag",Ul,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")},Ol=function(t){return function(){return t}};xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Fl=function(){function n(t){t.on("mousedown.drag",e).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&p.apply(this,arguments)){var n=c("mouse",d.apply(this,arguments),Gf,this,arguments);n&&(Pl(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Dl(t.event.view),gt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if(Ul(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}y.mouse("drag")}function i(){Pl(t.event.view).on("mousemove.drag mouseup.drag",null),mt(t.event.view,l),Ul(),y.mouse("end")}function o(){if(p.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,Rl,this,arguments))&&(gt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=y[r[n].identifier])&&(Ul(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=y[r[n].identifier])&&(gt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=g.copy();if(A(new xt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=_.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var p,d=f;switch(h){case"start":y[e]=t,p=m++;break;case"end":delete y[e],--m;case"drag":f=i(r,e),p=m}A(new xt(n,h,a,e,p,f[0]+c,f[1]+s,f[0]-d[0],f[1]-d[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,p=bt,d=wt,_=Mt,y={},g=v("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(p="function"==typeof t?t:Ol(!!t),n):p},n.container=function(t){return arguments.length?(d="function"==typeof t?t:Ol(t),n):d},n.subject=function(t){return arguments.length?(_="function"==typeof t?t:Ol(t),n):_},n.on=function(){var t=g.on.apply(g,arguments);return t===g?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},Il=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t},Yl="\\s*([+-]?\\d+)\\s*",Bl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jl=/^#([0-9a-f]{3})$/,Xl=/^#([0-9a-f]{6})$/,$l=new RegExp("^rgb\\("+[Yl,Yl,Yl]+"\\)$"),Vl=new RegExp("^rgb\\("+[Hl,Hl,Hl]+"\\)$"),Wl=new RegExp("^rgba\\("+[Yl,Yl,Yl,Bl]+"\\)$"),Zl=new RegExp("^rgba\\("+[Hl,Hl,Hl,Bl]+"\\)$"),Gl=new RegExp("^hsl\\("+[Bl,Hl,Hl]+"\\)$"),Jl=new RegExp("^hsla\\("+[Bl,Hl,Hl,Bl]+"\\)$"),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Il(kt,Nt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Il(zt,Ct,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Il(qt,Rt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new zt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Kl=Math.PI/180,th=180/Math.PI,nh=.95047,eh=1,rh=1.08883,ih=4/29,oh=6/29,uh=3*oh*oh,ah=oh*oh*oh;Il(Ft,Ot,Tt(kt,{brighter:function(t){return new Ft(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ft(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=eh*Yt(t),n=nh*Yt(n),e=rh*Yt(e),new zt(Bt(3.2404542*n-1.5371385*t-.4985314*e),Bt(-.969266*n+1.8760108*t+.041556*e),Bt(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),Il($t,Xt,Tt(kt,{brighter:function(t){return new $t(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new $t(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Dt(this).rgb()}}));var ch=-.14861,sh=1.78277,fh=-.29227,lh=-.90649,hh=1.97294,ph=hh*lh,dh=hh*sh,vh=sh*fh-lh*ch;Il(Zt,Wt,Tt(kt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Kl,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new zt(255*(n+e*(ch*r+sh*i)),255*(n+e*(fh*r+lh*i)),255*(n+e*(hh*r)),this.opacity)}}));var _h,yh,gh,mh,xh,bh,wh=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Gt((e-r/n)*n,u,i,o,a)}},Mh=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Gt((e-r/n)*n,i,o,u,a)}},Th=function(t){return function(){return t}},kh=function t(n){function e(t,n){var e=r((t=Ct(t)).r,(n=Ct(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=nn(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=tn(n);return e.gamma=t,e}(1),Nh=en(wh),Sh=en(Mh),Eh=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),u=new Array(r);for(e=0;e<i;++e)o[e]=qh(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}},Ah=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},Ch=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},zh=function(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=qh(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Ph=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lh=new RegExp(Ph.source,"g"),Rh=function(t,n){var e,r,i,o=Ph.lastIndex=Lh.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Ph.exec(t))&&(r=Lh.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Ch(e,r)})),o=Lh.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?on(c[0].x):rn(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},qh=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Th(n):("number"===r?Ch:"string"===r?(e=Nt(n))?(n=e,kh):Rh:n instanceof Nt?kh:n instanceof Date?Ah:Array.isArray(n)?Eh:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?zh:Ch)(t,n)},Uh=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}},Dh=180/Math.PI,Oh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fh=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Dh,skewX:Math.atan(c)*Dh,scaleX:u,scaleY:a}},Ih=cn(un,"px, ","px)","deg)"),Yh=cn(an,", ",")",")"),Bh=Math.SQRT2,Hh=function(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<1e-12)r=Math.log(s/u)/Bh,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Bh*t*r)]};else{var p=Math.sqrt(h),d=(s*s-u*u+4*h)/(2*u*2*p),v=(s*s-u*u-4*h)/(2*s*2*p),_=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-_)/Bh,e=function(t){var n=t*r,e=sn(_),a=u/(2*p)*(e*ln(Bh*n+_)-fn(_));return[i+a*f,o+a*l,u*e/sn(Bh*n+_)]}}return e.duration=1e3*r,e},jh=hn(Kt),Xh=hn(nn),$h=dn(Kt),Vh=dn(nn),Wh=vn(Kt),Zh=vn(nn),Gh=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},Jh=0,Qh=0,Kh=0,tp=1e3,np=0,ep=0,rp=0,ip="object"==typeof performance&&performance.now?performance:Date,op="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};gn.prototype=mn.prototype={constructor:gn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_n():+e)+(null==n?0:+n),this._next||bh===this||(bh?bh._next=this:xh=this,bh=this),this._call=t,this._time=e,Tn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tn())}};var up=function(t,n,e){var r=new gn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r},ap=function(t,n,e){var r=new gn,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?_n():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},cp=v("start","end","interrupt"),sp=[],fp=0,lp=1,hp=2,pp=3,dp=4,vp=5,_p=6,yp=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};En(t,e,{name:n,index:r,group:i,on:cp,tween:sp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fp})},gp=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>hp&&e.state<vp,e.state=_p,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},mp=function(t){return this.each(function(){gp(this,t)})},xp=function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Sn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?An:Cn)(e,t,n))},bp=function(t,n){var e;return("number"==typeof n?Ch:n instanceof Nt?kh:(e=Nt(n))?(n=e,kh):Rh)(t,n)},wp=function(t,n){var e=Ff(t),r="transform"===e?Yh:bp;return this.attrTween(t,"function"==typeof n?(e.local?Dn:Un)(e,r,zn(this,"attr."+t,n)):null==n?(e.local?Ln:Pn)(e):(e.local?qn:Rn)(e,r,n+""))},Mp=function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Ff(t);return this.tween(e,(r.local?On:Fn)(r,n))},Tp=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?In:Yn)(n,t)):Sn(this.node(),n).delay},kp=function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Bn:Hn)(n,t)):Sn(this.node(),n).duration},Np=function(t){var n=this._id;return arguments.length?this.each(jn(n,t)):Sn(this.node(),n).ease},Sp=function(t){"function"!=typeof t&&(t=Xf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ne(r,this._parents,this._name,this._id)},Ep=function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),p=0;p<l;++p)(c=s[p]||f[p])&&(h[p]=c);for(;a<r;++a)u[a]=n[a];return new ne(u,this._parents,this._name,this._id)},Ap=function(t,n){var e=this._id;return arguments.length<2?Sn(this.node(),e).on.on(t):this.each($n(e,t,n))},Cp=function(){return this.on("end.remove",Vn(this._id))},zp=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Jf(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,yp(l[h],n,e,h,l,Sn(a,e)));return new ne(o,this._parents,n,e)},Pp=function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Kf(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,p=t.call(c,c.__data__,l,s),d=Sn(c,e),v=0,_=p.length;v<_;++v)(h=p[v])&&yp(h,n,e,v,p,d);o.push(p),u.push(c)}return new ne(o,u,n,e)},Lp=yt.prototype.constructor,Rp=function(){return new Lp(this._groups,this._parents)},qp=function(t,n,e){var r="transform"==(t+="")?Ih:bp;return null==n?this.styleTween(t,Wn(t,r)).on("end.style."+t,Zn(t)):this.styleTween(t,"function"==typeof n?Jn(t,r,zn(this,"style."+t,n)):Gn(t,r,n+""),e)},Up=function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Qn(t,n,null==e?"":e))},Dp=function(t){return this.tween("text","function"==typeof t?te(zn(this,"text",t)):Kn(null==t?"":t+""))},Op=function(){for(var t=this._name,n=this._id,e=re(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=Sn(u,n);yp(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ne(r,this._parents,t,e)},Fp=0,Ip=yt.prototype;ne.prototype=ee.prototype={constructor:ne,select:zp,selectAll:Pp,filter:Sp,merge:Ep,selection:Rp,transition:Op,call:Ip.call,nodes:Ip.nodes,node:Ip.node,size:Ip.size,empty:Ip.empty,each:Ip.each,on:Ap,attr:wp,attrTween:Mp,style:qp,styleTween:Up,text:Dp,remove:Cp,tween:xp,delay:Tp,duration:kp,ease:Np};var Yp=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),Bp=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),Hp=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),jp=Math.PI,Xp=jp/2,$p=4/11,Vp=6/11,Wp=8/11,Zp=.75,Gp=9/11,Jp=10/11,Qp=.9375,Kp=21/22,td=63/64,nd=1/$p/$p,ed=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),rd=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),id=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),od=2*Math.PI,ud=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),ad=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),cd=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=od);return r.amplitude=function(n){return t(n,e*od)},r.period=function(e){return t(n,e)},r}(1,.3),sd={time:null,delay:0,duration:250,ease:fe},fd=function(t){var n,e;t instanceof ne?(n=t._id,t=t._name):(n=re(),(e=sd).time=_n(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&yp(u,t,n,s,a,e||Me(u,n));return new ne(r,this._parents,t,n)};yt.prototype.interrupt=mp,yt.prototype.transition=fd;var ld=[null],hd=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>lp&&e.name===n)return new ne([[t]],ld,n,+r)}return null},pd=function(t){return function(){return t}},dd=function(t,n,e){this.target=t,this.type=n,this.selection=e},vd=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},_d={name:"drag"},yd={name:"space"},gd={name:"handle"},md={name:"center"},xd={name:"x",handles:["e","w"].map(ke),input:function(t,n){return t&&[[t[0],n[0][1]],[t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},bd={name:"y",handles:["n","s"].map(ke),input:function(t,n){return t&&[[n[0][0],t[0]],[n[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ke),input:function(t){return t},output:function(t){return t}},Md={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Td={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Nd={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Sd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Ed=function(){return Le(wd)},Ad=Math.cos,Cd=Math.sin,zd=Math.PI,Pd=zd/2,Ld=2*zd,Rd=Math.max,qd=function(){function t(t){var o,u,a,c,s,f,l=t.length,h=[],p=cf(l),d=[],v=[],_=v.groups=new Array(l),y=new Array(l*l);for(o=0,s=-1;++s<l;){for(u=0,f=-1;++f<l;)u+=t[s][f];h.push(u),d.push(cf(l)),o+=u}for(e&&p.sort(function(t,n){return e(h[t],h[n])}),r&&d.forEach(function(n,e){n.sort(function(n,i){return r(t[e][n],t[e][i])})}),o=Rd(0,Ld-n*l)/o,c=o?n:Ld/l,u=0,s=-1;++s<l;){for(a=u,f=-1;++f<l;){var g=p[s],m=d[g][f],x=t[g][m],b=u,w=u+=x*o;y[m*l+g]={index:g,subindex:m,startAngle:b,endAngle:w,value:x}}_[g]={index:g,startAngle:a,endAngle:u,value:h[g]},u+=c}for(s=-1;++s<l;)for(f=s-1;++f<l;){var M=y[f*l+s],T=y[s*l+f];(M.value||T.value)&&v.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}return i?v.sort(i):v}var n=0,e=null,r=null,i=null;return t.padAngle=function(e){return arguments.length?(n=Rd(0,e),t):n},t.sortGroups=function(n){return arguments.length?(e=n,t):e},t.sortSubgroups=function(n){return arguments.length?(r=n,t):r},t.sortChords=function(n){return arguments.length?(null==n?i=null:(i=Re(n))._=n,t):i&&i._},t},Ud=Array.prototype.slice,Dd=function(t){return function(){return t}},Od=Math.PI,Fd=2*Od,Id=Fd-1e-6;qe.prototype=Ue.prototype={constructor:qe,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,p=r-u,d=a*a+c*c,v=h*h+p*p,_=Math.sqrt(d),y=Math.sqrt(l),g=i*Math.tan((Od-Math.acos((d+l-v)/(2*_*y)))/2),m=g/y,x=g/_;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e;var u=e*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%Fd+Fd),l>Id?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=Od)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Yd=function(){function t(){var t,a=Ud.call(arguments),c=n.apply(this,a),s=e.apply(this,a),f=+r.apply(this,(a[0]=c,a)),l=i.apply(this,a)-Pd,h=o.apply(this,a)-Pd,p=f*Ad(l),d=f*Cd(l),v=+r.apply(this,(a[0]=s,a)),_=i.apply(this,a)-Pd,y=o.apply(this,a)-Pd;if(u||(u=t=Ue()),u.moveTo(p,d),u.arc(0,0,f,l,h),l===_&&h===y||(u.quadraticCurveTo(0,0,v*Ad(_),v*Cd(_)),u.arc(0,0,v,_,y)),u.quadraticCurveTo(0,0,p,d),u.closePath(),t)return u=null,t+""||null}var n=De,e=Oe,r=Fe,i=Ie,o=Ye,u=null;return t.radius=function(n){return arguments.length?(r="function"==typeof n?n:Dd(+n),t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Dd(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Dd(+n),t):o},t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(n){return arguments.length?(e=n,t):e},t.context=function(n){return arguments.length?(u=null==n?null:n,t):u},t};Be.prototype=He.prototype={constructor:Be,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Bd=function(){function t(n,i,u,a){if(i>=o.length)return null!=r?r(n):null!=e?n.sort(e):n;for(var c,s,f,l=-1,h=n.length,p=o[i++],d=He(),v=u();++l<h;)(f=d.get(c=p(s=n[l])+""))?f.push(s):d.set(c,[s]);return d.each(function(n,e){a(v,e,t(n,i,u,a))}),v}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,je,Xe)},map:function(n){return t(n,0,$e,Ve)},entries:function(e){return n(t(e,0,$e,Ve),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},Hd=He.prototype;We.prototype=Ze.prototype={constructor:We,has:Hd.has,add:function(t){return t+="",this["$"+t]=t,this},remove:Hd.remove,clear:Hd.clear,values:Hd.keys,size:Hd.size,empty:Hd.empty,each:Hd.each};var jd=function(t){var n=[];for(var e in t)n.push(e);return n},Xd=function(t){var n=[];for(var e in t)n.push(t[e]);return n},$d=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Vd=function(t){function n(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?Je(t,n):Ge(t)});return o.columns=i,o}function e(t,n){function e(){if(f>=s)return u;if(i)return i=!1,o;var n,e=f;if(34===t.charCodeAt(e)){for(var r=e;r++<s;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return f=r+2,n=t.charCodeAt(r+1),13===n?(i=!0,10===t.charCodeAt(r+2)&&++f):10===n&&(i=!0),t.slice(e+1,r).replace(/""/g,'"')}for(;f<s;){var a=1;if(10===(n=t.charCodeAt(f++)))i=!0;else if(13===n)i=!0,10===t.charCodeAt(f)&&(++f,++a);else if(n!==c)continue;return t.slice(e,f-a)}return t.slice(e)}for(var r,i,o={},u={},a=[],s=t.length,f=0,l=0;(r=e())!==u;){for(var h=[];r!==o&&r!==u;)h.push(r),r=e();n&&null==(h=n(h,l++))||a.push(h)}return a}function r(n,e){return null==e&&(e=Qe(n)),[e.map(u).join(t)].concat(n.map(function(n){return e.map(function(t){return u(n[t])}).join(t)})).join("\n")}function i(t){return t.map(o).join("\n")}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n\r]"),c=t.charCodeAt(0);return{parse:n,parseRows:e,format:r,formatRows:i}},Wd=Vd(","),Zd=Wd.parse,Gd=Wd.parseRows,Jd=Wd.format,Qd=Wd.formatRows,Kd=Vd("\t"),tv=Kd.parse,nv=Kd.parseRows,ev=Kd.format,rv=Kd.formatRows,iv=function(t,n){function e(){var e,i,o=r.length,u=0,a=0;for(e=0;e<o;++e)i=r[e],u+=i.x,a+=i.y;for(u=u/o-t,a=a/o-n,e=0;e<o;++e)i=r[e],i.x-=u,i.y-=a}var r;return null==t&&(t=0),null==n&&(n=0),e.initialize=function(t){r=t},e.x=function(n){return arguments.length?(t=+n,e):t},e.y=function(t){return arguments.length?(n=+t,e):n},e},ov=function(t){return function(){return t}},uv=function(){return 1e-6*(Math.random()-.5)},av=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return Ke(this.cover(n,e),n,e,t)},cv=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var u,a,c=i-e,s=this._root;switch(a=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,o=r+c,t>i||n>o);break;case 1:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,o=r+c,e>t||n>o);break;case 2:do{u=new Array(4),u[a]=s,s=u}while(c*=2,i=e+c,r=o-c,t>i||r>n);break;case 3:do{u=new Array(4),u[a]=s,s=u}while(c*=2,e=i-c,r=o-c,e>t||r>n)}this._root&&this._root.length&&(this._root=s)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},sv=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},fv=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},lv=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i},hv=function(t,n,e){var r,i,o,u,a,c,s,f=this._x0,l=this._y0,h=this._x1,p=this._y1,d=[],v=this._root;for(v&&d.push(new lv(v,f,l,h,p)),null==e?e=1/0:(f=t-e,l=n-e,h=t+e,p=n+e,e*=e);c=d.pop();)if(!(!(v=c.node)||(i=c.x0)>h||(o=c.y0)>p||(u=c.x1)<f||(a=c.y1)<l))if(v.length){var _=(i+u)/2,y=(o+a)/2;d.push(new lv(v[3],_,y,u,a),new lv(v[2],i,y,_,a),new lv(v[1],_,o,u,y),new lv(v[0],i,o,_,y)),(s=(n>=y)<<1|t>=_)&&(c=d[d.length-1],d[d.length-1]=d[d.length-1-s],d[d.length-1-s]=c)}else{var g=t-+this._x.call(null,v.data),m=n-+this._y.call(null,v.data),x=g*g+m*m;if(x<e){var b=Math.sqrt(e=x);f=t-b,l=n-b,h=t+b,p=n+b,r=v.data}}return r},pv=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,s,f,l,h,p=this._root,d=this._x0,v=this._y0,_=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((s=o>=(a=(d+_)/2))?d=a:_=a,(f=u>=(c=(v+y)/2))?v=c:y=c,n=p,!(p=p[l=f<<1|s]))return this;if(!p.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(p=n[0]||n[1]||n[2]||n[3])&&p===(n[3]||n[2]||n[1]||n[0])&&!p.length&&(e?e[h]=p:this._root=p),this):(this._root=i,this)},dv=function(){return this._root},vv=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},_v=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new lv(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var s=(r+o)/2,f=(i+u)/2;(e=c[3])&&a.push(new lv(e,s,f,o,u)),(e=c[2])&&a.push(new lv(e,r,f,s,u)),(e=c[1])&&a.push(new lv(e,s,i,o,f)),(e=c[0])&&a.push(new lv(e,r,i,s,f))}return this},yv=function(t){var n,e=[],r=[];for(this._root&&e.push(new lv(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,s=n.y1,f=(u+c)/2,l=(a+s)/2;(o=i[0])&&e.push(new lv(o,u,a,f,l)),(o=i[1])&&e.push(new lv(o,f,a,c,l)),(o=i[2])&&e.push(new lv(o,u,l,f,s)),(o=i[3])&&e.push(new lv(o,f,l,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},gv=function(t){return arguments.length?(this._x=t,this):this._x},mv=function(t){return arguments.length?(this._y=t,this):this._y},xv=ir.prototype=or.prototype;xv.copy=function(){var t,n,e=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=ur(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=ur(n));return e},xv.add=av,xv.addAll=tr,xv.cover=cv,xv.data=sv,xv.extent=fv,xv.find=hv,xv.remove=pv,xv.removeAll=nr,xv.root=dv,xv.size=vv,xv.visit=_v,xv.visitAfter=yv,xv.x=gv,xv.y=mv;var bv,wv=function(t){function n(){function t(t,n,e,r,i){var o=t.data,a=t.r,p=l+a;{if(!o)return n>s+p||r<s-p||e>f+p||i<f-p;if(o.index>c.index){var d=s-o.x-o.vx,v=f-o.y-o.vy,_=d*d+v*v;_<p*p&&(0===d&&(d=uv(),_+=d*d),0===v&&(v=uv(),_+=v*v),_=(p-(_=Math.sqrt(_)))/_*u,c.vx+=(d*=_)*(p=(a*=a)/(h+a)),c.vy+=(v*=_)*p,o.vx-=d*(p=1-p),o.vy-=v*p)}}}for(var n,r,c,s,f,l,h,p=i.length,d=0;d<a;++d)for(r=ir(i,ar,cr).visitAfter(e),n=0;n<p;++n)c=i[n],l=o[c.index],h=l*l,s=c.x+c.vx,f=c.y+c.vy,r.visit(t)}function e(t){if(t.data)return t.r=o[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function r(){if(i){var n,e,r=i.length;for(o=new Array(r),n=0;n<r;++n)e=i[n],o[e.index]=+t(e,n,i)}}var i,o,u=1,a=1
;return"function"!=typeof t&&(t=ov(null==t?1:+t)),n.initialize=function(t){i=t,r()},n.iterations=function(t){return arguments.length?(a=+t,n):a},n.strength=function(t){return arguments.length?(u=+t,n):u},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:ov(+e),r(),n):t},n},Mv=function(t){function n(t){return 1/Math.min(s[t.source.index],s[t.target.index])}function e(n){for(var e=0,r=t.length;e<d;++e)for(var i,o,c,s,l,h,p,v=0;v<r;++v)i=t[v],o=i.source,c=i.target,s=c.x+c.vx-o.x-o.vx||uv(),l=c.y+c.vy-o.y-o.vy||uv(),h=Math.sqrt(s*s+l*l),h=(h-a[v])/h*n*u[v],s*=h,l*=h,c.vx-=s*(p=f[v]),c.vy-=l*p,o.vx+=s*(p=1-p),o.vy+=l*p}function r(){if(c){var n,e,r=c.length,h=t.length,p=He(c,l);for(n=0,s=new Array(r);n<h;++n)e=t[n],e.index=n,"object"!=typeof e.source&&(e.source=fr(p,e.source)),"object"!=typeof e.target&&(e.target=fr(p,e.target)),s[e.source.index]=(s[e.source.index]||0)+1,s[e.target.index]=(s[e.target.index]||0)+1;for(n=0,f=new Array(h);n<h;++n)e=t[n],f[n]=s[e.source.index]/(s[e.source.index]+s[e.target.index]);u=new Array(h),i(),a=new Array(h),o()}}function i(){if(c)for(var n=0,e=t.length;n<e;++n)u[n]=+h(t[n],n,t)}function o(){if(c)for(var n=0,e=t.length;n<e;++n)a[n]=+p(t[n],n,t)}var u,a,c,s,f,l=sr,h=n,p=ov(30),d=1;return null==t&&(t=[]),e.initialize=function(t){c=t,r()},e.links=function(n){return arguments.length?(t=n,r(),e):t},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(d=+t,e):d},e.strength=function(t){return arguments.length?(h="function"==typeof t?t:ov(+t),i(),e):h},e.distance=function(t){return arguments.length?(p="function"==typeof t?t:ov(+t),o(),e):p},e},Tv=10,kv=Math.PI*(3-Math.sqrt(5)),Nv=function(t){function n(){e(),p.call("tick",o),u<a&&(h.stop(),p.call("end",o))}function e(){var n,e,r=t.length;for(u+=(s-u)*c,l.each(function(t){t(u)}),n=0;n<r;++n)e=t[n],null==e.fx?e.x+=e.vx*=f:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=f:(e.y=e.fy,e.vy=0)}function r(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.x)||isNaN(n.y)){var i=Tv*Math.sqrt(e),o=e*kv;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function i(n){return n.initialize&&n.initialize(t),n}var o,u=1,a=.001,c=1-Math.pow(a,1/300),s=0,f=.6,l=He(),h=mn(n),p=v("tick","end");return null==t&&(t=[]),r(),o={tick:e,restart:function(){return h.restart(n),o},stop:function(){return h.stop(),o},nodes:function(n){return arguments.length?(t=n,r(),l.each(i),o):t},alpha:function(t){return arguments.length?(u=+t,o):u},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(c=+t,o):+c},alphaTarget:function(t){return arguments.length?(s=+t,o):s},velocityDecay:function(t){return arguments.length?(f=1-t,o):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,i(n)),o):l.get(t)},find:function(n,e,r){var i,o,u,a,c,s=0,f=t.length;for(null==r?r=1/0:r*=r,s=0;s<f;++s)a=t[s],i=n-a.x,o=e-a.y,(u=i*i+o*o)<r&&(c=a,r=u);return c},on:function(t,n){return arguments.length>1?(p.on(t,n),o):p.on(t)}}},Sv=function(){function t(t){var n,a=i.length,c=ir(i,lr,hr).visitAfter(e);for(u=t,n=0;n<a;++n)o=i[n],c.visit(r)}function n(){if(i){var t,n,e=i.length;for(a=new Array(e),t=0;t<e;++t)n=i[t],a[n.index]=+c(n,t,i)}}function e(t){var n,e,r,i,o,u=0;if(t.length){for(r=i=o=0;o<4;++o)(n=t[o])&&(e=n.value)&&(u+=e,r+=e*n.x,i+=e*n.y);t.x=r/u,t.y=i/u}else{n=t,n.x=n.data.x,n.y=n.data.y;do{u+=a[n.data.index]}while(n=n.next)}t.value=u}function r(t,n,e,r){if(!t.value)return!0;var i=t.x-o.x,c=t.y-o.y,h=r-n,p=i*i+c*c;if(h*h/l<p)return p<f&&(0===i&&(i=uv(),p+=i*i),0===c&&(c=uv(),p+=c*c),p<s&&(p=Math.sqrt(s*p)),o.vx+=i*t.value*u/p,o.vy+=c*t.value*u/p),!0;if(!(t.length||p>=f)){(t.data!==o||t.next)&&(0===i&&(i=uv(),p+=i*i),0===c&&(c=uv(),p+=c*c),p<s&&(p=Math.sqrt(s*p)));do{t.data!==o&&(h=a[t.data.index]*u/p,o.vx+=i*h,o.vy+=c*h)}while(t=t.next)}}var i,o,u,a,c=ov(-30),s=1,f=1/0,l=.81;return t.initialize=function(t){i=t,n()},t.strength=function(e){return arguments.length?(c="function"==typeof e?e:ov(+e),n(),t):c},t.distanceMin=function(n){return arguments.length?(s=n*n,t):Math.sqrt(s)},t.distanceMax=function(n){return arguments.length?(f=n*n,t):Math.sqrt(f)},t.theta=function(n){return arguments.length?(l=n*n,t):Math.sqrt(l)},t},Ev=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vx+=(o[e]-n.x)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ov(.1);return"function"!=typeof t&&(t=ov(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ov(+t),e(),n):u},n.x=function(r){return arguments.length?(t="function"==typeof r?r:ov(+r),e(),n):t},n},Av=function(t){function n(t){for(var n,e=0,u=r.length;e<u;++e)n=r[e],n.vy+=(o[e]-n.y)*i[e]*t}function e(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)i[n]=isNaN(o[n]=+t(r[n],n,r))?0:+u(r[n],n,r)}}var r,i,o,u=ov(.1);return"function"!=typeof t&&(t=ov(null==t?0:+t)),n.initialize=function(t){r=t,e()},n.strength=function(t){return arguments.length?(u="function"==typeof t?t:ov(+t),e(),n):u},n.y=function(r){return arguments.length?(t="function"==typeof r?r:ov(+r),e(),n):t},n},Cv=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},zv=function(t){return t=Cv(Math.abs(t)),t?t[1]:NaN},Pv=function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}},Lv=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}},Rv=function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},qv=function(t,n){var e=Cv(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(bv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Cv(t,Math.max(0,n+o-1))[0]},Uv=function(t,n){var e=Cv(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Dv={"":Rv,"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Uv(100*t,n)},r:Uv,s:qv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ov=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;pr.prototype=dr.prototype,dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Fv,Iv=function(t){return t},Yv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Bv=function(t){function n(t){function n(t){var n,i,a,f=_,x=y;if("c"===v)x=g(t)+x,t="";else{t=+t;var b=t<0;if(t=g(Math.abs(t),d),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=x+("s"===v?Yv[8+bv/3]:"")+(b&&"("===s?")":""),m)for(n=-1,i=t.length;++n<i;)if(48>(a=t.charCodeAt(n))||a>57){x=(46===a?o+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}p&&!l&&(t=r(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(e):"";switch(p&&l&&(t=r(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return u(t)}t=pr(t);var e=t.fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,p=t.comma,d=t.precision,v=t.type,_="$"===f?i[0]:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===f?i[1]:/[%p]/.test(v)?a:"",g=Dv[v],m=!v||/[defgprs%]/.test(v);return d=null==d?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),n.toString=function(){return t+""},n}function e(t,e){var r=n((t=pr(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(zv(e)/3))),o=Math.pow(10,-i),u=Yv[8+i/3];return function(t){return r(o*t)+u}}var r=t.grouping&&t.thousands?Pv(t.grouping,t.thousands):Iv,i=t.currency,o=t.decimal,u=t.numerals?Lv(t.numerals):Iv,a=t.percent||"%";return{format:n,formatPrefix:e}};vr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Hv=function(t){return Math.max(0,-zv(Math.abs(t)))},jv=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zv(n)/3)))-zv(Math.abs(t)))},Xv=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,zv(n)-zv(t))+1},$v=function(){return new _r};_r.prototype={constructor:_r,reset:function(){this.s=this.t=0},add:function(t){yr(T_,t,this.t),yr(this,T_.s,this.s),this.s?this.t+=T_.t:this.s=T_.t},valueOf:function(){return this.s}};var Vv,Wv,Zv,Gv,Jv,Qv,Kv,t_,n_,e_,r_,i_,o_,u_,a_,c_,s_,f_,l_,h_,p_,d_,v_,__,y_,g_,m_,x_,b_,w_,M_,T_=new _r,k_=1e-6,N_=Math.PI,S_=N_/2,E_=N_/4,A_=2*N_,C_=180/N_,z_=N_/180,P_=Math.abs,L_=Math.atan,R_=Math.atan2,q_=Math.cos,U_=Math.ceil,D_=Math.exp,O_=Math.log,F_=Math.pow,I_=Math.sin,Y_=Math.sign||function(t){return t>0?1:t<0?-1:0},B_=Math.sqrt,H_=Math.tan,j_={Feature:function(t,n){wr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)wr(e[r].geometry,n)}},X_={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Mr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mr(e[r],n,0)},Polygon:function(t,n){Tr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Tr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)wr(e[r],n)}},$_=function(t,n){t&&j_.hasOwnProperty(t.type)?j_[t.type](t,n):wr(t,n)},V_=$v(),W_=$v(),Z_={point:br,lineStart:br,lineEnd:br,polygonStart:function(){V_.reset(),Z_.lineStart=kr,Z_.lineEnd=Nr},polygonEnd:function(){var t=+V_;W_.add(t<0?A_+t:t),this.lineStart=this.lineEnd=this.point=br},sphere:function(){W_.add(A_)}},G_=function(t){return W_.reset(),$_(t,Z_),2*W_},J_=$v(),Q_={point:Ur,lineStart:Or,lineEnd:Fr,polygonStart:function(){Q_.point=Ir,Q_.lineStart=Yr,Q_.lineEnd=Br,J_.reset(),Z_.polygonStart()},polygonEnd:function(){Z_.polygonEnd(),Q_.point=Ur,Q_.lineStart=Or,Q_.lineEnd=Fr,V_<0?(Qv=-(t_=180),Kv=-(n_=90)):J_>k_?n_=90:J_<-k_&&(Kv=-90),a_[0]=Qv,a_[1]=t_}},K_=function(t){var n,e,r,i,o,u,a;if(n_=t_=-(Qv=Kv=1/0),u_=[],$_(t,Q_),e=u_.length){for(u_.sort(jr),n=1,r=u_[0],o=[r];n<e;++n)i=u_[n],Xr(r,i[0])||Xr(r,i[1])?(Hr(r[0],i[1])>Hr(r[0],r[1])&&(r[1]=i[1]),Hr(i[0],r[1])>Hr(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,e=o.length-1,n=0,r=o[e];n<=e;r=i,++n)i=o[n],(a=Hr(r[1],i[0]))>u&&(u=a,Qv=i[0],t_=r[1])}return u_=a_=null,Qv===1/0||Kv===1/0?[[NaN,NaN],[NaN,NaN]]:[[Qv,Kv],[t_,n_]]},ty={sphere:br,point:$r,lineStart:Wr,lineEnd:Jr,polygonStart:function(){ty.lineStart=Qr,ty.lineEnd=Kr},polygonEnd:function(){ty.lineStart=Wr,ty.lineEnd=Jr}},ny=function(t){c_=s_=f_=l_=h_=p_=d_=v_=__=y_=g_=0,$_(t,ty);var n=__,e=y_,r=g_,i=n*n+e*e+r*r;return i<1e-12&&(n=p_,e=d_,r=v_,s_<k_&&(n=f_,e=l_,r=h_),(i=n*n+e*e+r*r)<1e-12)?[NaN,NaN]:[R_(e,n)*C_,mr(r/B_(i))*C_]},ey=function(t){return function(){return t}},ry=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};ei.invert=ei;var iy,oy,uy,ay,cy,sy,fy,ly,hy,py,dy,vy=function(t){function n(n){return n=t(n[0]*z_,n[1]*z_),n[0]*=C_,n[1]*=C_,n}return t=ri(t[0]*z_,t[1]*z_,t.length>2?t[2]*z_:0),n.invert=function(n){return n=t.invert(n[0]*z_,n[1]*z_),n[0]*=C_,n[1]*=C_,n},n},_y=function(){function t(t,n){e.push(t=r(t,n)),t[0]*=C_,t[1]*=C_}function n(){var t=i.apply(this,arguments),n=o.apply(this,arguments)*z_,c=u.apply(this,arguments)*z_;return e=[],r=ri(-t[0]*z_,-t[1]*z_,0).invert,ai(a,n,c,1),t={type:"Polygon",coordinates:[e]},e=r=null,t}var e,r,i=ey([0,0]),o=ey(90),u=ey(6),a={point:t};return n.center=function(t){return arguments.length?(i="function"==typeof t?t:ey([+t[0],+t[1]]),n):i},n.radius=function(t){return arguments.length?(o="function"==typeof t?t:ey(+t),n):o},n.precision=function(t){return arguments.length?(u="function"==typeof t?t:ey(+t),n):u},n},yy=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:br,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},gy=function(t,n,e,r,i,o){var u,a=t[0],c=t[1],s=n[0],f=n[1],l=0,h=1,p=s-a,d=f-c;if(u=e-a,p||!(u>0)){if(u/=p,p<0){if(u<l)return;u<h&&(h=u)}else if(p>0){if(u>h)return;u>l&&(l=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(u>h)return;u>l&&(l=u)}else if(p>0){if(u<l)return;u<h&&(h=u)}if(u=r-c,d||!(u>0)){if(u/=d,d<0){if(u<l)return;u<h&&(h=u)}else if(d>0){if(u>h)return;u>l&&(l=u)}if(u=o-c,d||!(u<0)){if(u/=d,d<0){if(u>h)return;u>l&&(l=u)}else if(d>0){if(u<l)return;u<h&&(h=u)}return l>0&&(t[0]=a+l*p,t[1]=c+l*d),h<1&&(n[0]=a+h*p,n[1]=c+h*d),!0}}}}},my=function(t,n){return P_(t[0]-n[0])<k_&&P_(t[1]-n[1])<k_},xy=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(my(r,u)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a.push(e=new si(r,t,null,!0)),c.push(e.o=new si(r,null,e,!1)),a.push(e=new si(u,t,null,!1)),c.push(e.o=new si(u,null,e,!0))}}),a.length){for(c.sort(n),fi(a),fi(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var s,f,l=a[0];;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;s=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,u=s.length;o<u;++o)i.point((f=s[o])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=h.p.z,o=s.length-1;o>=0;--o)i.point((f=s[o])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,s=h.z,p=!p}while(!h.v);i.lineEnd()}}},by=1e9,wy=-by,My=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=li(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},Ty=$v(),ky=function(t,n){var e=n[0],r=n[1],i=[I_(e),-q_(e),0],o=0,u=0;Ty.reset();for(var a=0,c=t.length;a<c;++a)if(f=(s=t[a]).length)for(var s,f,l=s[f-1],h=l[0],p=l[1]/2+E_,d=I_(p),v=q_(p),_=0;_<f;++_,h=g,d=x,v=b,l=y){var y=s[_],g=y[0],m=y[1]/2+E_,x=I_(m),b=q_(m),w=g-h,M=w>=0?1:-1,T=M*w,k=T>N_,N=d*x;if(Ty.add(R_(N*M*I_(T),v*b+N*q_(T))),o+=k?w+M*A_:w,k^h>=e^g>=e){var S=Pr(Cr(l),Cr(y));qr(S);var E=Pr(i,S);qr(E);var A=(k^w>=0?-1:1)*mr(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(u+=k^w>=0?1:-1)}}return(o<-k_||o<k_&&Ty<-k_)^1&u},Ny=$v(),Sy={sphere:br,point:br,lineStart:hi,lineEnd:br,polygonStart:br,polygonEnd:br},Ey=function(t){return Ny.reset(),$_(t,Sy),+Ny},Ay=[null,null],Cy={type:"LineString",coordinates:Ay},zy=function(t,n){return Ay[0]=t,Ay[1]=n,Ey(Cy)},Py={Feature:function(t,n){return _i(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(_i(e[r].geometry,n))return!0;return!1}},Ly={Sphere:function(){return!0},Point:function(t,n){return yi(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(yi(e[r],n))return!0;return!1},LineString:function(t,n){return gi(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(gi(e[r],n))return!0;return!1},Polygon:function(t,n){return mi(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(mi(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(_i(e[r],n))return!0;return!1}},Ry=function(t,n){return(t&&Py.hasOwnProperty(t.type)?Py[t.type]:_i)(t,n)},qy=function(t,n){var e=t[0]*z_,r=t[1]*z_,i=n[0]*z_,o=n[1]*z_,u=q_(r),a=I_(r),c=q_(o),s=I_(o),f=u*q_(e),l=u*I_(e),h=c*q_(i),p=c*I_(i),d=2*mr(B_(xr(o-r)+u*c*xr(i-e))),v=I_(d),_=d?function(t){var n=I_(t*=d)/v,e=I_(d-t)/v,r=e*f+n*h,i=e*l+n*p,o=e*a+n*s;return[R_(i,r)*C_,R_(o,B_(r*r+i*i))*C_]}:function(){return[e*C_,r*C_]};return _.distance=d,_},Uy=function(t){return t},Dy=$v(),Oy=$v(),Fy={point:br,lineStart:br,lineEnd:br,polygonStart:function(){Fy.lineStart=Ni,Fy.lineEnd=Ai},polygonEnd:function(){Fy.lineStart=Fy.lineEnd=Fy.point=br,Dy.add(P_(Oy)),Oy.reset()},result:function(){var t=Dy/2;return Dy.reset(),t}},Iy=1/0,Yy=Iy,By=-Iy,Hy=By,jy={point:Ci,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var t=[[Iy,Yy],[By,Hy]];return By=Hy=-(Yy=Iy=1/0),t}},Xy=0,$y=0,Vy=0,Wy=0,Zy=0,Gy=0,Jy=0,Qy=0,Ky=0,tg={point:zi,lineStart:Pi,lineEnd:qi,polygonStart:function(){tg.lineStart=Ui,tg.lineEnd=Di},polygonEnd:function(){tg.point=zi,tg.lineStart=Pi,tg.lineEnd=qi},result:function(){var t=Ky?[Jy/Ky,Qy/Ky]:Gy?[Wy/Gy,Zy/Gy]:Vy?[Xy/Vy,$y/Vy]:[NaN,NaN];return Xy=$y=Vy=Wy=Zy=Gy=Jy=Qy=Ky=0,t}};Ii.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,A_)}},result:br};var ng,eg,rg,ig,og,ug=$v(),ag={point:br,lineStart:function(){ag.point=Yi},lineEnd:function(){ng&&Bi(eg,rg),ag.point=br},polygonStart:function(){ng=!0},polygonEnd:function(){ng=null},result:function(){var t=+ug;return ug.reset(),t}};Hi.prototype={_radius:4.5,_circle:ji(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=ji(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var cg=function(t,n){function e(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),$_(t,r(i))),i.result()}var r,i,o=4.5;return e.area=function(t){return $_(t,r(Fy)),Fy.result()},e.measure=function(t){return $_(t,r(ag)),ag.result()},e.bounds=function(t){return $_(t,r(jy)),jy.result()},e.centroid=function(t){return $_(t,r(tg)),tg.result()},e.projection=function(n){return arguments.length?(r=null==n?(t=null,Uy):(t=n).stream,e):t},e.context=function(t){return arguments.length?(i=null==t?(n=null,new Hi):new Ii(n=t),"function"!=typeof o&&i.pointRadius(o),e):n},e.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),e):o},e.projection(t).context(n)},sg=function(t,n,e,r){return function(i,o){function u(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function a(t,n){var e=i(t,n);_.point(e[0],e[1])}function c(){b.point=a,_.lineStart()}function s(){b.point=u,_.lineEnd()}function f(t,n){v.push([t,n]);var e=i(t,n);m.point(e[0],e[1])}function l(){m.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),m.lineEnd();var t,n,e,r,i=m.clean(),u=g.result(),a=u.length;if(v.pop(),p.push(v),v=null,a)if(1&i){if(e=u[0],(n=e.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),t=0;t<n;++t)o.point((r=e[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&u.push(u.pop().concat(u.shift())),d.push(u.filter(Xi))}var p,d,v,_=n(o),y=i.invert(r[0],r[1]),g=yy(),m=n(g),x=!1,b={point:u,lineStart:c,lineEnd:s,polygonStart:function(){b.point=f,b.lineStart=l,b.lineEnd=h,d=[],p=[]},polygonEnd:function(){b.point=u,b.lineStart=c,b.lineEnd=s,d=bf(d);var t=ky(p,y);d.length?(x||(o.polygonStart(),x=!0),xy(d,$i,t,e,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return b}},fg=sg(function(){return!0},Vi,Zi,[-N_,-S_]),lg=function(t,n){function e(e,r,i,o){ai(o,t,n,i,e,r)}function r(t,n){return q_(t)*q_(n)>a}function i(t){var n,e,i,a,f;return{lineStart:function(){a=i=!1,f=1},point:function(l,h){var p,d=[l,h],v=r(l,h),_=c?v?0:u(l,h):v?u(l+(l<0?N_:-N_),h):0;if(!n&&(a=i=v)&&t.lineStart(),v!==i&&(!(p=o(n,d))||my(n,p)||my(d,p))&&(d[0]+=k_,d[1]+=k_,v=r(d[0],d[1])),v!==i)f=0,v?(t.lineStart(),p=o(d,n),t.point(p[0],p[1])):(p=o(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&c^v){var y;_&e||!(y=o(d,n,!0))||(f=0,c?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&my(n,d)||t.point(d[0],d[1]),n=d,i=v,e=_},lineEnd:function(){i&&t.lineEnd(),n=null},clean:function(){return f|(a&&i)<<1}}}function o(t,n,e){var r=Cr(t),i=Cr(n),o=[1,0,0],u=Pr(r,i),c=zr(u,u),s=u[0],f=c-s*s;if(!f)return!e&&t;var l=a*c/f,h=-a*s/f,p=Pr(o,u),d=Rr(o,l);Lr(d,Rr(u,h));var v=p,_=zr(d,v),y=zr(v,v),g=_*_-y*(zr(d,d)-1);if(!(g<0)){var m=B_(g),x=Rr(v,(-_-m)/y);if(Lr(x,d),x=Ar(x),!e)return x;var b,w=t[0],M=n[0],T=t[1],k=n[1];M<w&&(b=w,w=M,M=b);var N=M-w,S=P_(N-N_)<k_,E=S||N<k_;if(!S&&k<T&&(b=T,T=k,k=b),E?S?T+k>0^x[1]<(P_(x[0]-w)<k_?T:k):T<=x[1]&&x[1]<=k:N>N_^(w<=x[0]&&x[0]<=M)){var A=Rr(v,(-_+m)/y);return Lr(A,d),[x,Ar(A)]}}}function u(n,e){var r=c?t:N_-t,i=0;return n<-r?i|=1:n>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var a=q_(t),c=a>0,s=P_(a)>k_;return sg(r,i,e,c?[0,-t]:[-N_,t-N_])},hg=function(t){return{stream:Gi(t)}};Ji.prototype={constructor:Ji,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pg=16,dg=q_(30*z_),vg=function(t,n){return+n?no(t,n):to(t)},_g=Gi({point:function(t,n){this.stream.point(t*z_,n*z_)}}),yg=function(){return io(uo).scale(155.424).center([0,33.6442])},gg=function(){return yg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},mg=function(){function t(t){var n=t[0],e=t[1];return a=null,i.point(n,e),a||(o.point(n,e),a)||(u.point(n,e),a)}function n(){return e=r=null,t}var e,r,i,o,u,a,c=gg(),s=yg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=yg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){a=[t,n]}};return t.invert=function(t){var n=c.scale(),e=c.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?f:c).invert(t)},t.stream=function(t){return e&&r===t?e:e=ao([c.stream(r=t),s.stream(t),f.stream(t)])},t.precision=function(t){return arguments.length?(c.precision(t),s.precision(t),f.precision(t),n()):c.precision()},t.scale=function(n){return arguments.length?(c.scale(n),s.scale(.35*n),f.scale(n),t.translate(c.translate())):c.scale()},t.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),r=+t[0],a=+t[1];return i=c.translate(t).clipExtent([[r-.455*e,a-.238*e],[r+.455*e,a+.238*e]]).stream(l),o=s.translate([r-.307*e,a+.201*e]).clipExtent([[r-.425*e+k_,a+.12*e+k_],[r-.214*e-k_,a+.234*e-k_]]).stream(l),u=f.translate([r-.205*e,a+.212*e]).clipExtent([[r-.214*e+k_,a+.166*e+k_],[r-.115*e-k_,a+.234*e-k_]]).stream(l),n()},t.fitExtent=function(n,e){return Qi(t,n,e)},t.fitSize=function(n,e){return Ki(t,n,e)},t.scale(1070)},xg=co(function(t){return B_(2/(1+t))});xg.invert=so(function(t){return 2*mr(t/2)});var bg=function(){return eo(xg).scale(124.75).clipAngle(179.999)},wg=co(function(t){return(t=gr(t))&&t/I_(t)});wg.invert=so(function(t){return t});var Mg=function(){return eo(wg).scale(79.4188).clipAngle(179.999)};fo.invert=function(t,n){return[t,2*L_(D_(n))-S_]};var Tg=function(){return lo(fo).scale(961/A_)},kg=function(){return io(po).scale(109.5).parallels([30,30])};vo.invert=vo;var Ng=function(){return eo(vo).scale(152.63)},Sg=function(){return io(_o).scale(131.154).center([0,13.9389])};yo.invert=so(L_);var Eg=function(){return eo(yo).scale(144.049).clipAngle(60)},Ag=function(){function t(){return i=o=null,u}var n,e,r,i,o,u,a=1,c=0,s=0,f=1,l=1,h=Uy,p=null,d=Uy;return u={stream:function(t){return i&&o===t?i:i=h(d(o=t))},clipExtent:function(i){return arguments.length?(d=null==i?(p=n=e=r=null,Uy):li(p=+i[0][0],n=+i[0][1],e=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,n],[e,r]]},scale:function(n){return arguments.length?(h=go((a=+n)*f,a*l,c,s),t()):a},translate:function(n){return arguments.length?(h=go(a*f,a*l,c=+n[0],s=+n[1]),t()):[c,s]},reflectX:function(n){return arguments.length?(h=go(a*(f=n?-1:1),a*l,c,s),t()):f<0},reflectY:function(n){return arguments.length?(h=go(a*f,a*(l=n?-1:1),c,s),t()):l<0},fitExtent:function(t,n){return Qi(u,t,n)},fitSize:function(t,n){return Ki(u,t,n)}}};mo.invert=so(mr);var Cg=function(){return eo(mo).scale(249.5).clipAngle(90+k_)};xo.invert=so(function(t){return 2*L_(t)});var zg=function(){return eo(xo).scale(250).clipAngle(142)};bo.invert=function(t,n){return[-n,2*L_(D_(t))-S_]};var Pg=function(){var t=lo(bo),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},Lg=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=Mo(e),t.y=ko(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=So(t),c=Eo(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=wo,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},Rg=function(){return this.eachAfter(Ao)},qg=function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},Ug=function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},Dg=function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},Og=function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},Fg=function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},Ig=function(t){for(var n=this,e=Co(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},Yg=function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},Bg=function(){var t=[];return this.each(function(n){t.push(n)}),t},Hg=function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},jg=function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n};Uo.prototype=zo.prototype={constructor:Uo,count:Rg,each:qg,eachAfter:Dg,eachBefore:Ug,sum:Og,sort:Fg,path:Ig,ancestors:Yg,descendants:Bg,leaves:Hg,links:jg,copy:Po};var Xg=function(t){for(var n=(t=t.slice()).length,e=null,r=e;n;){var i=new Do(t[n-1]);r=r?r.next=i:e=i,t[void 0]=t[--n]}return{head:e,tail:r}},$g=function(t){return Fo(Xg(t),[])},Vg=function(t){return Vo(t),t},Wg=function(t){return function(){return t}},Zg=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Qo(n)).eachAfter(Ko(i,.5)).eachBefore(tu(1)):t.eachBefore(Qo(Jo)).eachAfter(Ko(Go,1)).eachAfter(Ko(i,t.r/Math.min(e,r))).eachBefore(tu(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Go;return t.radius=function(e){return arguments.length?(n=Wo(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Wg(+n),t):i},t},Gg=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Jg=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)o=u[a],o.y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s},Qg=function(){function t(t){var u=t.height+1;return t.x0=t.y0=i,t.x1=e,t.y1=r/u,t.eachBefore(n(r,u)),o&&t.eachBefore(Gg),t}function n(t,n){return function(e){e.children&&Jg(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var r=e.x0,o=e.y0,u=e.x1-i,a=e.y1-i;u<r&&(r=u=(r+u)/2),a<o&&(o=a=(o+a)/2),e.x0=r,e.y0=o,e.x1=u,e.y1=a}}var e=1,r=1,i=0,o=!1;return t.round=function(n){return arguments.length?(o=!!n,t):o},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i=+n,t):i},t},Kg="$",tm={depth:-1},nm={},em=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new Uo(r),null!=(c=n(r,i,t))&&(c+="")&&(s=Kg+(a.id=c),h[s]=s in h?nm:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Kg+c]))throw new Error("missing: "+c);if(u===nm)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=tm,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(qo),o.parent=null,f>0)throw new Error("cycle");return o}var n=nu,e=eu;return t.id=function(e){return arguments.length?(n=Zo(e),t):n},t.parentId=function(n){return arguments.length?(e=Zo(n),t):e},t};su.prototype=Object.create(Uo.prototype);var rm=function(){function t(t){var r=fu(t);if(r.eachAfter(n),r.parent.m=-r.z,r.eachBefore(e),c)t.eachBefore(i);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:o(s,f)/2,p=h-s.x,d=u/(f.x+h+p),v=a/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*v})}return t}function n(t){var n=t.children,e=t.parent.children,i=t.i?e[t.i-1]:null;if(n){au(t);var u=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-u):t.z=u}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,n,e){if(n){for(var r,i=t,u=t,a=n,c=i.parent.children[0],s=i.m,f=u.m,l=a.m,h=c.m;a=ou(a),i=iu(i),a&&i;)c=iu(c),u=ou(u),u.a=t,r=a.z+l-i.z-s+o(a._,i._),r>0&&(uu(cu(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=i.m,h+=c.m,f+=u.m;a&&!ou(u)&&(u.t=a,u.m+=l-f),i&&!iu(c)&&(c.t=i,c.m+=s-h,e=t)}return e}function i(t){t.x*=u,t.y=t.depth*a}var o=ru,u=1,a=1,c=null;return t.separation=function(n){return arguments.length?(o=n,t):o},t.size=function(n){return arguments.length?(c=!1,u=+n[0],a=+n[1],t):c?null:[u,a]},t.nodeSize=function(n){return arguments.length?(c=!0,u=+n[0],a=+n[1],t):c?[u,a]:null},t},im=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)o=u[a],o.x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s},om=(1+Math.sqrt(5))/2,um=function t(n){function e(t,e,r,i,o){lu(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(om),am=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Gg),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,
t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=um,r=!1,i=1,o=1,u=[0],a=Go,c=Go,s=Go,f=Go,l=Go;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=Zo(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Wg(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Wg(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Wg(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Wg(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Wg(+n),t):l},t},cm=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,s.y1=a,void 0}for(var l=f[t],h=e/2+l,p=t+1,d=n-1;p<d;){var v=p+d>>>1;f[v]<h?p=v+1:d=v}h-f[p-1]<f[p]-h&&t+1<p&&--p;var _=f[p]-l,y=e-_;if(u-r>a-i){var g=(r*y+u*_)/e;o(t,p,_,r,i,g,a),o(p,n,y,g,i,u,a)}else{var m=(i*y+a*_)/e;o(t,p,_,r,i,u,m),o(p,n,y,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},sm=function(t,n,e,r,i){(1&t.depth?im:Jg)(t,n,e,r,i)},fm=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,p=t.value;++l<h;){for(a=u[l],c=a.children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?Jg(a,e,r,i,r+=(o-r)*a.value/p):im(a,e,r,e+=(i-e)*a.value/p,o),p-=a.value}else t._squarify=u=lu(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(om),lm=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},hm=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},pm=function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])},dm=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(hu),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=pu(r),u=pu(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},vm=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)o=t[l],e=o[0],r=o[1],r>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},_m=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,o=t[r],u=o[0],a=o[1],n-=u,e-=a,c+=Math.sqrt(n*n+e*e);return c},ym=[].slice,gm={};du.prototype=xu.prototype={constructor:du,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=ym.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),vu(this),this},abort:function(){return null==this._error&&gu(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},mu(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,mu(this),this}};var mm=function(){return Math.random()},xm=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(mm),bm=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(mm),wm=function t(n){function e(){var t=bm.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(mm),Mm=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(mm),Tm=function t(n){function e(t){var e=Mm.source(n)(t);return function(){return e()/t}}return e.source=t,e}(mm),km=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(mm),Nm=function(t,n){function e(t){var n,e=s.status;if(!e&&wu(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=v("beforesend","progress","load","error"),c=He(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=bu(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r},Sm=function(t,n){return function(e,r){var i=Nm(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},Em=Sm("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Am=Sm("application/json",function(t){return JSON.parse(t.responseText)}),Cm=Sm("text/plain",function(t){return t.responseText}),zm=Sm("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),Pm=function(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=Nm(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(Mu(n,r=t)):r},o.row(r),i?o.get(i):o}},Lm=Pm("text/csv",Zd),Rm=Pm("text/tab-separated-values",tv),qm=Array.prototype,Um=qm.map,Dm=qm.slice,Om={name:"implicit"},Fm=function(t){return function(){return t}},Im=function(t){return+t},Ym=[0,1],Bm=function(n,e,r){var o,u=n[0],a=n[n.length-1],c=i(u,a,null==e?10:e);switch(r=pr(null==r?",f":r),r.type){case"s":var s=Math.max(Math.abs(u),Math.abs(a));return null!=r.precision||isNaN(o=jv(c,s))||(r.precision=o),t.formatPrefix(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Xv(c,Math.max(Math.abs(u),Math.abs(a))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Hv(c))||(r.precision=o-2*("%"===r.type))}return t.format(r)},Hm=function(t,n){t=t.slice();var e,r=0,i=t.length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t},jm=new Date,Xm=new Date,$m=Ju(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});$m.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ju(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):$m:null};var Vm=$m.range,Wm=6e4,Zm=6048e5,Gm=Ju(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Jm=Gm.range,Qm=Ju(function(t){t.setTime(Math.floor(t/Wm)*Wm)},function(t,n){t.setTime(+t+n*Wm)},function(t,n){return(n-t)/Wm},function(t){return t.getMinutes()}),Km=Qm.range,tx=Ju(function(t){var n=t.getTimezoneOffset()*Wm%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),nx=tx.range,ex=Ju(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wm)/864e5},function(t){return t.getDate()-1}),rx=ex.range,ix=Qu(0),ox=Qu(1),ux=Qu(2),ax=Qu(3),cx=Qu(4),sx=Qu(5),fx=Qu(6),lx=ix.range,hx=ox.range,px=ux.range,dx=ax.range,vx=cx.range,_x=sx.range,yx=fx.range,gx=Ju(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),mx=gx.range,xx=Ju(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});xx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ju(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var bx=xx.range,wx=Ju(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Wm)},function(t,n){return(n-t)/Wm},function(t){return t.getUTCMinutes()}),Mx=wx.range,Tx=Ju(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),kx=Tx.range,Nx=Ju(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),Sx=Nx.range,Ex=Ku(0),Ax=Ku(1),Cx=Ku(2),zx=Ku(3),Px=Ku(4),Lx=Ku(5),Rx=Ku(6),qx=Ex.range,Ux=Ax.range,Dx=Cx.range,Ox=zx.range,Fx=Px.range,Ix=Lx.range,Yx=Rx.range,Bx=Ju(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Hx=Bx.range,jx=Ju(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});jx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ju(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Xx,$x=jx.range,Vx={"-":"",_:" ",0:"0"},Wx=/^\s*\d+/,Zx=/^%/,Gx=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Ja({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jx=Date.prototype.toISOString?Qa:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Qx=+new Date("2000-01-01T00:00:00.000Z")?Ka:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Kx=1e3,tb=60*Kx,nb=60*tb,eb=24*nb,rb=7*eb,ib=30*eb,ob=365*eb,ub=function(){return ec(xx,gx,ix,ex,tx,Qm,Gm,$m,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},ab=function(){return ec(jx,Bx,Ex,Nx,Tx,wx,Gm,$m,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},cb=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},sb=cb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fb=cb("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),lb=cb("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),hb=cb("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),pb=Zh(Wt(300,.5,0),Wt(-240,.5,1)),db=Zh(Wt(-100,.75,.35),Wt(80,1.5,.8)),vb=Zh(Wt(260,.75,.35),Wt(80,1.5,.8)),_b=Wt(),yb=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return _b.h=360*t-100,_b.s=1.5-1.5*n,_b.l=.8-.9*n,_b+""},gb=rc(cb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),mb=rc(cb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),xb=rc(cb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),bb=rc(cb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),wb=function(t){return function(){return t}},Mb=Math.abs,Tb=Math.atan2,kb=Math.cos,Nb=Math.max,Sb=Math.min,Eb=Math.sin,Ab=Math.sqrt,Cb=1e-12,zb=Math.PI,Pb=zb/2,Lb=2*zb,Rb=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-Pb,p=u.apply(this,arguments)-Pb,d=Mb(p-h),v=p>h;if(c||(c=t=Ue()),l<f&&(s=l,l=f,f=s),l>Cb)if(d>Lb-Cb)c.moveTo(l*kb(h),l*Eb(h)),c.arc(0,0,l,h,p,!v),f>Cb&&(c.moveTo(f*kb(p),f*Eb(p)),c.arc(0,0,f,p,h,v));else{var _,y,g=h,m=p,x=h,b=p,w=d,M=d,T=a.apply(this,arguments)/2,k=T>Cb&&(i?+i.apply(this,arguments):Ab(f*f+l*l)),N=Sb(Mb(l-f)/2,+r.apply(this,arguments)),S=N,E=N;if(k>Cb){var A=uc(k/f*Eb(T)),C=uc(k/l*Eb(T));(w-=2*A)>Cb?(A*=v?1:-1,x+=A,b-=A):(w=0,x=b=(h+p)/2),(M-=2*C)>Cb?(C*=v?1:-1,g+=C,m-=C):(M=0,g=m=(h+p)/2)}var z=l*kb(g),P=l*Eb(g),L=f*kb(b),R=f*Eb(b);if(N>Cb){var q=l*kb(m),U=l*Eb(m),D=f*kb(x),O=f*Eb(x);if(d<zb){var F=w>Cb?hc(z,P,D,O,q,U,L,R):[L,R],I=z-F[0],Y=P-F[1],B=q-F[0],H=U-F[1],j=1/Eb(oc((I*B+Y*H)/(Ab(I*I+Y*Y)*Ab(B*B+H*H)))/2),X=Ab(F[0]*F[0]+F[1]*F[1]);S=Sb(N,(f-X)/(j-1)),E=Sb(N,(l-X)/(j+1))}}M>Cb?E>Cb?(_=pc(D,O,z,P,l,E,v),y=pc(q,U,L,R,l,E,v),c.moveTo(_.cx+_.x01,_.cy+_.y01),E<N?c.arc(_.cx,_.cy,E,Tb(_.y01,_.x01),Tb(y.y01,y.x01),!v):(c.arc(_.cx,_.cy,E,Tb(_.y01,_.x01),Tb(_.y11,_.x11),!v),c.arc(0,0,l,Tb(_.cy+_.y11,_.cx+_.x11),Tb(y.cy+y.y11,y.cx+y.x11),!v),c.arc(y.cx,y.cy,E,Tb(y.y11,y.x11),Tb(y.y01,y.x01),!v))):(c.moveTo(z,P),c.arc(0,0,l,g,m,!v)):c.moveTo(z,P),f>Cb&&w>Cb?S>Cb?(_=pc(L,R,q,U,f,-S,v),y=pc(z,P,D,O,f,-S,v),c.lineTo(_.cx+_.x01,_.cy+_.y01),S<N?c.arc(_.cx,_.cy,S,Tb(_.y01,_.x01),Tb(y.y01,y.x01),!v):(c.arc(_.cx,_.cy,S,Tb(_.y01,_.x01),Tb(_.y11,_.x11),!v),c.arc(0,0,f,Tb(_.cy+_.y11,_.cx+_.x11),Tb(y.cy+y.y11,y.cx+y.x11),v),c.arc(y.cx,y.cy,S,Tb(y.y11,y.x11),Tb(y.y01,y.x01),!v))):c.arc(0,0,f,b,x,v):c.lineTo(L,R)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=ac,e=cc,r=wb(0),i=null,o=sc,u=fc,a=lc,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-zb/2;return[kb(r)*t,Eb(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:wb(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:wb(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:wb(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:wb(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:wb(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t};dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var qb=function(t){return new dc(t)},Ub=function(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=Ue())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=vc,e=_c,r=wb(!0),i=null,o=qb,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:wb(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t},Db=function(){function t(t){var n,f,l,h,p,d=t.length,v=!1,_=new Array(d),y=new Array(d);for(null==a&&(s=c(p=Ue())),n=0;n<=d;++n){if(!(n<d&&u(h=t[n],n,t))===v)if(v=!v)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(_[l],y[l]);s.lineEnd(),s.areaEnd()}v&&(_[n]=+e(h,n,t),y[n]=+i(h,n,t),s.point(r?+r(h,n,t):_[n],o?+o(h,n,t):y[n]))}if(p)return s=null,p+""||null}function n(){return Ub().defined(u).curve(c).context(a)}var e=vc,r=null,i=wb(0),o=_c,u=wb(!0),a=null,c=qb,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:wb(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:wb(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:wb(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t},Ob=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Fb=function(t){return t},Ib=function(){function t(t){var a,c,s,f,l,h=t.length,p=0,d=new Array(h),v=new Array(h),_=+i.apply(this,arguments),y=Math.min(Lb,Math.max(-Lb,o.apply(this,arguments)-_)),g=Math.min(Math.abs(y)/h,u.apply(this,arguments)),m=g*(y<0?-1:1);for(a=0;a<h;++a)(l=v[d[a]=a]=+n(t[a],a,t))>0&&(p+=l);for(null!=e?d.sort(function(t,n){return e(v[t],v[n])}):null!=r&&d.sort(function(n,e){return r(t[n],t[e])}),a=0,s=p?(y-h*m)/p:0;a<h;++a,_=f)c=d[a],l=v[c],f=_+(l>0?l*s:0)+m,v[c]={data:t[c],index:a,value:l,startAngle:_,endAngle:f,padAngle:g};return v}var n=Fb,e=Ob,r=null,i=wb(0),o=wb(Lb),u=wb(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:wb(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:wb(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:wb(+n),t):u},t},Yb=gc(qb);yc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Bb=function(){return mc(Ub().curve(Yb))},Hb=function(){var t=Db().curve(Yb),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return mc(e())},delete t.lineX0,t.lineEndAngle=function(){return mc(r())},delete t.lineX1,t.lineInnerRadius=function(){return mc(i())},delete t.lineY0,t.lineOuterRadius=function(){return mc(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(gc(t)):n()._curve},t},jb=Array.prototype.slice,Xb=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]},$b={draw:function(t,n){var e=Math.sqrt(n/zb);t.moveTo(e,0),t.arc(0,0,e,0,Lb)}},Vb={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Wb=Math.sqrt(1/3),Zb=2*Wb,Gb={draw:function(t,n){var e=Math.sqrt(n/Zb),r=e*Wb;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Jb=Math.sin(zb/10)/Math.sin(7*zb/10),Qb=Math.sin(Lb/10)*Jb,Kb=-Math.cos(Lb/10)*Jb,tw={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=Qb*e,i=Kb*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=Lb*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},nw={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},ew=Math.sqrt(3),rw={draw:function(t,n){var e=-Math.sqrt(n/(3*ew));t.moveTo(0,2*e),t.lineTo(-ew*e,-e),t.lineTo(ew*e,-e),t.closePath()}},iw=-.5,ow=Math.sqrt(3)/2,uw=1/Math.sqrt(12),aw=3*(uw/2+1),cw={draw:function(t,n){var e=Math.sqrt(n/aw),r=e/2,i=e*uw,o=r,u=e*uw+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(iw*r-ow*i,ow*r+iw*i),t.lineTo(iw*o-ow*u,ow*o+iw*u),t.lineTo(iw*a-ow*c,ow*a+iw*c),t.lineTo(iw*r+ow*i,iw*i-ow*r),t.lineTo(iw*o+ow*u,iw*u-ow*o),t.lineTo(iw*a+ow*c,iw*c-ow*a),t.closePath()}},sw=[$b,Vb,Gb,nw,tw,rw,cw],fw=function(){function t(){var t;if(r||(r=t=Ue()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=wb($b),e=wb(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:wb(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:wb(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},lw=function(){};Cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ac(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var hw=function(t){return new Cc(t)};zc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var pw=function(t){return new zc(t)};Pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ac(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var dw=function(t){return new Pc(t)};Lc.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var vw=function t(n){function e(t){return 1===n?new Cc(t):new Lc(t,n)}return e.beta=function(n){return t(+n)},e}(.85);qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Rc(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,
this._y1=this._y2,this._y2=n}};var _w=function t(n){function e(t){return new qc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Uc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var yw=function t(n){function e(t){return new Uc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rc(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var gw=function t(n){function e(t){return new Dc(t,n)}return e.tension=function(n){return t(+n)},e}(0);Fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var mw=function t(n){function e(t){return n?new Fc(t,n):new qc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Ic.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var xw=function t(n){function e(t){return n?new Ic(t,n):new Uc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oc(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var bw=function t(n){function e(t){return n?new Yc(t,n):new Dc(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Bc.prototype={areaStart:lw,areaEnd:lw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var ww=function(t){return new Bc(t)};Vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$c(this,this._t0,Xc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,$c(this,Xc(this,e=jc(this,t,n)),e);break;default:$c(this,this._t0,e=jc(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(Wc.prototype=Object.create(Vc.prototype)).point=function(t,n){Vc.prototype.point.call(this,n,t)},Zc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Qc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Kc(t),i=Kc(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Mw=function(t){return new Qc(t)};ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Tw=function(t){return new ts(t,.5)},kw=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},Nw=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e},Sw=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],p=f[o]=new Array(c),d=0;d<c;++d)p[d]=l=[0,+i(t[d],h,d,t)],l.data=t[d];p.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=wb([]),e=Nw,r=kw,i=rs;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:wb(jb.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:wb(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?Nw:"function"==typeof n?n:wb(jb.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?kw:n,t):r},t},Ew=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}kw(t,n)}},Aw=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},Cw=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}kw(t,n)}},zw=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=f[u-1][1]||0,p=(l-h)/2,d=0;d<a;++d){var v=t[n[d]];p+=(v[u][1]||0)-(v[u-1][1]||0)}c+=l,s+=p*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,kw(t,n)}},Pw=function(t){var n=t.map(is);return Nw(t).sort(function(t,e){return n[t]-n[e]})},Lw=function(t){return Pw(t).reverse()},Rw=function(t){var n,e,r=t.length,i=t.map(is),o=Nw(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},qw=function(t){return Nw(t).reverse()},Uw=function(t){return function(){return t}};as.prototype={constructor:as,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ls(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(ss(this,e),t=e,e=t.U),e.C=!1,r.C=!0,fs(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(fs(this,e),t=e,e=t.U),e.C=!1,r.C=!0,ss(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?ls(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,ss(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,fs(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,ss(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,fs(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,ss(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,fs(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Dw,Ow,Fw,Iw,Yw,Bw=[],Hw=[],jw=1e-6,Xw=1e-12;Us.prototype={constructor:Us,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return xs(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,s=n[i[c]],f=s.left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Rs(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}};var $w=function(){function t(t){return new Us(t.map(function(r,i){var o=[Math.round(n(r,i,t)/jw)*jw,Math.round(e(r,i,t)/jw)*jw];return o.index=i,o.data=r,o}),r)}var n=os,e=us,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:Uw(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Uw(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},Vw=function(t){return function(){return t}};Os.prototype={constructor:Os,scale:function(t){return 1===t?this:new Os(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Os(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ww=new Os(1,0,0);Fs.prototype=Os.prototype;var Zw=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Gw=function(){function n(t){t.on("wheel.zoom",s).on("mousedown.zoom",f).on("dblclick.zoom",l).on("touchstart.zoom",h).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Hs)}function e(t,n){return n=Math.max(x,Math.min(b,n)),n===t.k?t:new Os(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Os(t.k,r,i)}function i(t,n){var e=t.invertX(n[0][0])-w,r=t.invertX(n[1][0])-M,i=t.invertY(n[0][1])-T,o=t.invertY(n[1][1])-k;return t.translate(r>e?(e+r)/2:Math.min(0,e)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function u(t,n,e){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=a(t,r),u=m.apply(t,r),c=e||o(u),s=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),f=t.__zoom,l="function"==typeof n?n.apply(t,r):n,h=S(f.invert(c).concat(s/f.k),l.invert(c).concat(s/l.k));return function(t){if(1===t)t=l;else{var n=h(t),e=s/n[2];t=new Os(e,c[0]-n[0]*e,c[1]-n[1]*e)}i.zoom(null,t)}})}function a(t,n){for(var e,r=0,i=E.length;r<i;++r)if((e=E[r]).that===t)return e;return new c(t,n)}function c(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=m.apply(t,n)}function s(){function n(){o.wheel=null,o.end()}if(g.apply(this,arguments)){var o=a(this,arguments),u=this.__zoom,c=Math.max(x,Math.min(b,u.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),s=Gf(this);if(o.wheel)o.mouse[0][0]===s[0]&&o.mouse[0][1]===s[1]||(o.mouse[1]=u.invert(o.mouse[0]=s)),clearTimeout(o.wheel);else{if(u.k===c)return;o.mouse=[s,u.invert(s)],gp(this),o.start()}Zw(),o.wheel=setTimeout(n,P),o.zoom("mouse",i(r(e(u,c),o.mouse[0],o.mouse[1]),o.extent))}}function f(){function n(){if(Zw(),!o.moved){var n=t.event.clientX-s,e=t.event.clientY-f;o.moved=n*n+e*e>L}o.zoom("mouse",i(r(o.that.__zoom,o.mouse[0]=Gf(o.that),o.mouse[1]),o.extent))}function e(){u.on("mousemove.zoom mouseup.zoom",null),mt(t.event.view,o.moved),Zw(),o.end()}if(!y&&g.apply(this,arguments)){var o=a(this,arguments),u=Pl(t.event.view).on("mousemove.zoom",n,!0).on("mouseup.zoom",e,!0),c=Gf(this),s=t.event.clientX,f=t.event.clientY;Dl(t.event.view),Is(),o.mouse=[c,this.__zoom.invert(c)],gp(this),o.start()}}function l(){if(g.apply(this,arguments)){var o=this.__zoom,a=Gf(this),c=o.invert(a),s=o.k*(t.event.shiftKey?.5:2),f=i(r(e(o,s),a,c),m.apply(this,arguments));Zw(),N>0?Pl(this).transition().duration(N).call(u,f,a):Pl(this).call(n.transform,f)}}function h(){if(g.apply(this,arguments)){var n,e,r,i,o=a(this,arguments),u=t.event.changedTouches,c=u.length;for(Is(),e=0;e<c;++e)r=u[e],i=Rl(this,u,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(_&&(_=clearTimeout(_),!o.touch1))return o.end(),void((i=Pl(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(_=setTimeout(function(){_=null},z),gp(this),o.start())}}function p(){var n,o,u,c,s=a(this,arguments),f=t.event.changedTouches,l=f.length;for(Zw(),_&&(_=clearTimeout(_)),n=0;n<l;++n)o=f[n],u=Rl(this,f,o.identifier),s.touch0&&s.touch0[2]===o.identifier?s.touch0[0]=u:s.touch1&&s.touch1[2]===o.identifier&&(s.touch1[0]=u);if(o=s.that.__zoom,s.touch1){var h=s.touch0[0],p=s.touch0[1],d=s.touch1[0],v=s.touch1[1],y=(y=d[0]-h[0])*y+(y=d[1]-h[1])*y,g=(g=v[0]-p[0])*g+(g=v[1]-p[1])*g;o=e(o,Math.sqrt(y/g)),u=[(h[0]+d[0])/2,(h[1]+d[1])/2],c=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!s.touch0)return;u=s.touch0[0],c=s.touch0[1]}s.zoom("touch",i(r(o,u,c),s.extent))}function d(){var n,e,r=a(this,arguments),i=t.event.changedTouches,o=i.length;for(Is(),y&&clearTimeout(y),y=setTimeout(function(){y=null},z),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var _,y,g=Ys,m=Bs,x=0,b=1/0,w=-b,M=b,T=w,k=M,N=250,S=Hh,E=[],C=v("start","zoom","end"),z=500,P=150,L=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Hs),t!==e?u(t,n):e.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,u){n.transform(t,function(){var t=m.apply(this,arguments),n=this.__zoom,a=o(t),c=n.invert(a);return i(r(e(n,"function"==typeof u?u.apply(this,arguments):u),a,c),t)})},n.translateBy=function(t,e,r){n.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),m.apply(this,arguments))})},c.prototype={start:function(){return 1==++this.active&&(this.index=E.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(E.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){A(new Ds(n,t,this.that.__zoom),C.apply,C,[t,this.that,this.args])}},n.filter=function(t){return arguments.length?(g="function"==typeof t?t:Vw(!!t),n):g},n.extent=function(t){return arguments.length?(m="function"==typeof t?t:Vw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):m},n.scaleExtent=function(t){return arguments.length?(x=+t[0],b=+t[1],n):[x,b]},n.translateExtent=function(t){return arguments.length?(w=+t[0][0],M=+t[1][0],T=+t[0][1],k=+t[1][1],n):[[w,T],[M,k]]},n.duration=function(t){return arguments.length?(N=+t,n):N},n.interpolate=function(t){return arguments.length?(S=t,n):S},n.on=function(){var t=C.on.apply(C,arguments);return t===C?n:t},n.clickDistance=function(t){return arguments.length?(L=(t=+t)*t,n):Math.sqrt(L)},n};t.version="4.9.1",t.bisect=Vs,t.bisectRight=Vs,t.bisectLeft=Ws,t.ascending=js,t.bisector=Xs,t.cross=Gs,t.descending=Js,t.deviation=tf,t.extent=nf,t.histogram=df,t.thresholdFreedmanDiaconis=_f,t.thresholdScott=yf,t.thresholdSturges=pf,t.max=gf,t.mean=mf,t.median=xf,t.merge=bf,t.min=wf,t.pairs=Zs,t.permute=Mf,t.quantile=vf,t.range=cf,t.scan=Tf,t.shuffle=kf,t.sum=Nf,t.ticks=hf,t.tickIncrement=r,t.tickStep=i,t.transpose=Sf,t.variance=Ks,t.zip=Ef,t.axisTop=l,t.axisRight=h,t.axisBottom=p,t.axisLeft=d,t.brush=Ed,t.brushX=ze,t.brushY=Pe,t.brushSelection=Ce,t.chord=qd,t.ribbon=Yd,t.nest=Bd,t.set=Ze,t.map=He,t.keys=jd,t.values=Xd,t.entries=$d,t.color=Nt,t.rgb=Ct,t.hsl=Rt,t.lab=Ot,t.hcl=Xt,t.cubehelix=Wt,t.dispatch=v,t.drag=Fl,t.dragDisable=Dl,t.dragEnable=mt,t.dsvFormat=Vd,t.csvParse=Zd,t.csvParseRows=Gd,t.csvFormat=Jd,t.csvFormatRows=Qd,t.tsvParse=tv,t.tsvParseRows=nv,t.tsvFormat=ev,t.tsvFormatRows=rv,t.easeLinear=ie,t.easeQuad=ae,t.easeQuadIn=oe,t.easeQuadOut=ue,t.easeQuadInOut=ae,t.easeCubic=fe,t.easeCubicIn=ce,t.easeCubicOut=se,t.easeCubicInOut=fe,t.easePoly=Hp,t.easePolyIn=Yp,t.easePolyOut=Bp,t.easePolyInOut=Hp,t.easeSin=pe,t.easeSinIn=le,t.easeSinOut=he,t.easeSinInOut=pe,t.easeExp=_e,t.easeExpIn=de,t.easeExpOut=ve,t.easeExpInOut=_e,t.easeCircle=me,t.easeCircleIn=ye,t.easeCircleOut=ge,t.easeCircleInOut=me,t.easeBounce=be,t.easeBounceIn=xe,t.easeBounceOut=be,t.easeBounceInOut=we,t.easeBack=id,t.easeBackIn=ed,t.easeBackOut=rd,t.easeBackInOut=id,t.easeElastic=ad,t.easeElasticIn=ud,t.easeElasticOut=ad,t.easeElasticInOut=cd,t.forceCenter=iv,t.forceCollide=wv,t.forceLink=Mv,t.forceManyBody=Sv,t.forceSimulation=Nv,t.forceX=Ev,t.forceY=Av,t.formatDefaultLocale=vr,t.formatLocale=Bv,t.formatSpecifier=pr,t.precisionFixed=Hv,t.precisionPrefix=jv,t.precisionRound=Xv,t.geoArea=G_,t.geoBounds=K_,t.geoCentroid=ny,t.geoCircle=_y,t.geoClipExtent=My,t.geoContains=Ry,t.geoDistance=zy,t.geoGraticule=Ti,t.geoGraticule10=ki,t.geoInterpolate=qy,t.geoLength=Ey,t.geoPath=cg,t.geoAlbers=gg,t.geoAlbersUsa=mg,t.geoAzimuthalEqualArea=bg,t.geoAzimuthalEqualAreaRaw=xg,t.geoAzimuthalEquidistant=Mg,t.geoAzimuthalEquidistantRaw=wg,t.geoConicConformal=kg,t.geoConicConformalRaw=po,t.geoConicEqualArea=yg,t.geoConicEqualAreaRaw=uo,t.geoConicEquidistant=Sg,t.geoConicEquidistantRaw=_o,t.geoEquirectangular=Ng,t.geoEquirectangularRaw=vo,t.geoGnomonic=Eg,t.geoGnomonicRaw=yo,t.geoIdentity=Ag,t.geoProjection=eo,t.geoProjectionMutator=ro,t.geoMercator=Tg,t.geoMercatorRaw=fo,t.geoOrthographic=Cg,t.geoOrthographicRaw=mo,t.geoStereographic=zg,t.geoStereographicRaw=xo,t.geoTransverseMercator=Pg,t.geoTransverseMercatorRaw=bo,t.geoRotation=vy,t.geoStream=$_,t.geoTransform=hg,t.cluster=Lg,t.hierarchy=zo,t.pack=Zg,t.packSiblings=Vg,t.packEnclose=$g,t.partition=Qg,t.stratify=em,t.tree=rm,t.treemap=am,t.treemapBinary=cm,t.treemapDice=Jg,t.treemapSlice=im,t.treemapSliceDice=sm,t.treemapSquarify=um,t.treemapResquarify=fm,t.interpolate=qh,t.interpolateArray=Eh,t.interpolateBasis=wh,t.interpolateBasisClosed=Mh,t.interpolateDate=Ah,t.interpolateNumber=Ch,t.interpolateObject=zh,t.interpolateRound=Uh,t.interpolateString=Rh,t.interpolateTransformCss=Ih,t.interpolateTransformSvg=Yh,t.interpolateZoom=Hh,t.interpolateRgb=kh,t.interpolateRgbBasis=Nh,t.interpolateRgbBasisClosed=Sh,t.interpolateHsl=jh,t.interpolateHslLong=Xh,t.interpolateLab=pn,t.interpolateHcl=$h,t.interpolateHclLong=Vh,t.interpolateCubehelix=Wh,t.interpolateCubehelixLong=Zh,t.quantize=Gh,t.path=Ue,t.polygonArea=lm,t.polygonCentroid=hm;t.polygonHull=dm,t.polygonContains=vm,t.polygonLength=_m,t.quadtree=ir,t.queue=xu,t.randomUniform=xm,t.randomNormal=bm,t.randomLogNormal=wm,t.randomBates=Tm,t.randomIrwinHall=Mm,t.randomExponential=km,t.request=Nm,t.html=Em,t.json=Am,t.text=Cm,t.xml=zm,t.csv=Lm,t.tsv=Rm,t.scaleBand=ku,t.scalePoint=Su,t.scaleIdentity=Du,t.scaleLinear=Uu,t.scaleLog=ju,t.scaleOrdinal=Tu,t.scaleImplicit=Om,t.scalePow=$u,t.scaleSqrt=Vu,t.scaleQuantile=Wu,t.scaleQuantize=Zu,t.scaleThreshold=Gu,t.scaleTime=ub,t.scaleUtc=ab,t.schemeCategory10=sb,t.schemeCategory20b=fb,t.schemeCategory20c=lb,t.schemeCategory20=hb,t.interpolateCubehelixDefault=pb,t.interpolateRainbow=yb,t.interpolateWarm=db,t.interpolateCool=vb,t.interpolateViridis=gb,t.interpolateMagma=mb,t.interpolateInferno=xb,t.interpolatePlasma=bb,t.scaleSequential=ic,t.creator=If,t.local=w,t.matcher=Xf,t.mouse=Gf,t.namespace=Ff,t.namespaces=Of,t.select=Pl,t.selectAll=Ll,t.selection=yt,t.selector=Jf,t.selectorAll=Kf,t.style=X,t.touch=Rl,t.touches=ql,t.window=gl,t.customEvent=A,t.arc=Rb,t.area=Db,t.line=Ub,t.pie=Ib,t.radialArea=Hb,t.radialLine=Bb,t.linkHorizontal=Nc,t.linkVertical=Sc,t.linkRadial=Ec,t.symbol=fw,t.symbols=sw,t.symbolCircle=$b,t.symbolCross=Vb,t.symbolDiamond=Gb,t.symbolSquare=nw,t.symbolStar=tw,t.symbolTriangle=rw,t.symbolWye=cw,t.curveBasisClosed=pw,t.curveBasisOpen=dw,t.curveBasis=hw,t.curveBundle=vw,t.curveCardinalClosed=yw,t.curveCardinalOpen=gw,t.curveCardinal=_w,t.curveCatmullRomClosed=xw,t.curveCatmullRomOpen=bw,t.curveCatmullRom=mw,t.curveLinearClosed=ww,t.curveLinear=qb,t.curveMonotoneX=Gc,t.curveMonotoneY=Jc,t.curveNatural=Mw,t.curveStep=Tw,t.curveStepAfter=es,t.curveStepBefore=ns,t.stack=Sw,t.stackOffsetExpand=Ew,t.stackOffsetDiverging=Aw,t.stackOffsetNone=kw,t.stackOffsetSilhouette=Cw,t.stackOffsetWiggle=zw,t.stackOrderAscending=Pw,t.stackOrderDescending=Lw,t.stackOrderInsideOut=Rw,t.stackOrderNone=Nw,t.stackOrderReverse=qw,t.timeInterval=Ju,t.timeMillisecond=$m,t.timeMilliseconds=Vm,t.utcMillisecond=$m,t.utcMilliseconds=Vm,t.timeSecond=Gm,t.timeSeconds=Jm,t.utcSecond=Gm,t.utcSeconds=Jm,t.timeMinute=Qm,t.timeMinutes=Km,t.timeHour=tx,t.timeHours=nx,t.timeDay=ex,t.timeDays=rx,t.timeWeek=ix,t.timeWeeks=lx,t.timeSunday=ix,t.timeSundays=lx,t.timeMonday=ox,t.timeMondays=hx,t.timeTuesday=ux,t.timeTuesdays=px,t.timeWednesday=ax,t.timeWednesdays=dx,t.timeThursday=cx,t.timeThursdays=vx,t.timeFriday=sx,t.timeFridays=_x,t.timeSaturday=fx,t.timeSaturdays=yx,t.timeMonth=gx,t.timeMonths=mx,t.timeYear=xx,t.timeYears=bx,t.utcMinute=wx,t.utcMinutes=Mx,t.utcHour=Tx,t.utcHours=kx,t.utcDay=Nx,t.utcDays=Sx,t.utcWeek=Ex,t.utcWeeks=qx,t.utcSunday=Ex,t.utcSundays=qx,t.utcMonday=Ax,t.utcMondays=Ux,t.utcTuesday=Cx,t.utcTuesdays=Dx,t.utcWednesday=zx,t.utcWednesdays=Ox,t.utcThursday=Px,t.utcThursdays=Fx,t.utcFriday=Lx,t.utcFridays=Ix,t.utcSaturday=Rx,t.utcSaturdays=Yx,t.utcMonth=Bx,t.utcMonths=Hx,t.utcYear=jx,t.utcYears=$x,t.timeFormatDefaultLocale=Ja,t.timeFormatLocale=ra,t.isoFormat=Jx,t.isoParse=Qx,t.now=_n,t.timer=mn,t.timerFlush=xn,t.timeout=up,t.interval=ap,t.transition=ee,t.active=hd,t.interrupt=gp,t.voronoi=$w,t.zoom=Gw,t.zoomTransform=Fs,t.zoomIdentity=Ww,Object.defineProperty(t,"__esModule",{value:!0})});</script><script>//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/base.js
var h;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function ba(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function da(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/deps.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/debug/error.js
function ea(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ea);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0}da(ea,Error);ea.prototype.name="CustomError";
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/dom/nodetype.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/string/string.js
function ha(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/asserts/asserts.js
function ia(a,b){b.unshift(a);ea.call(this,ha.apply(null,b));b.shift();this.messagePattern=a}da(ia,ea);ia.prototype.name="AssertionError";function ka(a,b){throw new ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/array/array.js
var ma=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},na=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f="string"==typeof a?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/util.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/object/object.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/browser.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/engine.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/labs/useragent/platform.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/reflect/reflect.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/useragent.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/crypt.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/useragent/product.js
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/crypt/base64.js
var pa=null,qa=null;function ra(a){var b=new Uint8Array(Math.ceil(3*a.length/4)),c=0;ta(a,function(a){b[c++]=a});return b.subarray(0,c)}function ta(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=qa[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}ua();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<6&192|k))}}
function ua(){if(!pa){pa={};qa={};for(var a=0;65>a;a++)pa[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(a),qa[pa[a]]=a,62<=a&&(qa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};
//~~WEBPATH~~external/com_google_javascript_closure_library/closure/goog/json/json.js
//~~WEBPATH~~external/com_google_javascript_closure_library/third_party/closure/goog/base.js
//~~WEBPATH~~external/com_google_javascript_closure_library/third_party/closure/goog/deps.js
//~~WEBPATH~~external/com_google_protobuf_js/js/map.js
//~~WEBPATH~~external/com_google_protobuf_js/js/message.js
function va(){}var wa="function"==typeof Uint8Array;va.prototype.getJsPbMessageId=function(){return this.messageId_};
function xa(a,b,c,d){a.wrappers_=null;b||(b=[]);a.messageId_=void 0;a.arrayIndexOffset_=-1;a.array=b;a:{if(a.array.length){b=a.array.length-1;var e=a.array[b];if(e&&"object"==typeof e&&"array"!=aa(e)&&!(wa&&e instanceof Uint8Array)){a.pivot_=b-a.arrayIndexOffset_;a.extensionObject_=e;break a}}a.pivot_=Number.MAX_VALUE}a.convertedFloatingPointFields_={};if(c)for(b=0;b<c.length;b++)e=c[b],e<a.pivot_?(e+=a.arrayIndexOffset_,a.array[e]=a.array[e]||ya):a.extensionObject_[e]=a.extensionObject_[e]||ya;d&&
d.length&&ma(d,ba(za,a))}var ya=Object.freeze?Object.freeze([]):[];function Aa(a){var b=a.pivot_+a.arrayIndexOffset_;a.array[b]||(a.extensionObject_=a.array[b]={})}function Ba(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function Ca(a,b){if(b<a.pivot_){b+=a.arrayIndexOffset_;var c=a.array[b];return c===ya?a.array[b]=[]:c}c=a.extensionObject_[b];return c===ya?a.extensionObject_[b]=[]:c}function u(a,b,c){a=Ca(a,b);return null==a?c:a}
function G(a,b,c){b<a.pivot_?a.array[b+a.arrayIndexOffset_]=c:a.extensionObject_[b]=c}function Da(a,b,c,d){(c=za(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),G(a,c,void 0));G(a,b,d)}function za(a,b){var c,d;ma(b,function(b){var e=Ca(a,b);null!=e&&(c=b,d=e,G(a,b,void 0))});return c?(G(a,c,d),c):0}function O(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){var d=Ca(a,c);d&&(a.wrappers_[c]=new b(d))}return a.wrappers_[c]}
function Ea(a,b,c){Fa(a,b,c);b=a.wrappers_[c];b==ya&&(b=a.wrappers_[c]=[]);return b}function Fa(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){for(var d=Ca(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.wrappers_[c]=e}}function Ga(a,b,c){a.wrappers_||(a.wrappers_={});var d=c?c.toArray():c;a.wrappers_[b]=c;G(a,b,d)}function Ha(a,b,c,d){a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d;Da(a,b,c,e)}
function Ia(a,b,c){a.wrappers_||(a.wrappers_={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].toArray();a.wrappers_[b]=c;G(a,b,d)}function Ja(a,b,c,d,e){Fa(a,d,b);var f=a.wrappers_[b];f||(f=a.wrappers_[b]=[]);c=c?c:new d;a=Ca(a,b);void 0!=e?(f.splice(e,0,c),a.splice(e,0,c.toArray())):(f.push(c),a.push(c.toArray()));return c}function Ka(a){if(a.wrappers_)for(var b in a.wrappers_){var c=a.wrappers_[b];if("array"==aa(c))for(var d=0;d<c.length;d++)c[d]&&c[d].toArray();else c&&c.toArray()}}h=va.prototype;
h.toArray=function(){Ka(this);return this.array};h.toString=function(){Ka(this);return this.array.toString()};
h.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=na(this.extensionObject_[b]||[],function(b){return new a.ctor(b)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}};
h.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});Aa(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=na(b,function(a){return a.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;return this};h.clone=function(){return new this.constructor(Ma(this.toArray()))};
function Ma(a){var b;if("array"==aa(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Ma(b):b);return c}if(wa&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Ma(b):b);return c};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/arith.js
function Na(a,b){this.lo=a;this.hi=b}h=Na.prototype;h.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};function Oa(a){return new Na((a.lo>>>1|(a.hi&1)<<31)>>>0,a.hi>>>1>>>0)}function Pa(a){return new Na(a.lo<<1>>>0,(a.hi<<1|a.lo>>>31)>>>0)}h.lsb=function(){return!!(this.lo&1)};h.add=function(a){return new Na((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};
h.sub=function(a){return new Na((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};function Ra(a){var b=a&65535,c=a>>>16;a=10*b+65536*(0*b&65535)+65536*(10*c&65535);for(b=0*c+(0*b>>>16)+(10*c>>>16);4294967296<=a;)a-=4294967296,b+=1;return new Na(a>>>0,b>>>0)}
h.toString=function(){for(var a="",b=this;0!=b.lo||0!=b.hi;){var c=new Na(0,0);for(var b=new Na(b.lo,b.hi),d=new Na(10,0),e=new Na(1,0);!(d.hi&2147483648);)d=Pa(d),e=Pa(e);for(;0!=e.lo||0!=e.hi;)0>=d.cmp(b)&&(c=c.add(e),b=b.sub(d)),d=Oa(d),e=Oa(e);c=[c,b];b=c[0];a=c[1].lo+a}""==a&&(a="0");return a};function Sa(a){for(var b=new Na(0,0),c=new Na(0,0),d=0;d<a.length;d++){if("0">a[d]||"9"<a[d])return null;c.lo=parseInt(a[d],10);var e=Ra(b.lo),b=Ra(b.hi);b.hi=b.lo;b.lo=0;b=e.add(b).add(c)}return b}
h.clone=function(){return new Na(this.lo,this.hi)};function Ta(a,b){this.lo=a;this.hi=b}Ta.prototype.add=function(a){return new Ta((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};Ta.prototype.sub=function(a){return new Ta((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};Ta.prototype.clone=function(){return new Ta(this.lo,this.hi)};
Ta.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new Na(this.lo,this.hi);a&&(b=(new Na(0,0)).sub(b));return(a?"-":"")+b.toString()};function Ua(a){var b=0<a.length&&"-"==a[0];b&&(a=a.substring(1));a=Sa(a);if(null===a)return null;b&&(a=(new Na(0,0)).sub(a));return new Ta(a.lo,a.hi)};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/constants.js
function Wa(a){switch(a){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/utils.js
var Xa=0,Ya=0;function Za(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;Xa=b;Ya=a}function bb(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/4294967296);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));Xa=c;Ya=a}function cb(a){var b=0>a;a=2*Math.abs(a);Za(a);a=Xa;var c=Ya;b&&(0==a?0==c?c=a=4294967295:(c--,a=4294967295):a--);Xa=a;Ya=c}
function db(a){var b=a.charCodeAt(4),c=a.charCodeAt(5),d=a.charCodeAt(6),e=a.charCodeAt(7);Xa=a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)>>>0;Ya=b+(c<<8)+(d<<16)+(e<<24)>>>0}function eb(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a}var fb="0123456789abcdef".split("");
function gb(a,b){function c(a){for(var b=1E7,c=0;7>c;c++){var b=b/10,d=a/b%10>>>0;if(0!=d||f)f=!0,g+=e[d]}}if(2097151>=b)return""+(4294967296*b+a);var d=(a>>>24|b<<8)>>>0&16777215;b=b>>16&65535;a=(a&16777215)+6777216*d+6710656*b;d+=8147497*b;b*=2;1E7<=a&&(d+=Math.floor(a/1E7),a%=1E7);1E7<=d&&(b+=Math.floor(d/1E7),d%=1E7);var e=fb,f=!1,g="";(b||f)&&c(b);(d||f)&&c(d);(a||f)&&c(a);return g}
function hb(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return ra(a);ka("Type not convertible to Uint8Array.");return new Uint8Array(0)};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/decoder.js
function ib(a,b,c){this.bytes_=null;this.tempHigh_=this.tempLow_=this.cursor_=this.end_=this.start_=0;this.error_=!1;a&&this.setBlock(a,b,c)}var jb=[];function kb(a,b,c){if(jb.length){var d=jb.pop();a&&d.setBlock(a,b,c);return d}return new ib(a,b,c)}h=ib.prototype;h.free=function(){this.clear();100>jb.length&&jb.push(this)};h.clone=function(){return kb(this.bytes_,this.start_,this.end_-this.start_)};h.clear=function(){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1};
h.getBuffer=function(){return this.bytes_};h.setBlock=function(a,b,c){this.bytes_=hb(a);this.start_=void 0!==b?b:0;this.end_=void 0!==c?this.start_+c:this.bytes_.length;this.cursor_=this.start_};h.setEnd=function(a){this.end_=a};h.reset=function(){this.cursor_=this.start_};h.getCursor=function(){return this.cursor_};h.advance=function(a){this.cursor_+=a};function lb(a){return a.cursor_==a.end_}h.pastEnd=function(){return this.cursor_>this.end_};
h.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};function mb(a){for(var b,c=0,d,e=0;4>e;e++)if(b=a.bytes_[a.cursor_++],c|=(b&127)<<7*e,128>b){a.tempLow_=c>>>0;a.tempHigh_=0;return}b=a.bytes_[a.cursor_++];c|=(b&127)<<28;d=0|(b&127)>>4;if(128>b)a.tempLow_=c>>>0,a.tempHigh_=d>>>0;else{for(e=0;5>e;e++)if(b=a.bytes_[a.cursor_++],d|=(b&127)<<7*e+3,128>b){a.tempLow_=c>>>0;a.tempHigh_=d>>>0;return}ka("Failed to read varint, encoding is invalid.");a.error_=!0}}
function nb(a,b){for(;128<b;)a.cursor_--,b>>>=7;a.cursor_--}h.readUnsignedVarint32=function(){var a=this.bytes_;var b=a[this.cursor_+0];var c=b&127;if(128>b)return this.cursor_+=1,c;b=a[this.cursor_+1];c|=(b&127)<<7;if(128>b)return this.cursor_+=2,c;b=a[this.cursor_+2];c|=(b&127)<<14;if(128>b)return this.cursor_+=3,c;b=a[this.cursor_+3];c|=(b&127)<<21;if(128>b)return this.cursor_+=4,c;b=a[this.cursor_+4];c|=(b&15)<<28;if(128>b)return this.cursor_+=5,c>>>0;this.cursor_+=10;return c};
h.readSignedVarint32=ib.prototype.readUnsignedVarint32;h.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};h.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};h.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(a&1)};h.readUnsignedVarint64=function(){mb(this);return 4294967296*this.tempHigh_+this.tempLow_};h.readUnsignedVarint64String=function(){mb(this);return gb(this.tempLow_,this.tempHigh_)};
h.readSignedVarint64=function(){mb(this);return eb(this.tempLow_,this.tempHigh_)};h.readSignedVarint64String=function(){mb(this);var a=this.tempLow_,b=this.tempHigh_,c=b&2147483648;c&&(a=~a+1>>>0,b=~b+(0==a?1:0)>>>0);a=gb(a,b);return c?"-"+a:a};h.readZigzagVarint64=function(){mb(this);var a=this.tempLow_,b=this.tempHigh_,c=a&1,a=(a>>>1|b<<31)>>>0,b=b>>>1;c&&(a=a+1>>>0,0==a&&(b=b+1>>>0));a=4294967296*b+a;return c?-a:a};h.readUint8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a};
h.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return a<<0|b<<8};h.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return(a<<0|b<<8|c<<16|d<<24)>>>0};h.readUint64=function(){var a=this.readUint32();return 4294967296*this.readUint32()+a};h.readInt8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;return a<<24>>24};
h.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;return(a<<0|b<<8)<<16>>16};h.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;return a<<0|b<<8|c<<16|d<<24};h.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return eb(a,b)};
h.readFloat=function(){var a=this.readUint32(),b=2*(a>>31)+1,c=a>>>23&255,a=a&8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};h.readDouble=function(){var a=this.readUint32(),b=this.readUint32(),c=2*(b>>31)+1,d=b>>>20&2047,a=4294967296*(b&1048575)+a;return 2047==d?a?NaN:Infinity*c:0==d?c*Math.pow(2,-1074)*a:c*Math.pow(2,d-1075)*(a+4503599627370496)};h.readBool=function(){return!!this.bytes_[this.cursor_++]};h.readEnum=function(){return this.readSignedVarint32()};
h.readString=function(a){for(var b=this.bytes_,c=this.cursor_,d=c+a,e=[];c<d;){var f=b[c++];if(128>f)e.push(f);else if(!(192>f))if(224>f)a=b[c++],e.push((f&31)<<6|a&63);else if(240>f){a=b[c++];var g=b[c++];e.push((f&15)<<12|(a&63)<<6|g&63)}}b=String.fromCharCode.apply(null,e);this.cursor_=c;return b};h.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)};
h.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,ka("Invalid byte length!"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);this.cursor_+=a;return b};h.readVarintHash64=function(){mb(this);var a=this.tempLow_,b=this.tempHigh_;return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)};
h.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],k=a[b+5],l=a[b+6],a=a[b+7];this.cursor_+=8;return String.fromCharCode(c,d,e,f,g,k,l,a)};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/encoder.js
function qb(){this.buffer_=[]}h=qb.prototype;h.length=function(){return this.buffer_.length};h.end=function(){var a=this.buffer_;this.buffer_=[];return a};function rb(a,b,c){for(;0<c||127<b;)a.buffer_.push(b&127|128),b=(b>>>7|c<<25)>>>0,c>>>=7;a.buffer_.push(b)}function sb(a,b){for(;127<b;)a.buffer_.push(b&127|128),b>>>=7;a.buffer_.push(b)}function tb(a,b){if(0<=b)sb(a,b);else{for(var c=0;9>c;c++)a.buffer_.push(b&127|128),b>>=7;a.buffer_.push(1)}}function ub(a,b){sb(a,(b<<1^b>>31)>>>0)}
h.writeUint8=function(a){this.buffer_.push(a>>>0&255)};h.writeUint16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};h.writeUint32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};h.writeUint64=function(a){Za(a);this.writeUint32(Xa);this.writeUint32(Ya)};h.writeInt8=function(a){this.buffer_.push(a>>>0&255)};h.writeInt16=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};
h.writeInt32=function(a){this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};h.writeInt64=function(a){bb(a);this.writeUint32(Xa);this.writeUint32(Ya)};
h.writeFloat=function(a){var b=a,b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?Xa=Ya=0:(Ya=0,Xa=2147483648);else if(isNaN(b))Ya=0,Xa=2147483647;else if(3.4028234663852886E38<b)Ya=0,Xa=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),Ya=0,Xa=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;Ya=0;Xa=(a<<31|c+127<<23|b)>>>0}this.writeUint32(Xa)};
h.writeDouble=function(a){var b=a,b=(a=0>b?1:0)?-b:b;if(0===b)Ya=0<1/b?0:2147483648,Xa=0;else if(isNaN(b))Ya=2147483647,Xa=4294967295;else if(1.7976931348623157E308<b)Ya=(a<<31|2146435072)>>>0,Xa=0;else if(2.2250738585072014E-308>b)b/=Math.pow(2,-1074),Ya=(a<<31|b/4294967296)>>>0,Xa=b>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);1024==c&&(c=1023);b*=Math.pow(2,-c);Ya=(a<<31|c+1023<<20|1048576*b&1048575)>>>0;Xa=4503599627370496*b>>>0}this.writeUint32(Xa);this.writeUint32(Ya)};
h.writeBool=function(a){this.buffer_.push(a?1:0)};h.writeEnum=function(a){tb(this,a)};h.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};h.writeVarintHash64=function(a){db(a);rb(this,Xa,Ya)};h.writeFixedHash64=function(a){db(a);this.writeUint32(Xa);this.writeUint32(Ya)};
h.writeString=function(a){for(var b=this.buffer_.length,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?this.buffer_.push(d):(2048>d?this.buffer_.push(d>>6|192):(this.buffer_.push(d>>12|224),this.buffer_.push(d>>6&63|128)),this.buffer_.push(d&63|128))}return this.buffer_.length-b};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/reader.js
function vb(a,b,c){this.decoder_=kb(a,b,c);this.fieldCursor_=this.decoder_.getCursor();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null}var wb=[];h=vb.prototype;h.alloc=function(a,b,c){if(wb.length){var d=wb.pop();a&&d.decoder_.setBlock(a,b,c);return d}return new vb(a,b,c)};h.free=function(){this.decoder_.clear();this.nextWireType_=this.nextField_=-1;this.error_=!1;this.readCallbacks_=null;100>wb.length&&wb.push(this)};h.getFieldCursor=function(){return this.fieldCursor_};
h.getCursor=function(){return this.decoder_.getCursor()};h.getBuffer=function(){return this.decoder_.getBuffer()};h.getWireType=function(){return this.nextWireType_};h.getError=function(){return this.error_||this.decoder_.getError()};h.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c);this.nextWireType_=this.nextField_=-1};h.reset=function(){this.decoder_.reset();this.nextWireType_=this.nextField_=-1};h.advance=function(a){this.decoder_.advance(a)};
function xb(a){if(lb(a.decoder_))return!1;if(a.getError())return ka("Decoder hit an error"),!1;a.fieldCursor_=a.decoder_.getCursor();var b=a.decoder_.readUnsignedVarint32(),c=b>>>3,b=b&7;if(0!=b&&5!=b&&1!=b&&2!=b&&3!=b&&4!=b)return ka("Invalid wire type"),a.error_=!0,!1;a.nextField_=c;a.nextWireType_=b;return!0}
h.skipMatchingFields=function(){var a=this.nextField_;for(nb(this.decoder_,this.nextField_<<3|this.nextWireType_);xb(this)&&this.nextField_==a;)yb(this);lb(this.decoder_)||nb(this.decoder_,this.nextField_<<3|this.nextWireType_)};
function yb(a){switch(a.nextWireType_){case 0:if(0!=a.nextWireType_)ka("Invalid wire type for skipVarintField"),yb(a);else{for(a=a.decoder_;a.bytes_[a.cursor_]&128;)a.cursor_++;a.cursor_++}break;case 1:1!=a.nextWireType_?(ka("Invalid wire type for skipFixed64Field"),yb(a)):a.decoder_.advance(8);break;case 2:if(2!=a.nextWireType_)ka("Invalid wire type for skipDelimitedField"),yb(a);else{var b=a.decoder_.readUnsignedVarint32();a.decoder_.advance(b)}break;case 5:5!=a.nextWireType_?(ka("Invalid wire type for skipFixed32Field"),
yb(a)):a.decoder_.advance(4);break;case 3:b=[a.nextField_];do{if(!xb(a)){ka("Unmatched start-group tag: stream EOF");a.error_=!0;break}if(3==a.nextWireType_)b.push(a.nextField_);else if(4==a.nextWireType_&&a.nextField_!=b.pop()){ka("Unmatched end-group tag");a.error_=!0;break}}while(0<b.length);break;default:ka("Invalid wire encoding for field.")}}h.registerReadCallback=function(a,b){null===this.readCallbacks_&&(this.readCallbacks_={});this.readCallbacks_[a]=b};h.runReadCallback=function(a){return(0,this.readCallbacks_[a])(this)};
h.readAny=function(a){this.nextWireType_=Wa(a);switch(a){case 1:return this.readDouble();case 2:return this.readFloat();case 3:return this.readInt64();case 4:return this.readUint64();case 5:return this.readInt32();case 6:return this.decoder_.readUint64();case 7:return this.decoder_.readUint32();case 8:return this.readBool();case 9:return this.readString();case 10:ka("Group field type not supported in readAny()");case 11:ka("Message field type not supported in readAny()");case 12:return this.readBytes();
case 13:return this.readUint32();case 14:return this.readEnum();case 15:return this.decoder_.readInt32();case 16:return this.decoder_.readInt64();case 17:return this.decoder_.readZigzagVarint32();case 18:return this.decoder_.readZigzagVarint64();case 30:return this.readFixedHash64();case 31:return this.readVarintHash64();default:ka("Invalid field type in readAny()")}return 0};
function zb(a,b,c){var d=a.decoder_.end_,e=a.decoder_.readUnsignedVarint32(),e=a.decoder_.getCursor()+e;a.decoder_.setEnd(e);c(b,a);a.decoder_.cursor_=e;a.decoder_.setEnd(d)}h.readGroup=function(a,b,c){c(b,this);this.error_||4==this.nextWireType_||(ka("Group submessage did not end with an END_GROUP tag"),this.error_=!0)};h.getFieldDecoder=function(){var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a,a=kb(this.decoder_.getBuffer(),b,a);this.decoder_.cursor_=c;return a};
h.readInt32=function(){return this.decoder_.readSignedVarint32()};h.readInt32String=function(){return this.decoder_.readSignedVarint32String()};h.readInt64=function(){return this.decoder_.readSignedVarint64()};h.readInt64String=function(){return this.decoder_.readSignedVarint64String()};h.readUint32=function(){return this.decoder_.readUnsignedVarint32()};h.readUint32String=function(){return this.decoder_.readUnsignedVarint32String()};h.readUint64=function(){return this.decoder_.readUnsignedVarint64()};
h.readUint64String=function(){return this.decoder_.readUnsignedVarint64String()};h.readFloat=function(){return this.decoder_.readFloat()};h.readDouble=function(){return this.decoder_.readDouble()};h.readBool=function(){return!!this.decoder_.readUnsignedVarint32()};h.readEnum=function(){return this.decoder_.readSignedVarint64()};h.readString=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)};h.readBytes=function(){var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)};
h.readVarintHash64=function(){return this.decoder_.readVarintHash64()};h.readFixedHash64=function(){return this.decoder_.readFixedHash64()};function Ab(a,b){for(var c=a.decoder_.readUnsignedVarint32(),c=a.decoder_.getCursor()+c,d=[];a.decoder_.getCursor()<c;)d.push(b.call(a.decoder_));return d}h.readPackedInt32=function(){return Ab(this,this.decoder_.readSignedVarint32)};h.readPackedInt32String=function(){return Ab(this,this.decoder_.readSignedVarint32String)};
h.readPackedInt64=function(){return Ab(this,this.decoder_.readSignedVarint64)};h.readPackedInt64String=function(){return Ab(this,this.decoder_.readSignedVarint64String)};h.readPackedUint32=function(){return Ab(this,this.decoder_.readUnsignedVarint32)};h.readPackedUint32String=function(){return Ab(this,this.decoder_.readUnsignedVarint32String)};h.readPackedUint64=function(){return Ab(this,this.decoder_.readUnsignedVarint64)};h.readPackedUint64String=function(){return Ab(this,this.decoder_.readUnsignedVarint64String)};
h.readPackedSint32=function(){return Ab(this,this.decoder_.readZigzagVarint32)};h.readPackedSint64=function(){return Ab(this,this.decoder_.readZigzagVarint64)};h.readPackedFixed32=function(){return Ab(this,this.decoder_.readUint32)};h.readPackedFixed64=function(){return Ab(this,this.decoder_.readUint64)};h.readPackedSfixed32=function(){return Ab(this,this.decoder_.readInt32)};h.readPackedSfixed64=function(){return Ab(this,this.decoder_.readInt64)};h.readPackedFloat=function(){return Ab(this,this.decoder_.readFloat)};
h.readPackedDouble=function(){return Ab(this,this.decoder_.readDouble)};h.readPackedBool=function(){return Ab(this,this.decoder_.readBool)};h.readPackedEnum=function(){return Ab(this,this.decoder_.readEnum)};h.readPackedVarintHash64=function(){return Ab(this,this.decoder_.readVarintHash64)};h.readPackedFixedHash64=function(){return Ab(this,this.decoder_.readFixedHash64)};
//~~WEBPATH~~external/com_google_protobuf_js/js/binary/writer.js
function Bb(){this.blocks_=[];this.totalLength_=0;this.encoder_=new qb;this.bookmarks_=[]}function Cb(a,b){var c=a.encoder_.end();a.blocks_.push(c);a.blocks_.push(b);a.totalLength_+=c.length+b.length}function Eb(a,b){V(a,b,2);b=a.encoder_.end();a.blocks_.push(b);a.totalLength_+=b.length;b.push(a.totalLength_);return b}function Fb(a,b){for(var c=b.pop(),c=a.totalLength_+a.encoder_.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.totalLength_++;b.push(c);a.totalLength_++}h=Bb.prototype;
h.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&Cb(this,a.subarray(b,c))};h.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};function Gb(a){for(var b=new Uint8Array(a.totalLength_+a.encoder_.length()),c=a.blocks_,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.encoder_.end();b.set(c,e);a.blocks_=[b];return b}
h.getResultBase64String=function(){var a=Gb(this);ua();for(var b=pa,c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,k=d+2<a.length,l=k?a[d+2]:0,m=e>>2,e=(e&3)<<4|g>>4,g=(g&15)<<2|l>>6,l=l&63;k||(l=64,f||(g=64));c.push(b[m],b[e],b[g],b[l])}return c.join("")};h.beginSubMessage=function(a){this.bookmarks_.push(Eb(this,a))};h.endSubMessage=function(){Fb(this,this.bookmarks_.pop())};function V(a,b,c){sb(a.encoder_,8*b+c)}
h.writeAny=function(a,b,c){switch(a){case 1:this.writeDouble(b,c);break;case 2:this.writeFloat(b,c);break;case 3:this.writeInt64(b,c);break;case 4:this.writeUint64(b,c);break;case 5:this.writeInt32(b,c);break;case 6:null!=c&&(V(this,b,1),this.encoder_.writeUint64(c));break;case 7:null!=c&&(V(this,b,5),this.encoder_.writeUint32(c));break;case 8:this.writeBool(b,c);break;case 9:this.writeString(b,c);break;case 10:ka("Group field type not supported in writeAny()");break;case 11:ka("Message field type not supported in writeAny()");
break;case 12:this.writeBytes(b,c);break;case 13:this.writeUint32(b,c);break;case 14:this.writeEnum(b,c);break;case 15:null!=c&&(V(this,b,5),this.encoder_.writeInt32(c));break;case 16:null!=c&&(V(this,b,1),this.encoder_.writeInt64(c));break;case 17:null!=c&&null!=c&&(V(this,b,0),ub(this.encoder_,c));break;case 18:null!=c&&null!=c&&(V(this,b,0),a=this.encoder_,cb(c),rb(a,Xa,Ya));break;case 30:this.writeFixedHash64(b,c);break;case 31:this.writeVarintHash64(b,c);break;default:ka("Invalid field type in writeAny()")}};
function Hb(a,b,c){null!=c&&(V(a,b,0),sb(a.encoder_,c))}function Ib(a,b,c){null!=c&&(V(a,b,0),tb(a.encoder_,c))}h.writeInt32=function(a,b){null!=b&&Ib(this,a,b)};h.writeInt64=function(a,b){null!=b&&null!=b&&(V(this,a,0),a=this.encoder_,bb(b),rb(a,Xa,Ya))};h.writeUint32=function(a,b){null!=b&&Hb(this,a,b)};h.writeUint64=function(a,b){null!=b&&null!=b&&(V(this,a,0),a=this.encoder_,bb(b),rb(a,Xa,Ya))};h.writeFloat=function(a,b){null!=b&&(V(this,a,5),this.encoder_.writeFloat(b))};
h.writeDouble=function(a,b){null!=b&&(V(this,a,1),this.encoder_.writeDouble(b))};h.writeBool=function(a,b){null!=b&&(V(this,a,0),this.encoder_.writeBool(b))};h.writeEnum=function(a,b){null!=b&&(V(this,a,0),tb(this.encoder_,b))};h.writeString=function(a,b){null!=b&&(a=Eb(this,a),this.encoder_.writeString(b),Fb(this,a))};h.writeBytes=function(a,b){null!=b&&(b=hb(b),V(this,a,2),sb(this.encoder_,b.length),Cb(this,b))};function Jb(a,b,c,d){null!=c&&(b=Eb(a,b),d(c,a),Fb(a,b))}
h.writeGroup=function(a,b,c){null!=b&&(V(this,a,3),c(b,this),V(this,a,4))};h.writeFixedHash64=function(a,b){null!=b&&(V(this,a,1),this.encoder_.writeFixedHash64(b))};h.writeVarintHash64=function(a,b){null!=b&&(V(this,a,0),this.encoder_.writeVarintHash64(b))};h.writeRepeatedUnsignedVarint32_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)Hb(this,a,b[c])};h.writeRepeatedSignedVarint32_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)Ib(this,a,b[c])};
h.writeRepeatedUnsignedVarint64_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){V(this,a,0);var e=this.encoder_;bb(d);rb(e,Xa,Ya)}}};h.writeRepeatedSignedVarint64_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){V(this,a,0);var e=this.encoder_;bb(d);rb(e,Xa,Ya)}}};h.writeRepeatedZigzag32_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(V(this,a,0),ub(this.encoder_,d))}};
h.writeRepeatedZigzag_=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];if(null!=d){V(this,a,0);var e=this.encoder_;cb(d);rb(e,Xa,Ya)}}};h.writeRepeatedInt32=Bb.prototype.writeRepeatedSignedVarint32_;h.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&Ib(this,a,parseInt(d,10))}};h.writeRepeatedInt64=Bb.prototype.writeRepeatedSignedVarint64_;
h.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(e=Ua(e),V(this,d,0),rb(this.encoder_,e.lo,e.hi))}};h.writeRepeatedUint32=Bb.prototype.writeRepeatedUnsignedVarint32_;h.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&Hb(this,a,parseInt(d,10))}};h.writeRepeatedUint64=Bb.prototype.writeRepeatedUnsignedVarint64_;
h.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(e=Sa(e),V(this,d,0),rb(this.encoder_,e.lo,e.hi))}};h.writeRepeatedSint32=Bb.prototype.writeRepeatedZigzag32_;h.writeRepeatedSint64=Bb.prototype.writeRepeatedZigzag_;h.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(V(this,a,5),this.encoder_.writeUint32(d))}};
h.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(V(this,a,1),this.encoder_.writeUint64(d))}};h.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(V(this,a,5),this.encoder_.writeInt32(d))}};h.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++){var d=b[c];null!=d&&(V(this,a,1),this.encoder_.writeInt64(d))}};
h.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};h.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};h.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};h.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};h.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};
h.writeRepeatedBytes=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBytes(a,b[c])};function Mb(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=Eb(a,b);d(c[e],a);Fb(a,f)}}h.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)V(this,a,3),c(b[d],this),V(this,a,4)};h.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};
h.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};h.writePackedUnsignedVarint32_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)sb(this.encoder_,b[c]);Fb(this,a)}};h.writePackedSignedVarint32_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)tb(this.encoder_,b[c]);Fb(this,a)}};
h.writePackedUnsignedVarint64_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++){var d=this.encoder_;bb(b[c]);rb(d,Xa,Ya)}Fb(this,a)}};h.writePackedSignedVarint64_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++){var d=this.encoder_;bb(b[c]);rb(d,Xa,Ya)}Fb(this,a)}};h.writePackedZigzag32_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)ub(this.encoder_,b[c]);Fb(this,a)}};
h.writePackedZigzag64_=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++){var d=this.encoder_;cb(b[c]);rb(d,Xa,Ya)}Fb(this,a)}};h.writePackedInt32=Bb.prototype.writePackedSignedVarint32_;h.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)tb(this.encoder_,parseInt(b[c],10));Fb(this,a)}};h.writePackedInt64=Bb.prototype.writePackedSignedVarint64_;
h.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++){var d=Ua(b[c]);rb(this.encoder_,d.lo,d.hi)}Fb(this,a)}};h.writePackedUint32=Bb.prototype.writePackedUnsignedVarint32_;h.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)sb(this.encoder_,parseInt(b[c],10));Fb(this,a)}};h.writePackedUint64=Bb.prototype.writePackedUnsignedVarint64_;
h.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++){var d=Sa(b[c]);rb(this.encoder_,d.lo,d.hi)}Fb(this,a)}};h.writePackedSint32=Bb.prototype.writePackedZigzag32_;h.writePackedSint64=Bb.prototype.writePackedZigzag64_;h.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};
h.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};h.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};h.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};
h.writePackedFloat=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,4*b.length),a=0;a<b.length;a++)this.encoder_.writeFloat(b[a])};h.writePackedDouble=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};h.writePackedBool=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};
h.writePackedEnum=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);Fb(this,a)}};h.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(V(this,a,2),sb(this.encoder_,8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};h.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=Eb(this,a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);Fb(this,a)}};
//~~WEBPATH~~bazel-out/local-fastbuild/genfiles/facets_overview/proto/proto.js
function Nb(a){xa(this,a,Ob,null)}da(Nb,va);var Ob=[1];Nb.prototype.toObject=function(a){var b={datasetsList:Ba(Pb(this),Qb,a)};a&&(b.$jspbMessageInstance=this);return b};function Rb(a){a=new vb(a);for(var b=new Nb;xb(a)&&4!=a.nextWireType_;)switch(a.nextField_){case 1:var c=new Sb;zb(a,c,Tb);Ja(b,1,c,Sb,void 0);break;default:yb(a)}return b}Nb.prototype.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
Nb.prototype.serializeBinaryToWriter=function(a){var b=Pb(this);0<b.length&&Mb(a,1,b,Ub)};function Pb(a){return Ea(a,Sb,1)}Nb.prototype.clearDatasetsList=function(){Ia(this,1,[])};function Sb(a){xa(this,a,Vb,null)}da(Sb,va);var Vb=[3];h=Sb.prototype;h.toObject=function(a){return Qb(a,this)};function Qb(a,b){var c={name:u(b,1,""),numExamples:u(b,2,0),weightedNumExamples:+u(b,4,0),featuresList:Ba(Wb(b),Xb,a)};a&&(c.$jspbMessageInstance=b);return c}
function Tb(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readUint64();G(a,2,c);break;case 4:c=b.readDouble();G(a,4,c);break;case 3:c=new Yb;zb(b,c,Zb);Ja(a,3,c,Yb,void 0);break;default:yb(b)}return a}function Ub(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getName();0<b.length&&a.writeString(1,b);b=u(this,2,0);0!==b&&a.writeUint64(2,b);b=+u(this,4,0);0!==b&&a.writeDouble(4,b);b=Wb(this);0<b.length&&Mb(a,3,b,$b)};h.getName=function(){return u(this,1,"")};h.setName=function(a){G(this,1,a)};function Wb(a){return Ea(a,Yb,3)}h.clearFeaturesList=function(){Ia(this,3,[])};function Yb(a){xa(this,a,ac,fc)}da(Yb,va);var ac=[6],fc=[[3,4,5]];h=Yb.prototype;h.getStatsCase=function(){return za(this,fc[0])};
h.toObject=function(a){return Xb(a,this)};function Xb(a,b){var c,d={name:u(b,1,""),type:u(b,2,0),numStats:(c=W(b))&&gc(a,c),stringStats:(c=hc(b))&&ic(a,c),bytesStats:(c=jc(b))&&kc(a,c),customStatsList:Ba(lc(b),mc,a)};a&&(d.$jspbMessageInstance=b);return d}
function Zb(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readEnum();a.setType(c);break;case 3:c=new nc;zb(b,c,oc);Ha(a,3,fc[0],c);break;case 4:c=new pc;zb(b,c,qc);Ha(a,4,fc[0],c);break;case 5:c=new rc;zb(b,c,sc);Ha(a,5,fc[0],c);break;case 6:c=new tc;zb(b,c,uc);Ja(a,6,c,tc,void 0);break;default:yb(b)}return a}function $b(a,b){a.serializeBinaryToWriter(b)}
h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};h.serializeBinaryToWriter=function(a){var b=this.getName();0<b.length&&a.writeString(1,b);b=this.getType();0!==b&&a.writeEnum(2,b);b=W(this);null!=b&&Jb(a,3,b,vc);b=hc(this);null!=b&&Jb(a,4,b,wc);b=jc(this);null!=b&&Jb(a,5,b,xc);b=lc(this);0<b.length&&Mb(a,6,b,yc)};h.getName=function(){return u(this,1,"")};h.setName=function(a){G(this,1,a)};h.getType=function(){return u(this,2,0)};
h.setType=function(a){G(this,2,a)};function W(a){return O(a,nc,3)}h.clearNumStats=function(){Ha(this,3,fc[0],void 0)};h.hasNumStats=function(){return null!=Ca(this,3)};function hc(a){return O(a,pc,4)}h.clearStringStats=function(){Ha(this,4,fc[0],void 0)};h.hasStringStats=function(){return null!=Ca(this,4)};function jc(a){return O(a,rc,5)}h.clearBytesStats=function(){Ha(this,5,fc[0],void 0)};h.hasBytesStats=function(){return null!=Ca(this,5)};function lc(a){return Ea(a,tc,6)}
h.clearCustomStatsList=function(){Ia(this,6,[])};function zc(a){xa(this,a,null,null)}da(zc,va);h=zc.prototype;h.toObject=function(a){return Gc(a,this)};function Gc(a,b){var c={numNonMissing:+u(b,1,0),numMissing:+u(b,2,0),avgNumValues:+u(b,3,0),totNumValues:+u(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}
function Hc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readDouble();a.setNumNonMissing(c);break;case 2:c=b.readDouble();a.setNumMissing(c);break;case 3:c=b.readDouble();a.setAvgNumValues(c);break;case 4:c=b.readDouble();a.setTotNumValues(c);break;default:yb(b)}return a}function Ic(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getNumNonMissing();0!==b&&a.writeDouble(1,b);b=this.getNumMissing();0!==b&&a.writeDouble(2,b);b=this.getAvgNumValues();0!==b&&a.writeDouble(3,b);b=this.getTotNumValues();0!==b&&a.writeDouble(4,b)};h.getNumNonMissing=function(){return+u(this,1,0)};h.setNumNonMissing=function(a){G(this,1,a)};h.getNumMissing=function(){return+u(this,2,0)};h.setNumMissing=function(a){G(this,2,a)};h.getAvgNumValues=function(){return+u(this,3,0)};
h.setAvgNumValues=function(a){G(this,3,a)};h.getTotNumValues=function(){return+u(this,4,0)};h.setTotNumValues=function(a){G(this,4,a)};function tc(a){xa(this,a,null,Jc)}da(tc,va);var Jc=[[2,3,4]];h=tc.prototype;h.getValCase=function(){return za(this,Jc[0])};h.toObject=function(a){return mc(a,this)};function mc(a,b){var c,d={name:u(b,1,""),num:+u(b,2,0),str:u(b,3,""),histogram:(c=O(b,Kc,4))&&Lc(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function uc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readString();a.setName(c);break;case 2:c=b.readDouble();Da(a,2,Jc[0],c);break;case 3:c=b.readString();Da(a,3,Jc[0],c);break;case 4:c=new Kc;zb(b,c,Mc);Ha(a,4,Jc[0],c);break;default:yb(b)}return a}function yc(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getName();0<b.length&&a.writeString(1,b);b=Ca(this,2);null!=b&&a.writeDouble(2,b);b=Ca(this,3);null!=b&&a.writeString(3,b);b=O(this,Kc,4);null!=b&&Jb(a,4,b,Nc)};h.getName=function(){return u(this,1,"")};h.setName=function(a){G(this,1,a)};h.clearNum=function(){Da(this,2,Jc[0],void 0)};h.hasNum=function(){return null!=Ca(this,2)};h.clearStr=function(){Da(this,3,Jc[0],void 0)};h.hasStr=function(){return null!=Ca(this,3)};
h.clearHistogram=function(){Ha(this,4,Jc[0],void 0)};h.hasHistogram=function(){return null!=Ca(this,4)};function nc(a){xa(this,a,Oc,null)}da(nc,va);var Oc=[8];h=nc.prototype;h.toObject=function(a){return gc(a,this)};function gc(a,b){var c,d={commonStats:(c=Pc(b))&&Qc(a,c),mean:+u(b,2,0),stdDev:+u(b,3,0),numZeros:u(b,4,0),min:+u(b,5,0),median:+u(b,6,0),max:+u(b,7,0),histogramsList:Ba(b.getHistogramsList(),Lc,a),weightedNumericStats:(c=O(b,Rc,9))&&Sc(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function oc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=new Tc;zb(b,c,Uc);a.setCommonStats(c);break;case 2:c=b.readDouble();a.setMean(c);break;case 3:c=b.readDouble();a.setStdDev(c);break;case 4:c=b.readUint64();G(a,4,c);break;case 5:c=b.readDouble();G(a,5,c);break;case 6:c=b.readDouble();a.setMedian(c);break;case 7:c=b.readDouble();G(a,7,c);break;case 8:c=new Kc;zb(b,c,Mc);a.addHistograms(c);break;case 9:c=new Rc;zb(b,c,ad);Ga(a,9,c);break;default:yb(b)}return a}
function vc(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=Pc(this);null!=b&&Jb(a,1,b,bd);b=this.getMean();0!==b&&a.writeDouble(2,b);b=this.getStdDev();0!==b&&a.writeDouble(3,b);b=u(this,4,0);0!==b&&a.writeUint64(4,b);b=+u(this,5,0);0!==b&&a.writeDouble(5,b);b=this.getMedian();0!==b&&a.writeDouble(6,b);b=+u(this,7,0);0!==b&&a.writeDouble(7,b);b=this.getHistogramsList();0<b.length&&Mb(a,8,b,Nc);b=O(this,Rc,9);null!=b&&Jb(a,9,b,cd)};function Pc(a){return O(a,Tc,1)}h.setCommonStats=function(a){Ga(this,1,a)};
h.clearCommonStats=function(){this.setCommonStats(void 0)};h.hasCommonStats=function(){return null!=Ca(this,1)};h.getMean=function(){return+u(this,2,0)};h.setMean=function(a){G(this,2,a)};h.getStdDev=function(){return+u(this,3,0)};h.setStdDev=function(a){G(this,3,a)};h.getMedian=function(){return+u(this,6,0)};h.setMedian=function(a){G(this,6,a)};h.getHistogramsList=function(){return Ea(this,Kc,8)};h.setHistogramsList=function(a){Ia(this,8,a)};h.addHistograms=function(a,b){return Ja(this,8,a,Kc,b)};
h.clearHistogramsList=function(){this.setHistogramsList([])};h.clearWeightedNumericStats=function(){Ga(this,9,void 0)};h.hasWeightedNumericStats=function(){return null!=Ca(this,9)};function pc(a){xa(this,a,dd,null)}da(pc,va);var dd=[3];h=pc.prototype;h.toObject=function(a){return ic(a,this)};
function ic(a,b){var c,d={commonStats:(c=Pc(b))&&Qc(a,c),unique:u(b,2,0),topValuesList:Ba(b.getTopValuesList(),ed,a),avgLength:+u(b,4,0),rankHistogram:(c=b.getRankHistogram())&&fd(a,c),weightedStringStats:(c=O(b,gd,6))&&hd(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function qc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=new Tc;zb(b,c,Uc);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=new id;zb(b,c,jd);a.addTopValues(c);break;case 4:c=b.readFloat();G(a,4,c);break;case 5:c=new kd;zb(b,c,ld);a.setRankHistogram(c);break;case 6:c=new gd;zb(b,c,md);Ga(a,6,c);break;default:yb(b)}return a}function wc(a,b){a.serializeBinaryToWriter(b)}
h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};h.serializeBinaryToWriter=function(a){var b=Pc(this);null!=b&&Jb(a,1,b,bd);b=u(this,2,0);0!==b&&a.writeUint64(2,b);b=this.getTopValuesList();0<b.length&&Mb(a,3,b,nd);b=+u(this,4,0);0!==b&&a.writeFloat(4,b);b=this.getRankHistogram();null!=b&&Jb(a,5,b,od);b=O(this,gd,6);null!=b&&Jb(a,6,b,pd)};h.getCommonStats=function(){return O(this,Tc,1)};h.setCommonStats=function(a){Ga(this,1,a)};h.clearCommonStats=function(){this.setCommonStats(void 0)};
h.hasCommonStats=function(){return null!=Ca(this,1)};h.setUnique=function(a){G(this,2,a)};h.getTopValuesList=function(){return Ea(this,id,3)};h.setTopValuesList=function(a){Ia(this,3,a)};h.addTopValues=function(a,b){return Ja(this,3,a,id,b)};h.clearTopValuesList=function(){this.setTopValuesList([])};h.getRankHistogram=function(){return O(this,kd,5)};h.setRankHistogram=function(a){Ga(this,5,a)};h.clearRankHistogram=function(){this.setRankHistogram(void 0)};
h.hasRankHistogram=function(){return null!=Ca(this,5)};h.clearWeightedStringStats=function(){Ga(this,6,void 0)};h.hasWeightedStringStats=function(){return null!=Ca(this,6)};function id(a){xa(this,a,null,null)}da(id,va);h=id.prototype;h.toObject=function(a){return ed(a,this)};function ed(a,b){var c={deprecatedFreq:u(b,1,0),value:u(b,2,""),frequency:+u(b,3,0)};a&&(c.$jspbMessageInstance=b);return c}
function jd(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readUint64();G(a,1,c);break;case 2:c=b.readString();a.setValue(c);break;case 3:c=b.readDouble();G(a,3,c);break;default:yb(b)}return a}function nd(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=u(this,1,0);0!==b&&a.writeUint64(1,b);b=this.getValue();0<b.length&&a.writeString(2,b);b=+u(this,3,0);0!==b&&a.writeDouble(3,b)};h.getValue=function(){return u(this,2,"")};h.setValue=function(a){G(this,2,a)};function Rc(a){xa(this,a,qd,null)}da(Rc,va);var qd=[4];h=Rc.prototype;h.toObject=function(a){return Sc(a,this)};
function Sc(a,b){var c={mean:+u(b,1,0),stdDev:+u(b,2,0),median:+u(b,3,0),histogramsList:Ba(b.getHistogramsList(),Lc,a)};a&&(c.$jspbMessageInstance=b);return c}function ad(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readDouble();a.setMean(c);break;case 2:c=b.readDouble();a.setStdDev(c);break;case 3:c=b.readDouble();a.setMedian(c);break;case 4:c=new Kc;zb(b,c,Mc);a.addHistograms(c);break;default:yb(b)}return a}function cd(a,b){a.serializeBinaryToWriter(b)}
h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};h.serializeBinaryToWriter=function(a){var b=this.getMean();0!==b&&a.writeDouble(1,b);b=this.getStdDev();0!==b&&a.writeDouble(2,b);b=this.getMedian();0!==b&&a.writeDouble(3,b);b=this.getHistogramsList();0<b.length&&Mb(a,4,b,Nc)};h.getMean=function(){return+u(this,1,0)};h.setMean=function(a){G(this,1,a)};h.getStdDev=function(){return+u(this,2,0)};h.setStdDev=function(a){G(this,2,a)};
h.getMedian=function(){return+u(this,3,0)};h.setMedian=function(a){G(this,3,a)};h.getHistogramsList=function(){return Ea(this,Kc,4)};h.setHistogramsList=function(a){Ia(this,4,a)};h.addHistograms=function(a,b){return Ja(this,4,a,Kc,b)};h.clearHistogramsList=function(){this.setHistogramsList([])};function gd(a){xa(this,a,rd,null)}da(gd,va);var rd=[1];h=gd.prototype;h.toObject=function(a){return hd(a,this)};
function hd(a,b){var c,d={topValuesList:Ba(b.getTopValuesList(),ed,a),rankHistogram:(c=b.getRankHistogram())&&fd(a,c)};a&&(d.$jspbMessageInstance=b);return d}function md(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=new id;zb(b,c,jd);a.addTopValues(c);break;case 2:c=new kd;zb(b,c,ld);a.setRankHistogram(c);break;default:yb(b)}return a}function pd(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getTopValuesList();0<b.length&&Mb(a,1,b,nd);b=this.getRankHistogram();null!=b&&Jb(a,2,b,od)};h.getTopValuesList=function(){return Ea(this,id,1)};h.setTopValuesList=function(a){Ia(this,1,a)};h.addTopValues=function(a,b){return Ja(this,1,a,id,b)};h.clearTopValuesList=function(){this.setTopValuesList([])};h.getRankHistogram=function(){return O(this,kd,2)};h.setRankHistogram=function(a){Ga(this,2,a)};h.clearRankHistogram=function(){this.setRankHistogram(void 0)};
h.hasRankHistogram=function(){return null!=Ca(this,2)};function rc(a){xa(this,a,null,null)}da(rc,va);h=rc.prototype;h.toObject=function(a){return kc(a,this)};function kc(a,b){var c,d={commonStats:(c=Pc(b))&&Qc(a,c),unique:u(b,2,0),avgNumBytes:+u(b,3,0),minNumBytes:+u(b,4,0),maxNumBytes:+u(b,5,0)};a&&(d.$jspbMessageInstance=b);return d}
function sc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=new Tc;zb(b,c,Uc);a.setCommonStats(c);break;case 2:c=b.readUint64();a.setUnique(c);break;case 3:c=b.readFloat();G(a,3,c);break;case 4:c=b.readFloat();G(a,4,c);break;case 5:c=b.readFloat();G(a,5,c);break;default:yb(b)}return a}function xc(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=Pc(this);null!=b&&Jb(a,1,b,bd);b=u(this,2,0);0!==b&&a.writeUint64(2,b);b=+u(this,3,0);0!==b&&a.writeFloat(3,b);b=+u(this,4,0);0!==b&&a.writeFloat(4,b);b=+u(this,5,0);0!==b&&a.writeFloat(5,b)};h.getCommonStats=function(){return O(this,Tc,1)};h.setCommonStats=function(a){Ga(this,1,a)};h.clearCommonStats=function(){this.setCommonStats(void 0)};h.hasCommonStats=function(){return null!=Ca(this,1)};h.getUnique=function(){return u(this,2,0)};
h.setUnique=function(a){G(this,2,a)};function Tc(a){xa(this,a,null,null)}da(Tc,va);h=Tc.prototype;h.toObject=function(a){return Qc(a,this)};function Qc(a,b){var c,d={numNonMissing:u(b,1,0),numMissing:u(b,2,0),minNumValues:u(b,3,0),maxNumValues:u(b,4,0),avgNumValues:+u(b,5,0),totNumValues:u(b,8,0),numValuesHistogram:(c=O(b,Kc,6))&&Lc(a,c),weightedCommonStats:(c=O(b,zc,7))&&Gc(a,c),featureListLengthHistogram:(c=O(b,Kc,9))&&Lc(a,c)};a&&(d.$jspbMessageInstance=b);return d}
function Uc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readUint64();a.setNumNonMissing(c);break;case 2:c=b.readUint64();a.setNumMissing(c);break;case 3:c=b.readUint64();G(a,3,c);break;case 4:c=b.readUint64();G(a,4,c);break;case 5:c=b.readFloat();a.setAvgNumValues(c);break;case 8:c=b.readUint64();a.setTotNumValues(c);break;case 6:c=new Kc;zb(b,c,Mc);Ga(a,6,c);break;case 7:c=new zc;zb(b,c,Hc);Ga(a,7,c);break;case 9:c=new Kc;zb(b,c,Mc);Ga(a,9,c);break;default:yb(b)}return a}
function bd(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getNumNonMissing();0!==b&&a.writeUint64(1,b);b=this.getNumMissing();0!==b&&a.writeUint64(2,b);b=u(this,3,0);0!==b&&a.writeUint64(3,b);b=u(this,4,0);0!==b&&a.writeUint64(4,b);b=this.getAvgNumValues();0!==b&&a.writeFloat(5,b);b=this.getTotNumValues();0!==b&&a.writeUint64(8,b);b=O(this,Kc,6);null!=b&&Jb(a,6,b,Nc);b=O(this,zc,7);null!=b&&Jb(a,7,b,Ic);b=O(this,Kc,9);null!=b&&Jb(a,9,b,Nc)};h.getNumNonMissing=function(){return u(this,1,0)};
h.setNumNonMissing=function(a){G(this,1,a)};h.getNumMissing=function(){return u(this,2,0)};h.setNumMissing=function(a){G(this,2,a)};h.getAvgNumValues=function(){return+u(this,5,0)};h.setAvgNumValues=function(a){G(this,5,a)};h.getTotNumValues=function(){return u(this,8,0)};h.setTotNumValues=function(a){G(this,8,a)};h.clearNumValuesHistogram=function(){Ga(this,6,void 0)};h.hasNumValuesHistogram=function(){return null!=Ca(this,6)};h.clearWeightedCommonStats=function(){Ga(this,7,void 0)};
h.hasWeightedCommonStats=function(){return null!=Ca(this,7)};h.clearFeatureListLengthHistogram=function(){Ga(this,9,void 0)};h.hasFeatureListLengthHistogram=function(){return null!=Ca(this,9)};function Kc(a){xa(this,a,sd,null)}da(Kc,va);var sd=[3];h=Kc.prototype;h.toObject=function(a){return Lc(a,this)};function Lc(a,b){var c={numNan:u(b,1,0),numUndefined:u(b,2,0),bucketsList:Ba(b.getBucketsList(),td,a),type:u(b,4,0),name:u(b,5,"")};a&&(c.$jspbMessageInstance=b);return c}
function Mc(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readUint64();G(a,1,c);break;case 2:c=b.readUint64();G(a,2,c);break;case 3:c=new ud;zb(b,c,vd);a.addBuckets(c);break;case 4:c=b.readEnum();a.setType(c);break;case 5:c=b.readString();a.setName(c);break;default:yb(b)}return a}function Nc(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=u(this,1,0);0!==b&&a.writeUint64(1,b);b=u(this,2,0);0!==b&&a.writeUint64(2,b);b=this.getBucketsList();0<b.length&&Mb(a,3,b,wd);b=this.getType();0!==b&&a.writeEnum(4,b);b=this.getName();0<b.length&&a.writeString(5,b)};h.getBucketsList=function(){return Ea(this,ud,3)};h.setBucketsList=function(a){Ia(this,3,a)};h.addBuckets=function(a,b){return Ja(this,3,a,ud,b)};h.clearBucketsList=function(){this.setBucketsList([])};h.getType=function(){return u(this,4,0)};
h.setType=function(a){G(this,4,a)};h.getName=function(){return u(this,5,"")};h.setName=function(a){G(this,5,a)};function ud(a){xa(this,a,null,null)}da(ud,va);h=ud.prototype;h.toObject=function(a){return td(a,this)};function td(a,b){var c={lowValue:+u(b,1,0),highValue:+u(b,2,0),deprecatedCount:u(b,3,0),sampleCount:+u(b,4,0)};a&&(c.$jspbMessageInstance=b);return c}
function vd(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readDouble();xd(a,c);break;case 2:c=b.readDouble();yd(a,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readDouble();a.setSampleCount(c);break;default:yb(b)}return a}function wd(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=this.getLowValue();0!==b&&a.writeDouble(1,b);b=zd(this);0!==b&&a.writeDouble(2,b);b=u(this,3,0);0!==b&&a.writeUint64(3,b);b=this.getSampleCount();0!==b&&a.writeDouble(4,b)};h.getLowValue=function(){return+u(this,1,0)};function xd(a,b){G(a,1,b)}function zd(a){return+u(a,2,0)}function yd(a,b){G(a,2,b)}h.setDeprecatedCount=function(a){G(this,3,a)};h.getSampleCount=function(){return+u(this,4,0)};h.setSampleCount=function(a){G(this,4,a)};
function kd(a){xa(this,a,Ad,null)}da(kd,va);var Ad=[1];h=kd.prototype;h.toObject=function(a){return fd(a,this)};function fd(a,b){var c={bucketsList:Ba(b.getBucketsList(),Bd,a),name:u(b,2,"")};a&&(c.$jspbMessageInstance=b);return c}function ld(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=new Cd;zb(b,c,Dd);a.addBuckets(c);break;case 2:c=b.readString();a.setName(c);break;default:yb(b)}return a}function od(a,b){a.serializeBinaryToWriter(b)}
h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};h.serializeBinaryToWriter=function(a){var b=this.getBucketsList();0<b.length&&Mb(a,1,b,Ed);b=this.getName();0<b.length&&a.writeString(2,b)};h.getBucketsList=function(){return Ea(this,Cd,1)};h.setBucketsList=function(a){Ia(this,1,a)};h.addBuckets=function(a,b){return Ja(this,1,a,Cd,b)};h.clearBucketsList=function(){this.setBucketsList([])};h.getName=function(){return u(this,2,"")};
h.setName=function(a){G(this,2,a)};function Cd(a){xa(this,a,null,null)}da(Cd,va);h=Cd.prototype;h.toObject=function(a){return Bd(a,this)};function Bd(a,b){var c={lowRank:u(b,1,0),highRank:u(b,2,0),deprecatedCount:u(b,3,0),label:u(b,4,""),sampleCount:+u(b,5,0)};a&&(c.$jspbMessageInstance=b);return c}
function Dd(a,b){for(;xb(b)&&4!=b.nextWireType_;)switch(b.nextField_){case 1:var c=b.readUint64();G(a,1,c);break;case 2:c=b.readUint64();G(a,2,c);break;case 3:c=b.readUint64();a.setDeprecatedCount(c);break;case 4:c=b.readString();G(a,4,c);break;case 5:c=b.readDouble();a.setSampleCount(c);break;default:yb(b)}return a}function Ed(a,b){a.serializeBinaryToWriter(b)}h.serializeBinary=function(){var a=new Bb;this.serializeBinaryToWriter(a);return Gb(a)};
h.serializeBinaryToWriter=function(a){var b=u(this,1,0);0!==b&&a.writeUint64(1,b);b=u(this,2,0);0!==b&&a.writeUint64(2,b);b=u(this,3,0);0!==b&&a.writeUint64(3,b);b=Fd(this);0<b.length&&a.writeString(4,b);b=this.getSampleCount();0!==b&&a.writeDouble(5,b)};h.getDeprecatedCount=function(){return u(this,3,0)};h.setDeprecatedCount=function(a){G(this,3,a)};function Fd(a){return u(a,4,"")}h.getSampleCount=function(){return+u(this,5,0)};h.setSampleCount=function(a){G(this,5,a)};
//~~WEBPATH~~/polymer/polymer-micro.html.js
(function(){function a(){document.body.removeAttribute("unresolved")}window.WebComponents?addEventListener("WebComponentsReady",a):"interactive"===document.readyState||"complete"===document.readyState?a():addEventListener("DOMContentLoaded",a)})();var Gd=window,Md=window.Polymer||{};if(!Md.noUrlSettings)for(var Nd=location.search.slice(1).split("\x26"),Od=0,Pd;Od<Nd.length&&(Pd=Nd[Od]);Od++)Pd=Pd.split("\x3d"),Pd[0]&&(Md[Pd[0]]=Pd[1]||!0);Md.wantShadow="shadow"===Md.dom;Md.hasShadow=!!Element.prototype.createShadowRoot;
Md.nativeShadow=Md.hasShadow&&!window.ShadowDOMPolyfill;Md.useShadow=Md.wantShadow&&Md.hasShadow;Md.hasNativeImports="import"in document.createElement("link");Md.useNativeImports=Md.hasNativeImports;Md.useNativeCustomElements=!window.CustomElements||window.CustomElements.useNative;Md.useNativeShadow=Md.useShadow&&Md.nativeShadow;Md.usePolyfillProto=!Md.useNativeCustomElements&&!Object.__proto__;
Md.hasNativeCSSProperties=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)");Md.useNativeCSSProperties=Md.hasNativeCSSProperties&&Md.lazyRegister&&Md.useNativeCSSProperties;Md.isIE=navigator.userAgent.match("Trident");Gd.Polymer={Settings:Md};
(function(){function a(a){var b=Polymer.Base;a.extends&&(b=Polymer.Base._getExtendedPrototype(a.extends));a=Polymer.Base.chainObject(a,b);a.registerCallback();return a}var b=window.Polymer;window.Polymer=function(b){"function"===typeof b&&(b=b.prototype);b||(b={});b=a(b);var c=b===b.constructor.prototype?b.constructor:null,d={prototype:b};b.extends&&(d.extends=b.extends);Polymer.telemetry._registrate(b);b=document.registerElement(b.is,d);return c||b};if(b)for(var c in b)Polymer[c]=b[c];Polymer.Class=
function(b){b.factoryImpl||(b.factoryImpl=function(){});return a(b).constructor}})();Polymer.telemetry={registrations:[],_regLog:function(a){console.log("["+a.is+"]: registered")},_registrate:function(a){this.registrations.push(a);Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}};Object.defineProperty(window,"currentImport",{enumerable:!0,configurable:!0,get:function(){return(document._currentScript||document.currentScript||{}).ownerDocument}});
Polymer.RenderStatus={_ready:!1,_callbacks:[],whenReady:function(a){this._ready?a():this._callbacks.push(a)},_makeReady:function(){this._ready=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a]();this._callbacks=[]},_catchFirstRender:function(){requestAnimationFrame(function(){Polymer.RenderStatus._makeReady()})},_afterNextRenderQueue:[],_waitingNextRender:!1,afterNextRender:function(a,b,c){this._watchNextRender();this._afterNextRenderQueue.push([a,b,c])},hasRendered:function(){return this._ready},
_watchNextRender:function(){if(!this._waitingNextRender){this._waitingNextRender=!0;var a=function(){Polymer.RenderStatus._flushNextRender()};this._ready?requestAnimationFrame(a):this.whenReady(a)}},_flushNextRender:function(){var a=this;setTimeout(function(){a._flushRenderCallbacks(a._afterNextRenderQueue);a._afterNextRenderQueue=[];a._waitingNextRender=!1})},_flushRenderCallbacks:function(a){for(var b=0,c;b<a.length;b++)c=a[b],c[1].apply(c[0],c[2]||Polymer.nar)}};
window.HTMLImports?HTMLImports.whenReady(function(){Polymer.RenderStatus._catchFirstRender()}):Polymer.RenderStatus._catchFirstRender();Polymer.ImportStatus=Polymer.RenderStatus;Polymer.ImportStatus.whenLoaded=Polymer.ImportStatus.whenReady;
(function(){var a=Polymer.Settings;Polymer.Base={__isPolymerInstance__:!0,_addFeature:function(a){this.mixin(this,a)},registerCallback:function(){if("max"!==a.lazyRegister){this._desugarBehaviors();for(var b=0,c;b<this.behaviors.length;b++)c=this.behaviors[b],c.beforeRegister&&c.beforeRegister.call(this)}this.beforeRegister&&this.beforeRegister();this._registerFeatures();a.lazyRegister||this.ensureRegisterFinished()},createdCallback:function(){if(a.disableUpgradeEnabled){if(this.hasAttribute("disable-upgrade")){this._propertySetter=
b;this._configValue=null;this.__data__={};return}this.__hasInitialized=!0}this.__initialize()},__initialize:function(){this.__hasRegisterFinished||this._ensureRegisterFinished(this.__proto__);Polymer.telemetry.instanceCount++;this.root=this;for(var a=0,b;a<this.behaviors.length;a++)b=this.behaviors[a],b.created&&b.created.call(this);this.created&&this.created();this._initFeatures()},ensureRegisterFinished:function(){this._ensureRegisterFinished(this)},_ensureRegisterFinished:function(b){if(b.__hasRegisterFinished!==
b.is||!b.is){if("max"===a.lazyRegister){b._desugarBehaviors();for(var c=0,d;c<b.behaviors.length;c++)d=b.behaviors[c],d.beforeRegister&&d.beforeRegister.call(b)}b.__hasRegisterFinished=b.is;b._finishRegisterFeatures&&b._finishRegisterFeatures();for(c=0;c<b.behaviors.length;c++)d=b.behaviors[c],d.registered&&d.registered.call(b);b.registered&&b.registered();a.usePolyfillProto&&b!==this&&b.extend(this,b)}},attachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=
!0;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.attached&&c.attached.call(a);a.attached&&a.attached()})},detachedCallback:function(){var a=this;Polymer.RenderStatus.whenReady(function(){a.isAttached=!1;for(var b=0,c;b<a.behaviors.length;b++)c=a.behaviors[b],c.detached&&c.detached.call(a);a.detached&&a.detached()})},attributeChangedCallback:function(a,b,c){this._attributeChangedImpl(a);for(var d=0,e;d<this.behaviors.length;d++)e=this.behaviors[d],e.attributeChanged&&e.attributeChanged.call(this,
a,b,c);this.attributeChanged&&this.attributeChanged(a,b,c)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this,a)},extend:function(a,b){if(a&&b)for(var c=Object.getOwnPropertyNames(b),d=0,e;d<c.length&&(e=c[d]);d++)this.copyOwnProperty(e,b,a);return a||b},mixin:function(a,b){for(var c in b)a[c]=b[c];return a},copyOwnProperty:function(a,b,c){(b=Object.getOwnPropertyDescriptor(b,a))&&Object.defineProperty(c,a,b)},_logger:function(a,b){1===b.length&&Array.isArray(b[0])&&(b=b[0]);switch(a){case "log":case "warn":case "error":console[a].apply(console,
b)}},_log:function(){this._logger("log",Array.prototype.slice.call(arguments,0))},_warn:function(){this._logger("warn",Array.prototype.slice.call(arguments,0))},_error:function(){this._logger("error",Array.prototype.slice.call(arguments,0))},_logf:function(){return this._logPrefix.concat(this.is).concat(Array.prototype.slice.call(arguments,0))}};Polymer.Base._logPrefix=window.chrome&&!/edge/i.test(navigator.userAgent)||/firefox/i.test(navigator.userAgent)?["%c[%s::%s]:","font-weight: bold; background-color:#EEEE00;"]:
["[%s::%s]:"];Polymer.Base.chainObject=function(a,b){a&&b&&a!==b&&(Object.__proto__||(a=Polymer.Base.extend(Object.create(b),a)),a.__proto__=b);return a};Polymer.Base=Polymer.Base.chainObject(Polymer.Base,HTMLElement.prototype);Polymer.BaseDescriptors={};if(a.disableUpgradeEnabled){var b=function(a,b){this.__data__[a]=b};var c=Polymer.Base.attributeChangedCallback;Polymer.Base.attributeChangedCallback=function(a,b,f){this.__hasInitialized||"disable-upgrade"!==a||(this.__hasInitialized=!0,this._propertySetter=
Polymer.Bind._modelApi._propertySetter,this._configValue=Polymer.Base._configValue,this.__initialize());c.call(this,a,b,f)}}Polymer.instanceof=window.CustomElements?CustomElements.instanceof:function(a,b){return a instanceof b};Polymer.isInstance=function(a){return!(!a||!a.__isPolymerInstance__)};Polymer.telemetry.instanceCount=0})();
(function(){function a(){return document.createElement("dom-module")}var b={},c={};a.prototype=Object.create(HTMLElement.prototype);Polymer.Base.mixin(a.prototype,{createdCallback:function(){this.register()},register:function(a){if(a=a||this.id||this.getAttribute("name")||this.getAttribute("is"))this.id=a,b[a]=this,c[a.toLowerCase()]=this},import:function(a,f){if(a){var e=b[a]||c[a.toLowerCase()];if(!e){if(d)for(var e=document._currentScript||document.currentScript,e=(e&&e.ownerDocument||document).querySelectorAll("dom-module"),
k=e.length-1,l;0<=k&&(l=e[k])&&!l.__upgraded__;k--)CustomElements.upgrade(l);e=b[a]||c[a.toLowerCase()]}e&&f&&(e=e.querySelector(f));return e}}});Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});var d=window.CustomElements&&!CustomElements.useNative;document.registerElement("dom-module",a)})();
Polymer.Base._addFeature({_prepIs:function(){if(!this.is){var a=(document._currentScript||document.currentScript).parentNode;"dom-module"===a.localName&&(this.is=a.id||a.getAttribute("name")||a.getAttribute("is"))}this.is&&(this.is=this.is.toLowerCase())}});
Polymer.Base._addFeature({behaviors:[],_desugarBehaviors:function(){this.behaviors.length&&(this.behaviors=this._desugarSomeBehaviors(this.behaviors))},_desugarSomeBehaviors:function(a){var b=[];a=this._flattenBehaviorsList(a);for(var c=a.length-1;0<=c;c--){var d=a[c];-1===b.indexOf(d)&&(this._mixinBehavior(d),b.unshift(d))}return b},_flattenBehaviorsList:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d instanceof Array?b=b.concat(this._flattenBehaviorsList(d)):d?b.push(d):this._warn(this._logf("_flattenBehaviorsList",
"behavior is null, check for missing or 404 import"))}return b},_mixinBehavior:function(a){for(var b=Object.getOwnPropertyNames(a),c=a._noAccessors,d=0,e;d<b.length&&(e=b[d]);d++)Polymer.Base._behaviorProperties[e]||this.hasOwnProperty(e)||(c?this[e]=a[e]:this.copyOwnProperty(e,a,this))},_prepBehaviors:function(){this._prepFlattenedBehaviors(this.behaviors)},_prepFlattenedBehaviors:function(a){for(var b=0,c=a.length;b<c;b++)this._prepBehavior(a[b]);this._prepBehavior(this)},_marshalBehaviors:function(){for(var a=
0;a<this.behaviors.length;a++)this._marshalBehavior(this.behaviors[a]);this._marshalBehavior(this)}});Polymer.Base._behaviorProperties={hostAttributes:!0,beforeRegister:!0,registered:!0,properties:!0,observers:!0,listeners:!0,created:!0,attached:!0,detached:!0,attributeChanged:!0,ready:!0,_noAccessors:!0};
Polymer.Base._addFeature({_getExtendedPrototype:function(a){return this._getExtendedNativePrototype(a)},_nativePrototypes:{},_getExtendedNativePrototype:function(a){var b=this._nativePrototypes[a];if(!b){for(var b=Object.create(this.getNativePrototype(a)),c=Object.getOwnPropertyNames(Polymer.Base),d=0,e;d<c.length&&(e=c[d]);d++)Polymer.BaseDescriptors[e]||(b[e]=Polymer.Base[e]);Object.defineProperties(b,Polymer.BaseDescriptors);this._nativePrototypes[a]=b}return b},getNativePrototype:function(a){return Object.getPrototypeOf(document.createElement(a))}});
Polymer.Base._addFeature({_prepConstructor:function(){function a(){return this._factory(arguments)}this._factoryArgs=this.extends?[this.extends,this.is]:[this.is];this.hasOwnProperty("extends")&&(a.extends=this.extends);Object.defineProperty(this,"constructor",{value:a,writable:!0,configurable:!0});a.prototype=this},_factory:function(a){var b=document.createElement.apply(document,this._factoryArgs);this.factoryImpl&&this.factoryImpl.apply(b,a);return b}});Polymer.nob=Object.create(null);
Polymer.Base._addFeature({getPropertyInfo:function(a){var b=this._getPropertyInfo(a,this.properties);if(!b)for(var c=0;c<this.behaviors.length;c++)if(b=this._getPropertyInfo(a,this.behaviors[c].properties))return b;return b||Polymer.nob},_getPropertyInfo:function(a,b){var c=b&&b[a];"function"===typeof c&&(c=b[a]={type:c});c&&(c.defined=!0);return c},_prepPropertyInfo:function(){this._propertyInfo={};for(var a=0;a<this.behaviors.length;a++)this._addPropertyInfo(this._propertyInfo,this.behaviors[a].properties);
this._addPropertyInfo(this._propertyInfo,this.properties);this._addPropertyInfo(this._propertyInfo,this._propertyEffects)},_addPropertyInfo:function(a,b){if(b){var c;for(c in b){var d=a[c];var e=b[c];if("_"!==c[0]||e.readOnly)a[c]?(d.type||(d.type=e.type),d.readOnly||(d.readOnly=e.readOnly)):a[c]={type:"function"===typeof e?e:e.type,readOnly:e.readOnly,attribute:Polymer.CaseMap.camelToDashCase(c)}}}}});var Qd={configurable:!0,writable:!0,enumerable:!0,value:{}};
Polymer.BaseDescriptors.properties=Qd;Object.defineProperty(Polymer.Base,"properties",Qd);Polymer.CaseMap={_caseMap:{},_rx:{dashToCamel:/-[a-z]/g,camelToDash:/([A-Z])/g},dashToCamelCase:function(a){return this._caseMap[a]||(this._caseMap[a]=0>a.indexOf("-")?a:a.replace(this._rx.dashToCamel,function(a){return a[1].toUpperCase()}))},camelToDashCase:function(a){return this._caseMap[a]||(this._caseMap[a]=a.replace(this._rx.camelToDash,"-$1").toLowerCase())}};
Polymer.Base._addFeature({_addHostAttributes:function(a){this._aggregatedAttributes||(this._aggregatedAttributes={});a&&this.mixin(this._aggregatedAttributes,a)},_marshalHostAttributes:function(){this._aggregatedAttributes&&this._applyAttributes(this,this._aggregatedAttributes)},_applyAttributes:function(a,b){for(var c in b)this.hasAttribute(c)||"class"===c||this.serializeValueToAttribute(b[c],c,this)},_marshalAttributes:function(){this._takeAttributesToModel(this)},_takeAttributesToModel:function(a){if(this.hasAttributes())for(var b in this._propertyInfo){var c=
this._propertyInfo[b];this.hasAttribute(c.attribute)&&this._setAttributeToProperty(a,c.attribute,b,c)}},_setAttributeToProperty:function(a,b,c,d){this._serializing||(c=c||Polymer.CaseMap.dashToCamelCase(b),(d=d||this._propertyInfo&&this._propertyInfo[c])&&!d.readOnly&&(b=this.getAttribute(b),a[c]=this.deserialize(b,d.type)))},_serializing:!1,reflectPropertyToAttribute:function(a,b,c){this._serializing=!0;c=void 0===c?this[a]:c;this.serializeValueToAttribute(c,b||Polymer.CaseMap.camelToDashCase(a));
this._serializing=!1},serializeValueToAttribute:function(a,b,c){a=this.serialize(a);c=c||this;void 0===a?c.removeAttribute(b):c.setAttribute(b,a)},deserialize:function(a,b){switch(b){case Number:a=Number(a);break;case Boolean:a=null!=a;break;case Object:try{a=JSON.parse(a)}catch(c){}break;case Array:try{a=JSON.parse(a)}catch(c){a=null,console.warn("Polymer::Attributes: couldn`t decode Array as JSON")}break;case Date:a=new Date(a)}return a},serialize:function(a){switch(typeof a){case "boolean":return a?
"":void 0;case "object":if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(b){return""}default:return null!=a?a:void 0}}});Polymer.version="1.8.1";Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_marshalBehavior:function(){},_initFeatures:function(){this._marshalHostAttributes();this._marshalBehaviors()}});
</script>











<script>//~~WEBPATH~~/polymer/polymer-mini.html.js
Polymer.Base._addFeature({_prepTemplate:function(){void 0===this._template&&(this._template=Polymer.DomModule.import(this.is,"template"));this._template&&this._template.hasAttribute("is")&&this._warn(this._logf("_prepTemplate","top-level Polymer template must not be a type-extension, found",this._template,"Move inside simple \x3ctemplate\x3e."));this._template&&!this._template.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(this._template)},_stampTemplate:function(){this._template&&
(this.root=this.instanceTemplate(this._template))},instanceTemplate:function(a){return document.importNode(a._content||a.content,!0)}});
(function(){var a=Polymer.Base.attachedCallback;Polymer.Base._addFeature({_hostStack:[],ready:function(){},_registerHost:function(a){(this.dataHost=a=a||Polymer.Base._hostStack[Polymer.Base._hostStack.length-1])&&a._clients&&a._clients.push(this);this._clients=null;this._clientsReadied=!1},_beginHosting:function(){Polymer.Base._hostStack.push(this);this._clients||(this._clients=[])},_endHosting:function(){Polymer.Base._hostStack.pop()},_tryReady:function(){this._readied=!1;this._canReady()&&this._ready()},
_canReady:function(){return!this.dataHost||this.dataHost._clientsReadied},_ready:function(){this._beforeClientsReady();this._template&&(this._setupRoot(),this._readyClients());this._clientsReadied=!0;this._clients=null;this._afterClientsReady();this._readySelf()},_readyClients:function(){this._beginDistribute();var a=this._clients;if(a)for(var c=0,d=a.length,e;c<d&&(e=a[c]);c++)e._ready();this._finishDistribute()},_readySelf:function(){for(var a=0,c;a<this.behaviors.length;a++)c=this.behaviors[a],
c.ready&&c.ready.call(this);this.ready&&this.ready();this._readied=!0;this._attachedPending&&(this._attachedPending=!1,this.attachedCallback())},_beforeClientsReady:function(){},_afterClientsReady:function(){},_beforeAttached:function(){},attachedCallback:function(){this._readied?(this._beforeAttached(),a.call(this)):this._attachedPending=!0}})})();
Polymer.ArraySplice=function(){function a(a,b){return{index:a,removed:[],addedCount:b}}function b(){}b.prototype={calcEditDistances:function(a,b,e,f,g,k){k=k-g+1;e=e-b+1;for(var c=Array(k),d=0;d<k;d++)c[d]=Array(e),c[d][0]=d;for(var n=0;n<e;n++)c[0][n]=n;for(d=1;d<k;d++)for(n=1;n<e;n++)if(this.equals(a[b+n-1],f[g+d-1]))c[d][n]=c[d-1][n-1];else{var q=c[d-1][n]+1,p=c[d][n-1]+1;c[d][n]=q<p?q:p}return c},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,f=a[b][c],g=[];0<
b||0<c;)if(0==b)g.push(2),c--;else if(0==c)g.push(3),b--;else{var k=a[b-1][c-1],l=a[b-1][c],m=a[b][c-1];var n=l<m?l<k?l:k:m<k?m:k;n==k?(k==f?g.push(0):(g.push(1),f=k),b--,c--):n==l?(g.push(3),b--,f=l):(g.push(2),c--,f=m)}g.reverse();return g},calcSplices:function(b,d,e,f,g,k){var c=0,m=0,n=Math.min(e-d,k-g);0==d&&0==g&&(c=this.sharedPrefix(b,f,n));e==b.length&&k==f.length&&(m=this.sharedSuffix(b,f,n-c));d+=c;g+=c;e-=m;k-=m;if(0==e-d&&0==k-g)return[];if(d==e){for(b=a(d,0);g<k;)b.removed.push(f[g++]);
return[b]}if(g==k)return[a(d,e-d)];k=this.spliceOperationsFromEditDistances(this.calcEditDistances(b,d,e,f,g,k));b=void 0;e=[];for(c=0;c<k.length;c++)switch(k[c]){case 0:b&&(e.push(b),b=void 0);d++;g++;break;case 1:b||(b=a(d,0));b.addedCount++;d++;b.removed.push(f[g]);g++;break;case 2:b||(b=a(d,0));b.addedCount++;d++;break;case 3:b||(b=a(d,0)),b.removed.push(f[g]),g++}b&&e.push(b);return e},sharedPrefix:function(a,b,e){for(var c=0;c<e;c++)if(!this.equals(a[c],b[c]))return c;return e},sharedSuffix:function(a,
b,e){for(var c=a.length,d=b.length,k=0;k<e&&this.equals(a[--c],b[--d]);)k++;return k},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};return new b}();
Polymer.domInnerHTML=function(){function a(a){switch(a){case "\x26":return"\x26amp;";case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case '"':return"\x26quot;";case "\u00a0":return"\x26nbsp;"}}function b(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function c(b,l){b instanceof HTMLTemplateElement&&(b=b.content);for(var k="",n=Polymer.dom(b).childNodes,q=0,p=n.length,t;q<p&&(t=n[q]);q++){a:{var r=t;var v=b;var w=l;switch(r.nodeType){case Node.ELEMENT_NODE:for(var z=r.localName,y=
"\x3c"+z,B=r.attributes,A=0;v=B[A];A++)y+=" "+v.name+'\x3d"'+v.value.replace(d,a)+'"';y+="\x3e";r=f[z]?y:y+c(r,w)+"\x3c/"+z+"\x3e";break a;case Node.TEXT_NODE:r=r.data;r=v&&g[v.localName]?r:r.replace(e,a);break a;case Node.COMMENT_NODE:r="\x3c!--"+r.data+"--\x3e";break a;default:throw console.error(r),Error("not implemented");}}k+=r}return k}var d=/[&\u00A0"]/g,e=/[&\u00A0<>]/g,f=b("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),g=b("style script xmp iframe noembed noframes plaintext noscript".split(" "));
return{getInnerHTML:c}}();
(function(){var a=Element.prototype.insertBefore,b=Element.prototype.appendChild,c=Element.prototype.removeChild;Polymer.TreeApi={arrayCopyChildNodes:function(a){var b=[],c=0;for(a=a.firstChild;a;a=a.nextSibling)b[c++]=a;return b},arrayCopyChildren:function(a){var b=[],c=0;for(a=a.firstElementChild;a;a=a.nextElementSibling)b[c++]=a;return b},arrayCopy:function(a){for(var b=a.length,c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}};Polymer.TreeApi.Logical={hasParentNode:function(a){return!(!a.__dom||!a.__dom.parentNode)},
hasChildNodes:function(a){return!(!a.__dom||void 0===a.__dom.childNodes)},getChildNodes:function(a){return this.hasChildNodes(a)?this._getChildNodes(a):a.childNodes},_getChildNodes:function(a){if(!a.__dom.childNodes){a.__dom.childNodes=[];for(var b=a.__dom.firstChild;b;b=b.__dom.nextSibling)a.__dom.childNodes.push(b)}return a.__dom.childNodes},getParentNode:function(a){return a.__dom&&void 0!==a.__dom.parentNode?a.__dom.parentNode:a.parentNode},getFirstChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?
a.__dom.firstChild:a.firstChild},getLastChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?a.__dom.lastChild:a.lastChild},getNextSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?a.__dom.nextSibling:a.nextSibling},getPreviousSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?a.__dom.previousSibling:a.previousSibling},getFirstElementChild:function(a){return a.__dom&&void 0!==a.__dom.firstChild?this._getFirstElementChild(a):a.firstElementChild},_getFirstElementChild:function(a){for(a=
a.__dom.firstChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getLastElementChild:function(a){return a.__dom&&void 0!==a.__dom.lastChild?this._getLastElementChild(a):a.lastElementChild},_getLastElementChild:function(a){for(a=a.__dom.lastChild;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},getNextElementSibling:function(a){return a.__dom&&void 0!==a.__dom.nextSibling?this._getNextElementSibling(a):a.nextElementSibling},_getNextElementSibling:function(a){for(a=
a.__dom.nextSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.nextSibling;return a},getPreviousElementSibling:function(a){return a.__dom&&void 0!==a.__dom.previousSibling?this._getPreviousElementSibling(a):a.previousElementSibling},_getPreviousElementSibling:function(a){for(a=a.__dom.previousSibling;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.__dom.previousSibling;return a},saveChildNodes:function(a){if(!this.hasChildNodes(a)){a.__dom=a.__dom||{};a.__dom.firstChild=a.firstChild;a.__dom.lastChild=a.lastChild;
a.__dom.childNodes=[];for(var b=a.firstChild;b;b=b.nextSibling)b.__dom=b.__dom||{},b.__dom.parentNode=a,a.__dom.childNodes.push(b),b.__dom.nextSibling=b.nextSibling,b.__dom.previousSibling=b.previousSibling}},recordInsertBefore:function(a,b,c){b.__dom.childNodes=null;if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)this._linkNode(a,b,c);else this._linkNode(a,b,c)},_linkNode:function(a,b,c){a.__dom=a.__dom||{};b.__dom=b.__dom||{};c&&(c.__dom=c.__dom||{});a.__dom.previousSibling=
c?c.__dom.previousSibling:b.__dom.lastChild;a.__dom.previousSibling&&(a.__dom.previousSibling.__dom.nextSibling=a);a.__dom.nextSibling=c||null;a.__dom.nextSibling&&(a.__dom.nextSibling.__dom.previousSibling=a);a.__dom.parentNode=b;c?c===b.__dom.firstChild&&(b.__dom.firstChild=a):(b.__dom.lastChild=a,b.__dom.firstChild||(b.__dom.firstChild=a));b.__dom.childNodes=null},recordRemoveChild:function(a,b){a.__dom=a.__dom||{};b.__dom=b.__dom||{};a===b.__dom.firstChild&&(b.__dom.firstChild=a.__dom.nextSibling);
a===b.__dom.lastChild&&(b.__dom.lastChild=a.__dom.previousSibling);var c=a.__dom.previousSibling,d=a.__dom.nextSibling;c&&(c.__dom.nextSibling=d);d&&(d.__dom.previousSibling=c);a.__dom.parentNode=a.__dom.previousSibling=a.__dom.nextSibling=void 0;b.__dom.childNodes=null}};Polymer.TreeApi.Composed={getChildNodes:function(a){return Polymer.TreeApi.arrayCopyChildNodes(a)},getParentNode:function(a){return a.parentNode},clearChildNodes:function(a){a.textContent=""},insertBefore:function(b,c,f){return a.call(b,
c,f||null)},appendChild:function(a,c){return b.call(a,c)},removeChild:function(a,b){return c.call(a,b)}}})();
Polymer.DomApi=function(){function a(b){this.node=d?a.wrap(b):b}var b=Polymer.Settings,c=Polymer.TreeApi,d=b.hasShadow&&!b.nativeShadow;a.wrap=window.wrap?window.wrap:function(a){return a};a.prototype={flush:function(){Polymer.dom.flush()},deepContains:function(a){if(this.node.contains(a))return!0;var b=a;for(a=a.ownerDocument;b&&b!==a&&b!==this.node;)b=Polymer.dom(b).parentNode||b.host;return b===this.node},queryDistributedElements:function(b){for(var c=this.getEffectiveChildNodes(),d=[],e=0,f=c.length,
g;e<f&&(g=c[e]);e++)g.nodeType===Node.ELEMENT_NODE&&a.matchesSelector.call(g,b)&&d.push(g);return d},getEffectiveChildNodes:function(){for(var a=[],b=this.childNodes,c=0,d=b.length,n;c<d&&(n=b[c]);c++)if(n.localName===e)for(var q=f(n).getDistributedNodes(),p=0;p<q.length;p++)a.push(q[p]);else a.push(n);return a},observeNodes:function(b){if(b)return this.observer||(this.observer=this.node.localName===e?new a.DistributedNodesObserver(this):new a.EffectiveNodesObserver(this)),this.observer.addListener(b)},
unobserveNodes:function(a){this.observer&&this.observer.removeListener(a)},notifyObserver:function(){this.observer&&this.observer.notify()},_query:function(a,b,d){b=b||this.node;var e=[];this._queryElements(c.Logical.getChildNodes(b),a,d,e);return e},_queryElements:function(a,b,c,d){for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++)if(g.nodeType===Node.ELEMENT_NODE&&this._queryElement(g,b,c,d))return!0},_queryElement:function(a,b,d,e){var f=b(a);f&&e.push(a);if(d&&d(f))return f;this._queryElements(c.Logical.getChildNodes(a),
b,d,e)}};var e=a.CONTENT="content",f=a.factory=function(b){b=b||document;b.__domApi||(b.__domApi=new a.ctor(b));return b.__domApi};a.hasApi=function(a){return!!a.__domApi};a.ctor=a;Polymer.dom=function(b,c){return b instanceof Event?Polymer.EventApi.factory(b):a.factory(b,c)};b=Element.prototype;a.matchesSelector=b.matches||b.matchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector||b.webkitMatchesSelector;return a}();
(function(){var a=Polymer.DomApi,b=a.factory,c=Polymer.TreeApi,d=Polymer.domInnerHTML.getInnerHTML,e=a.CONTENT;if(!Polymer.Settings.useShadow){var f=Element.prototype.cloneNode,g=Document.prototype.importNode;Polymer.Base.mixin(a.prototype,{_lazyDistribute:function(a){a.shadyRoot&&a.shadyRoot._distributionClean&&(a.shadyRoot._distributionClean=!1,Polymer.dom.addDebouncer(a.debounce("_distribute",a._distributeContent)))},appendChild:function(a){return this.insertBefore(a)},insertBefore:function(d,
f){if(f&&c.Logical.getParentNode(f)!==this.node)throw Error("The ref_node to be inserted before is not a child of this node");if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var g=c.Logical.getParentNode(d);g?(a.hasApi(g)&&b(g).notifyObserver(),this._removeNode(d)):this._removeOwnerShadyRoot(d)}this._addNode(d,f)||(f&&(f=f.localName===e?this._firstComposedNode(f):f),g=this.node._isShadyRoot?this.node.host:this.node,f?c.Composed.insertBefore(g,d,f):c.Composed.appendChild(g,d));this.notifyObserver();return d},
_addNode:function(a,b){var d=this.getOwnerRoot();if(d){var e=this._maybeAddInsertionPoint(a,this.node);d._invalidInsertionPoints||(d._invalidInsertionPoints=e);this._addNodeToHost(d.host,a)}c.Logical.hasChildNodes(this.node)&&c.Logical.recordInsertBefore(a,this.node,b);if(b=this._maybeDistribute(a)||this.node.shadyRoot)if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE)for(;a.firstChild;)c.Composed.removeChild(a,a.firstChild);else(d=c.Composed.getParentNode(a))&&c.Composed.removeChild(d,a);return b},removeChild:function(a){if(c.Logical.getParentNode(a)!==
this.node)throw Error("The node to be removed is not a child of this node: "+a);if(!this._removeNode(a)){var b=this.node._isShadyRoot?this.node.host:this.node;b===c.Composed.getParentNode(a)&&c.Composed.removeChild(b,a)}this.notifyObserver();return a},_removeNode:function(a){var d=c.Logical.hasParentNode(a)&&c.Logical.getParentNode(a),e=this._ownerShadyRootForNode(a);if(d){var f=b(a)._maybeDistributeParent();c.Logical.recordRemoveChild(a,d);e&&this._removeDistributedChildren(e,a)&&(e._invalidInsertionPoints=
!0,this._lazyDistribute(e.host))}this._removeOwnerShadyRoot(a);e&&this._removeNodeFromHost(e.host,a);return f},replaceChild:function(a,b){this.insertBefore(a,b);this.removeChild(b);return a},_hasCachedOwnerRoot:function(a){return void 0!==a._ownerShadyRoot},getOwnerRoot:function(){return this._ownerShadyRootForNode(this.node)},_ownerShadyRootForNode:function(a){if(a){var b=a._ownerShadyRoot;void 0===b&&(b=a._isShadyRoot?a:(b=c.Logical.getParentNode(a))?b._isShadyRoot?b:this._ownerShadyRootForNode(b):
null,b||document.documentElement.contains(a))&&(a._ownerShadyRoot=b);return b}},_maybeDistribute:function(a){var d=a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!a.__noContent&&b(a).querySelector(e),f=d&&c.Logical.getParentNode(d).nodeType!==Node.DOCUMENT_FRAGMENT_NODE;(a=d||a.localName===e)&&(d=this.getOwnerRoot())&&this._lazyDistribute(d.host);(d=this._nodeNeedsDistribution(this.node))&&this._lazyDistribute(this.node);return d||a&&!f},_maybeAddInsertionPoint:function(a,d){if(a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||
a.__noContent)a.localName===e&&(c.Logical.saveChildNodes(d),c.Logical.saveChildNodes(a),t=!0);else for(var f=b(a).querySelectorAll(e),g=0,k,l;g<f.length&&(k=f[g]);g++){l=c.Logical.getParentNode(k);l===a&&(l=d);l=this._maybeAddInsertionPoint(k,l);var t=t||l}return t},_updateInsertionPoints:function(a){a=a.shadyRoot._insertionPoints=b(a.shadyRoot).querySelectorAll(e);for(var d=0,f;d<a.length;d++)f=a[d],c.Logical.saveChildNodes(f),c.Logical.saveChildNodes(c.Logical.getParentNode(f))},_nodeNeedsDistribution:function(b){return b&&
b.shadyRoot&&a.hasInsertionPoint(b.shadyRoot)},_addNodeToHost:function(a,b){a._elementAdd&&a._elementAdd(b)},_removeNodeFromHost:function(a,b){a._elementRemove&&a._elementRemove(b)},_removeDistributedChildren:function(a,d){a=a._insertionPoints;for(var e=0;e<a.length;e++){var f=a[e];if(this._contains(d,f))for(var f=b(f).getDistributedNodes(),g=0;g<f.length;g++){var k=!0;var l=f[g],r=c.Composed.getParentNode(l);r&&c.Composed.removeChild(r,l)}}return k},_contains:function(a,b){for(;b;){if(b==a)return!0;
b=c.Logical.getParentNode(b)}},_removeOwnerShadyRoot:function(a){if(this._hasCachedOwnerRoot(a))for(var b=c.Logical.getChildNodes(a),d=0,e=b.length,f;d<e&&(f=b[d]);d++)this._removeOwnerShadyRoot(f);a._ownerShadyRoot=void 0},_firstComposedNode:function(a){for(var c=b(a).getDistributedNodes(),d=0,e=c.length,f,g;d<e&&(f=c[d]);d++)if(g=b(f).getDestinationInsertionPoints(),g[g.length-1]===a)return f},querySelector:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node,
function(a){return!!a})[0]||null},querySelectorAll:function(b){return this._query(function(c){return a.matchesSelector.call(c,b)},this.node)},getDestinationInsertionPoints:function(){return this.node._destinationInsertionPoints||[]},getDistributedNodes:function(){return this.node._distributedNodes||[]},_clear:function(){for(;this.childNodes.length;)this.removeChild(this.childNodes[0])},setAttribute:function(a,b){this.node.setAttribute(a,b);this._maybeDistributeParent()},removeAttribute:function(a){this.node.removeAttribute(a);
this._maybeDistributeParent()},_maybeDistributeParent:function(){if(this._nodeNeedsDistribution(this.parentNode))return this._lazyDistribute(this.parentNode),!0},cloneNode:function(a){var c=f.call(this.node,!1);if(a){a=this.childNodes;for(var d=b(c),e=0,g;e<a.length;e++)g=b(a[e]).cloneNode(!0),d.appendChild(g)}return c},importNode:function(a,d){var e=this.node instanceof Document?this.node:this.node.ownerDocument,f=g.call(e,a,!1);if(d){a=c.Logical.getChildNodes(a);d=b(f);for(var k=0,l;k<a.length;k++)l=
b(e).importNode(a[k],!0),d.appendChild(l)}return f},_getComposedInnerHTML:function(){return d(this.node,!0)}});Object.defineProperties(a.prototype,{activeElement:{get:function(){var a=document.activeElement;if(!a)return null;var c=!!this.node._isShadyRoot;if(!(this.node===document||c&&this.node.host!==a&&this.node.host.contains(a)))return null;for(c=b(a).getOwnerRoot();c&&c!==this.node;)a=c.host,c=b(a).getOwnerRoot();return this.node===document?c?null:a:c===this.node?a:null},configurable:!0},childNodes:{get:function(){var a=
c.Logical.getChildNodes(this.node);return Array.isArray(a)?a:c.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return c.Logical.hasChildNodes(this.node)?Array.prototype.filter.call(this.childNodes,function(a){return a.nodeType===Node.ELEMENT_NODE}):c.arrayCopyChildren(this.node)},configurable:!0},parentNode:{get:function(){return c.Logical.getParentNode(this.node)},configurable:!0},firstChild:{get:function(){return c.Logical.getFirstChild(this.node)},configurable:!0},lastChild:{get:function(){return c.Logical.getLastChild(this.node)},
configurable:!0},nextSibling:{get:function(){return c.Logical.getNextSibling(this.node)},configurable:!0},previousSibling:{get:function(){return c.Logical.getPreviousSibling(this.node)},configurable:!0},firstElementChild:{get:function(){return c.Logical.getFirstElementChild(this.node)},configurable:!0},lastElementChild:{get:function(){return c.Logical.getLastElementChild(this.node)},configurable:!0},nextElementSibling:{get:function(){return c.Logical.getNextElementSibling(this.node)},configurable:!0},
previousElementSibling:{get:function(){return c.Logical.getPreviousElementSibling(this.node)},configurable:!0},textContent:{get:function(){var a=this.node.nodeType;if(a===Node.TEXT_NODE||a===Node.COMMENT_NODE)return this.node.textContent;for(var a=[],b=0,c=this.childNodes,d;d=c[b];b++)d.nodeType!==Node.COMMENT_NODE&&a.push(d.textContent);return a.join("")},set:function(a){var b=this.node.nodeType;b===Node.TEXT_NODE||b===Node.COMMENT_NODE?this.node.textContent=a:(this._clear(),a&&this.appendChild(document.createTextNode(a)))},
configurable:!0},innerHTML:{get:function(){var a=this.node.nodeType;return a===Node.TEXT_NODE||a===Node.COMMENT_NODE?null:d(this.node)},set:function(a){var b=this.node.nodeType;if(b!==Node.TEXT_NODE||b!==Node.COMMENT_NODE)for(this._clear(),b=document.createElement("div"),b.innerHTML=a,a=c.arrayCopyChildNodes(b),b=0;b<a.length;b++)this.appendChild(a[b])},configurable:!0}});a.hasInsertionPoint=function(a){return!(!a||!a._insertionPoints.length)}}})();
(function(){var a=Polymer.TreeApi,b=Polymer.DomApi;if(Polymer.Settings.useShadow){Polymer.Base.mixin(b.prototype,{querySelectorAll:function(b){return a.arrayCopy(this.node.querySelectorAll(b))},getOwnerRoot:function(){for(var a=this.node;a;){if(a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&a.host)return a;a=a.parentNode}},importNode:function(a,b){return(this.node instanceof Document?this.node:this.node.ownerDocument).importNode(a,b)},getDestinationInsertionPoints:function(){var b=this.node.getDestinationInsertionPoints&&
this.node.getDestinationInsertionPoints();return b?a.arrayCopy(b):[]},getDistributedNodes:function(){var b=this.node.getDistributedNodes&&this.node.getDistributedNodes();return b?a.arrayCopy(b):[]}});Object.defineProperties(b.prototype,{activeElement:{get:function(){var a=b.wrap(this.node),c=a.activeElement;return a.contains(c)?c:null},configurable:!0},childNodes:{get:function(){return a.arrayCopyChildNodes(this.node)},configurable:!0},children:{get:function(){return a.arrayCopyChildren(this.node)},
configurable:!0},textContent:{get:function(){return this.node.textContent},set:function(a){return this.node.textContent=a},configurable:!0},innerHTML:{get:function(){return this.node.innerHTML},set:function(a){return this.node.innerHTML=a},configurable:!0}});var c=function(a){b.prototype[a]=function(){return this.node[a].apply(this.node,arguments)}};(function(a){for(var b=0;b<a.length;b++)c(a[b])})("cloneNode appendChild insertBefore removeChild replaceChild setAttribute removeAttribute querySelector".split(" "));
var d=function(a){Object.defineProperty(b.prototype,a,{get:function(){return this.node[a]},configurable:!0})};(function(a){for(var b=0;b<a.length;b++)d(a[b])})("parentNode firstChild lastChild nextSibling previousSibling firstElementChild lastElementChild nextElementSibling previousElementSibling".split(" "))}})();
Polymer.Base.mixin(Polymer.dom,{_flushGuard:0,_FLUSH_MAX:100,_needsTakeRecords:!Polymer.Settings.useNativeCustomElements,_debouncers:[],_staticFlushList:[],_finishDebouncer:null,flush:function(){this._flushGuard=0;for(this._prepareFlush();this._debouncers.length&&this._flushGuard<this._FLUSH_MAX;){for(;this._debouncers.length;)this._debouncers.shift().complete();this._finishDebouncer&&this._finishDebouncer.complete();this._prepareFlush();this._flushGuard++}this._flushGuard>=this._FLUSH_MAX&&console.warn("Polymer.dom.flush aborted. Flush may not be complete.")},
_prepareFlush:function(){this._needsTakeRecords&&CustomElements.takeRecords();for(var a=0;a<this._staticFlushList.length;a++)this._staticFlushList[a]()},addStaticFlush:function(a){this._staticFlushList.push(a)},removeStaticFlush:function(a){a=this._staticFlushList.indexOf(a);0<=a&&this._staticFlushList.splice(a,1)},addDebouncer:function(a){this._debouncers.push(a);this._finishDebouncer=Polymer.Debounce(this._finishDebouncer,this._finishFlush)},_finishFlush:function(){Polymer.dom._debouncers=[]}});
Polymer.EventApi=function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.Event=function(a){this.event=a};a.Event.prototype=b.useShadow?{get rootTarget(){return this.event.path[0]},get localTarget(){return this.event.target},get path(){var a=this.event.path;Array.isArray(a)||(a=Array.prototype.slice.call(a));return a}}:{get rootTarget(){return this.event.target},get localTarget(){for(var a=this.event.currentTarget,a=a&&Polymer.dom(a).getOwnerRoot(),b=this.path,e=0;e<b.length;e++)if(Polymer.dom(b[e]).getOwnerRoot()===
a)return b[e]},get path(){if(!this.event._path){for(var a=[],b=this.rootTarget;b;){a.push(b);var e=Polymer.dom(b).getDestinationInsertionPoints();if(e.length){for(b=0;b<e.length-1;b++)a.push(e[b]);b=e[e.length-1]}else b=Polymer.dom(b).parentNode||b.host}a.push(window);this.event._path=a}return this.event._path}};return{factory:function(b){b.__eventApi||(b.__eventApi=new a.Event(b));return b.__eventApi}}}();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings.useShadow;Object.defineProperty(a.prototype,"classList",{get:function(){this._classList||(this._classList=new a.ClassList(this));return this._classList},configurable:!0});a.ClassList=function(a){this.domApi=a;this.node=a.node};a.ClassList.prototype={add:function(){this.node.classList.add.apply(this.node.classList,arguments);this._distributeParent()},remove:function(){this.node.classList.remove.apply(this.node.classList,arguments);this._distributeParent()},
toggle:function(){this.node.classList.toggle.apply(this.node.classList,arguments);this._distributeParent()},_distributeParent:function(){b||this.domApi._maybeDistributeParent()},contains:function(){return this.node.classList.contains.apply(this.node.classList,arguments)}}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.EffectiveNodesObserver=function(a){this.domApi=a;this.node=this.domApi.node;this._listeners=[]};a.EffectiveNodesObserver.prototype={addListener:function(a){this._isSetup||(this._setup(),this._isSetup=!0);a={fn:a,_nodes:[]};this._listeners.push(a);this._scheduleNotify();return a},removeListener:function(a){var b=this._listeners.indexOf(a);0<=b&&(this._listeners.splice(b,1),a._nodes=[]);this._hasListeners()||(this._cleanup(),this._isSetup=!1)},
_setup:function(){this._observeContentElements(this.domApi.childNodes)},_cleanup:function(){this._unobserveContentElements(this.domApi.childNodes)},_hasListeners:function(){return!!this._listeners.length},_scheduleNotify:function(){this._debouncer&&this._debouncer.stop();this._debouncer=Polymer.Debounce(this._debouncer,this._notify);this._debouncer.context=this;Polymer.dom.addDebouncer(this._debouncer)},notify:function(){this._hasListeners()&&this._scheduleNotify()},_notify:function(){this._beforeCallListeners();
this._callListeners()},_beforeCallListeners:function(){this._updateContentElements()},_updateContentElements:function(){this._observeContentElements(this.domApi.childNodes)},_observeContentElements:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(c.__observeNodesMap=c.__observeNodesMap||new WeakMap,c.__observeNodesMap.has(this)||c.__observeNodesMap.set(this,this._observeContent(c)))},_observeContent:function(a){var b=this;a=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});
a._avoidChangeCalculation=!0;return a},_unobserveContentElements:function(a){for(var b=0,c,d;b<a.length&&(c=a[b]);b++)this._isContent(c)&&(d=c.__observeNodesMap.get(this))&&(Polymer.dom(c).unobserveNodes(d),c.__observeNodesMap.delete(this))},_isContent:function(a){return"content"===a.localName},_callListeners:function(){for(var a=this._listeners,b=this._getEffectiveNodes(),c=0,d;c<a.length&&(d=a[c]);c++){var l=this._generateListenerInfo(d,b);(l||d._alwaysNotify)&&this._callListener(d,l)}},_getEffectiveNodes:function(){return this.domApi.getEffectiveChildNodes()},
_generateListenerInfo:function(a,b){if(a._avoidChangeCalculation)return!0;for(var c={target:this.node,addedNodes:[],removedNodes:[]},d=Polymer.ArraySplice.calculateSplices(b,a._nodes),e=0,f;e<d.length&&(f=d[e]);e++)for(var n=0,q;n<f.removed.length&&(q=f.removed[n]);n++)c.removedNodes.push(q);e=0;for(f;e<d.length&&(f=d[e]);e++)for(n=f.index;n<f.index+f.addedCount;n++)c.addedNodes.push(b[n]);a._nodes=b;if(c.addedNodes.length||c.removedNodes.length)return c},_callListener:function(a,b){return a.fn.call(this.node,
b)},enableShadowAttributeTracking:function(){}};if(b.useShadow){var c=a.EffectiveNodesObserver.prototype._setup,d=a.EffectiveNodesObserver.prototype._cleanup;Polymer.Base.mixin(a.EffectiveNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=this;this._mutationHandler=function(b){b&&b.length&&a._scheduleNotify()};this._observer=new MutationObserver(this._mutationHandler);this._boundFlush=function(){a._flush()};Polymer.dom.addStaticFlush(this._boundFlush);this._observer.observe(this.node,
{childList:!0})}c.call(this)},_cleanup:function(){this._observer.disconnect();this._mutationHandler=this._observer=null;Polymer.dom.removeStaticFlush(this._boundFlush);d.call(this)},_flush:function(){this._observer&&this._mutationHandler(this._observer.takeRecords())},enableShadowAttributeTracking:function(){if(this._observer){this._makeContentListenersAlwaysNotify();this._observer.disconnect();this._observer.observe(this.node,{childList:!0,attributes:!0,subtree:!0});var a=this.domApi.getOwnerRoot();
(a=a&&a.host)&&Polymer.dom(a).observer&&Polymer.dom(a).observer.enableShadowAttributeTracking()}},_makeContentListenersAlwaysNotify:function(){for(var a=0,b;a<this._listeners.length;a++)b=this._listeners[a],b._alwaysNotify=b._isContentListener}})}})();
(function(){var a=Polymer.DomApi.ctor,b=Polymer.Settings;a.DistributedNodesObserver=function(b){a.EffectiveNodesObserver.call(this,b)};a.DistributedNodesObserver.prototype=Object.create(a.EffectiveNodesObserver.prototype);Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){},_cleanup:function(){},_beforeCallListeners:function(){},_getEffectiveNodes:function(){return this.domApi.getDistributedNodes()}});b.useShadow&&Polymer.Base.mixin(a.DistributedNodesObserver.prototype,{_setup:function(){if(!this._observer){var a=
this.domApi.getOwnerRoot();if(a=a&&a.host){var b=this;this._observer=Polymer.dom(a).observeNodes(function(){b._scheduleNotify()});this._observer._isContentListener=!0;this._hasAttrSelect()&&Polymer.dom(a).observer.enableShadowAttributeTracking()}}},_hasAttrSelect:function(){var a=this.node.getAttribute("select");return a&&a.match(/[[.]+/)},_cleanup:function(){var a=this.domApi.getOwnerRoot();(a=a&&a.host)&&Polymer.dom(a).unobserveNodes(this._observer);this._observer=null}})})();
(function(){function a(a,b){b._distributedNodes.push(a);var c=a._destinationInsertionPoints;c?c.push(b):a._destinationInsertionPoints=[b]}function b(a){for(var b=d.Logical.getChildNodes(a),c=0,e;c<b.length;c++)if(e=b[c],e.localName&&"content"===e.localName)return a.domHost}var c=Polymer.DomApi,d=Polymer.TreeApi;Polymer.Base._addFeature({_prepShady:function(){this._useContent=this._useContent||!!this._template},_setupShady:function(){this.shadyRoot=null;this.__domApi||(this.__domApi=null);this.__dom||
(this.__dom=null);this._ownerShadyRoot||(this._ownerShadyRoot=void 0)},_poolContent:function(){this._useContent&&d.Logical.saveChildNodes(this)},_setupRoot:function(){if(this._useContent&&(this._createLocalRoot(),!this.dataHost)){var a=d.Logical.getChildNodes(this);if(f&&a)for(var b=0;b<a.length;b++)CustomElements.upgrade(a[b])}},_createLocalRoot:function(){this.shadyRoot=this.root;this.shadyRoot._distributionClean=!1;this.shadyRoot._hasDistributed=!1;this.shadyRoot._isShadyRoot=!0;this.shadyRoot._dirtyRoots=
[];var a=this.shadyRoot._insertionPoints=!this._notes||this._notes._hasContent?this.shadyRoot.querySelectorAll("content"):[];d.Logical.saveChildNodes(this.shadyRoot);for(var b=0,c;b<a.length;b++)c=a[b],d.Logical.saveChildNodes(c),d.Logical.saveChildNodes(c.parentNode);this.shadyRoot.host=this},distributeContent:function(a){if(this.shadyRoot){this.shadyRoot._invalidInsertionPoints=this.shadyRoot._invalidInsertionPoints||a;for(a=this;a&&b(a);)a=a.domHost;Polymer.dom(this)._lazyDistribute(a)}},_distributeContent:function(){this._useContent&&
!this.shadyRoot._distributionClean&&(this.shadyRoot._invalidInsertionPoints&&(Polymer.dom(this)._updateInsertionPoints(this),this.shadyRoot._invalidInsertionPoints=!1),this._beginDistribute(),this._distributeDirtyRoots(),this._finishDistribute())},_beginDistribute:function(){this._useContent&&c.hasInsertionPoint(this.shadyRoot)&&(this._resetDistribution(),this._distributePool(this.shadyRoot,this._collectPool()))},_distributeDirtyRoots:function(){for(var a=this.shadyRoot._dirtyRoots,b=0,c=a.length,
d;b<c&&(d=a[b]);b++)d._distributeContent();this.shadyRoot._dirtyRoots=[]},_finishDistribute:function(){if(this._useContent){this.shadyRoot._distributionClean=!0;if(c.hasInsertionPoint(this.shadyRoot)){this._composeTree();for(var a=this.shadyRoot,b=0,e;b<a._insertionPoints.length;b++)e=a._insertionPoints[b],c.hasApi(e)&&Polymer.dom(e).notifyObserver()}else this.shadyRoot._hasDistributed?(a=this._composeNode(this),this._updateChildNodes(this,a)):(d.Composed.clearChildNodes(this),this.appendChild(this.shadyRoot));
this.shadyRoot._hasDistributed||c.hasApi(this)&&Polymer.dom(this).notifyObserver();this.shadyRoot._hasDistributed=!0}},elementMatches:function(a,b){return c.matchesSelector.call(b||this,a)},_resetDistribution:function(){for(var a=d.Logical.getChildNodes(this),b=0;b<a.length;b++){var c=a[b];c._destinationInsertionPoints&&(c._destinationInsertionPoints=void 0);if("content"==c.localName){var e=c._distributedNodes;if(e)for(var f=0;f<e.length;f++){var q=e[f]._destinationInsertionPoints;q&&q.splice(q.indexOf(c)+
1,q.length)}}}a=this.shadyRoot._insertionPoints;for(b=0;b<a.length;b++)a[b]._distributedNodes=[]},_collectPool:function(){for(var a=[],b=d.Logical.getChildNodes(this),c=0;c<b.length;c++){var e=b[c];"content"==e.localName?a.push.apply(a,e._distributedNodes):a.push(e)}return a},_distributePool:function(a,b){a=a._insertionPoints;for(var e=0,f=a.length,g;e<f&&(g=a[e]);e++){this._distributeInsertionPoint(g,b);var k=d.Logical.getParentNode(g);k&&k.shadyRoot&&c.hasInsertionPoint(k.shadyRoot)&&k.shadyRoot._distributionClean&&
(k.shadyRoot._distributionClean=!1,this.shadyRoot._dirtyRoots.push(k))}},_distributeInsertionPoint:function(b,c){for(var e=!1,f=0,g=c.length,k;f<g;f++)(k=c[f])&&this._matchesContentSelect(k,b)&&(a(k,b),c[f]=void 0,e=!0);if(!e)for(c=d.Logical.getChildNodes(b),e=0;e<c.length;e++)a(c[e],b)},_composeTree:function(){this._updateChildNodes(this,this._composeNode(this));for(var a=this.shadyRoot._insertionPoints,b=0,c=a.length,e,f;b<c&&(e=a[b]);b++)f=d.Logical.getParentNode(e),f._useContent||f===this||f===
this.shadyRoot||this._updateChildNodes(f,this._composeNode(f))},_composeNode:function(a){var b=[];a=d.Logical.getChildNodes(a.shadyRoot||a);for(var c=0;c<a.length;c++){var e=a[c];if("content"==e.localName)for(var f=e._distributedNodes,g=0;g<f.length;g++){var p=f[g],t=p._destinationInsertionPoints;t&&t[t.length-1]===e&&b.push(p)}else b.push(e)}return b},_updateChildNodes:function(a,b){for(var c=d.Composed.getChildNodes(a),e=Polymer.ArraySplice.calculateSplices(b,c),f=0,g=0,k;f<e.length&&(k=e[f]);f++){for(var t=
0,r;t<k.removed.length&&(r=k.removed[t]);t++)d.Composed.getParentNode(r)===a&&d.Composed.removeChild(a,r),c.splice(k.index+g,1);g-=k.addedCount}for(f=0;f<e.length&&(k=e[f]);f++)for(g=c[k.index],t=k.index,r;t<k.index+k.addedCount;t++)r=b[t],d.Composed.insertBefore(a,r,g),c.splice(t,0,r)},_matchesContentSelect:function(a,b){b=b.getAttribute("select");return b?(b=b.trim())?a instanceof Element&&/^(:not\()?[*.#[a-zA-Z_|]/.test(b)?this.elementMatches(b,a):!1:!0:!0},_elementAdd:function(){},_elementRemove:function(){}});
var e={get:function(){var a=Polymer.dom(this).getOwnerRoot();return a&&a.host},configurable:!0};Object.defineProperty(Polymer.Base,"domHost",e);Polymer.BaseDescriptors.domHost=e;var f=window.CustomElements&&!CustomElements.useNative})();
Polymer.Settings.useShadow&&Polymer.Base._addFeature({_poolContent:function(){},_beginDistribute:function(){},distributeContent:function(){},_distributeContent:function(){},_finishDistribute:function(){},_createLocalRoot:function(){this.createShadowRoot();this.shadowRoot.appendChild(this.root);this.root=this.shadowRoot}});
Polymer.Async={_currVal:0,_lastVal:0,_callbacks:[],_twiddleContent:0,_twiddle:document.createTextNode(""),run:function(a,b){if(0<b)return~setTimeout(a,b);this._twiddle.textContent=this._twiddleContent++;this._callbacks.push(a);return this._currVal++},cancel:function(a){if(0>a)clearTimeout(~a);else{var b=a-this._lastVal;if(0<=b){if(!this._callbacks[b])throw"invalid async handle: "+a;this._callbacks[b]=null}}},_atEndOfMicrotask:function(){for(var a=this._callbacks.length,b=0;b<a;b++){var c=this._callbacks[b];
if(c)try{c()}catch(d){throw b++,this._callbacks.splice(0,b),this._lastVal+=b,this._twiddle.textContent=this._twiddleContent++,d;}}this._callbacks.splice(0,a);this._lastVal+=a}};(new window.MutationObserver(function(){Polymer.Async._atEndOfMicrotask()})).observe(Polymer.Async._twiddle,{characterData:!0});
Polymer.Debounce=function(){function a(a){this.context=a;var b=this;this.boundComplete=function(){b.complete()}}var b=Polymer.Async;a.prototype={go:function(a,d){this.finish=function(){b.cancel(c)};var c=b.run(this.boundComplete,d);this.callback=a},stop:function(){this.finish&&(this.finish(),this.callback=this.finish=null)},complete:function(){if(this.finish){var a=this.callback;this.stop();a.call(this.context)}}};return function(b,d,e){b?b.stop():b=new a(this);b.go(d,e);return b}}();
Polymer.Base._addFeature({_setupDebouncers:function(){this._debouncers={}},debounce:function(a,b,c){return this._debouncers[a]=Polymer.Debounce.call(this,this._debouncers[a],b,c)},isDebouncerActive:function(a){a=this._debouncers[a];return!(!a||!a.finish)},flushDebouncer:function(a){(a=this._debouncers[a])&&a.complete()},cancelDebouncer:function(a){(a=this._debouncers[a])&&a.stop()}});Polymer.DomModule=document.createElement("dom-module");
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this._prepBehaviors();this._prepConstructor();this._prepTemplate();this._prepShady();this._prepPropertyInfo()},_prepBehavior:function(a){this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._registerHost();this._template&&(this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting());this._marshalHostAttributes();this._setupDebouncers();this._marshalBehaviors();this._tryReady()},_marshalBehavior:function(){}});
</script>






<script>//~~WEBPATH~~/polymer/polymer.html.js
(function(){Polymer.nar=[];var a=Polymer.Settings.disableUpgradeEnabled;Polymer.Annotations={parseAnnotations:function(a,c){var b=[];this._parseNodeAnnotations(a._content||a.content,b,c||a.hasAttribute("strip-whitespace"));return b},_parseNodeAnnotations:function(a,c,d){return a.nodeType===Node.TEXT_NODE?this._parseTextNodeAnnotation(a,c):this._parseElementAnnotations(a,c,d)},_bindingRegex:/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*)(?:,\s*(?:(?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*"))\s*))*)?)\)\s*)?)(?:]]|}})/g,
_parseBindings:function(a){for(var b=this._bindingRegex,d=[],e=0,f;null!==(f=b.exec(a));){f.index>e&&d.push({literal:a.slice(e,f.index)});var e=f[1][0],g=!!f[2];f=f[3].trim();var k;if("{"==e&&0<(k=f.indexOf("::"))){var l=f.substring(k+2);f=f.substring(0,k);var m=!0}d.push({compoundIndex:d.length,value:f,mode:e,negate:g,event:l,customEvent:m});e=b.lastIndex}e&&e<a.length&&(a=a.substring(e))&&d.push({literal:a});if(d.length)return d},_literalFromParts:function(a){for(var b="",d=0;d<a.length;d++)b+=
a[d].literal||"";return b},_parseTextNodeAnnotation:function(a,c){var b=this._parseBindings(a.textContent);if(b)return a.textContent=this._literalFromParts(b)||" ",a={bindings:[{kind:"text",name:"textContent",parts:b,isCompound:1!==b.length}]},c.push(a),a},_parseElementAnnotations:function(a,c,d){var b={bindings:[],events:[]};"content"===a.localName&&(c._hasContent=!0);this._parseChildNodesAnnotations(a,b,c,d);a.attributes&&(this._parseNodeAttributeAnnotations(a,b,c),this.prepElement&&this.prepElement(a));
(b.bindings.length||b.events.length||b.id)&&c.push(b);return b},_parseChildNodesAnnotations:function(a,c,d,e){if(a.firstChild)for(var b=a.firstChild,g=0;b;){var k=b.nextSibling;"template"!==b.localName||b.hasAttribute("preserve-content")||this._parseTemplate(b,g,d,c,e);"slot"==b.localName&&(b=this._replaceSlotWithContent(b));if(b.nodeType===Node.TEXT_NODE){for(var l=k;l&&l.nodeType===Node.TEXT_NODE;)b.textContent+=l.textContent,k=l.nextSibling,a.removeChild(l),l=k;e&&!b.textContent.trim()&&(a.removeChild(b),
g--)}b.parentNode&&(b=this._parseNodeAnnotations(b,d,e))&&(b.parent=c,b.index=g);b=k;g++}},_replaceSlotWithContent:function(a){for(var b=a.ownerDocument.createElement("content");a.firstChild;)b.appendChild(a.firstChild);for(var d=a.attributes,e=0;e<d.length;e++){var f=d[e];b.setAttribute(f.name,f.value)}(d=a.getAttribute("name"))&&b.setAttribute("select","[slot\x3d'"+d+"']");a.parentNode.replaceChild(b,a);return b},_parseTemplate:function(a,c,d,e,f){var b=document.createDocumentFragment();b._notes=
this.parseAnnotations(a,f);b.appendChild(a.content);d.push({bindings:Polymer.nar,events:Polymer.nar,templateContent:b,parent:e,index:c})},_parseNodeAttributeAnnotations:function(a,c){for(var b=Array.prototype.slice.call(a.attributes),e=b.length-1,f;f=b[e];e--){var g=f.name;f=f.value;var k;"on-"===g.slice(0,3)?(a.removeAttribute(g),c.events.push({name:g.slice(3),value:f})):(k=this._parseNodeAttributeAnnotation(a,g,f))?c.bindings.push(k):"id"===g&&(c.id=f)}},_parseNodeAttributeAnnotation:function(b,
c,d){if(d=this._parseBindings(d)){var e=c,f="property";"$"==c[c.length-1]&&(c=c.slice(0,-1),f="attribute");var g=this._literalFromParts(d);g&&"attribute"==f&&b.setAttribute(c,g);"input"===b.localName&&"value"===e&&b.setAttribute(e,"");a&&"disable-upgrade$"===e&&b.setAttribute(c,"");b.removeAttribute(e);b=Polymer.CaseMap.dashToCamelCase(c);"property"===f&&(c=b);return{kind:f,name:c,propertyName:b,parts:d,literal:g,isCompound:1!==d.length}}},findAnnotatedNode:function(a,c){var b=c.parent&&Polymer.Annotations.findAnnotatedNode(a,
c.parent);if(b)for(a=b.firstChild,b=0;a;a=a.nextSibling){if(c.index===b++)return a}else return a}}})();
(function(){function a(a,c){return a.replace(e,function(a,d,e,f){return d+"'"+b(e.replace(/["']/g,""),c)+"'"+f})}function b(a,b){if(a&&g.test(a))return a;b=b.body.__urlResolver||(b.body.__urlResolver=b.createElement("a"));b.href=a;return b.href||a}var c,d,e=/(url\()([^)]*)(\))/g,f={"*":["href","src","style","url"],form:["action"]},g=/(^\/)|(^#)|(^[\w-\d]*:)/,k=/\{\{|\[\[/;Polymer.ResolveUrl={resolveCss:a,resolveAttrs:function(c,d){for(var e in f)for(var g=f[e],l=0,m=g.length,r,v,w;l<m&&(r=g[l]);l++)("*"===
e||c.localName===e)&&(w=(v=c.attributes[r])&&v.value)&&0>w.search(k)&&(v.value="style"===r?a(w,d):b(w,d))},resolveUrl:function(a,e){c||(c=document.implementation.createHTMLDocument("temp"),d=c.createElement("base"),c.head.appendChild(d));d.href=e;return b(a,c)}}})();
Polymer.Path={root:function(a){var b=a.indexOf(".");return-1===b?a:a.slice(0,b)},isDeep:function(a){return-1!==a.indexOf(".")},isAncestor:function(a,b){return 0===a.indexOf(b+".")},isDescendant:function(a,b){return 0===b.indexOf(a+".")},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b,c){return a===c||this.isAncestor(a,c)||!!b&&this.isDescendant(a,c)}};
Polymer.Base._addFeature({_prepAnnotations:function(){if(this._template){var a=this;Polymer.Annotations.prepElement=function(b){a._prepElement(b)};this._template._content&&this._template._content._notes?this._notes=this._template._content._notes:(this._notes=Polymer.Annotations.parseAnnotations(this._template),this._processAnnotations(this._notes));Polymer.Annotations.prepElement=null}else this._notes=[]},_processAnnotations:function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.bindings.length;d++)for(var e=
c.bindings[d],f=0;f<e.parts.length;f++){var g=e.parts[f];if(!g.literal){var k=this._parseMethod(g.value);k?g.signature=k:g.model=Polymer.Path.root(g.value)}}if(c.templateContent){this._processAnnotations(c.templateContent._notes);var e=c.templateContent._parentProps=this._discoverTemplateParentProps(c.templateContent._notes),d=[],l;for(l in e)e="_parent_"+l,d.push({index:c.index,kind:"property",name:e,propertyName:e,parts:[{mode:"{",model:l,value:l}]});c.bindings=c.bindings.concat(d)}}},_discoverTemplateParentProps:function(a){for(var b=
{},c=0,d;c<a.length&&(d=a[c]);c++){for(var e=0,f=d.bindings,g;e<f.length&&(g=f[e]);e++)for(var k=0,l=g.parts,m;k<l.length&&(m=l[k]);k++)if(m.signature){for(var n=m.signature.args,q=0;q<n.length;q++){var p=n[q].model;p&&(b[p]=!0)}m.signature.dynamicFn&&(b[m.signature.method]=!0)}else m.model&&(b[m.model]=!0);d.templateContent&&Polymer.Base.mixin(b,d.templateContent._parentProps)}return b},_prepElement:function(a){Polymer.ResolveUrl.resolveAttrs(a,this._template.ownerDocument)},_findAnnotatedNode:Polymer.Annotations.findAnnotatedNode,
_marshalAnnotationReferences:function(){this._template&&(this._marshalIdNodes(),this._marshalAnnotatedNodes(),this._marshalAnnotatedListeners())},_configureAnnotationReferences:function(){for(var a=this._notes,b=this._nodes,c=0;c<a.length;c++){var d=a[c],e=b[c];this._configureTemplateContent(d,e);this._configureCompoundBindings(d,e)}},_configureTemplateContent:function(a,b){a.templateContent&&(b._content=a.templateContent)},_configureCompoundBindings:function(a,b){a=a.bindings;for(var c=0;c<a.length;c++){var d=
a[c];if(d.isCompound){for(var e=b.__compoundStorage__||(b.__compoundStorage__={}),f=d.parts,g=Array(f.length),k=0;k<f.length;k++)g[k]=f[k].literal;f=d.name;e[f]=g;d.literal&&"property"==d.kind&&(b._configValue?b._configValue(f,d.literal):b[f]=d.literal)}}},_marshalIdNodes:function(){this.$={};for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)c.id&&(this.$[c.id]=this._findAnnotatedNode(this.root,c))},_marshalAnnotatedNodes:function(){if(this._notes&&this._notes.length){for(var a=Array(this._notes.length),
b=0;b<this._notes.length;b++)a[b]=this._findAnnotatedNode(this.root,this._notes[b]);this._nodes=a}},_marshalAnnotatedListeners:function(){for(var a=0,b=this._notes.length,c;a<b&&(c=this._notes[a]);a++)if(c.events&&c.events.length)for(var d=this._findAnnotatedNode(this.root,c),e=0,f=c.events,g;e<f.length&&(g=f[e]);e++)this.listen(d,g.name,g.value)}});
Polymer.Base._addFeature({listeners:{},_listenListeners:function(a){var b;for(b in a){if(0>b.indexOf(".")){var c=this;var d=b}else d=b.split("."),c=this.$[d[0]],d=d[1];this.listen(c,d,a[b])}},listen:function(a,b,c){var d=this._recallEventHandler(this,b,a,c);d||(d=this._createEventHandler(a,b,c));d._listening||(this._listen(a,b,d),d._listening=!0)},_boundListenerKey:function(a,b){return a+":"+b},_recordEventHandler:function(a,b,c,d,e){var f=a.__boundListeners;f||(f=a.__boundListeners=new WeakMap);
a=f.get(c);a||(a={},Polymer.Settings.isIE&&c==window||f.set(c,a));a[this._boundListenerKey(b,d)]=e},_recallEventHandler:function(a,b,c,d){if(a=a.__boundListeners)if(c=a.get(c))return c[this._boundListenerKey(b,d)]},_createEventHandler:function(a,b,c){function d(a){if(e[c])e[c](a,a.detail);else e._warn(e._logf("_createEventHandler","listener method `"+c+"` not defined"))}var e=this;d._listening=!1;this._recordEventHandler(e,b,a,c,d);return d},unlisten:function(a,b,c){if(c=this._recallEventHandler(this,
b,a,c))this._unlisten(a,b,c),c._listening=!1},_listen:function(a,b,c){a.addEventListener(b,c)},_unlisten:function(a,b,c){a.removeEventListener(b,c)}});
(function(){function a(a){var b=a.sourceCapabilities;if(!b||b.firesTouchEvents)if(a.__polymerGesturesHandled={skip:!0},"click"===a.type){for(var b=Polymer.dom(a).path,c=0;c<b.length;c++)if(b[c]===p.mouse.target)return;a.preventDefault();a.stopPropagation()}}function b(b){for(var c=q?["click"]:k,d=0,e;d<c.length;d++)e=c[d],b?document.addEventListener(e,a,!0):document.removeEventListener(e,a,!0)}function c(a){var b=a.type;return-1===k.indexOf(b)?!1:"mousemove"===b?(b=void 0===a.buttons?1:a.buttons,
a instanceof window.MouseEvent&&!m&&(b=l[a.which]||0),!!(b&1)):0===(void 0===a.button?0:a.button)}function d(a,b,c){a.movefn=b;a.upfn=c;document.addEventListener("mousemove",b);document.addEventListener("mouseup",c)}function e(a){document.removeEventListener("mousemove",a.movefn);document.removeEventListener("mouseup",a.upfn);a.movefn=null;a.upfn=null}var f=Polymer.DomApi.wrap,g="string"===typeof document.head.style.touchAction,k=["mousedown","mousemove","mouseup","click"],l=[0,1,4,2];try{var m=1===
(new MouseEvent("test",{buttons:1})).buttons}catch(v){m=!1}var n=!1;(function(){try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,a);window.removeEventListener("test",null,a)}catch(w){}})();var q=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),p={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener("touchend",function(a){p.mouse.mouseIgnoreJob||b(!0);p.mouse.target=Polymer.dom(a).rootTarget;
p.mouse.mouseIgnoreJob=Polymer.Debounce(p.mouse.mouseIgnoreJob,function(){b();p.mouse.target=null;p.mouse.mouseIgnoreJob=null},2500)},n?{passive:!0}:!1);var t={gestures:{},recognizers:[],deepTargetFind:function(a,b){for(var c=document.elementFromPoint(a,b),d=c;d&&d.shadowRoot;)(d=d.shadowRoot.elementFromPoint(a,b))&&(c=d);return c},findOriginalTarget:function(a){return a.path?a.path[0]:a.target},handleNative:function(a){var b=a.type,c=f(a.currentTarget).__polymerGestures;if(c&&(c=c[b])){if(!a.__polymerGesturesHandled&&
(a.__polymerGesturesHandled={},"touch"===b.slice(0,5))){var d=a.changedTouches[0];"touchstart"===b&&1===a.touches.length&&(p.touch.id=d.identifier);if(p.touch.id!==d.identifier)return;g||"touchstart"!==b&&"touchmove"!==b||t.handleTouchAction(a)}d=a.__polymerGesturesHandled;if(!d.skip){for(var e=t.recognizers,k=0,l;k<e.length;k++)l=e[k],c[l.name]&&!d[l.name]&&l.flow&&-1<l.flow.start.indexOf(a.type)&&l.reset&&l.reset();k=0;for(l;k<e.length;k++)l=e[k],c[l.name]&&!d[l.name]&&(d[l.name]=!0,l[b](a))}}},
handleTouchAction:function(a){var b=a.changedTouches[0],c=a.type;if("touchstart"===c)p.touch.x=b.clientX,p.touch.y=b.clientY,p.touch.scrollDecided=!1;else if("touchmove"===c&&!p.touch.scrollDecided){p.touch.scrollDecided=!0;for(var c=Polymer.dom(a).path,d="auto",e=0,f;e<c.length;e++)if(f=c[e],f.__polymerGesturesTouchAction){d=f.__polymerGesturesTouchAction;break}c=d;d=!1;e=Math.abs(p.touch.x-b.clientX);b=Math.abs(p.touch.y-b.clientY);a.cancelable&&("none"===c?d=!0:"pan-x"===c?d=b>e:"pan-y"===c&&(d=
e>b));d?a.preventDefault():t.prevent("track")}},add:function(a,b,c){a=f(a);var d=this.gestures[b],e=d.deps,g=d.name,l=a.__polymerGestures;l||(a.__polymerGestures=l={});for(var m=0,n,r;m<e.length;m++)n=e[m],q&&-1<k.indexOf(n)&&"click"!==n||((r=l[n])||(l[n]=r={_count:0}),0===r._count&&a.addEventListener(n,this.handleNative),r[g]=(r[g]||0)+1,r._count=(r._count||0)+1);a.addEventListener(b,c);d.touchAction&&this.setTouchAction(a,d.touchAction)},remove:function(a,b,c){a=f(a);var d=this.gestures[b],e=d.deps,
d=d.name,g=a.__polymerGestures;if(g)for(var k=0,l,m;k<e.length;k++)l=e[k],(m=g[l])&&m[d]&&(m[d]=(m[d]||1)-1,m._count=(m._count||1)-1,0===m._count&&a.removeEventListener(l,this.handleNative));a.removeEventListener(b,c)},register:function(a){this.recognizers.push(a);for(var b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},findRecognizerByEvent:function(a){for(var b=0,c;b<this.recognizers.length;b++){c=this.recognizers[b];for(var d=0,e;d<c.emits.length;d++)if(e=c.emits[d],e===a)return c}return null},
setTouchAction:function(a,b){g&&(a.style.touchAction=b);a.__polymerGesturesTouchAction=b},fire:function(a,b,c){Polymer.Base.fire(b,c,{node:a,bubbles:!0,cancelable:!0}).defaultPrevented&&(a=c.preventer||c.sourceEvent)&&a.preventDefault&&a.preventDefault()},prevent:function(a){a=this.findRecognizerByEvent(a);a.info&&(a.info.prevent=!0)},resetMouseCanceller:function(){p.mouse.mouseIgnoreJob&&p.mouse.mouseIgnoreJob.complete()}};t.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown",
"touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){e(this.info)},mousedown:function(a){if(c(a)){var b=t.findOriginalTarget(a),f=this;d(this.info,function(a){c(a)||(f.fire("up",b,a),e(f.info))},function(a){c(a)&&f.fire("up",b,a);e(f.info)});this.fire("down",b,a)}},touchstart:function(a){this.fire("down",t.findOriginalTarget(a),a.changedTouches[0],a)},touchend:function(a){this.fire("up",t.findOriginalTarget(a),a.changedTouches[0],a)},fire:function(a,
b,c,d){t.fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return t.prevent(a)}})}});t.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(a){2<this.moves.length&&this.moves.shift();this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start";this.info.started=
!1;this.info.moves=[];this.info.x=0;this.info.y=0;this.info.prevent=!1;e(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;b=Math.abs(this.info.y-b);return 5<=Math.abs(this.info.x-a)||5<=b},mousedown:function(a){if(c(a)){var b=t.findOriginalTarget(a),f=this,g=function(a){var d=a.clientX,g=a.clientY;f.hasMovedEnough(d,g)&&(f.info.state=f.info.started?"mouseup"===a.type?"end":"track":"start","start"===f.info.state&&t.prevent("tap"),f.info.addMove({x:d,
y:g}),c(a)||(f.info.state="end",e(f.info)),f.fire(b,a),f.info.started=!0)};d(this.info,g,function(a){f.info.started&&g(a);e(f.info)});this.info.x=a.clientX;this.info.y=a.clientY}},touchstart:function(a){a=a.changedTouches[0];this.info.x=a.clientX;this.info.y=a.clientY},touchmove:function(a){var b=t.findOriginalTarget(a);a=a.changedTouches[0];var c=a.clientX,d=a.clientY;this.hasMovedEnough(c,d)&&("start"===this.info.state&&t.prevent("tap"),this.info.addMove({x:c,y:d}),this.fire(b,a),this.info.state=
"track",this.info.started=!0)},touchend:function(a){var b=t.findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:c.clientX,y:c.clientY}),this.fire(b,c,a))},fire:function(a,b,c){var d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,k=0;if(d){var l=e.x-d.x;k=e.y-d.y}return t.fire(a,"track",{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:l,ddy:k,sourceEvent:b,preventer:c,
hover:function(){return t.deepTargetFind(b.clientX,b.clientY)}})}});t.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN;this.info.y=NaN;this.info.prevent=!1},save:function(a){this.info.x=a.clientX;this.info.y=a.clientY},mousedown:function(a){c(a)&&this.save(a)},click:function(a){c(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],
a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){var c=Math.abs(a.clientX-this.info.x),d=Math.abs(a.clientY-this.info.y),e=t.findOriginalTarget(a);if(!(c=isNaN(c)||isNaN(d)||25>=c&&25>=d))if("click"===a.type)if(0===a.detail)c=!0;else var c=t.findOriginalTarget(a).getBoundingClientRect(),d=a.pageX,f=a.pageY,c=!(d>=c.left&&d<=c.right&&f>=c.top&&f<=c.bottom);else c=!1;c&&(this.info.prevent||t.fire(e,"tap",{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b}))}});var r=
{x:"pan-x",y:"pan-y",none:"none",all:"auto"};Polymer.Base._addFeature({_setupGestures:function(){this.__polymerGestures=null},_listen:function(a,b,c){t.gestures[b]?t.add(a,b,c):a.addEventListener(b,c)},_unlisten:function(a,b,c){t.gestures[b]?t.remove(a,b,c):a.removeEventListener(b,c)},setScrollDirection:function(a,b){t.setTouchAction(b||this,r[a]||"auto")}});Polymer.Gestures=t})();
(function(){Polymer.Base._addFeature({$$:function(a){return Polymer.dom(this.root).querySelector(a)},toggleClass:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.classList.contains(a));c?Polymer.dom(d).classList.add(a):Polymer.dom(d).classList.remove(a)},toggleAttribute:function(a,c,d){d=d||this;1==arguments.length&&(c=!d.hasAttribute(a));c?Polymer.dom(d).setAttribute(a,""):Polymer.dom(d).removeAttribute(a)},classFollows:function(a,c,d){d&&Polymer.dom(d).classList.remove(a);c&&Polymer.dom(c).classList.add(a)},
attributeFollows:function(a,c,d){d&&Polymer.dom(d).removeAttribute(a);c&&Polymer.dom(c).setAttribute(a,"")},getEffectiveChildNodes:function(){return Polymer.dom(this).getEffectiveChildNodes()},getEffectiveChildren:function(){return Polymer.dom(this).getEffectiveChildNodes().filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},getEffectiveTextContent:function(){for(var a=this.getEffectiveChildNodes(),c=[],d=0,e;e=a[d];d++)e.nodeType!==Node.COMMENT_NODE&&c.push(Polymer.dom(e).textContent);return c.join("")},
queryEffectiveChildren:function(a){return(a=Polymer.dom(this).queryDistributedElements(a))&&a[0]},queryAllEffectiveChildren:function(a){return Polymer.dom(this).queryDistributedElements(a)},getContentChildNodes:function(a){return(a=Polymer.dom(this.root).querySelector(a||"content"))?Polymer.dom(a).getDistributedNodes():[]},getContentChildren:function(a){return this.getContentChildNodes(a).filter(function(a){return a.nodeType===Node.ELEMENT_NODE})},fire:function(a,c,d){d=d||Polymer.nob;var b=d.node||
this;c=null===c||void 0===c?{}:c;var f=d._useCache;d=this._getEvent(a,void 0===d.bubbles?!0:d.bubbles,!!d.cancelable,f);d.detail=c;f&&(this.__eventCache[a]=null);b.dispatchEvent(d);f&&(this.__eventCache[a]=d);return d},__eventCache:{},_getEvent:function(a,c,d,e){(e=e&&this.__eventCache[a])&&e.bubbles==c&&e.cancelable==d||(e=new Event(a,{bubbles:!!c,cancelable:d}));return e},async:function(a,c){var b=this;return Polymer.Async.run(function(){a.call(b)},c)},cancelAsync:function(a){Polymer.Async.cancel(a)},
arrayDelete:function(a,c){if(Array.isArray(a)){if(c=a.indexOf(c),0<=c)return a.splice(c,1)}else if(c=this._get(a).indexOf(c),0<=c)return this.splice(a,c,1)},transform:function(a,c){c=c||this;c.style.webkitTransform=a;c.style.transform=a},translate3d:function(a,c,d,e){this.transform("translate3d("+a+","+c+","+d+")",e||this)},importHref:function(a,c,d,e){function b(a){a.target.__firedError=!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return d.call(n,a)}function g(a){a.target.__firedLoad=
!0;a.target.removeEventListener("load",g);a.target.removeEventListener("error",b);return c.call(n,a)}var k=document.createElement("link");k.rel="import";k.href=a;a=Polymer.Base.importHref.imported=Polymer.Base.importHref.imported||{};var l=a[k.href],m=l||k,n=this;c&&m.addEventListener("load",g);d&&m.addEventListener("error",b);l?(l.__firedLoad&&l.dispatchEvent(new Event("load")),l.__firedError&&l.dispatchEvent(new Event("error"))):(a[k.href]=k,e&&k.setAttribute("async",""),document.head.appendChild(k));
return m},create:function(a,c){a=document.createElement(a);if(c)for(var b in c)a[b]=c[b];return a},isLightDescendant:function(a){return this!==a&&this.contains(a)&&Polymer.dom(this).getOwnerRoot()===Polymer.dom(a).getOwnerRoot()},isLocalDescendant:function(a){return this.root===Polymer.dom(a).getOwnerRoot()}});if(!Polymer.Settings.useNativeCustomElements){var a=Polymer.Base.importHref;Polymer.Base.importHref=function(b,c,d,e){CustomElements.ready=!1;return a.call(this,b,function(a){CustomElements.upgradeDocumentTree(document);
CustomElements.ready=!0;if(c)return c.call(this,a)},d,e)}}})();
Polymer.Bind={prepareModel:function(a){Polymer.Base.mixin(a,this._modelApi)},_modelApi:{_notifyChange:function(a,b,c){c=void 0===c?this[a]:c;b=b||Polymer.CaseMap.camelToDashCase(a)+"-changed";this.fire(b,{value:c},{bubbles:!1,cancelable:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_propertySetter:function(a,b,c,d){var e=this.__data__[a];e===b||e!==e&&b!==b||(this.__data__[a]=b,"object"==typeof b&&this._clearPath(a),this._propertyChanged&&this._propertyChanged(a,b,e),c&&
this._effectEffects(a,b,c,e,d));return e},__setProperty:function(a,b,c,d){d=d||this;var e=d._propertyEffects&&d._propertyEffects[a];e?d._propertySetter(a,b,e,c):d[a]!==b&&(d[a]=b)},_effectEffects:function(a,b,c,d,e){b=0;for(var f=c.length,g;b<f&&(g=c[b]);b++)g.fn.call(this,a,this[a],g.effect,d,e)},_clearPath:function(a){for(var b in this.__data__)Polymer.Path.isDescendant(a,b)&&(this.__data__[b]=void 0)}},ensurePropertyEffects:function(a,b){a._propertyEffects||(a._propertyEffects={});var c=a._propertyEffects[b];
c||(c=a._propertyEffects[b]=[]);return c},addPropertyEffect:function(a,b,c,d){a=this.ensurePropertyEffects(a,b);c={kind:c,effect:d,fn:Polymer.Bind["_"+c+"Effect"]};a.push(c);return c},createBindings:function(a){var b=a._propertyEffects;if(b)for(var c in b){var d=b[c];d.sort(this._sortPropertyEffects);this._createAccessors(a,c,d)}},_sortPropertyEffects:function(){var a={compute:0,annotation:1,annotatedComputation:2,reflect:3,notify:4,observer:5,complexObserver:6,"function":7};return function(b,c){return a[b.kind]-
a[c.kind]}}(),_createAccessors:function(a,b,c){function d(a){this._propertySetter(b,a,c)}var e={get:function(){return this.__data__[b]}},f=a.getPropertyInfo&&a.getPropertyInfo(b);f&&f.readOnly?f.computed||(a["_set"+this.upper(b)]=d):e.set=d;Object.defineProperty(a,b,e)},upper:function(a){return a[0].toUpperCase()+a.substring(1)},_addAnnotatedListener:function(a,b,c,d,e,f){a._bindListeners||(a._bindListeners=[]);f=this._notedListenerFactory(c,d,Polymer.Path.isDeep(d),f);e=e||Polymer.CaseMap.camelToDashCase(c)+
"-changed";a._bindListeners.push({index:b,property:c,path:d,changedFn:f,event:e})},_isEventBogus:function(a,b){return a.path&&a.path[0]!==b},_notedListenerFactory:function(a,b,c,d){return function(e,f,g){g?(e=Polymer.Path.translate(a,b,g),this._notifyPath(e,f)):(f=e[a],d&&(f=!f),c?this.__data__[b]!=f&&this.set(b,f):this[b]=f)}},prepareInstance:function(a){a.__data__=Object.create(null)},setupBindListeners:function(a){for(var b=a._bindListeners,c=0,d=b.length,e;c<d&&(e=b[c]);c++)this._addNotifyListener(a._nodes[e.index],
a,e.event,e.changedFn)},_addNotifyListener:function(a,b,c,d){a.addEventListener(c,function(a){return b._notifyListener(d,a)})}};
Polymer.Base.mixin(Polymer.Bind,{_shouldAddListener:function(a){return a.name&&"attribute"!=a.kind&&"text"!=a.kind&&!a.isCompound&&"{"===a.parts[0].mode},_annotationEffect:function(a,b,c){a!=c.value&&(b=this._get(c.value),this.__data__[c.value]=b);this._applyEffectValue(c,b)},_reflectEffect:function(a,b,c){this.reflectPropertyToAttribute(a,c.attribute,b)},_notifyEffect:function(a,b,c,d,e){e||this._notifyChange(a,c.event,b)},_functionEffect:function(a,b,c,d,e){c.call(this,a,b,d,e)},_observerEffect:function(a,
b,c,d){(a=this[c.method])?a.call(this,b,d):this._warn(this._logf("_observerEffect","observer method `"+c.method+"` not defined"))},_complexObserverEffect:function(a,b,c){var d=this[c.method];d?(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))&&d.apply(this,a):c.dynamicFn||this._warn(this._logf("_complexObserverEffect","observer method `"+c.method+"` not defined"))},_computeEffect:function(a,b,c){var d=this[c.method];if(d){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=d.apply(this,a),this.__setProperty(c.name,
d)}else c.dynamicFn||this._warn(this._logf("_computeEffect","compute method `"+c.method+"` not defined"))},_annotatedComputationEffect:function(a,b,c){var d=this._rootDataHost||this,e=d[c.method];if(e){if(a=Polymer.Bind._marshalArgs(this.__data__,c,a,b))d=e.apply(d,a),this._applyEffectValue(c,d)}else c.dynamicFn||d._warn(d._logf("_annotatedComputationEffect","compute method `"+c.method+"` not defined"))},_marshalArgs:function(a,b,c,d){var e=[],f=b.args;b=1<f.length||b.dynamicFn;for(var g=0,k=f.length;g<
k;g++){var l=f[g],m=l.name;if(l.literal)var n=l.value;else c===m?n=d:(n=a[m],void 0===n&&l.structured&&(n=Polymer.Base._get(m,a)));if(b&&void 0===n)return;l.wildcard?(l=Polymer.Path.isAncestor(c,m),e[g]={path:l?c:m,value:l?d:n,base:n}):e[g]=n}return e}});
Polymer.Base._addFeature({_addPropertyEffect:function(a,b,c){a=Polymer.Bind.addPropertyEffect(this,a,b,c);a.pathFn=this["_"+a.kind+"PathEffect"]},_prepEffects:function(){Polymer.Bind.prepareModel(this);this._addAnnotationEffects(this._notes)},_prepBindings:function(){Polymer.Bind.createBindings(this)},_addPropertyEffects:function(a){if(a)for(var b in a){var c=a[b];c.observer&&this._addObserverEffect(b,c.observer);c.computed&&(c.readOnly=!0,this._addComputedEffect(b,c.computed));c.notify&&this._addPropertyEffect(b,
"notify",{event:Polymer.CaseMap.camelToDashCase(b)+"-changed"});if(c.reflectToAttribute){var d=Polymer.CaseMap.camelToDashCase(b);"-"===d[0]?this._warn(this._logf("_addPropertyEffects","Property "+b+" cannot be reflected to attribute "+d+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.')):this._addPropertyEffect(b,"reflect",{attribute:d})}c.readOnly&&Polymer.Bind.ensurePropertyEffects(this,b)}},_addComputedEffect:function(a,b){b=this._parseMethod(b);
for(var c=b.dynamicFn,d=0,e;d<b.args.length&&(e=b.args[d]);d++)this._addPropertyEffect(e.model,"compute",{method:b.method,args:b.args,trigger:e,name:a,dynamicFn:c});c&&this._addPropertyEffect(b.method,"compute",{method:b.method,args:b.args,trigger:null,name:a,dynamicFn:c})},_addObserverEffect:function(a,b){this._addPropertyEffect(a,"observer",{method:b,property:a})},_addComplexObserverEffects:function(a){if(a)for(var b=0,c;b<a.length&&(c=a[b]);b++)this._addComplexObserverEffect(c)},_addComplexObserverEffect:function(a){var b=
this._parseMethod(a);if(!b)throw Error("Malformed observer expression '"+a+"'");a=b.dynamicFn;for(var c=0,d;c<b.args.length&&(d=b.args[c]);c++)this._addPropertyEffect(d.model,"complexObserver",{method:b.method,args:b.args,trigger:d,dynamicFn:a});a&&this._addPropertyEffect(b.method,"complexObserver",{method:b.method,args:b.args,trigger:null,dynamicFn:a})},_addAnnotationEffects:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)for(var d=c.bindings,e=0,f;e<d.length&&(f=d[e]);e++)this._addAnnotationEffect(f,
b)},_addAnnotationEffect:function(a,b){Polymer.Bind._shouldAddListener(a)&&Polymer.Bind._addAnnotatedListener(this,b,a.name,a.parts[0].value,a.parts[0].event,a.parts[0].negate);for(var c=0;c<a.parts.length;c++){var d=a.parts[c];d.signature?this._addAnnotatedComputationEffect(a,d,b):d.literal||("attribute"===a.kind&&"-"===a.name[0]?this._warn(this._logf("_addAnnotationEffect","Cannot set attribute "+a.name+' because "-" is not a valid attribute starting character')):this._addPropertyEffect(d.model,
"annotation",{kind:a.kind,index:b,name:a.name,propertyName:a.propertyName,value:d.value,isCompound:a.isCompound,compoundIndex:d.compoundIndex,event:d.event,customEvent:d.customEvent,negate:d.negate}))}},_addAnnotatedComputationEffect:function(a,b,c){var d=b.signature;if(d.static)this.__addAnnotatedComputationEffect("__static__",c,a,b,null);else{for(var e=0,f;e<d.args.length&&(f=d.args[e]);e++)f.literal||this.__addAnnotatedComputationEffect(f.model,c,a,b,f);d.dynamicFn&&this.__addAnnotatedComputationEffect(d.method,
c,a,b,null)}},__addAnnotatedComputationEffect:function(a,b,c,d,e){this._addPropertyEffect(a,"annotatedComputation",{index:b,isCompound:c.isCompound,compoundIndex:d.compoundIndex,kind:c.kind,name:c.name,negate:d.negate,method:d.signature.method,args:d.signature.args,trigger:e,dynamicFn:d.signature.dynamicFn})},_parseMethod:function(a){var b=a.match(/([^\s]+?)\(([\s\S]*)\)/);if(b){a={method:b[1],static:!0};this.getPropertyInfo(a.method)!==Polymer.nob&&(a.static=!1,a.dynamicFn=!0);if(b[2].trim())return b=
b[2].replace(/\\,/g,"\x26comma;").split(","),this._parseArgs(b,a);a.args=Polymer.nar;return a}},_parseArgs:function(a,b){b.args=a.map(function(a){a=this._parseArg(a);a.literal||(b.static=!1);return a},this);return b},_parseArg:function(a){a=a.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1");var b={name:a},c=a[0];"-"===c&&(c=a[1]);"0"<=c&&"9">=c&&(c="#");switch(c){case "'":case '"':b.value=a.slice(1,-1);b.literal=!0;break;case "#":b.value=Number(a),b.literal=!0}b.literal||(b.model=Polymer.Path.root(a),
b.structured=Polymer.Path.isDeep(a),b.structured&&(b.wildcard=".*"==a.slice(-2),b.wildcard&&(b.name=a.slice(0,-2))));return b},_marshalInstanceEffects:function(){Polymer.Bind.prepareInstance(this);this._bindListeners&&Polymer.Bind.setupBindListeners(this)},_applyEffectValue:function(a,b){var c=this._nodes[a.index],d=a.name;b=this._computeFinalAnnotationValue(c,d,b,a);"attribute"==a.kind?this.serializeValueToAttribute(b,d,c):(a=c._propertyInfo&&c._propertyInfo[d])&&a.readOnly||this.__setProperty(d,
b,Polymer.Settings.suppressBindingNotifications,c)},_computeFinalAnnotationValue:function(a,b,c,d){d.negate&&(c=!c);if(d.isCompound){var e=a.__compoundStorage__[b];e[d.compoundIndex]=c;c=e.join("")}"attribute"!==d.kind&&("className"===b&&(c=this._scopeElementClass(a,c)),"textContent"===b||"input"==a.localName&&"value"==b)&&(c=void 0==c?"":c);return c},_executeStaticEffects:function(){this._propertyEffects&&this._propertyEffects.__static__&&this._effectEffects("__static__",null,this._propertyEffects.__static__)}});
(function(){var a=Polymer.Settings.usePolyfillProto,b=!!Object.getOwnPropertyDescriptor(document.documentElement,"properties");Polymer.Base._addFeature({_setupConfigure:function(a){this._config={};this._handlers=[];this._aboveConfig=null;if(a)for(var b in a)void 0!==a[b]&&(this._config[b]=a[b])},_marshalAttributes:function(){this._takeAttributesToModel(this._config)},_attributeChangedImpl:function(a){this._setAttributeToProperty(this._clientsReadied?this:this._config,a)},_configValue:function(a,b){var c=
this._propertyInfo[a];c&&c.readOnly||(this._config[a]=b)},_beforeClientsReady:function(){this._configure()},_configure:function(){this._configureAnnotationReferences();this._configureInstanceProperties();this._aboveConfig=this.mixin({},this._config);for(var a={},d=0;d<this.behaviors.length;d++)this._configureProperties(this.behaviors[d].properties,a);this._configureProperties(b?this.__proto__.properties:this.properties,a);this.mixin(a,this._aboveConfig);this._config=a;this._clients&&this._clients.length&&
this._distributeConfig(this._config)},_configureInstanceProperties:function(){for(var b in this._propertyEffects)!a&&this.hasOwnProperty(b)&&(this._configValue(b,this[b]),delete this[b])},_configureProperties:function(a,b){for(var c in a){var d=a[c];void 0!==d.value&&(d=d.value,"function"==typeof d&&(d=d.call(this,this._config)),b[c]=d)}},_distributeConfig:function(a){var b=this._propertyEffects;if(b)for(var c in a){var f=b[c];if(f)for(var g=0,k=f.length,l;g<k&&(l=f[g]);g++)if("annotation"===l.kind){var m=
this._nodes[l.effect.index],n=l.effect.propertyName,q="attribute"==l.effect.kind,p=m._propertyEffects&&m._propertyEffects[n];!m._configValue||!p&&q||(p=c===l.effect.value?a[c]:this._get(l.effect.value,a),p=this._computeFinalAnnotationValue(m,n,p,l.effect),q&&(p=m.deserialize(this.serialize(p),m._propertyInfo[n].type)),m._configValue(n,p))}}},_afterClientsReady:function(){this._executeStaticEffects();this._applyConfig(this._config,this._aboveConfig);this._flushHandlers()},_applyConfig:function(a,b){for(var c in a)void 0===
this[c]&&this.__setProperty(c,a[c],c in b)},_notifyListener:function(a,b){if(!Polymer.Bind._isEventBogus(b,b.target)){if(b.detail){var c=b.detail.value;var d=b.detail.path}if(this._clientsReadied)return a.call(this,b.target,c,d);this._queueHandler([a,b.target,c,d])}},_queueHandler:function(a){this._handlers.push(a)},_flushHandlers:function(){for(var a=this._handlers,b=0,e=a.length,f;b<e&&(f=a[b]);b++)f[0].call(this,f[1],f[2],f[3]);this._handlers=[]}})})();
(function(){var a=Polymer.Path;Polymer.Base._addFeature({notifyPath:function(a,c,d){var b={},f=this._get(a,this,b);1===arguments.length&&(c=f);b.path&&this._notifyPath(b.path,c,d)},_notifyPath:function(a,c,d){var b=this._propertySetter(a,c);if(b!==c&&(b===b||c===c))return this._pathEffector(a,c),d||this._notifyPathUp(a,c),!0},_getPathParts:function(a){if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)for(var e=a[d].toString().split("."),f=0;f<e.length;f++)b.push(e[f]);return b}return a.toString().split(".")},
set:function(a,c,d){var b=d||this,f=this._getPathParts(a),g=f[f.length-1];if(1<f.length){for(a=0;a<f.length-1;a++){var k=f[a];l&&"#"==k[0]?b=Polymer.Collection.get(l).getItem(k):(b=b[k],l&&parseInt(k,10)==k&&(f[a]=Polymer.Collection.get(l).getKey(b)));if(!b)return;var l=Array.isArray(b)?b:null}if(l){var k=Polymer.Collection.get(l);if("#"==g[0]){var m=g;var n=k.getItem(m);g=l.indexOf(n);k.setItem(m,c)}else parseInt(g,10)==g&&(n=b[g],m=k.getKey(n),f[a]=m,k.setItem(m,c))}b[g]=c;d||this._notifyPath(f.join("."),
c)}else b[a]=c},get:function(a,c){return this._get(a,c)},_get:function(a,c,d){c=c||this;a=this._getPathParts(a);for(var b,f=0;f<a.length;f++){if(!c)return;var g=a[f];b&&"#"==g[0]?c=Polymer.Collection.get(b).getItem(g):(c=c[g],d&&b&&parseInt(g,10)==g&&(a[f]=Polymer.Collection.get(b).getKey(c)));b=Array.isArray(c)?c:null}d&&(d.path=a.join("."));return c},_pathEffector:function(b,c){var d=a.root(b);if(d=this._propertyEffects&&this._propertyEffects[d])for(var e=0,f;e<d.length&&(f=d[e]);e++){var g=f.pathFn;
g&&g.call(this,b,c,f.effect)}this._boundPaths&&this._notifyBoundPaths(b,c)},_annotationPathEffect:function(b,c,d){if(a.matches(d.value,!1,b))Polymer.Bind._annotationEffect.call(this,b,c,d);else if(!d.negate&&a.isDescendant(d.value,b)){var e=this._nodes[d.index];e&&e._notifyPath&&(b=a.translate(d.value,d.name,b),e._notifyPath(b,c,!0))}},_complexObserverPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._complexObserverEffect.call(this,b,c,d)},_computePathEffect:function(b,
c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._computeEffect.call(this,b,c,d)},_annotatedComputationPathEffect:function(b,c,d){a.matches(d.trigger.name,d.trigger.wildcard,b)&&Polymer.Bind._annotatedComputationEffect.call(this,b,c,d)},linkPaths:function(a,c){this._boundPaths=this._boundPaths||{};c?this._boundPaths[a]=c:this.unlinkPaths(a)},unlinkPaths:function(a){this._boundPaths&&delete this._boundPaths[a]},_notifyBoundPaths:function(b,c){for(var d in this._boundPaths){var e=this._boundPaths[d];
a.isDescendant(d,b)?this._notifyPath(a.translate(d,e,b),c):a.isDescendant(e,b)&&this._notifyPath(a.translate(e,d,b),c)}},_notifyPathUp:function(b,c){var d=a.root(b),d=Polymer.CaseMap.camelToDashCase(d)+this._EVENT_CHANGED;this.fire(d,{path:b,value:c},{bubbles:!1,_useCache:Polymer.Settings.eventDataCache||!Polymer.Settings.isIE})},_EVENT_CHANGED:"-changed",notifySplices:function(a,c){var b={};a=this._get(a,this,b);this._notifySplices(a,b.path,c)},_notifySplices:function(a,c,d){d={keySplices:Polymer.Collection.applySplices(a,
d),indexSplices:d};var b=c+".splices";this._notifyPath(b,d);this._notifyPath(c+".length",a.length);this.__data__[b]={keySplices:null,indexSplices:null}},_notifySplice:function(a,c,d,e,f){this._notifySplices(a,c,[{index:d,addedCount:e,removed:f,object:a,type:"splice"}])},push:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.length,g=d.push.apply(d,e);e.length&&this._notifySplice(d,b.path,f,e.length,[]);return g},pop:function(a){var b={},d=this._get(a,this,b),
e=!!d.length,f=d.pop.apply(d,Array.prototype.slice.call(arguments,1));e&&this._notifySplice(d,b.path,d.length,0,[f]);return f},splice:function(a,c){var b={},e=this._get(a,this,b);(c=0>c?e.length-Math.floor(-c):Math.floor(c))||(c=0);var f=Array.prototype.slice.call(arguments,1),g=e.splice.apply(e,f);((f=Math.max(f.length-2,0))||g.length)&&this._notifySplice(e,b.path,c,f,g);return g},shift:function(a){var b={},d=this._get(a,this,b),e=!!d.length,f=d.shift.apply(d,Array.prototype.slice.call(arguments,
1));e&&this._notifySplice(d,b.path,0,0,[f]);return f},unshift:function(a){var b={},d=this._get(a,this,b),e=Array.prototype.slice.call(arguments,1),f=d.unshift.apply(d,e);e.length&&this._notifySplice(d,b.path,0,e.length,[]);return f},prepareModelNotifyPath:function(a){this.mixin(a,{fire:Polymer.Base.fire,_getEvent:Polymer.Base._getEvent,__eventCache:Polymer.Base.__eventCache,notifyPath:Polymer.Base.notifyPath,_get:Polymer.Base._get,_EVENT_CHANGED:Polymer.Base._EVENT_CHANGED,_notifyPath:Polymer.Base._notifyPath,
_notifyPathUp:Polymer.Base._notifyPathUp,_pathEffector:Polymer.Base._pathEffector,_annotationPathEffect:Polymer.Base._annotationPathEffect,_complexObserverPathEffect:Polymer.Base._complexObserverPathEffect,_annotatedComputationPathEffect:Polymer.Base._annotatedComputationPathEffect,_computePathEffect:Polymer.Base._computePathEffect,_notifyBoundPaths:Polymer.Base._notifyBoundPaths,_getPathParts:Polymer.Base._getPathParts})}})})();
Polymer.Base._addFeature({resolveUrl:function(a){var b=Polymer.DomModule.import(this.is),c="";b&&(c=b.getAttribute("assetpath")||"",c=Polymer.ResolveUrl.resolveUrl(c,b.ownerDocument.baseURI));return Polymer.ResolveUrl.resolveUrl(a,c)}});
Polymer.CssParse={parse:function(a){a=this._clean(a);return this._parseCss(this._lex(a),a)},_clean:function(a){return a.replace(this._rx.comments,"").replace(this._rx.port,"")},_lex:function(a){for(var b={start:0,end:a.length},c=b,d=0,e=a.length;d<e;d++)switch(a[d]){case this.OPEN_BRACE:c.rules||(c.rules=[]);var f=c,c={start:d+1,parent:f,previous:f.rules[f.rules.length-1]};f.rules.push(c);break;case this.CLOSE_BRACE:c.end=d+1,c=c.parent||b}return b},_parseCss:function(a,b){var c=b.substring(a.start,
a.end-1);a.parsedCssText=a.cssText=c.trim();a.parent&&(c=b.substring(a.previous?a.previous.end:a.parent.start,a.start-1),c=this._expandUnicodeEscapes(c),c=c.replace(this._rx.multipleSpaces," "),c=c.substring(c.lastIndexOf(";")+1),c=a.parsedSelector=a.selector=c.trim(),a.atRule=0===c.indexOf(this.AT_START),a.atRule?0===c.indexOf(this.MEDIA_START)?a.type=this.types.MEDIA_RULE:c.match(this._rx.keyframesRule)&&(a.type=this.types.KEYFRAMES_RULE,a.keyframesName=a.selector.split(this._rx.multipleSpaces).pop()):
a.type=0===c.indexOf(this.VAR_START)?this.types.MIXIN_RULE:this.types.STYLE_RULE);if(c=a.rules)for(var d=0,e=c.length,f;d<e&&(f=c[d]);d++)this._parseCss(f,b);return a},_expandUnicodeEscapes:function(a){return a.replace(/\\([0-9a-f]{1,6})\s/gi,function(a,c){a=c;for(c=6-a.length;c--;)a="0"+a;return"\\"+a})},stringify:function(a,b,c){c=c||"";var d="";if(a.cssText||a.rules){var e=a.rules;if(e&&!this._hasMixinRules(e))for(var f=0,g=e.length,k;f<g&&(k=e[f]);f++)d=this.stringify(k,b,d);else d=b?a.cssText:
this.removeCustomProps(a.cssText),(d=d.trim())&&(d="  "+d+"\n")}d&&(a.selector&&(c+=a.selector+" "+this.OPEN_BRACE+"\n"),c+=d,a.selector&&(c+=this.CLOSE_BRACE+"\n\n"));return c},_hasMixinRules:function(a){return 0===a[0].selector.indexOf(this.VAR_START)},removeCustomProps:function(a){a=this.removeCustomPropAssignment(a);return this.removeCustomPropApply(a)},removeCustomPropAssignment:function(a){return a.replace(this._rx.customProp,"").replace(this._rx.mixinProp,"")},removeCustomPropApply:function(a){return a.replace(this._rx.mixinApply,
"").replace(this._rx.varApply,"")},types:{STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1E3},OPEN_BRACE:"{",CLOSE_BRACE:"}",_rx:{comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},
VAR_START:"--",MEDIA_START:"@media",AT_START:"@"};
Polymer.StyleUtil=function(){var a=Polymer.Settings;return{NATIVE_VARIABLES:Polymer.Settings.useNativeCSSProperties,MODULE_STYLES_SELECTOR:"style, link[rel\x3dimport][type~\x3dcss], template",INCLUDE_ATTR:"include",toCssText:function(a,c){"string"===typeof a&&(a=this.parser.parse(a));c&&this.forEachRule(a,c);return this.parser.stringify(a,this.NATIVE_VARIABLES)},forRulesInStyles:function(a,c,d){if(a)for(var b=0,f=a.length,g;b<f&&(g=a[b]);b++)this.forEachRuleInStyle(g,c,d)},forActiveRulesInStyles:function(a,
c,d){if(a)for(var b=0,f=a.length,g;b<f&&(g=a[b]);b++)this.forEachRuleInStyle(g,c,d,!0)},rulesForStyle:function(a){!a.__cssRules&&a.textContent&&(a.__cssRules=this.parser.parse(a.textContent));return a.__cssRules},isKeyframesSelector:function(a){return a.parent&&a.parent.type===this.ruleTypes.KEYFRAMES_RULE},forEachRuleInStyle:function(a,c,d,e){var b=this.rulesForStyle(a),g,k;c&&(g=function(b){c(b,a)});d&&(k=function(b){d(b,a)});this.forEachRule(b,g,k,e)},forEachRule:function(a,c,d,e){if(a){var b=
!1;if(e&&a.type===this.ruleTypes.MEDIA_RULE){var g=a.selector.match(this.rx.MEDIA_MATCH);g&&(window.matchMedia(g[1]).matches||(b=!0))}a.type===this.ruleTypes.STYLE_RULE?c(a):d&&a.type===this.ruleTypes.KEYFRAMES_RULE?d(a):a.type===this.ruleTypes.MIXIN_RULE&&(b=!0);if((a=a.rules)&&!b)for(var b=0,g=a.length,k;b<g&&(k=a[b]);b++)this.forEachRule(k,c,d,e)}},applyCss:function(a,c,d,e){a=this.createScopeStyle(a,c);return this.applyStyle(a,d,e)},applyStyle:function(a,c,d){c=c||document.head;d=d&&d.nextSibling||
c.firstChild;this.__lastHeadApplyNode=a;return c.insertBefore(a,d)},createScopeStyle:function(a,c){var b=document.createElement("style");c&&b.setAttribute("scope",c);b.textContent=a;return b},__lastHeadApplyNode:null,applyStylePlaceHolder:function(a){a=document.createComment(" Shady DOM styles for "+a+" ");var b=document.head;b.insertBefore(a,(this.__lastHeadApplyNode?this.__lastHeadApplyNode.nextSibling:null)||b.firstChild);return this.__lastHeadApplyNode=a},cssFromModules:function(a,c){a=a.trim().split(" ");
for(var b="",e=0;e<a.length;e++)b+=this.cssFromModule(a[e],c);return b},cssFromModule:function(a,c){var b=Polymer.DomModule.import(a);b&&!b._cssText&&(b._cssText=this.cssFromElement(b));!b&&c&&console.warn("Could not find style data in module named",a);return b&&b._cssText||""},cssFromElement:function(a){for(var b="",d=Polymer.TreeApi.arrayCopy((a.content||a).querySelectorAll(this.MODULE_STYLES_SELECTOR)),e=0,f;e<d.length;e++)if(f=d[e],"template"===f.localName)f.hasAttribute("preserve-content")||
(b+=this.cssFromElement(f));else if("style"===f.localName){var g=f.getAttribute(this.INCLUDE_ATTR);g&&(b+=this.cssFromModules(g,!0));f=f.__appliedElement||f;f.parentNode.removeChild(f);b+=this.resolveCss(f.textContent,a.ownerDocument)}else f.import&&f.import.body&&(b+=this.resolveCss(f.import.body.textContent,f.import));return b},styleIncludesToTemplate:function(a){a=a.content.querySelectorAll("style[include]");for(var b=0,d;b<a.length;b++)d=a[b],d.parentNode.insertBefore(this._includesToFragment(d.getAttribute("include")),
d)},_includesToFragment:function(a){a=a.trim().split(" ");for(var b=document.createDocumentFragment(),d=0;d<a.length;d++){var e=Polymer.DomModule.import(a[d],"template");e&&this._addStylesToFragment(b,e.content)}return b},_addStylesToFragment:function(a,c){c=c.querySelectorAll("style");for(var b=0,e;b<c.length;b++){e=c[b];var f=e.getAttribute("include");f&&a.appendChild(this._includesToFragment(f));e.textContent&&a.appendChild(e.cloneNode(!0))}},isTargetedBuild:function(b){return a.useNativeShadow?
"shadow"===b:"shady"===b},cssBuildTypeForModule:function(a){if(a=Polymer.DomModule.import(a))return this.getCssBuildType(a)},getCssBuildType:function(a){return a.getAttribute("css-build")},_findMatchingParen:function(a,c){for(var b=0,e=a.length;c<e;c++)switch(a[c]){case "(":b++;break;case ")":if(0===--b)return c}return-1},processVariableAndFallback:function(a,c){var b=a.indexOf("var(");if(-1===b)return c(a,"","","");var e=this._findMatchingParen(a,b+3),f=a.substring(b+4,e),b=a.substring(0,b);a=this.processVariableAndFallback(a.substring(e+
1),c);var g=f.indexOf(",");if(-1===g)return c(b,f.trim(),"",a);e=f.substring(0,g).trim();f=f.substring(g+1).trim();return c(b,e,f,a)},rx:{VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s\x3e+~])"},
resolveCss:Polymer.ResolveUrl.resolveCss,parser:Polymer.CssParse,ruleTypes:Polymer.CssParse.types}}();
Polymer.StyleTransformer=function(){var a=Polymer.StyleUtil,b=Polymer.Settings,c={dom:function(a,b,c,d){this._transformDom(a,b||"",c,d)},_transformDom:function(a,b,c,d){a.setAttribute&&this.element(a,b,c,d);a=Polymer.dom(a).childNodes;for(var e=0;e<a.length;e++)this._transformDom(a[e],b,c,d)},element:function(a,b,c,e){c?e?a.removeAttribute(d):a.setAttribute(d,b):b&&(a.classList?e?(a.classList.remove(d),a.classList.remove(b)):(a.classList.add(d),a.classList.add(b)):a.getAttribute&&(c=a.getAttribute(B),
e?c&&a.setAttribute(B,c.replace(d,"").replace(b,"")):a.setAttribute(B,(c?c+" ":"")+d+" "+b)))},elementStyles:function(c,d){var e=c._styles,f="",g=c.__cssBuild,g=b.useNativeShadow||"shady"===g;if(g){var k=this;var l=function(a){a.selector=k._slottedToContent(a.selector);a.selector=a.selector.replace(m,":host \x3e *");d&&d(a)}}for(var n=0,q=e.length,r;n<q&&(r=e[n]);n++)var p=a.rulesForStyle(r),f=f+(g?a.toCssText(p,l):this.css(p,c.is,c.extends,d,c._scopeCssViaAttr)+"\n\n");return f.trim()},css:function(b,
c,d,e,f){var g=this._calcHostScope(c,d);c=this._calcElementScope(c,f);var k=this;return a.toCssText(b,function(a){a.isScoped||(k.rule(a,c,g),a.isScoped=!0);e&&e(a,c,g)})},_calcElementScope:function(a,b){return a?b?w+a+z:v+a:""},_calcHostScope:function(a,b){return b?"[is\x3d"+a+"]":a},rule:function(a,b,c){this._transformRule(a,this._transformComplexSelector,b,c)},_transformRule:function(a,b,c,d){a.selector=a.transformedSelector=this._transformRuleCss(a,b,c,d)},_transformRuleCss:function(b,c,d,e){var g=
b.selector.split(f);if(!a.isKeyframesSelector(b)){b=0;for(var k=g.length,l;b<k&&(l=g[b]);b++)g[b]=c.call(this,l,d,e)}return g.join(f)},_transformComplexSelector:function(a,b,c){var d=!1,e=!1,k=this;a=a.trim();a=this._slottedToContent(a);a=a.replace(m,":host \x3e *");a=a.replace(A,l+" $1");a=a.replace(g,function(a,f,g){d?g=g.replace(r," "):(a=k._transformCompoundSelector(g,f,b,c),d=d||a.stop,e=e||a.hostContext,f=a.combinator,g=a.value);return f+g});e&&(a=a.replace(p,function(a,b,d,e){return b+d+" "+
c+e+f+" "+b+c+d+e}));return a},_transformCompoundSelector:function(a,b,c,d){var e=a.search(r),f=!1;0<=a.indexOf(q)?f=!0:0<=a.indexOf(l)?a=this._transformHostSelector(a,d):0!==e&&(a=c?this._transformSimpleSelector(a,c):a);0<=a.indexOf(t)&&(b="");if(0<=e){a=a.replace(r," ");var g=!0}return{value:a,combinator:b,stop:g,hostContext:f}},_transformSimpleSelector:function(a,b){a=a.split(y);a[0]+=b;return a.join(y)},_transformHostSelector:function(a,b){var c=a.match(n);return(c=c&&c[2].trim()||"")?c[0].match(k)?
a.replace(n,function(a,c,d){return b+d}):c.split(k)[0]===b?c:D:a.replace(l,b)},documentRule:function(a){a.selector=a.parsedSelector;this.normalizeRootSelector(a);b.useNativeShadow||this._transformRule(a,this._transformDocumentSelector)},normalizeRootSelector:function(a){a.selector=a.selector.replace(m,"html")},_transformDocumentSelector:function(a){return a.match(r)?this._transformComplexSelector(a,e):this._transformSimpleSelector(a.trim(),e)},_slottedToContent:function(a){return a.replace(E,t+"\x3e $1")},
SCOPE_NAME:"style-scope"},d=c.SCOPE_NAME,e=":not(["+d+"]):not(."+d+")",f=",",g=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,k=/[[.:#*]/,l=":host",m=":root",n=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,q=":host-context",p=/(.*)(?::host-context)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))(.*)/,t="::content",r=/::content|::shadow|\/deep\//,v=".",w="["+d+"~\x3d",z="]",y=":",B="class",A=new RegExp("^("+t+")"),D="should_not_match",E=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/g;return c}();
Polymer.StyleExtends=function(){var a=Polymer.StyleUtil;return{hasExtends:function(a){return!!a.match(this.rx.EXTEND)},transform:function(b){b=a.rulesForStyle(b);var c=this;a.forEachRule(b,function(a){c._mapRuleOntoParent(a);if(a.parent)for(var b;b=c.rx.EXTEND.exec(a.cssText);)(b=c._findExtendor(b[1],a))&&c._extendRule(a,b);a.cssText=a.cssText.replace(c.rx.EXTEND,"")});return a.toCssText(b,function(a){a.selector.match(c.rx.STRIP)&&(a.cssText="")},!0)},_mapRuleOntoParent:function(a){if(a.parent){for(var b=
a.parent.map||(a.parent.map={}),d=a.selector.split(","),e=0,f;e<d.length;e++)f=d[e],b[f.trim()]=a;return b}},_findExtendor:function(a,c){return c.parent&&c.parent.map&&c.parent.map[a]||this._findExtendor(a,c.parent)},_extendRule:function(a,c){a.parent!==c.parent&&this._cloneAndAddRuleToParent(c,a.parent);a.extends=a.extends||[];a.extends.push(c);c.selector=c.selector.replace(this.rx.STRIP,"");c.selector=(c.selector&&c.selector+",\n")+a.selector;c.extends&&c.extends.forEach(function(b){this._extendRule(a,
b)},this)},_cloneAndAddRuleToParent:function(a,c){a=Object.create(a);a.parent=c;a.extends&&(a.extends=a.extends.slice());c.rules.push(a)},rx:{EXTEND:/@extends\(([^)]*)\)\s*?;/gim,STRIP:/%[^,]*$/}}}();
Polymer.ApplyShim=function(){function a(a,b){a=a.trim();t[a]={properties:b,dependants:{}}}function b(a){a=a.trim();return t[a]}function c(a){a=a.split(";");for(var b,c,d={},e=0,f;e<a.length;e++)if(b=a[e])if(f=b.split(":"),1<f.length){c=b=f[0].trim();f=f.slice(1).join(":");var g=p.exec(f);g&&(f=g[1]?r._getInitialValueForProperty(c):"apply-shim-inherit");c=f;d[b]=c}return d}function d(a){var b=r.__currentElementProto,b=b&&b.is,c;for(c in a.dependants)c!==b&&(a.dependants[c].__applyShimInvalid=!0)}function e(e,
f,l,m){l&&k.processVariableAndFallback(l,function(a,c){c&&b(c)&&(m="@apply "+c+";")});if(!m)return e;var n=g(m),q=e.slice(0,e.indexOf("--")),r=n=c(n),p=b(f),t=p&&p.properties;t?(r=Object.create(t),r=Polymer.Base.mixin(r,n)):a(f,r);var v=[],w,y=!1;for(w in r){var z=n[w];void 0===z&&(z="initial");!t||w in t||(y=!0);v.push(f+"_-_"+w+": "+z)}y&&d(p);p&&(p.properties=r);l&&(q=e+";"+q);return q+v.join("; ")+";"}function f(a,b,c){return"var("+b+",var("+c+"))"}function g(d){for(var e;e=l.exec(d);){var f=
e[0],g=e[1];e=e.index;var k=d.slice(0,e+f.indexOf("@apply"));d=d.slice(e+f.length);var m=c(k),n,f=void 0,g=g.replace(q,""),p=[];var t=b(g);t||(a(g,{}),t=b(g));if(t)for(f in(n=r.__currentElementProto)&&(t.dependants[n.is]=n),t.properties)t=m&&m[f],n=[f,": var(",g,"_-_",f],t&&n.push(",",t),n.push(")"),p.push(n.join(""));f=p.join("; ");d=[k,f,d].join("");l.lastIndex=e+f.length}return d}var k=Polymer.StyleUtil,l=k.rx.MIXIN_MATCH,m=k.rx.VAR_ASSIGN,n=/var\(\s*(--[^,]*),\s*(--[^)]*)\)/g,q=/;\s*/m,p=/^\s*(initial)|(inherit)\s*$/,
t={},r={_measureElement:null,_map:t,_separator:"_-_",transform:function(a,b){this.__currentElementProto=b;k.forRulesInStyles(a,this._boundFindDefinitions);k.forRulesInStyles(a,this._boundFindApplications);b&&(b.__applyShimInvalid=!1);this.__currentElementProto=null},_findDefinitions:function(a){var b=a.parsedCssText,b=b.replace(n,f),b=b.replace(m,e);a.cssText=b;":root"===a.selector&&(a.selector=":host \x3e *")},_findApplications:function(a){a.cssText=g(a.cssText)},transformRule:function(a){this._findDefinitions(a);
this._findApplications(a)},_getInitialValueForProperty:function(a){this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement));return window.getComputedStyle(this._measureElement).getPropertyValue(a)}};r._boundTransformRule=r.transformRule.bind(r);r._boundFindDefinitions=r._findDefinitions.bind(r);r._boundFindApplications=r._findApplications.bind(r);return r}();
(function(){var a=Polymer.Base._prepElement,b=Polymer.Settings.useNativeShadow,c=Polymer.StyleUtil,d=Polymer.StyleTransformer,e=Polymer.StyleExtends,f=Polymer.ApplyShim,g=Polymer.Settings;Polymer.Base._addFeature({_prepElement:function(b){this._encapsulateStyle&&"shady"!==this.__cssBuild&&d.element(b,this.is,this._scopeCssViaAttr);a.call(this,b)},_prepStyles:function(){void 0===this._encapsulateStyle&&(this._encapsulateStyle=!b);b||(this._scopeStyle=c.applyStylePlaceHolder(this.is));this.__cssBuild=
c.cssBuildTypeForModule(this.is)},_prepShimStyles:function(){if(this._template){var a=c.isTargetedBuild(this.__cssBuild);g.useNativeCSSProperties&&"shadow"===this.__cssBuild&&a?g.preserveStyleIncludes&&c.styleIncludesToTemplate(this._template):(this._styles=this._styles||this._collectStyles(),g.useNativeCSSProperties&&!this.__cssBuild&&f.transform(this._styles,this),a=g.useNativeCSSProperties&&a?this._styles.length&&this._styles[0].textContent.trim():d.elementStyles(this),this._prepStyleProperties(),
!this._needsStyleProperties()&&a&&c.applyCss(a,this.is,b?this._template.content:null,this._scopeStyle))}else this._styles=[]},_collectStyles:function(){var a=[],b="",d=this.styleModules;if(d)for(var f=0,g=d.length,p;f<g&&(p=d[f]);f++)b+=c.cssFromModule(p);b+=c.cssFromModule(this.is);d=this._template&&this._template.parentNode;!this._template||d&&d.id.toLowerCase()===this.is||(b+=c.cssFromElement(this._template));b&&(d=document.createElement("style"),d.textContent=b,e.hasExtends(d.textContent)&&e.transform(d),
a.push(d));return a},_elementAdd:function(a){this._encapsulateStyle&&(a.__styleScoped?a.__styleScoped=!1:d.dom(a,this.is,this._scopeCssViaAttr))},_elementRemove:function(a){this._encapsulateStyle&&d.dom(a,this.is,this._scopeCssViaAttr,!0)},scopeSubtree:function(a,c){if(!b){var d=this,e=function(a){if(a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("class");a.setAttribute("class",d._scopeElementClass(a,b));a=a.querySelectorAll("*");for(var c=0,e;c<a.length&&(e=a[c]);c++)b=e.getAttribute("class"),
e.setAttribute("class",d._scopeElementClass(e,b))}};e(a);if(c)return c=new MutationObserver(function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++)if(c.addedNodes)for(var d=0;d<c.addedNodes.length;d++)e(c.addedNodes[d])}),c.observe(a,{childList:!0,subtree:!0}),c}}})})();
Polymer.StyleProperties=function(){var a=Polymer.DomApi.matchesSelector,b=Polymer.StyleUtil,c=Polymer.StyleTransformer,d=navigator.userAgent.match("Trident"),e=Polymer.Settings;return{decorateStyles:function(a,d){var e=this,f={},g=[],n=0,q=c._calcHostScope(d.is,d.extends);b.forRulesInStyles(a,function(a,c){e.decorateRule(a);a.index=n++;e.whenHostOrRootRule(d,a,c,function(c){a.parent.type===b.ruleTypes.MEDIA_RULE&&(d.__notStyleScopeCacheable=!0);c.isHost&&(c=c.selector.split(" ").some(function(a){return 0===
a.indexOf(q)&&a.length!==q.length}),d.__notStyleScopeCacheable=d.__notStyleScopeCacheable||c)});e.collectPropertiesInCssText(a.propertyInfo.cssText,f)},function(a){g.push(a)});a._keyframes=g;a=[];for(var p in f)a.push(p);return a},decorateRule:function(a){if(a.propertyInfo)return a.propertyInfo;var b={},c={};this.collectProperties(a,c)&&(b.properties=c,a.rules=null);b.cssText=this.collectCssText(a);return a.propertyInfo=b},collectProperties:function(a,b){var c=a.propertyInfo;if(c){if(c.properties)return Polymer.Base.mixin(b,
c.properties),!0}else{for(var c=this.rx.VAR_ASSIGN,d=a.parsedCssText,e;a=c.exec(d);)e=(a[2]||a[3]).trim(),"inherit"!==e&&(b[a[1].trim()]=e),e=!0;return e}},collectCssText:function(a){return this.collectConsumingCssText(a.parsedCssText)},collectConsumingCssText:function(a){return a.replace(this.rx.BRACKETED,"").replace(this.rx.VAR_ASSIGN,"")},collectPropertiesInCssText:function(a,b){for(var c;c=this.rx.VAR_CONSUMED.exec(a);){var d=c[1];":"!==c[2]&&(b[d]=!0)}},reify:function(a){for(var b=Object.getOwnPropertyNames(a),
c=0,d;c<b.length;c++)d=b[c],a[d]=this.valueForProperty(a[d],a)},valueForProperty:function(a,c){if(a)if(0<=a.indexOf(";"))a=this.valueForProperties(a,c);else{var d=this;a=b.processVariableAndFallback(a,function(a,b,e,f){(b=d.valueForProperty(c[b],c))&&"initial"!==b?"apply-shim-inherit"===b&&(b="inherit"):b=d.valueForProperty(c[e]||e,c)||e;return a+(b||"")+f})}return a&&a.trim()||""},valueForProperties:function(a,b){a=a.split(";");for(var c=0,d,e;c<a.length;c++)if(d=a[c]){this.rx.MIXIN_MATCH.lastIndex=
0;if(e=this.rx.MIXIN_MATCH.exec(d))d=this.valueForProperty(b[e[1]],b);else if(e=d.indexOf(":"),-1!==e){var f=d.substring(e),f=f.trim(),f=this.valueForProperty(f,b)||f;d=d.substring(0,e)+f}a[c]=d&&d.lastIndexOf(";")===d.length-1?d.slice(0,-1):d||""}return a.join(";")},applyProperties:function(a,b){var c="";a.propertyInfo||this.decorateRule(a);a.propertyInfo.cssText&&(c=this.valueForProperties(a.propertyInfo.cssText,b));a.cssText=c},applyKeyframeTransforms:function(a,b){var c=a.cssText,d=a.cssText;
null==a.hasAnimations&&(a.hasAnimations=this.rx.ANIMATION_MATCH.test(c));if(a.hasAnimations)if(null==a.keyframeNamesToTransform){a.keyframeNamesToTransform=[];for(var e in b)d=b[e],d=d(c),c!==d&&(c=d,a.keyframeNamesToTransform.push(e))}else{for(e=0;e<a.keyframeNamesToTransform.length;++e)d=b[a.keyframeNamesToTransform[e]],c=d(c);d=c}a.cssText=d},propertyDataFromStyles:function(c,d){var e={},f=this,g=[];b.forActiveRulesInStyles(c,function(b){b.propertyInfo||f.decorateRule(b);var c=b.transformedSelector||
b.parsedSelector;d&&b.propertyInfo.properties&&c&&a.call(d,c)&&(f.collectProperties(b,e),b=b.index,c=parseInt(b/32),g[c]=(g[c]||0)|1<<b%32)});return{properties:e,key:g}},_rootSelector:/:root|:host\s*>\s*\*/,_checkRoot:function(a,b){return!!b.match(this._rootSelector)||"html"===a&&-1<b.indexOf("html")},whenHostOrRootRule:function(a,b,d,l){b.propertyInfo||self.decorateRule(b);if(b.propertyInfo.properties){var f=a.is?c._calcHostScope(a.is,a.extends):"html",g=b.parsedSelector,k=this._checkRoot(f,g),p=
!k&&0===g.indexOf(":host");"shady"===(a.__cssBuild||d.__cssBuild)&&(k=g===f+" \x3e *."+f||-1<g.indexOf("html"),p=!k&&0===g.indexOf(f));if(k||p)d=f,p&&(e.useNativeShadow&&!b.transformedSelector&&(b.transformedSelector=c._transformRuleCss(b,c._transformComplexSelector,a.is,f)),d=b.transformedSelector||b.parsedSelector),k&&"html"===f&&(d=b.transformedSelector||b.parsedSelector),l({selector:d,isHost:p,isRoot:k})}},hostAndRootPropertiesForScope:function(c){var d={},e={},f=this;b.forActiveRulesInStyles(c._styles,
function(b,g){f.whenHostOrRootRule(c,b,g,function(g){a.call(c._element||c,g.selector)&&(g.isHost?f.collectProperties(b,d):f.collectProperties(b,e))})});return{rootProps:e,hostProps:d}},transformStyles:function(a,b,d){var f=this,g=c._calcHostScope(a.is,a.extends),k=new RegExp(this.rx.HOST_PREFIX+(a.extends?"\\"+g.slice(0,-1)+"\\]":g)+this.rx.HOST_SUFFIX),q=this._elementKeyframeTransforms(a,d);return c.elementStyles(a,function(c){f.applyProperties(c,b);e.useNativeShadow||Polymer.StyleUtil.isKeyframesSelector(c)||
!c.cssText||(f.applyKeyframeTransforms(c,q),f._scopeSelector(c,k,g,a._scopeCssViaAttr,d))})},_elementKeyframeTransforms:function(a,b){a=a._styles._keyframes;var c={};if(!e.useNativeShadow&&a)for(var d=0,f=a[d];d<a.length;f=a[++d])this._scopeKeyframes(f,b),c[f.keyframesName]=this._keyframesRuleTransformer(f);return c},_keyframesRuleTransformer:function(a){return function(b){return b.replace(a.keyframesNameRx,a.transformedKeyframesName)}},_scopeKeyframes:function(a,b){a.keyframesNameRx=new RegExp(a.keyframesName,
"g");a.transformedKeyframesName=a.keyframesName+"-"+b;a.transformedSelector=a.transformedSelector||a.selector;a.selector=a.transformedSelector.replace(a.keyframesName,a.transformedKeyframesName)},_scopeSelector:function(a,b,d,e,m){a.transformedSelector=a.transformedSelector||a.selector;e=e?"["+c.SCOPE_NAME+"~\x3d"+m+"]":"."+m;m=a.transformedSelector.split(",");for(var f=0,g=m.length,k;f<g&&(k=m[f]);f++)m[f]=k.match(b)?k.replace(d,e):e+" "+k;a.selector=m.join(",")},applyElementScopeSelector:function(a,
b,d,e){var f=e?a.getAttribute(c.SCOPE_NAME):a.getAttribute("class")||"";b=d?f.replace(d,b):(f?f+" ":"")+this.XSCOPE_NAME+" "+b;f!==b&&(e?a.setAttribute(c.SCOPE_NAME,b):a.setAttribute("class",b))},applyElementStyle:function(a,c,k,l){c=l?l.textContent||"":this.transformStyles(a,c,k);var f=a._customStyle;f&&!e.useNativeShadow&&f!==l&&(f._useCount--,0>=f._useCount&&f.parentNode&&f.parentNode.removeChild(f));e.useNativeShadow?a._customStyle?(a._customStyle.textContent=c,l=a._customStyle):c&&(l=b.applyCss(c,
k,a.root,a._scopeStyle)):l?l.parentNode||(d&&-1<c.indexOf("@media")&&(l.textContent=c),b.applyStyle(l,null,a._scopeStyle)):c&&(l=b.applyCss(c,k,null,a._scopeStyle));l&&(l._useCount=l._useCount||0,a._customStyle!=l&&l._useCount++,a._customStyle=l);return l},mixinCustomStyle:function(a,b){var c,d;for(d in b)if((c=b[d])||0===c)a[d]=c},updateNativeStyleProperties:function(a,b){var c=a.__customStyleProperties;if(c)for(var d=0;d<c.length;d++)a.style.removeProperty(c[d]);var c=[],e;for(e in b)null!==b[e]&&
(a.style.setProperty(e,b[e]),c.push(e));a.__customStyleProperties=c},rx:b.rx,XSCOPE_NAME:"x-scope"}}();Polymer.StyleCache=function(){this.cache={}};
Polymer.StyleCache.prototype={MAX:100,store:function(a,b,c,d){b.keyValues=c;b.styles=d;a=this.cache[a]=this.cache[a]||[];a.push(b);a.length>this.MAX&&a.shift()},retrieve:function(a,b,c){if(a=this.cache[a])for(var d=a.length-1,e;0<=d;d--)if(e=a[d],c===e.styles&&this._objectsEqual(b,e.keyValues))return e},clear:function(){this.cache={}},_objectsEqual:function(a,b){var c;for(c in a){var d=a[c];var e=b[c];if("object"===typeof d&&d?!this._objectsStrictlyEqual(d,e):d!==e)return!1}return Array.isArray(a)?
a.length===b.length:!0},_objectsStrictlyEqual:function(a,b){return this._objectsEqual(a,b)&&this._objectsEqual(b,a)}};
Polymer.StyleDefaults=function(){var a=Polymer.StyleProperties,b=Polymer.Settings.useNativeCSSProperties;return{_styles:[],_properties:null,customStyle:{},_styleCache:new Polymer.StyleCache,_element:Polymer.DomApi.wrap(document.documentElement),addStyle:function(a){this._styles.push(a);this._properties=null},get _styleProperties(){this._properties||(a.decorateStyles(this._styles,this),this._styles._scopeStyleProperties=null,this._properties=a.hostAndRootPropertiesForScope(this).rootProps,a.mixinCustomStyle(this._properties,
this.customStyle),a.reify(this._properties));return this._properties},hasStyleProperties:function(){return!!this._properties},_needsStyleProperties:function(){},_computeStyleProperties:function(){return this._styleProperties},updateStyles:function(c){this._properties=null;c&&Polymer.Base.mixin(this.customStyle,c);this._styleCache.clear();c=0;for(var d;c<this._styles.length;c++)d=this._styles[c],d=d.__importElement||d,d._apply();b&&a.updateNativeStyleProperties(document.documentElement,this.customStyle)}}}();
(function(){var a=Polymer.Base.serializeValueToAttribute,b=Polymer.StyleProperties,c=Polymer.StyleTransformer,d=Polymer.StyleDefaults,e=Polymer.Settings.useNativeShadow,f=Polymer.Settings.useNativeCSSProperties;Polymer.Base._addFeature({_prepStyleProperties:function(){f||(this._ownStylePropertyNames=this._styles&&this._styles.length?b.decorateStyles(this._styles,this):null)},customStyle:null,getComputedStyleValue:function(a){f||this._styleProperties||this._computeStyleProperties();return!f&&this._styleProperties&&
this._styleProperties[a]||getComputedStyle(this).getPropertyValue(a)},_setupStyleProperties:function(){this.customStyle={};this._customStyle=this._ownStyleProperties=this._scopeSelector=this._styleProperties=this._styleCache=null},_needsStyleProperties:function(){return!(f||!this._ownStylePropertyNames||!this._ownStylePropertyNames.length)},_validateApplyShim:function(){if(this.__applyShimInvalid){Polymer.ApplyShim.transform(this._styles,this.__proto__);var a=c.elementStyles(this),b=e?this._template.content.querySelector("style"):
this._scopeStyle&&this._scopeStyle.nextSibling;b&&(b.textContent=a)}},_beforeAttached:function(){this._scopeSelector&&!this.__stylePropertiesInvalid||!this._needsStyleProperties()||(this.__stylePropertiesInvalid=!1,this._updateStyleProperties())},_findStyleHost:function(){for(var a=this;a=Polymer.dom(a).getOwnerRoot();){if(Polymer.isInstance(a.host))return a.host;a=a.host}return d},_updateStyleProperties:function(){var a=this._findStyleHost();a._styleProperties||a._computeStyleProperties();a._styleCache||
(a._styleCache=new Polymer.StyleCache);var c=b.propertyDataFromStyles(a._styles,this),d=!this.__notStyleScopeCacheable;if(d){c.key.customStyle=this.customStyle;var f=a._styleCache.retrieve(this.is,c.key,this._styles)}var k=!!f;k?this._styleProperties=f._styleProperties:this._computeStyleProperties(c.properties);this._computeOwnStyleProperties();k||(f=g.retrieve(this.is,this._ownStyleProperties,this._styles));var l=!!f&&!k;f=this._applyStyleProperties(f);k||(f=f&&e?f.cloneNode(!0):f,f={style:f,_scopeSelector:this._scopeSelector,
_styleProperties:this._styleProperties},d&&(c.key.customStyle={},this.mixin(c.key.customStyle,this.customStyle),a._styleCache.store(this.is,f,c.key,this._styles)),l||g.store(this.is,Object.create(f),this._ownStyleProperties,this._styles))},_computeStyleProperties:function(a){var c=this._findStyleHost();c._styleProperties||c._computeStyleProperties();var d=Object.create(c._styleProperties),e=b.hostAndRootPropertiesForScope(this);this.mixin(d,e.hostProps);a=a||b.propertyDataFromStyles(c._styles,this).properties;
this.mixin(d,a);this.mixin(d,e.rootProps);b.mixinCustomStyle(d,this.customStyle);b.reify(d);this._styleProperties=d},_computeOwnStyleProperties:function(){for(var a={},b=0,c;b<this._ownStylePropertyNames.length;b++)c=this._ownStylePropertyNames[b],a[c]=this._styleProperties[c];this._ownStyleProperties=a},_scopeCount:0,_applyStyleProperties:function(a){var c=this._scopeSelector;this._scopeSelector=a?a._scopeSelector:this.is+"-"+this.__proto__._scopeCount++;a=b.applyElementStyle(this,this._styleProperties,
this._scopeSelector,a&&a.style);e||b.applyElementScopeSelector(this,this._scopeSelector,c,this._scopeCssViaAttr);return a},serializeValueToAttribute:function(b,c,d){d=d||this;if("class"===c&&!e){var f=d===this?this.domHost||this.dataHost:this;f&&(b=f._scopeElementClass(d,b))}d=this.shadyRoot&&this.shadyRoot._hasDistributed?Polymer.dom(d):d;a.call(this,b,c,d)},_scopeElementClass:function(a,b){e||this._scopeCssViaAttr||(b=(b?b+" ":"")+k+" "+this.is+(a._scopeSelector?" "+l+" "+a._scopeSelector:""));
return b},updateStyles:function(a){a&&this.mixin(this.customStyle,a);f?b.updateNativeStyleProperties(this,this.customStyle):(this.isAttached?this._needsStyleProperties()?this._updateStyleProperties():this._styleProperties=null:this.__stylePropertiesInvalid=!0,this._styleCache&&this._styleCache.clear(),this._updateRootStyles())},_updateRootStyles:function(a){a=a||this.root;a=Polymer.dom(a)._query(function(a){return a.shadyRoot||a.shadowRoot});for(var b=0,c=a.length,d;b<c&&(d=a[b]);b++)d.updateStyles&&
d.updateStyles()}});Polymer.updateStyles=function(a){d.updateStyles(a);Polymer.Base._updateRootStyles(document)};var g=new Polymer.StyleCache;Polymer.customStyleCache=g;var k=c.SCOPE_NAME,l=b.XSCOPE_NAME})();
Polymer.Base._addFeature({_registerFeatures:function(){this._prepIs();this.factoryImpl&&this._prepConstructor();this._prepStyles()},_finishRegisterFeatures:function(){this._prepTemplate();this._prepShimStyles();this._prepAnnotations();this._prepEffects();this._prepBehaviors();this._prepPropertyInfo();this._prepBindings();this._prepShady()},_prepBehavior:function(a){this._addPropertyEffects(a.properties);this._addComplexObserverEffects(a.observers);this._addHostAttributes(a.hostAttributes)},_initFeatures:function(){this._setupGestures();
this._setupConfigure(this.__data__);this._setupStyleProperties();this._setupDebouncers();this._setupShady();this._registerHost();this._template&&(this._validateApplyShim(),this._poolContent(),this._beginHosting(),this._stampTemplate(),this._endHosting(),this._marshalAnnotationReferences());this._marshalInstanceEffects();this._marshalBehaviors();this._marshalHostAttributes();this._marshalAttributes();this._tryReady()},_marshalBehavior:function(a){a.listeners&&this._listenListeners(a.listeners)}});
(function(){var a=Polymer.StyleProperties,b=Polymer.StyleUtil,c=Polymer.CssParse,d=Polymer.StyleDefaults,e=Polymer.StyleTransformer,f=Polymer.ApplyShim,g=Polymer.Debounce,k=Polymer.Settings,l;Polymer({is:"custom-style",extends:"style",_template:null,properties:{include:String},ready:function(){this.__appliedElement=this.__appliedElement||this;this.__cssBuild=b.getCssBuildType(this);this.__appliedElement!==this&&(this.__appliedElement.__cssBuild=this.__cssBuild);this._tryApply()},attached:function(){this._tryApply()},
_tryApply:function(){if(!this._appliesToDocument&&this.parentNode&&"dom-module"!==this.parentNode.localName){this._appliesToDocument=!0;var a=this.__appliedElement;k.useNativeCSSProperties||(this.__needsUpdateStyles=d.hasStyleProperties(),d.addStyle(a));if(a.textContent||this.include)this._apply(!0);else{var b=this,c=new MutationObserver(function(){c.disconnect();b._apply(!0)});c.observe(a,{childList:!0})}}},_updateStyles:function(){Polymer.updateStyles()},_apply:function(a){var c=this.__appliedElement;
this.include&&(c.textContent=b.cssFromModules(this.include,!0)+c.textContent);if(c.textContent){var d=this.__cssBuild,g=b.isTargetedBuild(d);if(!k.useNativeCSSProperties||!g){var l=b.rulesForStyle(c);g||(b.forEachRule(l,function(a){e.documentRule(a)}),k.useNativeCSSProperties&&!d&&f.transform([c]));if(k.useNativeCSSProperties)c.textContent=b.toCssText(l);else{var m=this,c=function(){m._flushCustomProperties()};a?Polymer.RenderStatus.whenReady(c):c()}}}},_flushCustomProperties:function(){this.__needsUpdateStyles?
(this.__needsUpdateStyles=!1,l=g(l,this._updateStyles)):this._applyCustomProperties()},_applyCustomProperties:function(){var d=this.__appliedElement;this._computeStyleProperties();var e=this._styleProperties,f=b.rulesForStyle(d);f&&(d.textContent=b.toCssText(f,function(b){var d=b.cssText=b.parsedCssText;b.propertyInfo&&b.propertyInfo.cssText&&(d=c.removeCustomPropAssignment(d),b.cssText=a.valueForProperties(d,e))}))}})})();
Polymer.Templatizer={properties:{__hideTemplateChildren__:{observer:"_showHideChildren"}},_instanceProps:Polymer.nob,_parentPropPrefix:"_parent_",templatize:function(a){this._templatized=a;a._content||(a._content=a.content);if(a._content._ctor)this.ctor=a._content._ctor,this._prepParentProperties(this.ctor.prototype,a);else{var b=Object.create(Polymer.Base);this._customPrepAnnotations(b,a);this._prepParentProperties(b,a);b._prepEffects();this._customPrepEffects(b);b._prepBehaviors();b._prepPropertyInfo();
b._prepBindings();b._notifyPathUp=this._notifyPathUpImpl;b._scopeElementClass=this._scopeElementClassImpl;b.listen=this._listenImpl;b._showHideChildren=this._showHideChildrenImpl;b.__setPropertyOrig=this.__setProperty;b.__setProperty=this.__setPropertyImpl;var c=this._constructorImpl,d=function(a,b){c.call(this,a,b)};d.prototype=b;b.constructor=d;this.ctor=a._content._ctor=d}},_getRootDataHost:function(){return this.dataHost&&this.dataHost._rootDataHost||this.dataHost},_showHideChildrenImpl:function(a){for(var b=
this._children,c=0;c<b.length;c++){var d=b[c];!!a!=!!d.__hideTemplateChildren__&&(d.nodeType===Node.TEXT_NODE?a?(d.__polymerTextContent__=d.textContent,d.textContent=""):d.textContent=d.__polymerTextContent__:d.style&&(a?(d.__polymerDisplay__=d.style.display,d.style.display="none"):d.style.display=d.__polymerDisplay__));d.__hideTemplateChildren__=a}},__setPropertyImpl:function(a,b,c,d){d&&d.__hideTemplateChildren__&&"textContent"==a&&(a="__polymerTextContent__");this.__setPropertyOrig(a,b,c,d)},_debounceTemplate:function(a){Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",
a))},_flushTemplates:function(){Polymer.dom.flush()},_customPrepEffects:function(a){var b=a._parentProps,c;for(c in b)a._addPropertyEffect(c,"function",this._createHostPropEffector(c));for(c in this._instanceProps)a._addPropertyEffect(c,"function",this._createInstancePropEffector(c))},_customPrepAnnotations:function(a,b){a._template=b;var c=b._content;if(!c._notes){var d=a._rootDataHost;d&&(Polymer.Annotations.prepElement=function(){d._prepElement()});c._notes=Polymer.Annotations.parseAnnotations(b);
Polymer.Annotations.prepElement=null;this._processAnnotations(c._notes)}a._notes=c._notes;a._parentProps=c._parentProps},_prepParentProperties:function(a,b){var c=this._parentProps=a._parentProps;if(this._forwardParentProp&&c){var d=a._parentPropProto,e;if(!d){for(e in this._instanceProps)delete c[e];d=a._parentPropProto=Object.create(null);b!=this&&(Polymer.Bind.prepareModel(d),Polymer.Base.prepareModelNotifyPath(d));for(e in c)a=this._parentPropPrefix+e,c=[{kind:"function",effect:this._createForwardPropEffector(e),
fn:Polymer.Bind._functionEffect},{kind:"notify",fn:Polymer.Bind._notifyEffect,effect:{event:Polymer.CaseMap.camelToDashCase(a)+"-changed"}}],d._propertyEffects=d._propertyEffects||{},d._propertyEffects[a]=c,Polymer.Bind._createAccessors(d,a,c)}var f=this;b!=this&&(Polymer.Bind.prepareInstance(b),b._forwardParentProp=function(a,b){f._forwardParentProp(a,b)});this._extendTemplate(b,d);b._pathEffector=function(a,b,c){return f._pathEffectorImpl(a,b,c)}}},_createForwardPropEffector:function(a){return function(b,
c){this._forwardParentProp(a,c)}},_createHostPropEffector:function(a){var b=this._parentPropPrefix;return function(c,d){this.dataHost._templatized[b+a]=d}},_createInstancePropEffector:function(a){return function(b,c,d,e){e||this.dataHost._forwardInstanceProp(this,a,c)}},_extendTemplate:function(a,b){var c=Object.getOwnPropertyNames(b);b._propertySetter&&(a._propertySetter=b._propertySetter);for(var d=0,e;d<c.length&&(e=c[d]);d++){var f=a[e];f&&"_propertyEffects"==e?(f=Polymer.Base.mixin({},f),a._propertyEffects=
Polymer.Base.mixin(f,b._propertyEffects)):(Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e)),void 0!==f&&a._propertySetter(e,f))}},_showHideChildren:function(){},_forwardInstancePath:function(){},_forwardInstanceProp:function(){},_notifyPathUpImpl:function(a,b){var c=this.dataHost,d=Polymer.Path.root(a);c._forwardInstancePath.call(c,this,a,b);d in c._parentProps&&c._templatized._notifyPath(c._parentPropPrefix+a,b)},_pathEffectorImpl:function(a,b,c){if(this._forwardParentPath&&0===a.indexOf(this._parentPropPrefix)){var d=
a.substring(this._parentPropPrefix.length);Polymer.Path.root(d)in this._parentProps&&this._forwardParentPath(d,b)}Polymer.Base._pathEffector.call(this._templatized,a,b,c)},_constructorImpl:function(a,b){this._rootDataHost=b._getRootDataHost();this._setupConfigure(a);this._registerHost(b);this._beginHosting();this.root=this.instanceTemplate(this._template);this.root.__noContent=!this._notes._hasContent;this.root.__styleScoped=!0;this._endHosting();this._marshalAnnotatedNodes();this._marshalInstanceEffects();
this._marshalAnnotatedListeners();a=[];for(var c=this.root.firstChild;c;c=c.nextSibling)a.push(c),c._templateInstance=this;this._children=a;b.__hideTemplateChildren__&&this._showHideChildren(!0);this._tryReady()},_listenImpl:function(a,b,c){var d=this,e=this._rootDataHost,f=e._createEventHandler(a,b,c);e._listen(a,b,function(a){a.model=d;f(a)})},_scopeElementClassImpl:function(a,b){var c=this._rootDataHost;return c?c._scopeElementClass(a,b):b},stamp:function(a){a=a||{};if(this._parentProps){var b=
this._templatized,c;for(c in this._parentProps)void 0===a[c]&&(a[c]=b[this._parentPropPrefix+c])}return new this.ctor(a,this)},modelForElement:function(a){for(var b;a;)if(b=a._templateInstance)if(b.dataHost!=this)a=b.dataHost;else return b;else a=a.parentNode}};Polymer({is:"dom-template",extends:"template",_template:null,behaviors:[Polymer.Templatizer],ready:function(){this.templatize(this)}});Polymer._collections=new WeakMap;
Polymer.Collection=function(a){Polymer._collections.set(a,this);this.userArray=a;this.store=a.slice();this.initMap()};
Polymer.Collection.prototype={constructor:Polymer.Collection,initMap:function(){for(var a=this.omap=new WeakMap,b=this.pmap={},c=this.store,d=0;d<c.length;d++){var e=c[d];e&&"object"==typeof e?a.set(e,d):b[e]=d}},add:function(a){var b=this.store.push(a)-1;a&&"object"==typeof a?this.omap.set(a,b):this.pmap[a]=b;return"#"+b},removeKey:function(a){if(a=Rd(a))Sd(this,this.store[a]),delete this.store[a]},remove:function(a){a=this.getKey(a);this.removeKey(a);return a},getKey:function(a){a=a&&"object"==
typeof a?this.omap.get(a):this.pmap[a];if(void 0!=a)return"#"+a},getKeys:function(){return Object.keys(this.store).map(function(a){return"#"+a})},setItem:function(a,b){if(a=Rd(a)){var c=this.store[a];c&&Sd(this,c);b&&"object"==typeof b?this.omap.set(b,a):this.pmap[b]=a;this.store[a]=b}},getItem:function(a){if(a=Rd(a))return this.store[a]},getItems:function(){var a=[],b=this.store,c;for(c in b)a.push(b[c]);return a}};function Rd(a){if(a&&"#"==a[0])return a.slice(1)}
function Sd(a,b){b&&"object"==typeof b?a.omap.delete(b):delete a.pmap[b]}Polymer.Collection.get=function(a){return Polymer._collections.get(a)||new Polymer.Collection(a)};
Polymer.Collection.applySplices=function(a,b){a=Polymer._collections.get(a);if(a){for(var c={},d=0,e;d<b.length&&(e=b[d]);d++){e.addedKeys=[];for(var f=0;f<e.removed.length;f++){var g=a.getKey(e.removed[f]);c[g]=c[g]?null:-1}for(f=0;f<e.addedCount;f++){var k=a.userArray[e.index+f];g=a.getKey(k);g=void 0===g?a.add(k):g;c[g]=c[g]?null:1;e.addedKeys.push(g)}}b=[];e=[];for(g in c)0>c[g]&&(a.removeKey(g),b.push(g)),0<c[g]&&e.push(g);g=[{removed:b,added:e}]}else g=null;return g};
Polymer({is:"dom-repeat",extends:"template",_template:null,properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},sort:{type:Function,observer:"_sortChanged"},filter:{type:Function,observer:"_filterChanged"},observe:{type:String,observer:"_observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!Polymer.Settings.suppressTemplateNotifications,readOnly:!0},initialCount:{type:Number,observer:"_initializeChunking"},targetFramerate:{type:Number,value:20},
notifyDomChange:{type:Boolean},_targetFrameTime:{type:Number,computed:"_computeFrameTime(targetFramerate)"}},behaviors:[Polymer.Templatizer],observers:["_itemsChanged(items.*)"],created:function(){this._instances=[];this._pool=[];this._limit=Infinity;var a=this;this._boundRenderChunk=function(){a._renderChunk()}},detached:function(){this.__isDetached=!0;for(var a=0;a<this._instances.length;a++)this._detachInstance(a)},attached:function(){if(this.__isDetached){this.__isDetached=!1;for(var a=Polymer.dom(Polymer.dom(this).parentNode),
b=0;b<this._instances.length;b++)this._attachInstance(b,a)}},ready:function(){this._instanceProps={__key__:!0};this._instanceProps[this.as]=!0;this._instanceProps[this.indexAs]=!0;this.ctor||this.templatize(this)},_sortChanged:function(a){var b=this._getRootDataHost();this._sortFn=a&&("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_filterChanged:function(a){var b=this._getRootDataHost();this._filterFn=a&&
("function"==typeof a?a:function(){return b[a].apply(b,arguments)});this._needFullRefresh=!0;this.items&&this._debounceTemplate(this._render)},_computeFrameTime:function(a){return Math.ceil(1E3/a)},_initializeChunking:function(){this.initialCount&&(this._chunkCount=this._limit=this.initialCount,this._lastChunkTime=performance.now())},_tryRenderChunk:function(){this.items&&this._limit<this.items.length&&this.debounce("renderChunk",this._requestRenderChunk)},_requestRenderChunk:function(){requestAnimationFrame(this._boundRenderChunk)},
_renderChunk:function(){var a=performance.now();this._chunkCount=Math.round(this._targetFrameTime/(a-this._lastChunkTime)*this._chunkCount)||1;this._limit+=this._chunkCount;this._lastChunkTime=a;this._debounceTemplate(this._render)},_observeChanged:function(){this._observePaths=this.observe&&this.observe.replace(".*",".").split(" ")},_itemsChanged:function(a){if("items"==a.path)Array.isArray(this.items)?this.collection=Polymer.Collection.get(this.items):this.items?this._error(this._logf("dom-repeat",
"expected array for `items`, found",this.items)):this.collection=null,this._keySplices=[],this._indexSplices=[],this._needFullRefresh=!0,this._initializeChunking(),this._debounceTemplate(this._render);else if("items.splices"==a.path)this._keySplices=this._keySplices.concat(a.value.keySplices),this._indexSplices=this._indexSplices.concat(a.value.indexSplices),this._debounceTemplate(this._render);else{var b=a.path.slice(6);this._forwardItemPath(b,a.value);this._checkObservedPaths(b)}},_checkObservedPaths:function(a){if(this._observePaths){a=
a.substring(a.indexOf(".")+1);for(var b=this._observePaths,c=0;c<b.length;c++)if(0===a.indexOf(b[c])){this._needFullRefresh=!0;this.delay?this.debounce("render",this._render,this.delay):this._debounceTemplate(this._render);break}}},render:function(){this._needFullRefresh=!0;this._debounceTemplate(this._render);this._flushTemplates()},_render:function(){this._needFullRefresh?(this._applyFullRefresh(),this._needFullRefresh=!1):this._keySplices.length&&(this._sortFn?this._applySplicesUserSort(this._keySplices):
this._filterFn?this._applyFullRefresh():this._applySplicesArrayOrder(this._indexSplices));this._keySplices=[];this._indexSplices=[];for(var a=this._keyToInstIdx={},b=this._instances.length-1;0<=b;b--){var c=this._instances[b];c.isPlaceholder&&b<this._limit?c=this._insertInstance(b,c.__key__):!c.isPlaceholder&&b>=this._limit&&(c=this._downgradeInstance(b,c.__key__));a[c.__key__]=b;c.isPlaceholder||c.__setProperty(this.indexAs,b,!0)}this._pool.length=0;this._setRenderedItemCount(this._instances.length);
Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change");this._tryRenderChunk()},_applyFullRefresh:function(){var a=this.collection;if(this._sortFn)var b=a?a.getKeys():[];else{b=[];var c=this.items;if(c)for(var d=0;d<c.length;d++)b.push(a.getKey(c[d]))}var e=this;this._filterFn&&(b=b.filter(function(b){return e._filterFn(a.getItem(b))}));this._sortFn&&b.sort(function(b,c){return e._sortFn(a.getItem(b),a.getItem(c))});for(d=0;d<b.length;d++){var c=b[d],f=this._instances[d];
f?(f.__key__=c,!f.isPlaceholder&&d<this._limit&&f.__setProperty(this.as,a.getItem(c),!0)):d<this._limit?this._insertInstance(d,c):this._insertPlaceholder(d,c)}for(b=this._instances.length-1;b>=d;b--)this._detachAndRemoveInstance(b)},_numericSort:function(a,b){return a-b},_applySplicesUserSort:function(a){for(var b=this.collection,c={},d,e=0,f;e<a.length&&(f=a[e]);e++){for(var g=0;g<f.removed.length;g++)d=f.removed[g],c[d]=c[d]?null:-1;for(g=0;g<f.added.length;g++)d=f.added[g],c[d]=c[d]?null:1}f=[];
a=[];for(d in c)-1===c[d]&&f.push(this._keyToInstIdx[d]),1===c[d]&&a.push(d);if(f.length)for(f.sort(this._numericSort),e=f.length-1;0<=e;e--)c=f[e],void 0!==c&&this._detachAndRemoveInstance(c);var k=this;if(a.length)for(this._filterFn&&(a=a.filter(function(a){return k._filterFn(b.getItem(a))})),a.sort(function(a,c){return k._sortFn(b.getItem(a),b.getItem(c))}),e=c=0;e<a.length;e++)c=this._insertRowUserSort(c,a[e])},_insertRowUserSort:function(a,b){for(var c=this.collection,d=c.getItem(b),e=this._instances.length-
1,f=-1;a<=e;){var g=a+e>>1,k=this._sortFn(c.getItem(this._instances[g].__key__),d);if(0>k)a=g+1;else if(0<k)e=g-1;else{f=g;break}}0>f&&(f=e+1);this._insertPlaceholder(f,b);return f},_applySplicesArrayOrder:function(a){for(var b=0,c;b<a.length&&(c=a[b]);b++){for(var d=0;d<c.removed.length;d++)this._detachAndRemoveInstance(c.index);for(d=0;d<c.addedKeys.length;d++)this._insertPlaceholder(c.index+d,c.addedKeys[d])}},_detachInstance:function(a){a=this._instances[a];if(!a.isPlaceholder){for(var b=0;b<
a._children.length;b++){var c=a._children[b];Polymer.dom(a.root).appendChild(c)}return a}},_attachInstance:function(a,b){a=this._instances[a];a.isPlaceholder||b.insertBefore(a.root,this)},_detachAndRemoveInstance:function(a){var b=this._detachInstance(a);b&&this._pool.push(b);this._instances.splice(a,1)},_insertPlaceholder:function(a,b){this._instances.splice(a,0,{isPlaceholder:!0,__key__:b})},_stampInstance:function(a,b){var c={__key__:b};c[this.as]=this.collection.getItem(b);c[this.indexAs]=a;return this.stamp(c)},
_insertInstance:function(a,b){var c=this._pool.pop();c?(c.__setProperty(this.as,this.collection.getItem(b),!0),c.__setProperty("__key__",b,!0)):c=this._stampInstance(a,b);b=(b=this._instances[a+1])&&!b.isPlaceholder?b._children[0]:this;var d=Polymer.dom(this).parentNode;Polymer.dom(d).insertBefore(c.root,b);return this._instances[a]=c},_downgradeInstance:function(a,b){var c=this._detachInstance(a);c&&this._pool.push(c);c={isPlaceholder:!0,__key__:b};return this._instances[a]=c},_showHideChildren:function(a){for(var b=
0;b<this._instances.length;b++)this._instances[b].isPlaceholder||this._instances[b]._showHideChildren(a)},_forwardInstanceProp:function(a,b,c){b==this.as&&(a=this._sortFn||this._filterFn?this.items.indexOf(this.collection.getItem(a.__key__)):a[this.indexAs],this.set("items."+a,c))},_forwardInstancePath:function(a,b,c){0===b.indexOf(this.as+".")&&this._notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),c)},_forwardParentProp:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||
e.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){for(var c=this._instances,d=0,e;d<c.length&&(e=c[d]);d++)e.isPlaceholder||e._notifyPath(a,b,!0)},_forwardItemPath:function(a,b){if(this._keyToInstIdx){var c=a.indexOf("."),d=this._instances[this._keyToInstIdx[a.substring(0,0>c?a.length:c)]];d&&!d.isPlaceholder&&(0<=c?(a=this.as+"."+a.substring(c+1),d._notifyPath(a,b,!0)):d.__setProperty(this.as,b,!0))}},itemForElement:function(a){return(a=this.modelForElement(a))&&a[this.as]},keyForElement:function(a){return(a=
this.modelForElement(a))&&a.__key__},indexForElement:function(a){return(a=this.modelForElement(a))&&a[this.indexAs]}});
Polymer({is:"array-selector",_template:null,properties:{items:{type:Array,observer:"clearSelection"},multi:{type:Boolean,value:!1,observer:"clearSelection"},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}},clearSelection:function(){if(Array.isArray(this.selected))for(var a=0;a<this.selected.length;a++)this.unlinkPaths("selected."+a);else this.unlinkPaths("selected"),this.unlinkPaths("selectedItem");if(this.multi){if(!this.selected||this.selected.length)this.selected=
[],this._selectedColl=Polymer.Collection.get(this.selected)}else this._selectedColl=this.selected=null;this.selectedItem=null},isSelected:function(a){return this.multi?void 0!==this._selectedColl.getKey(a):this.selected==a},deselect:function(a){if(this.multi){if(this.isSelected(a)){var b=this._selectedColl.getKey(a);this.arrayDelete("selected",a);this.unlinkPaths("selected."+b)}}else this.selectedItem=this.selected=null,this.unlinkPaths("selected"),this.unlinkPaths("selectedItem")},select:function(a){var b=
Polymer.Collection.get(this.items).getKey(a);this.multi?this.isSelected(a)?this.toggle&&this.deselect(a):(this.push("selected",a),a=this._selectedColl.getKey(a),this.linkPaths("selected."+a,"items."+b)):this.toggle&&a==this.selected?this.deselect():(this.selectedItem=this.selected=a,this.linkPaths("selected","items."+b),this.linkPaths("selectedItem","items."+b))}});
Polymer({is:"dom-if",extends:"template",_template:null,properties:{"if":{type:Boolean,value:!1,observer:"_queueRender"},restamp:{type:Boolean,value:!1,observer:"_queueRender"},notifyDomChange:{type:Boolean}},behaviors:[Polymer.Templatizer],_queueRender:function(){this._debounceTemplate(this._render)},detached:function(){this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Polymer.Settings.hasShadow&&this.parentNode instanceof ShadowRoot)||this._teardownInstance()},attached:function(){this.if&&
this.ctor&&this.async(this._ensureInstance)},render:function(){this._flushTemplates()},_render:function(){this.if?(this.ctor||this.templatize(this),this._ensureInstance(),this._showHideChildren()):this.restamp&&this._teardownInstance();!this.restamp&&this._instance&&this._showHideChildren();this.if!=this._lastIf&&(Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change"),this._lastIf=this.if)},_ensureInstance:function(){var a=Polymer.dom(this).parentNode;if(a)if(a=
Polymer.dom(a),this._instance){var b=this._instance._children;if(b&&b.length&&Polymer.dom(this).previousSibling!==b[b.length-1])for(var c=0,d;c<b.length&&(d=b[c]);c++)a.insertBefore(d,this)}else this._instance=this.stamp(),a.insertBefore(this._instance.root,this)},_teardownInstance:function(){if(this._instance){var a=this._instance._children;if(a&&a.length)for(var b=Polymer.dom(Polymer.dom(a[0]).parentNode),c=0,d;c<a.length&&(d=a[c]);c++)b.removeChild(d);this._instance=null}},_showHideChildren:function(){var a=
this.__hideTemplateChildren__||!this.if;this._instance&&this._instance._showHideChildren(a)},_forwardParentProp:function(a,b){this._instance&&this._instance.__setProperty(a,b,!0)},_forwardParentPath:function(a,b){this._instance&&this._instance._notifyPath(a,b,!0)}});
Polymer({is:"dom-bind",properties:{notifyDomChange:{type:Boolean}},extends:"template",_template:null,created:function(){var a=this;Polymer.RenderStatus.whenReady(function(){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){a._markImportsReady()}):a._markImportsReady()})},_ensureReady:function(){this._readied||this._readySelf()},_markImportsReady:function(){this._importsReady=!0;this._ensureReady()},_registerFeatures:function(){this._prepConstructor()},_insertChildren:function(){Polymer.dom(Polymer.dom(this).parentNode).insertBefore(this.root,
this)},_removeChildren:function(){if(this._children)for(var a=0;a<this._children.length;a++)this.root.appendChild(this._children[a])},_initFeatures:function(){},_scopeElementClass:function(a,b){return this.dataHost?this.dataHost._scopeElementClass(a,b):b},_configureInstanceProperties:function(){},_prepConfigure:function(){var a={},b;for(b in this._propertyEffects)a[b]=this[b];var c=this._setupConfigure;this._setupConfigure=function(){c.call(this,a)}},attached:function(){this._importsReady&&this.render()},
detached:function(){this._removeChildren()},render:function(){this._ensureReady();this._children||(this._template=this,this._prepAnnotations(),this._prepEffects(),this._prepBehaviors(),this._prepConfigure(),this._prepBindings(),this._prepPropertyInfo(),Polymer.Base._initFeatures.call(this),this._children=Polymer.TreeApi.arrayCopyChildNodes(this.root));this._insertChildren();Polymer.Settings.suppressTemplateNotifications&&!this.notifyDomChange||this.fire("dom-change")}});
</script>















<style is="custom-style">

  :root {

    /* Material Design color palette for Google products */

    --google-red-100: #f4c7c3;
    --google-red-300: #e67c73;
    --google-red-500: #db4437;
    --google-red-700: #c53929;

    --google-blue-100: #c6dafc;
    --google-blue-300: #7baaf7;
    --google-blue-500: #4285f4;
    --google-blue-700: #3367d6;

    --google-green-100: #b7e1cd;
    --google-green-300: #57bb8a;
    --google-green-500: #0f9d58;
    --google-green-700: #0b8043;

    --google-yellow-100: #fce8b2;
    --google-yellow-300: #f7cb4d;
    --google-yellow-500: #f4b400;
    --google-yellow-700: #f09300;

    --google-grey-100: #f5f5f5;
    --google-grey-300: #e0e0e0;
    --google-grey-500: #9e9e9e;
    --google-grey-700: #616161;
    
    /* Material Design color palette from online spec document */

    --paper-red-50: #ffebee;
    --paper-red-100: #ffcdd2;
    --paper-red-200: #ef9a9a;
    --paper-red-300: #e57373;
    --paper-red-400: #ef5350;
    --paper-red-500: #f44336;
    --paper-red-600: #e53935;
    --paper-red-700: #d32f2f;
    --paper-red-800: #c62828;
    --paper-red-900: #b71c1c;
    --paper-red-a100: #ff8a80;
    --paper-red-a200: #ff5252;
    --paper-red-a400: #ff1744;
    --paper-red-a700: #d50000;
 
    --paper-pink-50: #fce4ec;
    --paper-pink-100: #f8bbd0;
    --paper-pink-200: #f48fb1;
    --paper-pink-300: #f06292;
    --paper-pink-400: #ec407a;
    --paper-pink-500: #e91e63;
    --paper-pink-600: #d81b60;
    --paper-pink-700: #c2185b;
    --paper-pink-800: #ad1457;
    --paper-pink-900: #880e4f;
    --paper-pink-a100: #ff80ab;
    --paper-pink-a200: #ff4081;
    --paper-pink-a400: #f50057;
    --paper-pink-a700: #c51162;
 
    --paper-purple-50: #f3e5f5;
    --paper-purple-100: #e1bee7;
    --paper-purple-200: #ce93d8;
    --paper-purple-300: #ba68c8;
    --paper-purple-400: #ab47bc;
    --paper-purple-500: #9c27b0;
    --paper-purple-600: #8e24aa;
    --paper-purple-700: #7b1fa2;
    --paper-purple-800: #6a1b9a;
    --paper-purple-900: #4a148c;
    --paper-purple-a100: #ea80fc;
    --paper-purple-a200: #e040fb;
    --paper-purple-a400: #d500f9;
    --paper-purple-a700: #aa00ff;
 
    --paper-deep-purple-50: #ede7f6;
    --paper-deep-purple-100: #d1c4e9;
    --paper-deep-purple-200: #b39ddb;
    --paper-deep-purple-300: #9575cd;
    --paper-deep-purple-400: #7e57c2;
    --paper-deep-purple-500: #673ab7;
    --paper-deep-purple-600: #5e35b1;
    --paper-deep-purple-700: #512da8;
    --paper-deep-purple-800: #4527a0;
    --paper-deep-purple-900: #311b92;
    --paper-deep-purple-a100: #b388ff;
    --paper-deep-purple-a200: #7c4dff;
    --paper-deep-purple-a400: #651fff;
    --paper-deep-purple-a700: #6200ea;
 
    --paper-indigo-50: #e8eaf6;
    --paper-indigo-100: #c5cae9;
    --paper-indigo-200: #9fa8da;
    --paper-indigo-300: #7986cb;
    --paper-indigo-400: #5c6bc0;
    --paper-indigo-500: #3f51b5;
    --paper-indigo-600: #3949ab;
    --paper-indigo-700: #303f9f;
    --paper-indigo-800: #283593;
    --paper-indigo-900: #1a237e;
    --paper-indigo-a100: #8c9eff;
    --paper-indigo-a200: #536dfe;
    --paper-indigo-a400: #3d5afe;
    --paper-indigo-a700: #304ffe;
 
    --paper-blue-50: #e3f2fd;
    --paper-blue-100: #bbdefb;
    --paper-blue-200: #90caf9;
    --paper-blue-300: #64b5f6;
    --paper-blue-400: #42a5f5;
    --paper-blue-500: #2196f3;
    --paper-blue-600: #1e88e5;
    --paper-blue-700: #1976d2;
    --paper-blue-800: #1565c0;
    --paper-blue-900: #0d47a1;
    --paper-blue-a100: #82b1ff;
    --paper-blue-a200: #448aff;
    --paper-blue-a400: #2979ff;
    --paper-blue-a700: #2962ff;
 
    --paper-light-blue-50: #e1f5fe;
    --paper-light-blue-100: #b3e5fc;
    --paper-light-blue-200: #81d4fa;
    --paper-light-blue-300: #4fc3f7;
    --paper-light-blue-400: #29b6f6;
    --paper-light-blue-500: #03a9f4;
    --paper-light-blue-600: #039be5;
    --paper-light-blue-700: #0288d1;
    --paper-light-blue-800: #0277bd;
    --paper-light-blue-900: #01579b;
    --paper-light-blue-a100: #80d8ff;
    --paper-light-blue-a200: #40c4ff;
    --paper-light-blue-a400: #00b0ff;
    --paper-light-blue-a700: #0091ea;
 
    --paper-cyan-50: #e0f7fa;
    --paper-cyan-100: #b2ebf2;
    --paper-cyan-200: #80deea;
    --paper-cyan-300: #4dd0e1;
    --paper-cyan-400: #26c6da;
    --paper-cyan-500: #00bcd4;
    --paper-cyan-600: #00acc1;
    --paper-cyan-700: #0097a7;
    --paper-cyan-800: #00838f;
    --paper-cyan-900: #006064;
    --paper-cyan-a100: #84ffff;
    --paper-cyan-a200: #18ffff;
    --paper-cyan-a400: #00e5ff;
    --paper-cyan-a700: #00b8d4;
 
    --paper-teal-50: #e0f2f1;
    --paper-teal-100: #b2dfdb;
    --paper-teal-200: #80cbc4;
    --paper-teal-300: #4db6ac;
    --paper-teal-400: #26a69a;
    --paper-teal-500: #009688;
    --paper-teal-600: #00897b;
    --paper-teal-700: #00796b;
    --paper-teal-800: #00695c;
    --paper-teal-900: #004d40;
    --paper-teal-a100: #a7ffeb;
    --paper-teal-a200: #64ffda;
    --paper-teal-a400: #1de9b6;
    --paper-teal-a700: #00bfa5;
 
    --paper-green-50: #e8f5e9;
    --paper-green-100: #c8e6c9;
    --paper-green-200: #a5d6a7;
    --paper-green-300: #81c784;
    --paper-green-400: #66bb6a;
    --paper-green-500: #4caf50;
    --paper-green-600: #43a047;
    --paper-green-700: #388e3c;
    --paper-green-800: #2e7d32;
    --paper-green-900: #1b5e20;
    --paper-green-a100: #b9f6ca;
    --paper-green-a200: #69f0ae;
    --paper-green-a400: #00e676;
    --paper-green-a700: #00c853;
 
    --paper-light-green-50: #f1f8e9;
    --paper-light-green-100: #dcedc8;
    --paper-light-green-200: #c5e1a5;
    --paper-light-green-300: #aed581;
    --paper-light-green-400: #9ccc65;
    --paper-light-green-500: #8bc34a;
    --paper-light-green-600: #7cb342;
    --paper-light-green-700: #689f38;
    --paper-light-green-800: #558b2f;
    --paper-light-green-900: #33691e;
    --paper-light-green-a100: #ccff90;
    --paper-light-green-a200: #b2ff59;
    --paper-light-green-a400: #76ff03;
    --paper-light-green-a700: #64dd17;
 
    --paper-lime-50: #f9fbe7;
    --paper-lime-100: #f0f4c3;
    --paper-lime-200: #e6ee9c;
    --paper-lime-300: #dce775;
    --paper-lime-400: #d4e157;
    --paper-lime-500: #cddc39;
    --paper-lime-600: #c0ca33;
    --paper-lime-700: #afb42b;
    --paper-lime-800: #9e9d24;
    --paper-lime-900: #827717;
    --paper-lime-a100: #f4ff81;
    --paper-lime-a200: #eeff41;
    --paper-lime-a400: #c6ff00;
    --paper-lime-a700: #aeea00;
 
    --paper-yellow-50: #fffde7;
    --paper-yellow-100: #fff9c4;
    --paper-yellow-200: #fff59d;
    --paper-yellow-300: #fff176;
    --paper-yellow-400: #ffee58;
    --paper-yellow-500: #ffeb3b;
    --paper-yellow-600: #fdd835;
    --paper-yellow-700: #fbc02d;
    --paper-yellow-800: #f9a825;
    --paper-yellow-900: #f57f17;
    --paper-yellow-a100: #ffff8d;
    --paper-yellow-a200: #ffff00;
    --paper-yellow-a400: #ffea00;
    --paper-yellow-a700: #ffd600;
 
    --paper-amber-50: #fff8e1;
    --paper-amber-100: #ffecb3;
    --paper-amber-200: #ffe082;
    --paper-amber-300: #ffd54f;
    --paper-amber-400: #ffca28;
    --paper-amber-500: #ffc107;
    --paper-amber-600: #ffb300;
    --paper-amber-700: #ffa000;
    --paper-amber-800: #ff8f00;
    --paper-amber-900: #ff6f00;
    --paper-amber-a100: #ffe57f;
    --paper-amber-a200: #ffd740;
    --paper-amber-a400: #ffc400;
    --paper-amber-a700: #ffab00;
 
    --paper-orange-50: #fff3e0;
    --paper-orange-100: #ffe0b2;
    --paper-orange-200: #ffcc80;
    --paper-orange-300: #ffb74d;
    --paper-orange-400: #ffa726;
    --paper-orange-500: #ff9800;
    --paper-orange-600: #fb8c00;
    --paper-orange-700: #f57c00;
    --paper-orange-800: #ef6c00;
    --paper-orange-900: #e65100;
    --paper-orange-a100: #ffd180;
    --paper-orange-a200: #ffab40;
    --paper-orange-a400: #ff9100;
    --paper-orange-a700: #ff6500;
 
    --paper-deep-orange-50: #fbe9e7;
    --paper-deep-orange-100: #ffccbc;
    --paper-deep-orange-200: #ffab91;
    --paper-deep-orange-300: #ff8a65;
    --paper-deep-orange-400: #ff7043;
    --paper-deep-orange-500: #ff5722;
    --paper-deep-orange-600: #f4511e;
    --paper-deep-orange-700: #e64a19;
    --paper-deep-orange-800: #d84315;
    --paper-deep-orange-900: #bf360c;
    --paper-deep-orange-a100: #ff9e80;
    --paper-deep-orange-a200: #ff6e40;
    --paper-deep-orange-a400: #ff3d00;
    --paper-deep-orange-a700: #dd2c00;
 
    --paper-brown-50: #efebe9;
    --paper-brown-100: #d7ccc8;
    --paper-brown-200: #bcaaa4;
    --paper-brown-300: #a1887f;
    --paper-brown-400: #8d6e63;
    --paper-brown-500: #795548;
    --paper-brown-600: #6d4c41;
    --paper-brown-700: #5d4037;
    --paper-brown-800: #4e342e;
    --paper-brown-900: #3e2723;
 
    --paper-grey-50: #fafafa;
    --paper-grey-100: #f5f5f5;
    --paper-grey-200: #eeeeee;
    --paper-grey-300: #e0e0e0;
    --paper-grey-400: #bdbdbd;
    --paper-grey-500: #9e9e9e;
    --paper-grey-600: #757575;
    --paper-grey-700: #616161;
    --paper-grey-800: #424242;
    --paper-grey-900: #212121;
 
    --paper-blue-grey-50: #eceff1;
    --paper-blue-grey-100: #cfd8dc;
    --paper-blue-grey-200: #b0bec5;
    --paper-blue-grey-300: #90a4ae;
    --paper-blue-grey-400: #78909c;
    --paper-blue-grey-500: #607d8b;
    --paper-blue-grey-600: #546e7a;
    --paper-blue-grey-700: #455a64;
    --paper-blue-grey-800: #37474f;
    --paper-blue-grey-900: #263238;

    /* opacity for dark text on a light background */
    --dark-divider-opacity: 0.12;
    --dark-disabled-opacity: 0.38; /* or hint text or icon */
    --dark-secondary-opacity: 0.54;
    --dark-primary-opacity: 0.87;

    /* opacity for light text on a dark background */
    --light-divider-opacity: 0.12;
    --light-disabled-opacity: 0.3; /* or hint text or icon */
    --light-secondary-opacity: 0.7;
    --light-primary-opacity: 1.0;

  }

</style>




<style is="custom-style">

  :root {
    /*
     * You can use these generic variables in your elements for easy theming.
     * For example, if all your elements use `--primary-text-color` as its main
     * color, then switching from a light to a dark theme is just a matter of
     * changing the value of `--primary-text-color` in your application.
     */
    --primary-text-color: var(--light-theme-text-color);
    --primary-background-color: var(--light-theme-background-color);
    --secondary-text-color: var(--light-theme-secondary-color);
    --disabled-text-color: var(--light-theme-disabled-color);
    --divider-color: var(--light-theme-divider-color);
    --error-color: var(--paper-deep-orange-a700);

    /*
     * Primary and accent colors. Also see color.html for more colors.
     */
    --primary-color: var(--paper-indigo-500);
    --light-primary-color: var(--paper-indigo-100);
    --dark-primary-color: var(--paper-indigo-700);

    --accent-color: var(--paper-pink-a200);
    --light-accent-color: var(--paper-pink-a100);
    --dark-accent-color: var(--paper-pink-a400);


    /*
     * Material Design Light background theme
     */
    --light-theme-background-color: #ffffff;
    --light-theme-base-color: #000000;
    --light-theme-text-color: var(--paper-grey-900);
    --light-theme-secondary-color: #737373;  /* for secondary text and icons */
    --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
    --light-theme-divider-color: #dbdbdb;

    /*
     * Material Design Dark background theme
     */
    --dark-theme-background-color: var(--paper-grey-900);
    --dark-theme-base-color: #ffffff;
    --dark-theme-text-color: #ffffff;
    --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
    --dark-theme-disabled-color: #646464;  /* disabled/hint text */
    --dark-theme-divider-color: #3c3c3c;

    /*
     * Deprecated values because of their confusing names.
     */
    --text-primary-color: var(--dark-theme-text-color);
    --default-primary-color: var(--primary-color);

  }

</style>








<script>//~~WEBPATH~~/iron-meta/iron-meta.html.js
(function(){var a={},b={},c=null;Polymer.IronMeta=function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=a[b]}};Polymer.IronMeta=Polymer({is:"iron-meta",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,observer:"_valueChanged"},self:{type:Boolean,observer:"_selfChanged"},list:{type:Array,notify:!0}},hostAttributes:{hidden:!0},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":case "value":this[b]=
a[b]}},created:function(){this._metaDatas=a;this._metaArrays=b},_keyChanged:function(a,b){this._resetRegistration(b)},_valueChanged:function(){this._resetRegistration(this.key)},_selfChanged:function(a){a&&(this.value=this)},_typeChanged:function(c){this._unregisterKey(this.key);a[c]||(a[c]={});this._metaData=a[c];b[c]||(b[c]=[]);this.list=b[c];this._registerKeyValue(this.key,this.value)},byKey:function(a){return this._metaData&&this._metaData[a]},_resetRegistration:function(a){this._unregisterKey(a);
this._registerKeyValue(this.key,this.value)},_unregisterKey:function(a){this._unregister(a,this._metaData,this.list)},_registerKeyValue:function(a,b){this._register(a,b,this._metaData,this.list)},_register:function(a,b,c,g){a&&c&&void 0!==b&&(c[a]=b,g.push(b))},_unregister:function(a,b,c){if(a&&b&&a in b){var d=b[a];delete b[a];this.arrayDelete(c,d)}}});Polymer.IronMeta.getIronMeta=function(){null===c&&(c=new Polymer.IronMeta);return c};Polymer.IronMetaQuery=function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=
a[b]}};Polymer.IronMetaQuery.prototype._setValue=function(){};Polymer.IronMetaQuery=Polymer({is:"iron-meta-query",properties:{type:{type:String,value:"default",observer:"_typeChanged"},key:{type:String,observer:"_keyChanged"},value:{type:Object,notify:!0,readOnly:!0},list:{type:Array,notify:!0}},factoryImpl:function(a){if(a)for(var b in a)switch(b){case "type":case "key":this[b]=a[b]}},created:function(){this._metaDatas=a;this._metaArrays=b},_keyChanged:function(a){this._setValue(this._metaData&&
this._metaData[a])},_typeChanged:function(c){this._metaData=a[c];this.list=b[c];this.key&&this._keyChanged(this.key)},byKey:function(a){return this._metaData&&this._metaData[a]}})})();
</script>


<script>//~~WEBPATH~~/iron-validatable-behavior/iron-validatable-behavior.html.js
Polymer.IronValidatableBehaviorMeta=null;
Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1},_validatorMeta:{type:Object},validatorType:{type:String,value:"validator"},_validator:{type:Object,computed:"__computeValidator(validator)"}},observers:["_invalidChanged(invalid)"],registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},
hasValidator:function(){return null!=this._validator},validate:function(a){this.invalid=!this._getValidity(a);return!this.invalid},_getValidity:function(a){return this.hasValidator()?this._validator.validate(a):!0},__computeValidator:function(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)}};
</script>



<script>//~~WEBPATH~~/iron-form-element-behavior/iron-form-element-behavior.html.js
Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){this.fire("iron-form-element-register")},detached:function(){this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}};
</script>


<script>//~~WEBPATH~~/iron-checked-element-behavior/iron-checked-element-behavior.html.js
Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.required&&this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required",
"true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked;this.fire("iron-change")},_valueChanged:function(){if(void 0===this.value||null===this.value)this.value="on"}};Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl];
</script>





<script>//~~WEBPATH~~/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html.js
(function(){function a(a,b){var c="";if(a)if(a=a.toLowerCase()," "===a||n.test(a))c="space";else if(q.test(a))c="esc";else if(1==a.length){if(!b||k.test(a))c=a}else c=m.test(a)?a.replace("arrow",""):"multiply"==a?"*":a;return c}function b(b,c){var d=b.hasModifiers;if(c.key)d=a(c.key,d);else if(c.detail&&c.detail.key)d=a(c.detail.key,d);else{var d=c.keyIdentifier,g="";d&&(d in e?g=e[d]:l.test(d)?(d=parseInt(d.replace("U+","0x"),16),g=String.fromCharCode(d).toLowerCase()):g=d.toLowerCase());(d=g)||
(d=c.keyCode,g="",Number(d)&&(g=65<=d&&90>=d?String.fromCharCode(32+d):112<=d&&123>=d?"f"+(d-112):48<=d&&57>=d?String(d-48):96<=d&&105>=d?String(d-96):f[d]),d=g);d=d||""}return d===b.key&&(!b.hasModifiers||!!c.shiftKey===!!b.shiftKey&&!!c.ctrlKey===!!b.ctrlKey&&!!c.altKey===!!b.altKey&&!!c.metaKey===!!b.metaKey)}function c(a){return 1===a.length?{combo:a,key:a,event:"keydown"}:a.split("+").reduce(function(a,b){var c=b.split(":");b=c[0];c=c[1];b in g?(a[g[b]]=!0,a.hasModifiers=!0):(a.key=b,a.event=
c||"keydown");return a},{combo:a.split(":").shift()})}function d(a){return a.trim().split(" ").map(function(a){return c(a)})}var e={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},f={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},g={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},k=/[a-z0-9*]/,l=/U\+/,m=/^arrow/,n=/^space(bar)?/,q=/^escape$/;
Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},
addOwnKeyBinding:function(a,b){this._imperativeKeyBindings[a]=b;this._prepKeyBindings();this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={};this._prepKeyBindings();this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(a,c){c=d(c);for(var e=0;e<c.length;++e)if(b(c[e],a))return!0;return!1},_collectKeyBindings:function(){var a=this.behaviors.map(function(a){return a.keyBindings});-1===a.indexOf(this.keyBindings)&&a.push(this.keyBindings);return a},
_prepKeyBindings:function(){this._keyBindings={};this._collectKeyBindings().forEach(function(a){for(var b in a)this._addKeyBinding(b,a[b])},this);for(var a in this._imperativeKeyBindings)this._addKeyBinding(a,this._imperativeKeyBindings[a]);for(var b in this._keyBindings)this._keyBindings[b].sort(function(a,b){a=a[0].hasModifiers;return a===b[0].hasModifiers?0:a?-1:1})},_addKeyBinding:function(a,b){d(a).forEach(function(a){this._keyBindings[a.event]=this._keyBindings[a.event]||[];this._keyBindings[a.event].push([a,
b])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners();this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(a){var b=this._onKeyBindingEvent.bind(this,this._keyBindings[a]);this._boundKeyHandlers.push([this.keyEventTarget,a,b]);this.keyEventTarget.addEventListener(a,b)},this)},_unlistenKeyEventListeners:function(){for(var a,b,c;this._boundKeyHandlers.length;)a=this._boundKeyHandlers.pop(),
b=a[0],c=a[1],a=a[2],b.removeEventListener(c,a)},_onKeyBindingEvent:function(a,c){this.stopKeyboardEventPropagation&&c.stopPropagation();if(!c.defaultPrevented)for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1];if(b(e,c)&&(this._triggerKeyHandler(e,f,c),c.defaultPrevented))break}},_triggerKeyHandler:function(a,b,c){var d=Object.create(a);d.keyboardEvent=c;a=new CustomEvent(a.event,{detail:d,cancelable:!0});this[b].call(this,a);a.defaultPrevented&&c.preventDefault()}}})();
</script>



<script>//~~WEBPATH~~/iron-behaviors/iron-control-state.html.js
Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:Number},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0);this.addEventListener("blur",this._boundFocusBlurHandler,
!0)},_focusBlurHandler:function(a){if(a.target===this)this._setFocused("focus"===a.type);else if(!this.shadowRoot){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false");this.style.pointerEvents=a?"none":"";a?(this._oldTabIndex=this.tabIndex,this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(this.tabIndex=
this._oldTabIndex)},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}};
</script>


<script>//~~WEBPATH~~/iron-behaviors/iron-button-state.html.js
Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},
observers:["_detectKeyboardFocus(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_detectKeyboardFocus:function(a){this._setReceivedFocusFromKeyboard(!this.pointerDown&&a)},_userActivate:function(a){this.active!==a&&(this.active=a,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0);
this._setPressed(!0);this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1);this._setPressed(!1)},_spaceKeyDownHandler:function(a){a=a.detail.keyboardEvent;var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||(a.preventDefault(),a.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(a){a=Polymer.dom(a.detail.keyboardEvent).localTarget;this.isLightDescendant(a)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},
1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(a,b){b&&b!=a&&this.hasAttribute(b)&&this.removeAttribute(b)},_activeChanged:function(a){this.toggles?this.setAttribute(this.ariaActiveAttribute,a?"true":"false"):this.removeAttribute(this.ariaActiveAttribute);this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}};
Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl];
</script>







<dom-module id="paper-ripple">

  

  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-ripple/paper-ripple.html.js
(function(){function a(a){this.element=a;this.width=this.boundingRect.width;this.height=this.boundingRect.height;this.size=Math.max(this.width,this.height)}function b(a){this.element=a;this.color=window.getComputedStyle(a).color;this.wave=document.createElement("div");this.waveContainer=document.createElement("div");this.wave.style.backgroundColor=this.color;this.wave.classList.add("wave");this.waveContainer.classList.add("wave-container");Polymer.dom(this.waveContainer).appendChild(this.wave);this.resetInteractionState()}
var c={distance:function(a,b,c,g){a-=c;b-=g;return Math.sqrt(a*a+b*b)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};a.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(a,b){var d=c.distance(a,b,0,0),e=c.distance(a,b,this.width,0),k=c.distance(a,b,0,this.height);a=c.distance(a,b,this.width,this.height);return Math.max(d,e,k,a)}};b.MAX_RADIUS=300;b.prototype={get recenters(){return this.element.recenters},
get center(){return this.element.center},get mouseDownElapsed(){if(!this.mouseDownStart)return 0;var a=c.now()-this.mouseDownStart;this.mouseUpStart&&(a-=this.mouseUpElapsed);return a},get mouseUpElapsed(){return this.mouseUpStart?c.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1E3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1E3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},
get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var a=1.1*Math.min(Math.sqrt(this.containerMetrics.width*this.containerMetrics.width+this.containerMetrics.height*this.containerMetrics.height),b.MAX_RADIUS)+5;return Math.abs(a*(1-Math.pow(80,-(this.mouseInteractionSeconds/(1.1-a/b.MAX_RADIUS*.2)))))},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){return Math.max(0,
Math.min(.3*this.mouseUpElapsedSeconds,this.opacity))},get isOpacityFullyDecayed(){return.01>this.opacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,b.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?
this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.slideDistance=this.yEnd=this.xEnd=this.yStart=this.xStart=this.mouseUpStart=this.mouseDownStart=this.maxRadius=0;this.containerMetrics=new a(this.element)},draw:function(){this.wave.style.opacity=this.opacity;var a=this.radius/
(this.containerMetrics.size/2);var b=this.xNow-this.containerMetrics.width/2;var c=this.yNow-this.containerMetrics.height/2;this.waveContainer.style.webkitTransform="translate("+b+"px, "+c+"px)";this.waveContainer.style.transform="translate3d("+b+"px, "+c+"px, 0)";this.wave.style.webkitTransform="scale("+a+","+a+")";this.wave.style.transform="scale3d("+a+","+a+",1)"},downAction:function(a){var b=this.containerMetrics.width/2,d=this.containerMetrics.height/2;this.resetInteractionState();this.mouseDownStart=
c.now();this.center?(this.xStart=b,this.yStart=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=a?a.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=a?a.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2);this.recenters&&(this.xEnd=b,this.yEnd=d,this.slideDistance=c.distance(this.xStart,this.yStart,this.xEnd,this.yEnd));this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,
this.yStart);this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px";this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px";this.waveContainer.style.width=this.containerMetrics.size+"px";this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=c.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}};Polymer({is:"paper-ripple",
behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},
get target(){var a=Polymer.dom(this).getOwnerRoot();return 11==this.parentNode.nodeType?a.host:this.parentNode},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){this.keyEventTarget=this.target;this.listen(this.target,"up","uiUpAction");this.listen(this.target,"down","uiDownAction")},detached:function(){this.unlisten(this.target,"up","uiUpAction");this.unlisten(this.target,"down","uiDownAction")},get shouldKeepAnimating(){for(var a=
0;a<this.ripples.length;++a)if(!this.ripples[a].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null);this.async(function(){this.upAction()},1)},uiDownAction:function(a){this.noink||this.downAction(a)},downAction:function(a){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(a),this._animating||this.animate())},uiUpAction:function(a){this.noink||this.upAction(a)},upAction:function(a){this.holdDown||(this.ripples.forEach(function(b){b.upAction(a)}),
this.animate())},onAnimationComplete:function(){this._animating=!1;this.$.background.style.backgroundColor=null;this.fire("transitionend")},addRipple:function(){var a=new b(this);Polymer.dom(this.$.waves).appendChild(a.waveContainer);this.$.background.style.backgroundColor=a.color;this.ripples.push(a);this._setAnimating(!0);return a},removeRipple:function(a){var b=this.ripples.indexOf(a);0>b||(this.ripples.splice(b,1),a.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){var a;
this._animating=!0;for(a=0;a<this.ripples.length;++a){var b=this.ripples[a];b.draw();this.$.background.style.opacity=b.outerOpacity;b.isOpacityFullyDecayed&&!b.isRestingAtMaxRadius&&this.removeRipple(b)}if(this.shouldKeepAnimating||0!==this.ripples.length)window.requestAnimationFrame(this._boundAnimate);else this.onAnimationComplete()},_onEnterKeydown:function(){this.uiDownAction();this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},
_holdDownChanged:function(a,b){void 0!==b&&(a?this.downAction():this.upAction())}})})();
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-ripple-behavior.html.js
Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(a){Polymer.IronButtonStateImpl._downHandler.call(this,a);this.pressed&&this.ensureRipple(a)},ensureRipple:function(a){if(!this.hasRipple()){this._ripple=this._createRipple();this._ripple.noink=this.noink;var b=this._rippleContainer||this.root;b&&Polymer.dom(b).appendChild(this._ripple);if(a){var b=
Polymer.dom(this._rippleContainer||this),c=Polymer.dom(a).rootTarget;b.deepContains(c)&&this._ripple.uiDownAction(a)}}},getRipple:function(){this.ensureRipple();return this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(a){this.hasRipple()&&(this._ripple.noink=a)}};
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-inky-focus-behavior.html.js
Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.holdDown=a)},_createRipple:function(){var a=Polymer.PaperRippleBehavior._createRipple();a.id="ink";a.setAttribute("center","");a.classList.add("circle");return a}};Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl];
</script>


<script>//~~WEBPATH~~/paper-behaviors/paper-checked-element-behavior.html.js
Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this);this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this);!this.disabled&&this.isAttached&&(this.checked=this.active)}};
Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl];
</script>




<dom-module id="paper-checkbox">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        white-space: nowrap;
        cursor: pointer;
        --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);
        /* -1px is a sentinel for the default and is replaced in `attached`. */
        --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);
        @apply --paper-font-common-base;
        line-height: 0;
        -webkit-tap-highlight-color: transparent;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:focus) {
        outline: none;
      }

      .hidden {
        display: none;
      }

      #checkboxContainer {
        display: inline-block;
        position: relative;
        width: var(--calculated-paper-checkbox-size);
        height: var(--calculated-paper-checkbox-size);
        min-width: var(--calculated-paper-checkbox-size);
        margin: var(--paper-checkbox-margin, initial);
        vertical-align: var(--paper-checkbox-vertical-align, middle);
        background-color: var(--paper-checkbox-unchecked-background-color, transparent);
      }

      #ink {
        position: absolute;

        /* Center the ripple in the checkbox by negative offsetting it by
         * (inkWidth - rippleWidth) / 2 */
        top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        width: var(--calculated-paper-checkbox-ink-size);
        height: var(--calculated-paper-checkbox-ink-size);
        color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));
        opacity: 0.6;
        pointer-events: none;
      }

      :host-context([dir="rtl"]) #ink {
        right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
        left: auto;
      }

      #ink[checked] {
        color: var(--paper-checkbox-checked-ink-color, var(--primary-color));
      }

      #checkbox {
        position: relative;
        box-sizing: border-box;
        height: 100%;
        border: solid 2px;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        border-radius: 2px;
        pointer-events: none;
        -webkit-transition: background-color 140ms, border-color 140ms;
        transition: background-color 140ms, border-color 140ms;
      }

      /* checkbox checked animations */
      #checkbox.checked #checkmark {
        -webkit-animation: checkmark-expand 140ms ease-out forwards;
        animation: checkmark-expand 140ms ease-out forwards;
      }

      @-webkit-keyframes checkmark-expand {
        0% {
          -webkit-transform: scale(0, 0) rotate(45deg);
        }
        100% {
          -webkit-transform: scale(1, 1) rotate(45deg);
        }
      }

      @keyframes checkmark-expand {
        0% {
          transform: scale(0, 0) rotate(45deg);
        }
        100% {
          transform: scale(1, 1) rotate(45deg);
        }
      }

      #checkbox.checked {
        background-color: var(--paper-checkbox-checked-color, var(--primary-color));
        border-color: var(--paper-checkbox-checked-color, var(--primary-color));
      }

      #checkmark {
        position: absolute;
        width: 36%;
        height: 70%;
        border-style: solid;
        border-top: none;
        border-left: none;
        border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));
        border-color: var(--paper-checkbox-checkmark-color, white);
        -webkit-transform-origin: 97% 86%;
        transform-origin: 97% 86%;
        box-sizing: content-box; /* protect against page-level box-sizing */
      }

      :host-context([dir="rtl"]) #checkmark {
        -webkit-transform-origin: 50% 14%;
        transform-origin: 50% 14%;
      }

      /* label */
      #checkboxLabel {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        padding-left: var(--paper-checkbox-label-spacing, 8px);
        white-space: normal;
        line-height: normal;
        color: var(--paper-checkbox-label-color, var(--primary-text-color));
        @apply --paper-checkbox-label;
      }

      :host([checked]) #checkboxLabel {
        color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));
        @apply --paper-checkbox-label-checked;
      }

      :host-context([dir="rtl"]) #checkboxLabel {
        padding-right: var(--paper-checkbox-label-spacing, 8px);
        padding-left: 0;
      }

      #checkboxLabel[hidden] {
        display: none;
      }

      /* disabled state */

      :host([disabled]) #checkbox {
        opacity: 0.5;
        border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
      }

      :host([disabled][checked]) #checkbox {
        background-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
        opacity: 0.5;
      }

      :host([disabled]) #checkboxLabel  {
        opacity: 0.65;
      }

      /* invalid state */
      #checkbox.invalid:not(.checked) {
        border-color: var(--paper-checkbox-error-color, var(--error-color));
      }
    </style>

    <div id="checkboxContainer">
      <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">
        <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>
      </div>
    </div>

    <div id="checkboxLabel"><slot></slot></div>
  </template>

  <script>//~~WEBPATH~~/paper-checkbox/paper-checkbox.html.js
Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var a=parseFloat(this.getComputedStyleValue("--calculated-paper-checkbox-size").trim()),b=Math.floor(8/3*a);b%2!==a%2&&b++;this.updateStyles({"--paper-checkbox-ink-size":b+
"px"})}})},_computeCheckboxClass:function(a,b){var c="";a&&(c+="checked ");b&&(c+="invalid");return c},_computeCheckmarkClass:function(a){return a?"":"hidden"},_createRipple:function(){this._rippleContainer=this.$.checkboxContainer;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}});
</script>
</dom-module>












<style>
  /* IE 10 support for HTML5 hidden attr */
  [hidden] {
    display: none !important;
  }
</style>

<style is="custom-style">
  :root {

    --layout: {
      display: -ms-flexbox;
      display: -webkit-flex;
      display: flex;
    };

    --layout-inline: {
      display: -ms-inline-flexbox;
      display: -webkit-inline-flex;
      display: inline-flex;
    };

    --layout-horizontal: {
      @apply(--layout);

      -ms-flex-direction: row;
      -webkit-flex-direction: row;
      flex-direction: row;
    };

    --layout-horizontal-reverse: {
      @apply(--layout);

      -ms-flex-direction: row-reverse;
      -webkit-flex-direction: row-reverse;
      flex-direction: row-reverse;
    };

    --layout-vertical: {
      @apply(--layout);

      -ms-flex-direction: column;
      -webkit-flex-direction: column;
      flex-direction: column;
    };

    --layout-vertical-reverse: {
      @apply(--layout);

      -ms-flex-direction: column-reverse;
      -webkit-flex-direction: column-reverse;
      flex-direction: column-reverse;
    };

    --layout-wrap: {
      -ms-flex-wrap: wrap;
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;
    };

    --layout-wrap-reverse: {
      -ms-flex-wrap: wrap-reverse;
      -webkit-flex-wrap: wrap-reverse;
      flex-wrap: wrap-reverse;
    };

    --layout-flex-auto: {
      -ms-flex: 1 1 auto;
      -webkit-flex: 1 1 auto;
      flex: 1 1 auto;
    };

    --layout-flex-none: {
      -ms-flex: none;
      -webkit-flex: none;
      flex: none;
    };

    --layout-flex: {
      -ms-flex: 1 1 0.000000001px;
      -webkit-flex: 1;
      flex: 1;
      -webkit-flex-basis: 0.000000001px;
      flex-basis: 0.000000001px;
    };

    --layout-flex-2: {
      -ms-flex: 2;
      -webkit-flex: 2;
      flex: 2;
    };

    --layout-flex-3: {
      -ms-flex: 3;
      -webkit-flex: 3;
      flex: 3;
    };

    --layout-flex-4: {
      -ms-flex: 4;
      -webkit-flex: 4;
      flex: 4;
    };

    --layout-flex-5: {
      -ms-flex: 5;
      -webkit-flex: 5;
      flex: 5;
    };

    --layout-flex-6: {
      -ms-flex: 6;
      -webkit-flex: 6;
      flex: 6;
    };

    --layout-flex-7: {
      -ms-flex: 7;
      -webkit-flex: 7;
      flex: 7;
    };

    --layout-flex-8: {
      -ms-flex: 8;
      -webkit-flex: 8;
      flex: 8;
    };

    --layout-flex-9: {
      -ms-flex: 9;
      -webkit-flex: 9;
      flex: 9;
    };

    --layout-flex-10: {
      -ms-flex: 10;
      -webkit-flex: 10;
      flex: 10;
    };

    --layout-flex-11: {
      -ms-flex: 11;
      -webkit-flex: 11;
      flex: 11;
    };

    --layout-flex-12: {
      -ms-flex: 12;
      -webkit-flex: 12;
      flex: 12;
    };

    /* alignment in cross axis */

    --layout-start: {
      -ms-flex-align: start;
      -webkit-align-items: flex-start;
      align-items: flex-start;
    };

    --layout-center: {
      -ms-flex-align: center;
      -webkit-align-items: center;
      align-items: center;
    };

    --layout-end: {
      -ms-flex-align: end;
      -webkit-align-items: flex-end;
      align-items: flex-end;
    };

    /* alignment in main axis */

    --layout-start-justified: {
      -ms-flex-pack: start;
      -webkit-justify-content: flex-start;
      justify-content: flex-start;
    };

    --layout-center-justified: {
      -ms-flex-pack: center;
      -webkit-justify-content: center;
      justify-content: center;
    };

    --layout-end-justified: {
      -ms-flex-pack: end;
      -webkit-justify-content: flex-end;
      justify-content: flex-end;
    };

    --layout-around-justified: {
      -ms-flex-pack: distribute;
      -webkit-justify-content: space-around;
      justify-content: space-around;
    };

    --layout-justified: {
      -ms-flex-pack: justify;
      -webkit-justify-content: space-between;
      justify-content: space-between;
    };

    --layout-center-center: {
      @apply(--layout-center);
      @apply(--layout-center-justified);
    };

    /* self alignment */

    --layout-self-start: {
      -ms-align-self: flex-start;
      -webkit-align-self: flex-start;
      align-self: flex-start;
    };

    --layout-self-center: {
      -ms-align-self: center;
      -webkit-align-self: center;
      align-self: center;
    };

    --layout-self-end: {
      -ms-align-self: flex-end;
      -webkit-align-self: flex-end;
      align-self: flex-end;
    };

    --layout-self-stretch: {
      -ms-align-self: stretch;
      -webkit-align-self: stretch;
      align-self: stretch;
    };

    /*******************************
              Other Layout
    *******************************/

    --layout-block: {
      display: block;
    };

    --layout-invisible: {
      visibility: hidden !important;
    };

    --layout-relative: {
      position: relative;
    };

    --layout-fit: {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    };

    --layout-scroll: {
      -webkit-overflow-scrolling: touch;
      overflow: auto;
    };

    --layout-fullbleed: {
      margin: 0;
      height: 100vh;
    };

    /* fixed position */

    --layout-fixed-top: {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
    };

    --layout-fixed-right: {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
    };

    --layout-fixed-bottom: {
      position: fixed;
      right: 0;
      bottom: 0;
      left: 0;
    };

    --layout-fixed-left: {
      position: fixed;
      top: 0;
      bottom: 0;
      left: 0;
    };

  }

</style>




<dom-module id="iron-icon">
  <template>
    <style>
      :host {
        @apply(--layout-inline);
        @apply(--layout-center-center);
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply(--iron-icon);
      }
    </style>
  </template>

  <script>//~~WEBPATH~~/iron-icon/iron-icon.html.js
Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(a){a=(a||"").split(":");this._iconName=a.pop();this._iconsetName=a.pop()||this._DEFAULT_ICONSET;this._updateIcon()},_srcChanged:function(){this._updateIcon()},
_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&((this._iconset=this._meta.byKey(this._iconsetName))?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&
this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}});
</script>

</dom-module>









<dom-module id="iron-a11y-announcer">
  <template>
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
  </template>

  <script>//~~WEBPATH~~/iron-a11y-announcer/iron-a11y-announcer.html.js
Polymer.IronA11yAnnouncer=function(){};Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this);document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(a){this._text="";this.async(function(){this._text=a},100)},_onIronAnnounce:function(a){a.detail&&a.detail.text&&this.announce(a.detail.text)}});
Polymer.IronA11yAnnouncer.instance=null;Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer"));document.body.appendChild(Polymer.IronA11yAnnouncer.instance)};
</script>
</dom-module>



<script>//~~WEBPATH~~/iron-input/iron-input.html.js
Polymer({is:"iron-input",extends:"input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{observer:"_bindValueChanged",type:String},preventInvalidInput:{type:Boolean},allowedPattern:{type:String,observer:"_allowedPatternChanged"},_previousValidInput:{type:String,value:""},_patternAlreadyChecked:{type:Boolean,value:!1}},listeners:{input:"_onInput",keypress:"_onKeypress"},registered:function(){this._canDispatchEventOnDisabled()||(this._origDispatchEvent=this.dispatchEvent,this.dispatchEvent=
this._dispatchEventFirefoxIE)},created:function(){Polymer.IronA11yAnnouncer.requestAvailability()},_canDispatchEventOnDisabled:function(){var a=document.createElement("input"),b=!1;a.disabled=!0;a.addEventListener("feature-check-dispatch-event",function(){b=!0});try{a.dispatchEvent(new Event("feature-check-dispatch-event"))}catch(c){}return b},_dispatchEventFirefoxIE:function(){var a=this.disabled;this.disabled=!1;this._origDispatchEvent.apply(this,arguments);this.disabled=a},get _patternRegExp(){if(this.allowedPattern)var a=
new RegExp(this.allowedPattern);else switch(this.type){case "number":a=/[0-9.,e-]/}return a},ready:function(){this.bindValue=this.value},_bindValueChanged:function(){this.value!==this.bindValue&&(this.value=this.bindValue||0===this.bindValue||!1===this.bindValue?this.bindValue:"");this.fire("bind-value-changed",{value:this.bindValue})},_allowedPatternChanged:function(){this.preventInvalidInput=this.allowedPattern?!0:!1},_onInput:function(){!this.preventInvalidInput||this._patternAlreadyChecked||this._checkPatternValidity()||
(this._announceInvalidCharacter("Invalid string of characters not entered."),this.value=this._previousValidInput);this._previousValidInput=this.bindValue=this.value;this._patternAlreadyChecked=!1},_isPrintable:function(a){var b=19==a.keyCode||20==a.keyCode||45==a.keyCode||46==a.keyCode||144==a.keyCode||145==a.keyCode||32<a.keyCode&&41>a.keyCode||111<a.keyCode&&124>a.keyCode;return!(8==a.keyCode||9==a.keyCode||13==a.keyCode||27==a.keyCode)&&!(0==a.charCode&&b)},_onKeypress:function(a){if(this.preventInvalidInput||
"number"===this.type){var b=this._patternRegExp;if(b&&!(a.metaKey||a.ctrlKey||a.altKey)){this._patternAlreadyChecked=!0;var c=String.fromCharCode(a.charCode);this._isPrintable(a)&&!b.test(c)&&(a.preventDefault(),this._announceInvalidCharacter("Invalid character "+c+" not entered."))}}},_checkPatternValidity:function(){var a=this._patternRegExp;if(!a)return!0;for(var b=0;b<this.value.length;b++)if(!a.test(this.value[b]))return!1;return!0},validate:function(){var a=this.checkValidity();a&&(this.required&&
""===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value)));this.invalid=!a;this.fire("iron-input-validate");return a},_announceInvalidCharacter:function(a){this.fire("iron-announce",{text:a})}});
</script>





<script>//~~WEBPATH~~/paper-input/paper-input-behavior.html.js
Polymer.PaperInputHelper={};Polymer.PaperInputHelper.NextLabelID=1;Polymer.PaperInputHelper.NextAddonID=1;
Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},preventInvalidInput:{type:Boolean},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},
validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},
_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$.input},get _focusableElement(){return this.inputElement},registered:function(){this._typesThatHaveText="date datetime datetime-local month time week file".split(" ")},attached:function(){this._updateAriaLabelledBy();this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&
(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(a,b){return a?a+" "+b:b},_onAddonAttached:function(a){a=a.path?a.path[0]:a.target;if(a.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a.id);else{var b="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;a.id=b;this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,b)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(a){Polymer.IronControlState._focusBlurHandler.call(this,
a);this.focused&&!this._shiftTabPressed&&this._focusableElement.focus()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");this._shiftTabPressed=!0;this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(a){try{var b=this.inputElement.selectionStart;this.value=a;this.inputElement.selectionStart=b;this.inputElement.selectionEnd=
b}catch(c){this.value=a}},_computeAlwaysFloatLabel:function(a,b){return b||a},_updateAriaLabelledBy:function(){var a=Polymer.dom(this.root).querySelector("label");if(a){if(a.id)var b=a.id;else b="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,a.id=b;this._ariaLabelledBy=b}else this._ariaLabelledBy=""},_onChange:function(a){this.shadowRoot&&this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var a=
document.activeElement;a instanceof HTMLElement&&a!==document.body&&a!==document.documentElement||this._focusableElement.focus()}}};Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl];
</script>



<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic,500,500italic,700,700italic">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700">


<style is="custom-style">

  :root {

    /* Shared Styles */
    --paper-font-common-base: {
      font-family: 'Roboto', 'Noto', sans-serif;
      -webkit-font-smoothing: antialiased;
    };

    --paper-font-common-code: {
      font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
      -webkit-font-smoothing: antialiased;
    };

    --paper-font-common-expensive-kerning: {
      text-rendering: optimizeLegibility;
    };

    --paper-font-common-nowrap: {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    };

    /* Material Font Styles */

    --paper-font-display4: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 112px;
      font-weight: 300;
      letter-spacing: -.044em;
      line-height: 120px;
    };

    --paper-font-display3: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 56px;
      font-weight: 400;
      letter-spacing: -.026em;
      line-height: 60px;
    };

    --paper-font-display2: {
      @apply(--paper-font-common-base);

      font-size: 45px;
      font-weight: 400;
      letter-spacing: -.018em;
      line-height: 48px;
    };

    --paper-font-display1: {
      @apply(--paper-font-common-base);

      font-size: 34px;
      font-weight: 400;
      letter-spacing: -.01em;
      line-height: 40px;
    };

    --paper-font-headline: {
      @apply(--paper-font-common-base);

      font-size: 24px;
      font-weight: 400;
      letter-spacing: -.012em;
      line-height: 32px;
    };

    --paper-font-title: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 20px;
      font-weight: 500;
      line-height: 28px;
    };

    --paper-font-subhead: {
      @apply(--paper-font-common-base);

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;
    };

    --paper-font-body2: {
      @apply(--paper-font-common-base);

      font-size: 14px;
      font-weight: 500;
      line-height: 24px;
    };

    --paper-font-body1: {
      @apply(--paper-font-common-base);

      font-size: 14px;
      font-weight: 400;
      line-height: 20px;
    };

    --paper-font-caption: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 12px;
      font-weight: 400;
      letter-spacing: 0.011em;
      line-height: 20px;
    };

    --paper-font-menu: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 13px;
      font-weight: 500;
      line-height: 24px;
    };

    --paper-font-button: {
      @apply(--paper-font-common-base);
      @apply(--paper-font-common-nowrap);

      font-size: 14px;
      font-weight: 500;
      letter-spacing: 0.018em;
      line-height: 24px;
      text-transform: uppercase;
    };

    --paper-font-code2: {
      @apply(--paper-font-common-code);

      font-size: 14px;
      font-weight: 700;
      line-height: 20px;
    };

    --paper-font-code1: {
      @apply(--paper-font-common-code);

      font-size: 14px;
      font-weight: 500;
      line-height: 20px;
    };

  }

</style>



<script>//~~WEBPATH~~/paper-input/paper-input-addon-behavior.html.js
Polymer.PaperInputAddonBehavior={hostAttributes:{"add-on":""},attached:function(){this.fire("addon-attached")},update:function(){}};
</script>




<dom-module id="paper-input-char-counter">
  <template>
    <style>
      :host {
        display: inline-block;
        float: right;

        @apply(--paper-font-caption);
        @apply(--paper-input-char-counter);
      }

      :host([hidden]) {
        display: none !important;
      }

      :host-context([dir="rtl"]) {
        float: left;
      }
    </style>

    <span>[[_charCounterStr]]</span>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-char-counter.html.js
Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(a){if(a.inputElement){a.value=a.value||"";var b=a.value.toString().length.toString();a.inputElement.hasAttribute("maxlength")&&(b+="/"+a.inputElement.getAttribute("maxlength"));this._charCounterStr=b}}});
</script>








<dom-module id="paper-input-container">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        @apply(--paper-input-container);
      }

      :host([inline]) {
        display: inline-block;
      }

      :host([disabled]) {
        pointer-events: none;
        opacity: 0.33;

        @apply(--paper-input-container-disabled);
      }

      :host([hidden]) {
        display: none !important;
      }

      .floated-label-placeholder {
        @apply(--paper-font-caption);
      }

      .underline {
        position: relative;
      }

      .focused-line {
        @apply(--layout-fit);

        background: var(--paper-input-container-focus-color, --primary-color);
        height: 2px;

        -webkit-transform-origin: center center;
        transform-origin: center center;
        -webkit-transform: scale3d(0,1,1);
        transform: scale3d(0,1,1);

        @apply(--paper-input-container-underline-focus);
      }

      .underline.is-highlighted .focused-line {
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply(--paper-transition-easing);
      }

      .underline.is-invalid .focused-line {
        background: var(--paper-input-container-invalid-color, --error-color);
        -webkit-transform: none;
        transform: none;
        -webkit-transition: -webkit-transform 0.25s;
        transition: transform 0.25s;

        @apply(--paper-transition-easing);
      }

      .unfocused-line {
        @apply(--layout-fit);

        background: var(--paper-input-container-color, --secondary-text-color);
        height: 1px;

        @apply(--paper-input-container-underline);
      }

      :host([disabled]) .unfocused-line {
        border-bottom: 1px dashed;
        border-color: var(--paper-input-container-color, --secondary-text-color);
        background: transparent;

        @apply(--paper-input-container-underline-disabled);
      }

      .label-and-input-container {
        @apply(--layout-flex-auto);
        @apply(--layout-relative);

        width: 100%;
        max-width: 100%;
      }

      .input-content {
        @apply(--layout-horizontal);
        @apply(--layout-center);

        position: relative;
      }

      .input-content ::content label,
      .input-content ::content .paper-input-label {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        width: 100%;
        font: inherit;
        color: var(--paper-input-container-color, --secondary-text-color);
        -webkit-transition: -webkit-transform 0.25s, width 0.25s;
        transition: transform 0.25s, width 0.25s;
        -webkit-transform-origin: left top;
        transform-origin: left top;

        @apply(--paper-font-common-nowrap);
        @apply(--paper-font-subhead);
        @apply(--paper-input-container-label);
        @apply(--paper-transition-easing);
      }

      .input-content.label-is-floating ::content label,
      .input-content.label-is-floating ::content .paper-input-label {
        -webkit-transform: translateY(-75%) scale(0.75);
        transform: translateY(-75%) scale(0.75);

        /* Since we scale to 75/100 of the size, we actually have 100/75 of the
        original space now available */
        width: 133%;

        @apply(--paper-input-container-label-floating);
      }

      :host-context([dir="rtl"]) .input-content.label-is-floating ::content label,
      :host-context([dir="rtl"]) .input-content.label-is-floating ::content .paper-input-label {
        /* TODO(noms): Figure out why leaving the width at 133% before the animation
         * actually makes
         * it wider on the right side, not left side, as you would expect in RTL */
        width: 100%;
        -webkit-transform-origin: right top;
        transform-origin: right top;
      }

      .input-content.label-is-highlighted ::content label,
      .input-content.label-is-highlighted ::content .paper-input-label {
        color: var(--paper-input-container-focus-color, --primary-color);

        @apply(--paper-input-container-label-focus);
      }

      .input-content.is-invalid ::content label,
      .input-content.is-invalid ::content .paper-input-label {
        color: var(--paper-input-container-invalid-color, --error-color);
      }

      .input-content.label-is-hidden ::content label,
      .input-content.label-is-hidden ::content .paper-input-label {
        visibility: hidden;
      }

      .input-content ::content input,
      .input-content ::content textarea,
      .input-content ::content iron-autogrow-textarea,
      .input-content ::content .paper-input-input {
        position: relative; /* to make a stacking context */
        outline: none;
        box-shadow: none;
        padding: 0;
        width: 100%;
        max-width: 100%;
        background: transparent;
        border: none;
        color: var(--paper-input-container-input-color, --primary-text-color);
        -webkit-appearance: none;
        text-align: inherit;

        @apply(--paper-font-subhead);
        @apply(--paper-input-container-input);
      }

      ::content [prefix] {
        @apply(--paper-font-subhead);

        @apply(--paper-input-prefix);
        @apply(--layout-flex-none);
      }

      ::content [suffix] {
        @apply(--paper-font-subhead);

        @apply(--paper-input-suffix);
        @apply(--layout-flex-none);
      }

      /* Firefox sets a min-width on the input, which can cause layout issues */
      .input-content ::content input {
        min-width: 0;
      }

      .input-content ::content textarea {
        resize: none;
      }

      .add-on-content {
        position: relative;
      }

      .add-on-content.is-invalid ::content * {
        color: var(--paper-input-container-invalid-color, --error-color);
      }

      .add-on-content.is-highlighted ::content * {
        color: var(--paper-input-container-focus-color, --primary-color);
      }
    </style>

    <template is="dom-if" if="[[!noLabelFloat]]">
      <div class="floated-label-placeholder" aria-hidden="true">&nbsp;</div>
    </template>

    <div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]">
      <content select="[prefix]" id="prefix"></content>

      <div class="label-and-input-container" id="labelAndInputContainer">
        <content select=":not([add-on]):not([prefix]):not([suffix])"></content>
      </div>

      <content select="[suffix]"></content>
    </div>

    <div class$="[[_computeUnderlineClass(focused,invalid)]]">
      <div class="unfocused-line"></div>
      <div class="focused-line"></div>
    </div>

    <div class$="[[_computeAddOnContentClass(focused,invalid)]]">
      <content id="addOnContent" select="[add-on]"></content>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-container.html.js
Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},
_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},
get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this._addons||(this._addons=[]);this.addEventListener("focus",this._boundOnFocus,!0);this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput);""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):
this._handleValue(this._inputElement)},_onAddonAttached:function(a){this._addons||(this._addons=[]);a=a.target;-1===this._addons.indexOf(a)&&(this._addons.push(a),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1);this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(a){this._handleValueAndAutoValidate(a.target)},_onValueChanged:function(a){this._handleValueAndAutoValidate(a.target)},_handleValue:function(a){var b=
this._inputElementValue;b||0===b||"number"===a.type&&!a.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1;this.updateAddons({inputElement:a,value:b,invalid:this.invalid})},_handleValueAndAutoValidate:function(a){this.autoValidate&&(this.invalid=!(a.validate?a.validate(this._inputElementValue):a.checkValidity()));this._handleValue(a)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},
updateAddons:function(a){for(var b,c=0;b=this._addons[c];c++)b.update(a)},_computeInputContentClass:function(a,b,c,d,e){var f="input-content";a?e&&(f+=" label-is-hidden"):(a=this.querySelector("label"),b||e?(f+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",d?f+=" is-invalid":c&&(f+=" label-is-highlighted")):a&&(this.$.labelAndInputContainer.style.position="relative"));return f},_computeUnderlineClass:function(a,b){var c="underline";b?c+=" is-invalid":a&&(c+=" is-highlighted");
return c},_computeAddOnContentClass:function(a,b){var c="add-on-content";b?c+=" is-invalid":a&&(c+=" is-highlighted");return c}});
</script>








<dom-module id="paper-input-error">
  <template>
    <style>
      :host {
        display: inline-block;
        visibility: hidden;

        color: var(--paper-input-container-invalid-color, --error-color);

        @apply(--paper-font-caption);
        @apply(--paper-input-error);
        position: absolute;
        left:0;
        right:0;
      }

      :host([invalid]) {
        visibility: visible;
      };
    </style>

    <content></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input-error.html.js
Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(a){this._setInvalid(a.invalid)}});
</script>




<dom-module id="paper-input">
  <template>
    <style>
      :host {
        display: block;
      }

      :host([focused]) {
        outline: none;
      }

      :host([hidden]) {
        display: none !important;
      }

      input::-webkit-input-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input:-moz-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input::-moz-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      input:-ms-input-placeholder {
        color: var(--paper-input-container-color, --secondary-text-color);
      }

      label {
        pointer-events: none;
      }
    </style>

    <paper-input-container no-label-float="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <content select="[prefix]"></content>

      <label hidden$="[[!label]]" aria-hidden="true" for="input">[[label]]</label>

      <input is="iron-input" id="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" title$="[[title]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]" validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]" max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" tabindex$="[[tabindex]]" autosave$="[[autosave]]" results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">

      <content select="[suffix]"></content>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error aria-live="assertive">[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter></paper-input-char-counter>
      </template>

    </paper-input-container>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-input/paper-input.html.js
Polymer({is:"paper-input",behaviors:[Polymer.IronFormElementBehavior,Polymer.PaperInputBehavior]});
</script>







<script>//~~WEBPATH~~/iron-resizable-behavior/iron-resizable-behavior.html.js
Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[];this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0});this._parentResizable||(window.addEventListener("resize",
this._boundNotifyResize),this.notifyResize())},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):window.removeEventListener("resize",this._boundNotifyResize);this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(a){this.resizerShouldNotify(a)&&this._notifyDescendant(a)},this),this._fireResize())},assignParentResizable:function(a){this._parentResizable=a},stopResizeNotificationsFor:function(a){var b=
this._interestedResizables.indexOf(a);-1<b&&(this._interestedResizables.splice(b,1),this.unlisten(a,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(a){this._notifyingDescendant?a.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(a){var b=a.path?a.path[0]:a.target;b!==this&&(-1===this._interestedResizables.indexOf(b)&&
(this._interestedResizables.push(b),this.listen(b,"iron-resize","_onDescendantIronResize")),b.assignParentResizable(this),this._notifyDescendant(b),a.stopPropagation())},_parentResizableChanged:function(a){a&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(a){this.isAttached&&(this._notifyingDescendant=!0,a.notifyResize(),this._notifyingDescendant=!1)}};
</script>







<script>//~~WEBPATH~~/iron-fit-behavior/iron-fit-behavior.html.js
Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},
get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var a=Polymer.dom(this).parentNode;a&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(a=a.host);return a},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";
if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},attached:function(){this._isRTL="rtl"==window.getComputedStyle(this).direction;this.positionTarget=this.positionTarget||this._defaultPositionTarget;this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):this.fit())},fit:function(){this.position();this.constrain();this.center()},_discoverInfo:function(){if(!this._fitInfo){var a=window.getComputedStyle(this),b=window.getComputedStyle(this.sizingTarget);
this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==a.top?"top":"auto"!==a.bottom?"bottom":null,horizontally:"auto"!==a.left?"left":"auto"!==a.right?"right":null},sizedBy:{height:"none"!==b.maxHeight,width:"none"!==b.maxWidth,minWidth:parseInt(b.minWidth,
10)||0,minHeight:parseInt(b.minHeight,10)||0},margin:{top:parseInt(a.marginTop,10)||0,right:parseInt(a.marginRight,10)||0,bottom:parseInt(a.marginBottom,10)||0,left:parseInt(a.marginLeft,10)||0}};this.verticalOffset&&(this._fitInfo.margin.top=this._fitInfo.margin.bottom=this.verticalOffset,this._fitInfo.inlineStyle.marginTop=this.style.marginTop||"",this._fitInfo.inlineStyle.marginBottom=this.style.marginBottom||"",this.style.marginTop=this.style.marginBottom=this.verticalOffset+"px");this.horizontalOffset&&
(this._fitInfo.margin.left=this._fitInfo.margin.right=this.horizontalOffset,this._fitInfo.inlineStyle.marginLeft=this.style.marginLeft||"",this._fitInfo.inlineStyle.marginRight=this.style.marginRight||"",this.style.marginLeft=this.style.marginRight=this.horizontalOffset+"px")}},resetFit:function(){var a=this._fitInfo||{},b;for(b in a.sizerInlineStyle)this.sizingTarget.style[b]=a.sizerInlineStyle[b];for(b in a.inlineStyle)this.style[b]=a.inlineStyle[b];this._fitInfo=null},refit:function(){var a=this.sizingTarget.scrollLeft,
b=this.sizingTarget.scrollTop;this.resetFit();this.fit();this.sizingTarget.scrollLeft=a;this.sizingTarget.scrollTop=b},position:function(){if(this.horizontalAlign||this.verticalAlign){this._discoverInfo();this.style.position="fixed";this.sizingTarget.style.boxSizing="border-box";this.style.left="0px";this.style.top="0px";var a=this.getBoundingClientRect(),b=this.__getNormalizedRect(this.positionTarget),c=this.__getNormalizedRect(this.fitInto),d=this._fitInfo.margin,e=this.__getPosition(this._localeHorizontalAlign,
this.verticalAlign,{width:a.width+d.left+d.right,height:a.height+d.top+d.bottom},b,c),b=e.left+d.left,e=e.top+d.top,f=Math.min(c.right-d.right,b+a.width),c=Math.min(c.bottom-d.bottom,e+a.height),g=this._fitInfo.sizedBy.minWidth,k=this._fitInfo.sizedBy.minHeight;b<d.left&&(b=d.left,f-b<g&&(b=f-g));e<d.top&&(e=d.top,c-e<k&&(e=c-k));this.sizingTarget.style.maxWidth=f-b+"px";this.sizingTarget.style.maxHeight=c-e+"px";this.style.left=b-a.left+"px";this.style.top=e-a.top+"px"}},constrain:function(){if(!this.horizontalAlign&&
!this.verticalAlign){this._discoverInfo();var a=this._fitInfo;a.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px");a.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px");this.sizingTarget.style.boxSizing="border-box";var b=this.getBoundingClientRect();a.sizedBy.height||this.__sizeDimension(b,a.positionedBy.vertically,"top","bottom","Height");a.sizedBy.width||this.__sizeDimension(b,a.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(a,
b,c,d,e){this.__sizeDimension(a,b,c,d,e)},__sizeDimension:function(a,b,c,d,e){var f=this._fitInfo,g=this.__getNormalizedRect(this.fitInto),g="Width"===e?g.width:g.height;b=b===d;var k="offset"+e;this.sizingTarget.style["max"+e]=g-f.margin[b?c:d]-(b?g-a[d]:a[c])-(this[k]-this.sizingTarget[k])+"px"},center:function(){if(!this.horizontalAlign&&!this.verticalAlign){this._discoverInfo();var a=this._fitInfo.positionedBy;if(!a.vertically||!a.horizontally){this.style.position="fixed";a.vertically||(this.style.top=
"0px");a.horizontally||(this.style.left="0px");var b=this.getBoundingClientRect(),c=this.__getNormalizedRect(this.fitInto);a.vertically||(this.style.top=c.top-b.top+(c.height-b.height)/2+"px");a.horizontally||(this.style.left=c.left-b.left+(c.width-b.width)/2+"px")}}},__getNormalizedRect:function(a){return a===document.documentElement||a===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:a.getBoundingClientRect()},__getCroppedArea:function(a,
b,c){return Math.abs(Math.min(0,a.top)+Math.min(0,c.bottom-(a.top+b.height)))*b.width+Math.abs(Math.min(0,a.left)+Math.min(0,c.right-(a.left+b.width)))*b.height},__getPosition:function(a,b,c,d,e){var f=[{verticalAlign:"top",horizontalAlign:"left",top:d.top,left:d.left},{verticalAlign:"top",horizontalAlign:"right",top:d.top,left:d.right-c.width},{verticalAlign:"bottom",horizontalAlign:"left",top:d.bottom-c.height,left:d.left},{verticalAlign:"bottom",horizontalAlign:"right",top:d.bottom-c.height,left:d.right-
c.width}];if(this.noOverlap){for(var g=0,k=f.length;g<k;g++){var l={},m;for(m in f[g])l[m]=f[g][m];f.push(l)}f[0].top=f[1].top+=d.height;f[2].top=f[3].top-=d.height;f[4].left=f[6].left+=d.width;f[5].left=f[7].left-=d.width}b="auto"===b?null:b;a="auto"===a?null:a;for(var n,g=0;g<f.length;g++){d=f[g];if(!this.dynamicAlign&&!this.noOverlap&&d.verticalAlign===b&&d.horizontalAlign===a){n=d;break}k=(!b||d.verticalAlign===b)&&(!a||d.horizontalAlign===a);if(this.dynamicAlign||k){n=n||d;d.croppedArea=this.__getCroppedArea(d,
c,e);l=d.croppedArea-n.croppedArea;if(0>l||0===l&&k)n=d;if(0===n.croppedArea&&k)break}}return n}};
</script>








<dom-module id="iron-overlay-backdrop">

  <template>
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--iron-overlay-backdrop-background-color, #000);
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
        @apply(--iron-overlay-backdrop);
      }

      :host(.opened) {
        opacity: var(--iron-overlay-backdrop-opacity, 0.6);
        pointer-events: auto;
        @apply(--iron-overlay-backdrop-opened);
      }
    </style>

    <content></content>
  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-backdrop.html.js
Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||
Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(a){a&&a.target===this&&this.complete()},_openedChanged:function(a){a?this.prepare():(a=window.getComputedStyle(this),"0s"!==a.transitionDuration&&0!=a.opacity||this.complete());this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null;this.toggleClass("opened",this.opened)}.bind(this)))}});
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-manager.html.js
Polymer.IronOverlayManagerClass=function(){this._overlays=[];this._minimumZ=101;this._backdropElement=null;Polymer.Gestures.add(document,"tap",this._onCaptureClick.bind(this));document.addEventListener("focus",this._onCaptureFocus.bind(this),!0);document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)};
Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop"));return this._backdropElement},get deepActiveElement(){for(var a=document.activeElement||document.body;a.root&&Polymer.dom(a.root).activeElement;)a=Polymer.dom(a.root).activeElement;return a},addOrRemoveOverlay:function(a){a.opened?Td(this,a):Ud(this,a)},ensureMinimumZ:function(a){this._minimumZ=Math.max(this._minimumZ,
a)},focusOverlay:function(){var a=Vd(this);a&&a._applyFocus()},getBackdrops:function(){for(var a=[],b=0;b<this._overlays.length;b++)this._overlays[b].withBackdrop&&a.push(this._overlays[b]);return a},backdropZ:function(){return Wd(this,Xd(this))-1},_onCaptureClick:function(a){var b=Vd(this),c;if(c=b){a:{c=(c=Polymer.dom(a).path)||[];for(var d=0;d<c.length;d++)if(c[d]._manager===this){c=c[d];break a}c=void 0}c=c!==b}c&&b._onCaptureClick(a)},_onCaptureFocus:function(a){var b=Vd(this);b&&b._onCaptureFocus(a)},
_onCaptureKeyDown:function(a){var b=Vd(this);b&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"esc")?b._onCaptureEsc(a):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(a,"tab")&&b._onCaptureTab(a))}};function Wd(a,b){a=a._minimumZ;b&&(b=Number(b.style.zIndex||window.getComputedStyle(b).zIndex),b===b&&(a=b));return a}function Xd(a){for(var b=0;b<a._overlays.length;b++)if(a._overlays[b].withBackdrop)return a._overlays[b]}
function Yd(a){var b=Xd(a);if(b||a._backdropElement)a.backdropElement.style.zIndex=Wd(a,b)-1,a.backdropElement.opened=!!b}function Vd(a){return a._overlays[a._overlays.length-1]}function Ud(a,b){b=a._overlays.indexOf(b);-1!==b&&(a._overlays.splice(b,1),Yd(a))}
function Td(a,b){var c=a._overlays.indexOf(b);if(0<=c){if(b=c,c=a._overlays[b]){var d=a._overlays.length-1,e=a._overlays[d];e&&!c.alwaysOnTop&&e.alwaysOnTop&&d--;if(!(b>=d)){e=Math.max(Wd(a,Vd(a)),a._minimumZ);Wd(a,c)<=e&&(c.style.zIndex=e+2);for(;b<d;)a._overlays[b]=a._overlays[b+1],b++;a._overlays[d]=c}}}else{var c=a._overlays.length,d=a._overlays[c-1],e=Math.max(Wd(a,d),a._minimumZ),f=Wd(a,b);d&&!b.alwaysOnTop&&d.alwaysOnTop&&(d.style.zIndex=e+2,c--,e=Math.max(Wd(a,a._overlays[c-1]),a._minimumZ));
f<=e&&(b.style.zIndex=e+2);a._overlays.splice(c,0,b)}Yd(a)}Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass;
</script>



<script>//~~WEBPATH~~/iron-overlay-behavior/iron-focusables-helper.html.js
(function(){var a=Element.prototype,b=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(a){var b=[];return this._collectTabbableNodes(a,b)?this._sortByTabIndex(b):b},isFocusable:function(a){return b.call(a,"input, select, textarea, button, object")?b.call(a,":not([disabled])"):b.call(a,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(a){return this.isFocusable(a)&&
b.call(a,':not([tabindex\x3d"-1"])')&&this._isVisible(a)},_normalizedTabIndex:function(a){return this.isFocusable(a)?(a=a.getAttribute("tabindex")||0,Number(a)):-1},_collectTabbableNodes:function(a,b){if(a.nodeType!==Node.ELEMENT_NODE||!this._isVisible(a))return!1;var c=this._normalizedTabIndex(a),d=0<c;0<=c&&b.push(a);a="content"===a.localName?Polymer.dom(a).getDistributedNodes():Polymer.dom(a.root||a).children;for(c=0;c<a.length;c++)var g=this._collectTabbableNodes(a[c],b),d=d||g;return d},_isVisible:function(a){var b=
a.style;return"hidden"!==b.visibility&&"none"!==b.display?(b=window.getComputedStyle(a),"hidden"!==b.visibility&&"none"!==b.display):!1},_sortByTabIndex:function(a){var b=a.length;if(2>b)return a;var c=Math.ceil(b/2),b=this._sortByTabIndex(a.slice(0,c));a=this._sortByTabIndex(a.slice(c));return this._mergeSortByTabIndex(b,a)},_mergeSortByTabIndex:function(a,b){for(var c=[];0<a.length&&0<b.length;)this._hasLowerTabOrder(a[0],b[0])?c.push(b.shift()):c.push(a.shift());return c.concat(a,b)},_hasLowerTabOrder:function(a,
b){a=Math.max(a.tabIndex,0);b=Math.max(b.tabIndex,0);return 0===a||0===b?b>a:a>b}}})();
</script>


<script>//~~WEBPATH~~/iron-overlay-behavior/iron-overlay-behavior.html.js
Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},alwaysOnTop:{type:Boolean},_manager:{type:Object,value:Polymer.IronOverlayManager},
_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__shouldRemoveTabIndex=this.__isAnimating=!1;this.__restoreFocusNode=this.__raf=this.__firstFocusableNode=this.__lastFocusableNode=null;this._ensureSetup()},attached:function(){this.opened&&
this._openedChanged(this.opened);this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){Polymer.dom(this).unobserveNodes(this._observer);this._observer=null;this.__raf&&(window.cancelAnimationFrame(this.__raf),this.__raf=null);Ud(this._manager,this)},toggle:function(){this._setCanceled(!1);this.opened=!this.opened},open:function(){this._setCanceled(!1);this.opened=!0},close:function(){this._setCanceled(!1);this.opened=!1},cancel:function(a){this.fire("iron-overlay-canceled",
a,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(a){a?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true");this.isAttached&&(this.__isAnimating=!0,this.__onNextAnimationFrame(this.__openedChanged))},_canceledChanged:function(){this.closingReason=
this.closingReason||{};this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1);this.opened&&this.isAttached&&Yd(this._manager)},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement;this._preparePositioning();this.refit();this._finishPositioning();
this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none";this.style.zIndex="";this.notifyResize();this.__isAnimating=!1;this.fire("iron-overlay-closed",this.closingReason)},
_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none";this.style.transform=this.style.webkitTransform="none";this.style.display=""},_finishPositioning:function(){this.style.display="none";this.scrollTop=this.scrollTop;this.style.transition=this.style.webkitTransition="";this.style.transform=this.style.webkitTransform="";this.style.display="";this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{this._focusNode.blur();
this._focusedChild=null;this.restoreFocusOnClose&&this.__restoreFocusNode&&this.__restoreFocusNode.focus();this.__restoreFocusNode=null;var a=Vd(this._manager);a&&this!==a&&a._applyFocus()}},_onCaptureClick:function(a){this.noCancelOnOutsideClick||this.cancel(a)},_onCaptureFocus:function(a){if(this.withBackdrop){var b=Polymer.dom(a).path;-1===b.indexOf(this)?(a.stopPropagation(),this._applyFocus()):this._focusedChild=b[0]}},_onCaptureEsc:function(a){this.noCancelOnEscKey||this.cancel(a)},_onCaptureTab:function(a){if(this.withBackdrop){this.__ensureFirstLastFocusables();
var b=a.shiftKey,c=b?this.__firstFocusableNode:this.__lastFocusableNode,b=b?this.__lastFocusableNode:this.__firstFocusableNode;if(c===b)c=!0;else var d=this._manager.deepActiveElement,c=d===c||d===this;c&&(a.preventDefault(),this._focusedChild=b,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__onNextAnimationFrame(this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||
!this.__lastFocusableNode){var a=this._focusableNodes;this.__firstFocusableNode=a[0];this.__lastFocusableNode=a[a.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),Td(this._manager,this),this._applyFocus(),this._renderOpened()):(Ud(this._manager,this),this._applyFocus(),this._renderClosed())},__onNextAnimationFrame:function(a){this.__raf&&window.cancelAnimationFrame(this.__raf);var b=this;this.__raf=window.requestAnimationFrame(function(){b.__raf=null;a.call(b)})}};
Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl];
</script>








<script>//~~WEBPATH~~/neon-animation/neon-animation-behavior.html.js
Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,timingFromConfig:function(a){if(a.timing)for(var b in a.timing)this.animationTiming[b]=a.timing[b];return this.animationTiming},setPrefixedProperty:function(a,b,c){for(var d={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[b],e,f=0;e=d[f];f++)a.style[e]=c;a.style[b]=c},complete:function(){}};
</script>






<script>//~~WEBPATH~~/neon-animation/animations/opaque-animation.html.js
Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node;b.style.opacity="0";return this._effect=new KeyframeEffect(b,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(a))},complete:function(a){a.node.style.opacity=""}});
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animatable-behavior.html.js
Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{};this.animationConfig.entry="fade-in-animation"!==this.entryAnimation?[{name:"opaque-animation",node:this},{name:this.entryAnimation,node:this}]:[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=
this.animationConfig||{};this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(a,b){for(var c in b)a[c]=b[c]},_cloneConfig:function(a){var b={isClone:!0};this._copyProperties(b,a);return b},_getAnimationConfigRecursive:function(a,b,c){if(this.animationConfig)if(this.animationConfig.value&&"function"===typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));
else{var d=a?this.animationConfig[a]:this.animationConfig;Array.isArray(d)||(d=[d]);if(d)for(var e,f=0;e=d[f];f++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||a,b,c);else if(e.id){var g=b[e.id];g?(g.isClone||(b[e.id]=this._cloneConfig(g),g=b[e.id]),this._copyProperties(g,e)):b[e.id]=e}else c.push(e)}},getAnimationConfig:function(a){var b={},c=[];this._getAnimationConfigRecursive(a,b,c);for(var d in b)c.push(b[d]);return c}};
</script>


<script>//~~WEBPATH~~/neon-animation/neon-animation-runner-behavior.html.js
Polymer.NeonAnimationRunnerBehaviorImpl={properties:{_player:{type:Object}},_configureAnimationEffects:function(a){var b=[];if(0<a.length)for(var c,d=0;c=a[d];d++){var e=document.createElement(c.name);if(e.isNeonAnimation){var f=e.configure(c);f&&b.push({animation:e,config:c,effect:f})}else Polymer.Base._warn(this.is+":",c.name,"not found!")}return b},_runAnimationEffects:function(a){return document.timeline.play(new GroupEffect(a))},_completeAnimations:function(a){for(var b,c=0;b=a[c];c++)b.animation.complete(b.config)},
playAnimation:function(a,b){if(a=this.getAnimationConfig(a)){var c=this._configureAnimationEffects(a);a=c.map(function(a){return a.effect});0<a.length?(this._player=this._runAnimationEffects(a),this._player.onfinish=function(){this._completeAnimations(c);this._player&&(this._player.cancel(),this._player=null);this.fire("neon-animation-finish",b,{bubbles:!1})}.bind(this)):this.fire("neon-animation-finish",b,{bubbles:!1})}},cancelAnimation:function(){this._player&&this._player.cancel()}};
Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl];
</script>




<script>//~~WEBPATH~~/iron-dropdown/iron-dropdown-scroll-manager.html.js
(function(){var a=0,b=0,c=null,d=[];Polymer.IronDropdownScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(a){var b=this.currentLockingElement;if(void 0===b)return!1;if(this._hasCachedLockedElement(a))return!0;if(this._hasCachedUnlockedElement(a))return!1;(b=!!b&&b!==a&&!this._composedTreeContains(b,a))?this._lockedElementCache.push(a):this._unlockedElementCache.push(a);return b},pushScrollLock:function(a){0<=this._lockingElements.indexOf(a)||
(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(a),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(a){a=this._lockingElements.indexOf(a);-1!==a&&(this._lockingElements.splice(a,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(a){return-1<
this._lockedElementCache.indexOf(a)},_hasCachedUnlockedElement:function(a){return-1<this._unlockedElementCache.indexOf(a)},_composedTreeContains:function(a,b){var c,d;if(a.contains(b))return!0;a=Polymer.dom(a).querySelectorAll("content");for(c=0;c<a.length;++c){var e=Polymer.dom(a[c]).getDistributedNodes();for(d=0;d<e.length;++d)if(this._composedTreeContains(e[d],b))return!0}return!1},_scrollInteractionHandler:function(c){c.cancelable&&this._shouldPreventScrolling(c)&&c.preventDefault();c.targetTouches&&
(c=c.targetTouches[0],a=c.pageX,b=c.pageY)},_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);document.addEventListener("wheel",this._boundScrollHandler,!0);document.addEventListener("mousewheel",this._boundScrollHandler,!0);document.addEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.addEventListener("touchstart",this._boundScrollHandler,!0);document.addEventListener("touchmove",this._boundScrollHandler,
!0)},_unlockScrollInteractions:function(){document.removeEventListener("wheel",this._boundScrollHandler,!0);document.removeEventListener("mousewheel",this._boundScrollHandler,!0);document.removeEventListener("DOMMouseScroll",this._boundScrollHandler,!0);document.removeEventListener("touchstart",this._boundScrollHandler,!0);document.removeEventListener("touchmove",this._boundScrollHandler,!0)},_shouldPreventScrolling:function(a){var b=Polymer.dom(a).rootTarget;"touchmove"!==a.type&&c!==b&&(c=b,d=this._getScrollableNodes(Polymer.dom(a).path));
if(!d.length)return!0;if("touchstart"===a.type)return!1;a=this._getScrollInfo(a);return!this._getScrollingNode(d,a.deltaX,a.deltaY)},_getScrollableNodes:function(a){for(var b=[],c=a.indexOf(this.currentLockingElement),d=0;d<=c;d++)if(a[d].nodeType===Node.ELEMENT_NODE){var e=a[d],m=e.style;"scroll"!==m.overflow&&"auto"!==m.overflow&&(m=window.getComputedStyle(e));"scroll"!==m.overflow&&"auto"!==m.overflow||b.push(e)}return b},_getScrollingNode:function(a,b,c){if(b||c)for(var d=Math.abs(c)>=Math.abs(b),
e=0;e<a.length;e++){var f=a[e];if(d?0>c?0<f.scrollTop:f.scrollTop<f.scrollHeight-f.clientHeight:0>b?0<f.scrollLeft:f.scrollLeft<f.scrollWidth-f.clientWidth)return f}},_getScrollInfo:function(c){var d={deltaX:c.deltaX,deltaY:c.deltaY};"deltaX"in c||("wheelDeltaX"in c?(d.deltaX=-c.wheelDeltaX,d.deltaY=-c.wheelDeltaY):"axis"in c?(d.deltaX=1===c.axis?c.detail:0,d.deltaY=2===c.axis?c.detail:0):c.targetTouches&&(c=c.targetTouches[0],d.deltaX=a-c.pageX,d.deltaY=b-c.pageY));return d}}})();
</script>




<dom-module id="iron-dropdown">
  <template>
    <style>
      :host {
        position: fixed;
      }

      #contentWrapper ::content > * {
        overflow: auto;
      }

      #contentWrapper.animating ::content > * {
        overflow: hidden;
      }
    </style>

    <div id="contentWrapper">
      <content id="content" select=".dropdown-content"></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/iron-dropdown/iron-dropdown.html.js
Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1},_boundOnCaptureScroll:{type:Function,
value:function(){return this._onCaptureScroll.bind(this)}}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},get _focusTarget(){return this.focusTarget||this.containedElement},ready:function(){this._scrollLeft=this._scrollTop=0;this._refitOnScrollRAF=null},attached:function(){this.sizingTarget&&
this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation();document.removeEventListener("scroll",this._boundOnCaptureScroll);Polymer.IronDropdownScrollManager.removeScrollLock(this)},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),this._saveScrollPosition(),this.opened?(document.addEventListener("scroll",this._boundOnCaptureScroll),!this.allowOutsideScroll&&Polymer.IronDropdownScrollManager.pushScrollLock(this)):
(document.removeEventListener("scroll",this._boundOnCaptureScroll),Polymer.IronDropdownScrollManager.removeScrollLock(this)),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),
this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating");this.opened?this._finishRenderOpened():this._finishRenderClosed()},_onCaptureScroll:function(){this.allowOutsideScroll?(this._refitOnScrollRAF&&window.cancelAnimationFrame(this._refitOnScrollRAF),this._refitOnScrollRAF=window.requestAnimationFrame(this.refit.bind(this))):this._restoreScrollPosition()},_saveScrollPosition:function(){document.scrollingElement?
(this._scrollTop=document.scrollingElement.scrollTop,this._scrollLeft=document.scrollingElement.scrollLeft):(this._scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},_restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this._scrollTop,document.scrollingElement.scrollLeft=this._scrollLeft):(document.documentElement.scrollTop=this._scrollTop,
document.documentElement.scrollLeft=this._scrollLeft,document.body.scrollTop=this._scrollTop,document.body.scrollLeft=this._scrollLeft)},_updateAnimationConfig:function(){for(var a=this.containedElement,b=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),c=0;c<b.length;c++)b[c].node=a;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_applyFocus:function(){var a=
this.focusTarget||this.containedElement;a&&this.opened&&!this.noAutoFocus?a.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/neon-animation/animations/fade-in-animation.html.js
Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(a))}});
</script>







<script>//~~WEBPATH~~/neon-animation/animations/fade-out-animation.html.js
Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){return this._effect=new KeyframeEffect(a.node,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(a))}});
</script>




<style is="custom-style">

  :root {

    --shadow-transition: {
      transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
    };

    --shadow-none: {
      box-shadow: none;
    };

    /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

    --shadow-elevation-2dp: {
      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                  0 1px 5px 0 rgba(0, 0, 0, 0.12),
                  0 3px 1px -2px rgba(0, 0, 0, 0.2);
    };

    --shadow-elevation-3dp: {
      box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                  0 1px 8px 0 rgba(0, 0, 0, 0.12),
                  0 3px 3px -2px rgba(0, 0, 0, 0.4);
    };

    --shadow-elevation-4dp: {
      box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                  0 1px 10px 0 rgba(0, 0, 0, 0.12),
                  0 2px 4px -1px rgba(0, 0, 0, 0.4);
    };

    --shadow-elevation-6dp: {
      box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                  0 1px 18px 0 rgba(0, 0, 0, 0.12),
                  0 3px 5px -1px rgba(0, 0, 0, 0.4);
    };

    --shadow-elevation-8dp: {
      box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                  0 3px 14px 2px rgba(0, 0, 0, 0.12),
                  0 5px 5px -3px rgba(0, 0, 0, 0.4);
    };

    --shadow-elevation-12dp: {
      box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                  0 4px 22px 3px rgba(0, 0, 0, 0.12),
                  0 6px 7px -4px rgba(0, 0, 0, 0.4);
    };

    --shadow-elevation-16dp: {
      box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                  0  6px 30px 5px rgba(0, 0, 0, 0.12),
                  0  8px 10px -5px rgba(0, 0, 0, 0.4);
    };

  }

</style>




<script>//~~WEBPATH~~/paper-menu-button/paper-menu-button-animations.html.js
Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;return this._effect=new KeyframeEffect(b,[{height:c/2+"px"},{height:c+"px"}],this.timingFromConfig(a))}});Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c/2+"px"},{width:c+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().width;return this._effect=new KeyframeEffect(b,[{width:c+"px"},{width:c-c/20+"px"}],this.timingFromConfig(a))}});
Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(a){var b=a.node,c=b.getBoundingClientRect().height;this.setPrefixedProperty(b,"transformOrigin","0 0");return this._effect=new KeyframeEffect(b,[{height:c+"px",transform:"translateY(0)"},{height:c/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(a))}});
</script>






<dom-module id="paper-menu-button">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;

        @apply(--paper-menu-button);
      }

      :host([disabled]) {
        cursor: auto;
        color: var(--disabled-text-color);

        @apply(--paper-menu-button-disabled);
      }

      iron-dropdown {
        @apply(--paper-menu-button-dropdown);
      }

      .dropdown-content {
        @apply(--shadow-elevation-2dp);

        position: relative;
        border-radius: 2px;
        background-color: var(--paper-menu-button-dropdown-background, --primary-background-color);

        @apply(--paper-menu-button-content);
      }

      :host([vertical-align="top"]) .dropdown-content {
        margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
      }

      :host([vertical-align="bottom"]) .dropdown-content {
        bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
      }
    </style>

    <div id="trigger" on-tap="toggle">
      <content select=".dropdown-trigger"></content>
    </div>

    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled">
      <div class="dropdown-content">
        <content id="content" select=".dropdown-content"></content>
      </div>
    </iron-dropdown>
  </template>

  <script>//~~WEBPATH~~/paper-menu-button/paper-menu-button.html.js
function Zd(){}h=Zd.prototype;h.registered=function(){};h.addOwnKeyBinding=function(){};h.removeOwnKeyBindings=function(){};h.keyboardEventMatchesKeys=function(){};h._collectKeyBindings=function(){};h._prepKeyBindings=function(){};h._addKeyBinding=function(){};h._resetKeyEventListeners=function(){};h._listenKeyEventListeners=function(){};h._unlistenKeyEventListeners=function(){};h._onKeyBindingEvent=function(){};h._triggerKeyHandler=function(){};
h._focusBlurHandler=function(a){if(a.target===this)this._setFocused("focus"===a.type);else if(!this.shadowRoot){var b=Polymer.dom(a).localTarget;this.isLightDescendant(b)||this.fire(a.type,{sourceEvent:a},{node:this,bubbles:a.bubbles,cancelable:a.cancelable})}};h._changedControlState=function(){this._controlStateChanged&&this._controlStateChanged()};h._setFocused=function(){};
(function(){var a={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Zd=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,
value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:a.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,
value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:a.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(a,c){a?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=c&&this.fire("paper-dropdown-close")},
_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this.opened&&this.close()},__onIronOverlayCanceled:function(a){var b=a.detail;Polymer.dom(b);var d=this.$.trigger;-1<Polymer.dom(b).path.indexOf(d)&&a.preventDefault()}});Object.keys(a).forEach(function(b){Zd[b]=a[b]});Polymer.PaperMenuButton=Zd})();
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-iconset-svg/iron-iconset-svg.html.js
Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){this._icons=this._createIconMap();return Object.keys(this._icons).map(function(a){return this.name+":"+a},this)},applyIcon:function(a,b){this.removeIcon(a);if(b=this._cloneIcon(b,this.rtlMirroring&&
this._targetIsRTL(a))){var c=Polymer.dom(a.root||a);c.insertBefore(b,c.childNodes[0]);return a._svgIcon=b}return null},removeIcon:function(a){a._svgIcon&&(Polymer.dom(a.root||a).removeChild(a._svgIcon),a._svgIcon=null)},_targetIsRTL:function(a){null==this.__targetIsRTL&&(a&&a.nodeType!==Node.ELEMENT_NODE&&(a=a.host),this.__targetIsRTL=a&&"rtl"===window.getComputedStyle(a).direction);return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null;this._meta.key=this.name;this._meta.value=
this;this.async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var a=Object.create(null);Polymer.dom(this).querySelectorAll("[id]").forEach(function(b){a[b.id]=b});return a},_cloneIcon:function(a,b){this._icons=this._icons||this._createIconMap();return this._prepareSvgClone(this._icons[a],this.size,b)},_prepareSvgClone:function(a,b,c){if(a){a=a.cloneNode(!0);var d=document.createElementNS("http://www.w3.org/2000/svg","svg");b=a.getAttribute("viewBox")||
"0 0 "+b+" "+b;var e="pointer-events: none; display: block; width: 100%; height: 100%;";c&&a.hasAttribute("mirror-in-rtl")&&(e+="-webkit-transform:scale(-1,1);transform:scale(-1,1);");d.setAttribute("viewBox",b);d.setAttribute("preserveAspectRatio","xMidYMid meet");d.style.cssText=e;d.appendChild(a).removeAttribute("id");return d}return null}});
</script>


<iron-iconset-svg name="paper-dropdown-menu" size="24">
<svg><defs>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g>
</defs></svg>
</iron-iconset-svg>



<dom-module id="paper-dropdown-menu-shared-styles">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        text-align: left;
        cursor: pointer;

        /* NOTE(cdata): Both values are needed, since some phones require the
         * value to be `transparent`.
         */
        -webkit-tap-highlight-color: rgba(0,0,0,0);
        -webkit-tap-highlight-color: transparent;

        --paper-input-container-input: {
          overflow: hidden;
          white-space: nowrap;
          text-overflow: ellipsis;
          max-width: 100%;
          box-sizing: border-box;
          cursor: pointer;
        };

        @apply(--paper-dropdown-menu);
      }

      :host([disabled]) {
        @apply(--paper-dropdown-menu-disabled);
      }

      :host([noink]) paper-ripple {
        display: none;
      }

      :host([no-label-float]) paper-ripple {
        top: 8px;
      }

      paper-ripple {
        top: 12px;
        left: 0px;
        bottom: 8px;
        right: 0px;

        @apply(--paper-dropdown-menu-ripple);
      }

      paper-menu-button {
        display: block;
        padding: 0;

        @apply(--paper-dropdown-menu-button);
      }

      paper-input {
        @apply(--paper-dropdown-menu-input);
      }

      iron-icon {
        color: var(--disabled-text-color);

        @apply(--paper-dropdown-menu-icon);
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-dropdown-menu">
  <template>
    <style include="paper-dropdown-menu-shared-styles"></style>

    
    <span role="button"></span>
    <paper-menu-button id="menuButton" vertical-align="[[verticalAlign]]" horizontal-align="[[horizontalAlign]]" dynamic-align="[[dynamicAlign]]" vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat)]]" disabled="[[disabled]]" no-animations="[[noAnimations]]" on-iron-select="_onIronSelect" on-iron-deselect="_onIronDeselect" opened="{{opened}}" close-on-activate allow-outside-scroll="[[allowOutsideScroll]]">
      <div class="dropdown-trigger">
        <paper-ripple></paper-ripple>
        
        <paper-input type="text" invalid="[[invalid]]" readonly disabled="[[disabled]]" value="[[selectedItemLabel]]" placeholder="[[placeholder]]" error-message="[[errorMessage]]" always-float-label="[[alwaysFloatLabel]]" no-label-float="[[noLabelFloat]]" label="[[label]]">
          <iron-icon icon="paper-dropdown-menu:arrow-drop-down" suffix></iron-icon>
        </paper-input>
      </div>
      <content id="content" select=".dropdown-content"></content>
    </paper-menu-button>
  </template>

  <script>//~~WEBPATH~~/paper-dropdown-menu/paper-dropdown-menu.html.js
Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0,readOnly:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,
value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},dynamicAlign:{type:Boolean}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var a=this.contentElement;a&&a.selectedItem&&this._setSelectedItem(a.selectedItem)},
get contentElement(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(a){this._setSelectedItem(a.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(a){Polymer.Gestures.findOriginalTarget(a)===this&&this.open()},_selectedItemChanged:function(a){a=a?a.label||a.getAttribute("label")||a.textContent.trim():"";this._setValue(a);this._setSelectedItemLabel(a)},
_computeMenuVerticalOffset:function(a){return a?-4:8},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var a=this.opened?"true":"false",b=this.contentElement;b&&b.setAttribute("aria-expanded",a)}});
</script>
</dom-module>







<script>//~~WEBPATH~~/iron-selector/iron-selection.html.js
Polymer.IronSelection=function(a){this.selection=[];this.selectCallback=a};Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(a){this.selection.slice().forEach(function(b){(!a||0>a.indexOf(b))&&$d(this,b,!1)},this)},isSelected:function(a){return 0<=this.selection.indexOf(a)},select:function(a){this.multi?this.toggle(a):this.get()!==a&&($d(this,this.get(),!1),$d(this,a,!0))},toggle:function(a){$d(this,a,!this.isSelected(a))}};
function $d(a,b,c){if(null!=b&&c!==a.isSelected(b)){if(c)a.selection.push(b);else{var d=a.selection.indexOf(b);0<=d&&a.selection.splice(d,1)}a.selectCallback&&a.selectCallback(b,c)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-selectable.html.js
Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1}}}},
observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this);this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this);this._updateItems();this._shouldUpdateSelection||this._updateSelected();this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer);
this._removeListener(this.activateEvent)},indexOf:function(a){return this.items.indexOf(a)},select:function(a){this.selected=a},selectPrevious:function(){var a=this.items.length,a=(Number(this._valueToIndex(this.selected))-1+a)%a;this.selected=this._indexToValue(a)},selectNext:function(){var a=(Number(this._valueToIndex(this.selected))+1)%this.items.length;this.selected=this._indexToValue(a)},selectIndex:function(a){this.select(this._indexToValue(a))},forceSynchronousItemUpdate:function(){this._updateItems()},
get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._shouldUpdateSelection&&this._updateSelected()},_addListener:function(a){this.listen(this,a,"_activateHandler")},_removeListener:function(a){this.unlisten(this,a,"_activateHandler")},_activateEventChanged:function(a,b){this._removeListener(b);this._addListener(a)},_updateItems:function(){var a=Polymer.dom(this).queryDistributedElements(this.selectable||"*"),a=Array.prototype.filter.call(a,this._bindFilterItem);
this._setItems(a)},_updateAttrForSelected:function(){this._shouldUpdateSelection&&(this.selected=this._indexToValue(this.indexOf(this.selectedItem)))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){this._selection.select(this._valueToItem(this.selected));this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)},_filterItem:function(a){return!this._excludedLocalNames[a.localName]},_valueToItem:function(a){return null==
a?null:this.items[this._valueToIndex(a)]},_valueToIndex:function(a){if(this.attrForSelected)for(var b=0,c;c=this.items[b];b++){if(this._valueForItem(c)==a)return b}else return Number(a)},_indexToValue:function(a){if(this.attrForSelected){if(a=this.items[a])return this._valueForItem(a)}else return a},_valueForItem:function(a){var b=a[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return void 0!=b?b:a.getAttribute(this.attrForSelected)},_applySelection:function(a,b){this.selectedClass&&this.toggleClass(this.selectedClass,
b,a);this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,b,a);this._selectionChange();this.fire("iron-"+(b?"select":"deselect"),{item:a})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(a){return Polymer.dom(a).observeNodes(function(a){this._updateItems();this._shouldUpdateSelection&&this._updateSelected();this.fire("iron-items-changed",a,{bubbles:!1,cancelable:!1})})},_activateHandler:function(a){a=a.target;for(var b=this.items;a&&
a!=this;){var c=b.indexOf(a);if(0<=c){b=this._indexToValue(c);this._itemActivate(b,a);break}a=a.parentNode}},_itemActivate:function(a,b){this.fire("iron-activate",{selected:a,item:b},{cancelable:!0}).defaultPrevented||this.select(a)}};
</script>


<script>//~~WEBPATH~~/iron-selector/iron-multi-selectable.html.js
Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0},selectedItems:{type:Array,readOnly:!0,notify:!0}},observers:["_updateSelected(selectedValues.splices)"],select:function(a){this.multi?this.selectedValues?this._toggleSelected(a):this.selectedValues=[a]:this.selected=a},multiChanged:function(a){this._selection.multi=a},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},
_updateAttrForSelected:function(){this.multi?this._shouldUpdateSelection&&(this.selectedValues=this.selectedItems.map(function(a){return this._indexToValue(this.indexOf(a))},this).filter(function(a){return null!=a},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(a){if(a){a=this._valuesToItems(a);this._selection.clear(a);for(var b=0;b<a.length;b++)$d(this._selection,
a[b],!0);this.fallbackSelection&&this.items.length&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&(this.selectedValues=[this.fallbackSelection])}else this._selection.clear()},_selectionChange:function(){var a=this._selection.get();this.multi?this._setSelectedItems(a):(this._setSelectedItems([a]),this._setSelectedItem(a))},_toggleSelected:function(a){var b=this.selectedValues.indexOf(a);0>b?this.push("selectedValues",a):this.splice("selectedValues",b,1)},_valuesToItems:function(a){return null==
a?null:a.map(function(a){return this._valueToItem(a)},this)}};Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];
</script>



<script>//~~WEBPATH~~/iron-menu-behavior/iron-menu-behavior.html.js
Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_SEARCH_RESET_TIMEOUT_MS:1E3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},
attached:function(){this._resetTabindices()},select:function(a){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var b=this._valueToItem(a);b&&b.hasAttribute("disabled")||(this._setFocusedItem(b),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(b){b.setAttribute("tabindex",b===a?"0":"-1")},this)},
_updateMultiselectable:function(a){a?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(a){this.cancelDebouncer("_clearSearchText");var b=this._searchText||"",b=b+(a.key&&1==a.key.length?a.key:String.fromCharCode(a.keyCode)).toLocaleLowerCase();a=b.length;for(var c=0,d;d=this.items[c];c++)if(!d.hasAttribute("disabled")){var e=this.attrForItemTitle||"textContent",e=(d[e]||d.getAttribute(e)||"").trim();if(!(e.length<a)&&e.slice(0,
a).toLocaleLowerCase()==b){this._setFocusedItem(d);break}}this._searchText=b;this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var a=this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b-c+a)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_focusNext:function(){for(var a=
this.items.length,b=Number(this.indexOf(this.focusedItem)),c=1;c<a+1;c++){var d=this.items[(b+c)%a];if(!d.hasAttribute("disabled")){var e=Polymer.dom(d).getOwnerRoot()||document;this._setFocusedItem(d);if(Polymer.dom(e).activeElement==d)break}}},_applySelection:function(a,b){b?a.setAttribute("aria-selected","true"):a.removeAttribute("aria-selected");Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(a,b){b&&b.setAttribute("tabindex","-1");!a||a.hasAttribute("disabled")||
this.disabled||(a.setAttribute("tabindex","0"),a.focus())},_onIronItemsChanged:function(a){a.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var a=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0;this._setFocusedItem(null);this.setAttribute("tabindex","-1");this.async(function(){this.setAttribute("tabindex",a);Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(a){!Polymer.IronMenuBehaviorImpl._shiftTabPressed&&(a=Polymer.dom(a).rootTarget,
a===this||"undefined"===typeof a.tabIndex||this.isLightDescendant(a))&&(this._defaultFocusAsync=this.async(function(){var a=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null);a?this._setFocusedItem(a):this.items[0]&&this._focusNext()}))},_onUpKey:function(a){this._focusPrevious();a.detail.keyboardEvent.preventDefault()},_onDownKey:function(a){this._focusNext();a.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var a=this.focusedItem;a&&a.blur()},
_onKeydown:function(a){this.keyboardEventMatchesKeys(a,"up down esc")||this._focusWithKeyboardEvent(a);a.stopPropagation()},_activateHandler:function(a){Polymer.IronSelectableBehavior._activateHandler.call(this,a);a.stopPropagation()},_disabledChanged:function(a){a?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}};
Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1;Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl];
</script>





<dom-module id="paper-listbox">
  <template>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        background: var(--paper-listbox-background-color, var(--primary-background-color));
        color: var(--paper-listbox-color, var(--primary-text-color));

        @apply --paper-listbox;
      }
    </style>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-listbox/paper-listbox.html.js
Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}});
</script>
</dom-module>










<script>//~~WEBPATH~~/paper-item/paper-item-behavior.html.js
Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}};Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl];
</script>





<dom-module id="paper-item-shared-styles">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
        min-height: var(--paper-item-min-height, 48px);
        padding: 0px 16px;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(.iron-selected) {
        font-weight: var(--paper-item-selected-weight, bold);

        @apply(--paper-item-selected);
      }

      :host([disabled]) {
        color: var(--paper-item-disabled-color, --disabled-text-color);

        @apply(--paper-item-disabled);
      }

      :host(:focus) {
        position: relative;
        outline: 0;

        @apply(--paper-item-focused);
      }

      :host(:focus):before {
        @apply(--layout-fit);

        background: currentColor;
        content: '';
        opacity: var(--dark-divider-opacity);
        pointer-events: none;

        @apply(--paper-item-focused-before);
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-item">
  <template>
    <style include="paper-item-shared-styles"></style>
    <style>
      :host {
        @apply(--layout-horizontal);
        @apply(--layout-center);
        @apply(--paper-font-subhead);

        @apply(--paper-item);
      }
    </style>

    <content></content>
  </template>

  <script>//~~WEBPATH~~/paper-item/paper-item.html.js
Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]});
</script>
</dom-module>




<script>//~~WEBPATH~~/tf-imports/plottable.js
/*
 MIT
 MIT

 @fileoverview manually add d3-selection-multi to d3 default bundle. Most of this code is
 copied from d3-selection-multi@1.0.0.
 See https://github.com/d3/d3-selection-multi/issues/11 for why we have to do this
 Plottable 3.1.0 (https://github.com/palantir/plottable)
 Copyright 2014-2017 Palantir Technologies
 Licensed under MIT (https://github.com/palantir/plottable/blob/master/LICENSE)
*/
function ae(a){return function(a){function b(c){if(d[c])return d[c].exports;var e=d[c]={i:c,l:!1,exports:{}};a[c].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var d={};b.m=a;b.c=d;b.i=function(a){return a};b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=
129)}([function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(99);c.Array=a;a=d(102);c.Color=a;a=d(103);c.DOM=a;a=d(33);c.Math=a;a=d(106);c.Stacking=a;a=d(25);c.Window=a;b(d(100));b(d(101));b(d(12));b(d(104));b(d(105));b(d(50));b(d(107))},function(b){b.exports=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=
d(1),g=d(7);a=d(4);var k=d(6),l=d(8),m=d(0),n=d(12),q=d(9),p=d(47);c.Renderer=q.makeEnum(["svg","canvas"]);d=function(a){function c(){var b=a.call(this)||this;b._dataChanged=!1;b._animate=!1;b._animators={};b._resetEntityStore=function(){b._cachedEntityStore=void 0};b._overflowHidden=!0;b.addClass("plot");b._datasetToDrawer=new m.Map;b._attrBindings=f.map();b._attrExtents=f.map();b._includedValuesProvider=function(a){return b._includedValuesForScale(a)};b._renderCallback=function(){return b.render()};
b._onDatasetUpdateCallback=function(){return b._onDatasetUpdate()};b._propertyBindings=f.map();b._propertyExtents=f.map();var d=(new g.Easing).maxTotalDuration(c._ANIMATION_MAX_DURATION);b.animator(p.Animator.MAIN,d);b.animator(p.Animator.RESET,new g.Null);b._deferredResetEntityStore=m.Window.debounce(c._DEFERRED_RENDERING_DELAY,b._resetEntityStore);return b}b(c,a);c.getTotalDrawTime=function(a,b){return b.reduce(function(b,c){return b+c.animator.totalTime(a.length)},0)};c.applyDrawSteps=function(a,
b){return a.map(function(a){var c=a.attrToProjector,d={};Object.keys(c).forEach(function(a){d[a]=function(d,e){return c[a](d,e,b)}});return{attrToAppliedProjector:d,animator:a.animator}})};c.prototype.anchor=function(b){b=n.coerceExternalD3(b);a.prototype.anchor.call(this,b);this._dataChanged=!0;this._resetEntityStore();this._updateExtents();return this};c.prototype._setup=function(){var b=this;this._isSetup||(a.prototype._setup.call(this),null!=this._canvas&&this._appendCanvasNode(),this._renderArea=
this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(a){return b._createNodesForDataset(a)}))};c.prototype._appendCanvasNode=function(){var a=this.element().select(".plot-canvas-container");a.empty()&&(a=this.element().append("div").classed("plot-canvas-container",!0),a.node().appendChild(this._canvas.node()))};c.prototype.setBounds=function(b,c,d,e){a.prototype.setBounds.call(this,b,c,d,e);null!=this._canvas&&(d=null!=window.devicePixelRatio?window.devicePixelRatio:
1,this._canvas.attr("width",b*d),this._canvas.attr("height",c*d),this._canvas.node().getContext("2d").setTransform(d,0,0,d,0,0));return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._scales().forEach(function(a){return a.offUpdate(b._renderCallback)});this.datasets([])};c.prototype._createNodesForDataset=function(a){a=this._datasetToDrawer.get(a);"svg"===this.renderer()?a.useSVG(this._renderArea):a.useCanvas(this._canvas);return a};c.prototype._createDrawer=function(){return new k.ProxyDrawer(function(){return new l.SVGDrawer("path",
"")},function(){})};c.prototype._getAnimator=function(a){return this._animateOnNextRender()?this._animators[a]||new g.Null:new g.Null};c.prototype._onDatasetUpdate=function(){this._updateExtents();this._dataChanged=!0;this._resetEntityStore();this.render()};c.prototype.attr=function(a,b,c){if(null==b)return this._attrBindings.get(a);this._bindAttr(a,b,c);this.render();return this};c.prototype._bindProperty=function(a,b,c){var d=this._propertyBindings.get(a),d=null!=d?d.scale:null;this._propertyBindings.set(a,
{accessor:"function"===typeof b?b:function(){return b},scale:c});this._updateExtentsForProperty(a);null!=d&&this._uninstallScaleForKey(d,a);null!=c&&this._installScaleForKey(c,a)};c.prototype._bindAttr=function(a,b,c){var d=this._attrBindings.get(a),d=null!=d?d.scale:null;this._attrBindings.set(a,{accessor:"function"===typeof b?b:function(){return b},scale:c});this._updateExtentsForAttr(a);null!=d&&this._uninstallScaleForKey(d,a);null!=c&&this._installScaleForKey(c,a)};c.prototype._generateAttrToProjector=
function(){var a={};this._attrBindings.each(function(b,c){var d=b.accessor,e=b.scale;a[c]=e?function(a,b,c){return e.scale(d(a,b,c))}:d});var b=this._propertyProjectors();Object.keys(b).forEach(function(c){null==a[c]&&(a[c]=b[c])});return a};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._isAnchored&&(this._paint(),this._dataChanged=!1);return this};c.prototype.animated=function(a){if(null==a)return this._animate;this._animate=a;return this};c.prototype.detach=
function(){a.prototype.detach.call(this);this._updateExtents();return this};c.prototype._scales=function(){var a=[];this._attrBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});this._propertyBindings.each(function(b){b=b.scale;null!=b&&-1===a.indexOf(b)&&a.push(b)});return a};c.prototype._updateExtents=function(){var a=this;this._resetEntityStore();this._attrBindings.each(function(b,c){return a._updateExtentsForAttr(c)});this._propertyExtents.each(function(b,c){return a._updateExtentsForProperty(c)});
this._scales().forEach(function(b){return b.addIncludedValuesProvider(a._includedValuesProvider)})};c.prototype._updateExtentsForAttr=function(a){this._updateExtentsForKey(a,this._attrBindings,this._attrExtents,null)};c.prototype._updateExtentsForProperty=function(a){this._updateExtentsForKey(a,this._propertyBindings,this._propertyExtents,this._filterForProperty(a))};c.prototype._filterForProperty=function(){return null};c.prototype._updateExtentsForKey=function(a,b,c,d){var e=this,f=b.get(a);null!=
f&&null!=f.accessor&&c.set(a,this.datasets().map(function(a){return e._computeExtent(a,f,d)}))};c.prototype._computeExtent=function(a,b,c){var d=b.accessor;b=b.scale;if(null==b)return[];var e=a.data();null!=c&&(e=e.filter(function(b,d){return c(b,d,a)}));e=e.map(function(b,c){return d(b,c,a)});return b.extentOfValues(e)};c.prototype._extentsForProperty=function(a){return this._propertyExtents.get(a)};c.prototype._includedValuesForScale=function(a){var b=this;if(!this._isAnchored)return[];var c=[];
this._attrBindings.each(function(d,e){d.scale===a&&(d=b._attrExtents.get(e),null!=d&&(c=c.concat(f.merge(d))))});this._propertyBindings.each(function(d,e){d.scale===a&&(d=b._extentsForProperty(e),null!=d&&(c=c.concat(f.merge(d))))});return c};c.prototype.animator=function(a,b){if(void 0===b)return this._animators[a];this._animators[a]=b;return this};c.prototype.renderer=function(a){var b=this;if(void 0===a)return null==this._canvas?"svg":"canvas";null==this._canvas&&"canvas"===a?(this._canvas=f.select(document.createElement("canvas")).classed("plot-canvas",
!0),null!=this.element()&&this._appendCanvasNode(),this._datasetToDrawer.forEach(function(a){a.useCanvas(b._canvas)}),this.render()):null!=this._canvas&&"svg"==a&&(this._canvas.remove(),this._canvas=null,this._datasetToDrawer.forEach(function(a){a.useSVG(b._renderArea)}),this.render());return this};c.prototype.addDataset=function(a){this._addDataset(a);this._onDatasetUpdate();return this};c.prototype._addDataset=function(a){this._removeDataset(a);var b=this._createDrawer(a);this._datasetToDrawer.set(a,
b);this._isSetup&&this._createNodesForDataset(a);a.onUpdate(this._onDatasetUpdateCallback);return this};c.prototype.removeDataset=function(a){this._removeDataset(a);this._onDatasetUpdate();return this};c.prototype._removeDataset=function(a){if(-1===this.datasets().indexOf(a))return this;this._removeDatasetNodes(a);a.offUpdate(this._onDatasetUpdateCallback);this._datasetToDrawer.delete(a);return this};c.prototype._removeDatasetNodes=function(a){this._datasetToDrawer.get(a).remove()};c.prototype.datasets=
function(a){var b=this,c=[];this._datasetToDrawer.forEach(function(a,b){return c.push(b)});if(null==a)return c;c.forEach(function(a){return b._removeDataset(a)});a.forEach(function(a){return b._addDataset(a)});this._onDatasetUpdate();return this};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new g.Null}]};c.prototype._additionalPaint=function(){};c.prototype._buildLightweightPlotEntities=function(a){var b=this,c=[];a.forEach(function(a,
d){var e=b._datasetToDrawer.get(a),f=0;a.data().forEach(function(g,k){var l=b._pixelPoint(g,k,a);m.Math.isNaN(l.x)||m.Math.isNaN(l.y)||(c.push({datum:g,get position(){return b._pixelPoint.call(b,g,k,a)},index:k,dataset:a,datasetIndex:d,component:b,drawer:e,validDatumIndex:f}),f++)})});return c};c.prototype._getDataToDraw=function(){var a=new m.Map;this.datasets().forEach(function(b){return a.set(b,b.data())});return a};c.prototype._paint=function(){var a=this,b=this._generateDrawSteps(),d=this._getDataToDraw(),
e=this.datasets().map(function(b){return a._datasetToDrawer.get(b)});if("canvas"===this.renderer()){var f=this._canvas.node();f.getContext("2d").clearRect(0,0,f.width,f.height)}this.datasets().forEach(function(a,f){var g=c.applyDrawSteps(b,a);e[f].draw(d.get(a),g)});f=this.datasets().map(function(a){return c.getTotalDrawTime(d.get(a),b)});f=m.Math.max(f,0);this._additionalPaint(f)};c.prototype.selections=function(a){var b=this;void 0===a&&(a=this.datasets());if("canvas"===this.renderer())return f.select(null);
var c=[];a.forEach(function(a){a=b._datasetToDrawer.get(a);null!=a&&(a=a.getVisualPrimitives(),c.push.apply(c,a))});return f.selectAll(c)};c.prototype.entities=function(a){var b=this;return this._getEntityStore(a).entities().map(function(a){return b._lightweightPlotEntityToPlotEntity(a)})};c.prototype._getEntityStore=function(a){if(void 0!==a){var b=new m.EntityStore;b.addAll(this._buildLightweightPlotEntities(a));return b}void 0===this._cachedEntityStore&&(b=new m.EntityStore,b.addAll(this._buildLightweightPlotEntities(this.datasets()),
this.bounds()),this._cachedEntityStore=b);return this._cachedEntityStore};c.prototype._lightweightPlotEntityToPlotEntity=function(a){return{datum:a.datum,position:a.position,dataset:a.dataset,datasetIndex:a.datasetIndex,index:a.index,component:a.component,selection:f.select(a.drawer.getVisualPrimitives()[a.validDatumIndex])}};c.prototype.entitiesAt=function(){throw Error("plots must implement entitiesAt");};c.prototype.entityNearest=function(a,b){void 0===b&&this.bounds();a=this._getEntityStore().entityNearest(a);
return void 0===a?void 0:this._lightweightPlotEntityToPlotEntity(a)};c.prototype._uninstallScaleForKey=function(a){a.offUpdate(this._renderCallback);a.offUpdate(this._deferredResetEntityStore);a.removeIncludedValuesProvider(this._includedValuesProvider)};c.prototype._installScaleForKey=function(a){a.onUpdate(this._renderCallback);a.onUpdate(this._deferredResetEntityStore);a.addIncludedValuesProvider(this._includedValuesProvider)};c.prototype._propertyProjectors=function(){return{}};c._scaledAccessor=
function(a){return null==a.scale?a.accessor:function(b,c,d){return a.scale.scale(a.accessor(b,c,d))}};c.prototype._pixelPoint=function(){return{x:0,y:0}};c.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged};return c}(a.Component);d._ANIMATION_MAX_DURATION=600;d._DEFERRED_RENDERING_DELAY=200;c.Plot=d},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}a=d(97);c.TickGenerators=a;b(d(49));b(d(93));b(d(94));b(d(95));b(d(96));b(d(98));var f=d(49),
g=d(11);c.isTransformable=function(a){return a instanceof g.QuantitativeScale||a instanceof f.Category}},function(a,c,d){var b=d(1),f=d(28),g=d(0),k=d(12);a=d(9);c.XAlignment=a.makeEnum(["left","center","right"]);c.YAlignment=a.makeEnum(["top","center","bottom"]);a=function(){function a(){this._overflowHidden=!1;this._origin={x:0,y:0};this._xAlignment="left";this._yAlignment="top";this._isAnchored=this._isSetup=!1;this._cssClasses=new g.Set;this._destroyed=!1;this._onAnchorCallbacks=new g.CallbackSet;
this._onDetachCallbacks=new g.CallbackSet;this._cssClasses.add("component")}a.prototype.anchor=function(a){a=k.coerceExternalD3(a);if(this._destroyed)throw Error("Can't reuse destroy()-ed Components!");this.isRoot()&&(this._rootElement=a,this._rootElement.classed("plottable",!0));null!=this._element?a.node().appendChild(this._element.node()):(this._element=a.append("div"),this._setup());this._isAnchored=!0;this._onAnchorCallbacks.callCallbacks(this);return this};a.prototype.onAnchor=function(a){this._isAnchored&&
a(this);this._onAnchorCallbacks.add(a)};a.prototype.offAnchor=function(a){this._onAnchorCallbacks.delete(a)};a.prototype._setup=function(){var a=this;this._isSetup||(this._cssClasses.forEach(function(b){a._element.classed(b,!0)}),this._cssClasses=new g.Set,this._backgroundContainer=this._element.append("svg").classed("background-container",!0),this._content=this._element.append("svg").classed("content",!0),this._foregroundContainer=this._element.append("svg").classed("foreground-container",!0),this._overflowHidden?
this._content.classed("component-overflow-hidden",!0):this._content.classed("component-overflow-visible",!0),this._isSetup=!0)};a.prototype.requestedSpace=function(){return{minWidth:0,minHeight:0}};a.prototype.computeLayout=function(b,c,d){if(null==b||null==c||null==d){if(null==this._element)throw Error("anchor() must be called before computeLayout()");if(null!=this._rootElement)b={x:0,y:0},d=this._rootElement.node(),c=g.DOM.elementWidth(d),d=g.DOM.elementHeight(d);else throw Error("null arguments cannot be passed to computeLayout() on a non-root, unanchored node");
}var e=this._sizeFromOffer(c,d),f=e.height,e=e.width;this.setBounds(e,f,b.x+(c-e)*a._xAlignToProportion[this._xAlignment],b.y+(d-f)*a._yAlignToProportion[this._yAlignment]);return this};a.prototype.setBounds=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this._width=a;this._height=b;this._origin={x:c,y:d};null!=this._element&&this._element.styles({left:c+"px",height:b+"px",top:d+"px",width:a+"px"});null!=this._resizeHandler&&this._resizeHandler({width:a,height:b});return this};a.prototype._sizeFromOffer=
function(a,b){var c=this.requestedSpace(a,b);return{width:this.fixedWidth()?Math.min(a,c.minWidth):a,height:this.fixedHeight()?Math.min(b,c.minHeight):b}};a.prototype.render=function(){this._isAnchored&&this._isSetup&&0<=this.width()&&0<=this.height()&&f.registerToRender(this);return this};a.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&f.registerToComputeLayoutAndRender(this)};a.prototype.onResize=function(a){this._resizeHandler=a;return this};a.prototype.renderImmediately=
function(){return this};a.prototype.redraw=function(){this._isAnchored&&this._isSetup&&(this.isRoot()?this._scheduleComputeLayout():this.parent().redraw());return this};a.prototype.invalidateCache=function(){};a.prototype.renderTo=function(a){this.detach();if(null!=a){a="string"===typeof a?b.select(a):a instanceof Element?b.select(a):k.coerceExternalD3(a);if(!a.node()||null==a.node().nodeName)throw Error("Plottable requires a valid Element to renderTo");if("svg"===a.node().nodeName)throw Error("Plottable 3.x and later can only renderTo an HTML component; pass a div instead!");
this.anchor(a)}if(null==this._element)throw Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");f.registerToComputeLayoutAndRender(this);f.flush()};a.prototype.xAlignment=function(b){if(null==b)return this._xAlignment;b=b.toLowerCase();if(null==a._xAlignToProportion[b])throw Error("Unsupported alignment: "+b);this._xAlignment=b;this.redraw();return this};a.prototype.yAlignment=function(b){if(null==b)return this._yAlignment;
b=b.toLowerCase();if(null==a._yAlignToProportion[b])throw Error("Unsupported alignment: "+b);this._yAlignment=b;this.redraw();return this};a.prototype.hasClass=function(a){return null==a?!1:null==this._element?this._cssClasses.has(a):this._element.classed(a)};a.prototype.addClass=function(a){null!=a&&(null==this._element?this._cssClasses.add(a):this._element.classed(a,!0))};a.prototype.removeClass=function(a){null!=a&&(null==this._element?this._cssClasses.delete(a):this._element.classed(a,!1))};a.prototype.fixedWidth=
function(){return!1};a.prototype.fixedHeight=function(){return!1};a.prototype.detach=function(){this.parent(null);this._isAnchored&&this._element.remove();this._isAnchored=!1;this._onDetachCallbacks.callCallbacks(this);return this};a.prototype.onDetach=function(a){this._onDetachCallbacks.add(a)};a.prototype.offDetach=function(a){this._onDetachCallbacks.delete(a)};a.prototype.parent=function(a){if(void 0===a)return this._parent;if(null!==a&&!a.has(this))throw Error("Passed invalid parent");this._parent=
a;return this};a.prototype.bounds=function(){var a=this.origin();return{topLeft:a,bottomRight:{x:a.x+this.width(),y:a.y+this.height()}}};a.prototype.destroy=function(){this._destroyed=!0;this.detach()};a.prototype.width=function(){return this._width};a.prototype.height=function(){return this._height};a.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}};a.prototype.originToRoot=function(){for(var a=this.origin(),b=this.parent();null!=b;){var c=b.origin();a.x+=c.x;a.y+=c.y;b=b.parent()}return a};
a.prototype.root=function(){for(var a=this;!a.isRoot();)a=a.parent();return a};a.prototype.isRoot=function(){return null==this.parent()};a.prototype.foreground=function(){return this._foregroundContainer};a.prototype.content=function(){return this._content};a.prototype.element=function(){return this._element};a.prototype.rootElement=function(){return this.root()._rootElement};a.prototype.background=function(){return this._backgroundContainer};return a}();a._xAlignToProportion={left:0,center:.5,right:1};
a._yAlignToProportion={top:0,center:.5,bottom:1};c.Component=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(51));b(d(54));b(d(122));b(d(20));b(d(56));b(d(58))},function(a,c,d){var b=d(19);a=function(){function a(a,b){this._svgDrawerFactory=a;this._canvasDrawStep=b}a.prototype.useSVG=function(a){null!=this._currentDrawer&&this._currentDrawer.remove();var b=this._svgDrawerFactory();b.attachTo(a);this._currentDrawer=b};a.prototype.useCanvas=function(a){null!=this._currentDrawer&&
this._currentDrawer.remove();this._currentDrawer=new b.CanvasDrawer(a.node().getContext("2d"),this._canvasDrawStep)};a.prototype.getDrawer=function(){return this._currentDrawer};a.prototype.remove=function(){null!=this._currentDrawer&&this._currentDrawer.remove()};a.prototype.draw=function(a,b){this._currentDrawer.draw(a,b)};a.prototype.getVisualPrimitives=function(){return this._currentDrawer.getVisualPrimitives()};a.prototype.getVisualPrimitiveAtIndex=function(a){return this._currentDrawer.getVisualPrimitiveAtIndex(a)};
return a}();c.ProxyDrawer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(64));b(d(65))},function(a,c,d){var b=d(1),f=d(0);a=function(){function a(a,c){this._root=b.select(document.createElementNS("http://www.w3.org/2000/svg","g"));this._className=c;this._svgElementName=a}a.prototype.draw=function(a,b){var c=this;this._createAndDestroyDOMElements(a);var d=0;b.forEach(function(b){f.Window.setTimeout(function(){return c._drawStep(b)},d);d+=b.animator.totalTime(a.length)})};
a.prototype.getVisualPrimitives=function(){null==this._cachedVisualPrimitivesNodes&&(this._cachedVisualPrimitivesNodes=this._selection.nodes());return this._cachedVisualPrimitivesNodes};a.prototype.getVisualPrimitiveAtIndex=function(a){return this.getVisualPrimitives()[a]};a.prototype.remove=function(){this._root.remove()};a.prototype.attachTo=function(a){a.node().appendChild(this._root.node())};a.prototype.getRoot=function(){return this._root};a.prototype.selector=function(){return this._svgElementName};
a.prototype._applyDefaultAttributes=function(){};a.prototype._createAndDestroyDOMElements=function(a){a=this._root.selectAll(this.selector()).data(a);this._selection=a.enter().append(this._svgElementName).merge(a);a.exit().remove();this._cachedVisualPrimitivesNodes=null;null!=this._className&&this._selection.classed(this._className,!0);this._applyDefaultAttributes(this._selection)};a.prototype._drawStep=function(a){var b=this;["fill","stroke"].forEach(function(c){null!=a.attrToAppliedProjector[c]&&
b._selection.attr(c,a.attrToAppliedProjector[c])});a.animator.animate(this._selection,a.attrToAppliedProjector);null!=this._className&&this._selection.classed(this._className,!0)};return a}();c.SVGDrawer=a},function(a,c){c.makeEnum=function(a){return a.reduce(function(a,b){a[b]=b;return a},{})}},function(a,c,d){function b(a){void 0===a&&(a=3);f(a);return function(b){return b.toFixed(a)}}function f(a){if(0>a||20<a)throw new RangeError("Formatter precision must be between 0 and 20");if(a!==Math.floor(a))throw new RangeError("Formatter precision must be an integer");
}var g=d(1);c.currency=function(a,c,d){void 0===a&&(a=2);void 0===c&&(c="$");void 0===d&&(d=!0);var e=b(a);return function(a){var b=e(Math.abs(a));""!==b&&(b=d?c+b:b+c,0>a&&(b="-"+b));return b}};c.fixed=b;c.general=function(){var a;void 0===a&&(a=3);f(a);return function(b){if("number"===typeof b){var c=Math.pow(10,a);return String(Math.round(b*c)/c)}return String(b)}};c.identity=function(){return function(a){return String(a)}};c.percentage=function(a){void 0===a&&(a=0);var c=b(a);return function(a){var b=
a.toString(),b=Math.pow(10,b.length-(b.indexOf(".")+1));return c(parseInt((100*a*b).toString(),10)/b)+"%"}};c.siSuffix=function(a){void 0===a&&(a=3);f(a);return function(b){return g.format("."+a+"s")(b)}};c.shortScale=function(){var a=0;void 0===a&&(a=3);f(a);var b=g.format("."+a+"e"),c=g.format("."+a+"f"),d=Math.pow(10,18),e=Math.pow(10,-a);return function(a){var f=Math.abs(a);if((f<e||f>=d)&&0!==f)return b(a);for(var g=-1;f>=Math.pow(1E3,g+2)&&4>g;)g++;f=-1===g?c(a):c(a/Math.pow(1E3,g+1))+"KMBTQ"[g];
if(0<a&&"1000"===f.substr(0,4)||0>a&&"-1000"===f.substr(0,5))4>g?(g++,f=c(a/Math.pow(1E3,g+1))+"KMBTQ"[g]):f=b(a);return f}};c.multiTime=function(){var a=[{specifier:".%L",predicate:function(a){return 0!==a.getMilliseconds()}},{specifier:":%S",predicate:function(a){return 0!==a.getSeconds()}},{specifier:"%I:%M",predicate:function(a){return 0!==a.getMinutes()}},{specifier:"%I %p",predicate:function(a){return 0!==a.getHours()}},{specifier:"%a %d",predicate:function(a){return 0!==a.getDay()&&1!==a.getDate()}},
{specifier:"%b %d",predicate:function(a){return 1!==a.getDate()}},{specifier:"%b",predicate:function(a){return 0!==a.getMonth()}}];return function(b){var c=a.filter(function(a){return a.predicate(b)});return g.timeFormat(0<c.length?c[0].specifier:"%Y")(b)}};c.time=function(a){return g.timeFormat(a)}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)},f=d(1),g=d(14),k=d(0);a=function(a){function c(){var b=a.call(this)||this;b._tickGenerator=function(a){return a.defaultTicks()};b._padProportion=.05;b._snappingDomainEnabled=!0;b._paddingExceptionsProviders=new k.Set;return b}b(c,a);c.prototype.autoDomain=function(){this._domainMax=this._domainMin=null;a.prototype.autoDomain.call(this);return this};c.prototype._autoDomainIfAutomaticMode=function(){if(null!=this._domainMin&&null!=this._domainMax)this._setDomain([this._domainMin,this._domainMax]);
else{var b=this._getExtent();null!=this._domainMin?(b=b[1],this._domainMin>=b&&(b=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),this._setDomain([this._domainMin,b])):null!=this._domainMax?(b=b[0],this._domainMax<=b&&(b=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),this._setDomain([b,this._domainMax])):a.prototype._autoDomainIfAutomaticMode.call(this)}};c.prototype._getExtent=function(){var a=this._getAllIncludedValues(),b=this._defaultExtent();0!==a.length&&
(a=[k.Math.min(a,b[0]),k.Math.max(a,b[1])],b=this._padDomain(a));null!=this._domainMin&&(b[0]=this._domainMin);null!=this._domainMax&&(b[1]=this._domainMax);return b};c.prototype.addPaddingExceptionsProvider=function(a){this._paddingExceptionsProviders.add(a);this._autoDomainIfAutomaticMode()};c.prototype.removePaddingExceptionsProvider=function(a){this._paddingExceptionsProviders.delete(a);this._autoDomainIfAutomaticMode()};c.prototype.padProportion=function(a){if(null==a)return this._padProportion;
if(0>a)throw Error("padProportion must be non-negative");this._padProportion=a;this._autoDomainIfAutomaticMode();return this};c.prototype._padDomain=function(a){var b=this;if(a[0].valueOf()===a[1].valueOf())return this._expandSingleValueDomain(a);if(0===this._padProportion)return a;var c=this._padProportion/2,d=a[0],e=a[1],f=!1,g=!1;this._paddingExceptionsProviders.forEach(function(a){a(b).forEach(function(a){a.valueOf()===d.valueOf()&&(f=!0);a.valueOf()===e.valueOf()&&(g=!0)})});var k=this._backingScaleDomain();
this._backingScaleDomain(a);a=f?d:this.invert(this.scale(d)-(this.scale(e)-this.scale(d))*c);c=g?e:this.invert(this.scale(e)+(this.scale(e)-this.scale(d))*c);this._backingScaleDomain(k);return this._snappingDomainEnabled?this._niceDomain([a,c]):[a,c]};c.prototype.snappingDomainEnabled=function(a){null!=a&&(this._snappingDomainEnabled=a,this._autoDomainIfAutomaticMode())};c.prototype._expandSingleValueDomain=function(a){return a};c.prototype.invert=function(){throw Error("Subclasses should override invert");
};c.prototype.domain=function(b){null!=b&&(this._domainMin=b[0],this._domainMax=b[1]);return a.prototype.domain.call(this,b)};c.prototype.domainMin=function(a){if(null==a)return this.domain()[0];this._domainMin=a;this._autoDomainIfAutomaticMode();return this};c.prototype.domainMax=function(a){if(null==a)return this.domain()[1];this._domainMax=a;this._autoDomainIfAutomaticMode();return this};c.prototype.extentOfValues=function(a){a=f.extent(a.filter(function(a){return k.Math.isValidNumber(+a)}));return null==
a[0]||null==a[1]?[]:a};c.prototype.zoom=function(a,b){var c=this;this.domain(this.range().map(function(d){return c.invert(g.zoomAt(d,a,b))}))};c.prototype.pan=function(a){var b=this;this.domain(this.range().map(function(c){return b.invert(c+a)}))};c.prototype.scaleTransformation=function(){throw Error("Subclasses should override scaleTransformation");};c.prototype.invertedTransformation=function(){throw Error("Subclasses should override invertedTransformation");};c.prototype.getTransformationDomain=
function(){throw Error("Subclasses should override getTransformationDomain");};c.prototype._setDomain=function(b){function c(a){return k.Math.isNaN(a)||Infinity===a||-Infinity===a}c(b[0])||c(b[1])?k.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):a.prototype._setDomain.call(this,b)};c.prototype.defaultTicks=function(){throw Error("Subclasses should override _getDefaultTicks");};c.prototype.ticks=function(){return this._tickGenerator(this)};c.prototype._niceDomain=
function(){throw Error("Subclasses should override _niceDomain");};c.prototype._defaultExtent=function(){throw Error("Subclasses should override _defaultExtent");};c.prototype.tickGenerator=function(a){if(null==a)return this._tickGenerator;this._tickGenerator=a;return this};return c}(d(18).Scale);a._DEFAULT_NUM_TICKS=10;c.QuantitativeScale=a},function(a,c,d){var b=d(1);c.coerceExternalD3=function(a){if(null==a.attrs){if(null==a.nodes){var c=[];a.each(function(){c.push(this)});return b.selectAll(c)}return b.selectAll(a.nodes())}return a}},
function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(77));b(d(78));b(d(79))},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(81));b(d(82));b(d(37));b(d(83));b(d(84))},function(a,c){a=function(){function a(){var a=this;this._anchorCallback=function(b){return a._anchor(b)};this._enabled=!0}a.prototype._anchor=function(){this._isAnchored=!0};a.prototype._unanchor=function(){this._isAnchored=!1};a.prototype.attachTo=function(a){this._disconnect();
this._componentAttachedTo=a;this._connect();return this};a.prototype._connect=function(){if(this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored)this._componentAttachedTo.onAnchor(this._anchorCallback)};a.prototype.detachFrom=function(){this._disconnect();this._componentAttachedTo=null};a.prototype._disconnect=function(){this._isAnchored&&this._unanchor();null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)};a.prototype.enabled=function(a){if(null==
a)return this._enabled;(this._enabled=a)?this._connect():this._disconnect();return this};a.prototype._translateToComponentSpace=function(a){var b=this._componentAttachedTo.originToRoot();return{x:a.x-b.x,y:a.y-b.y}};a.prototype._isInsideComponent=function(a){return 0<=a.x&&0<=a.y&&a.x<=this._componentAttachedTo.width()&&a.y<=this._componentAttachedTo.height()};return a}();c.Interaction=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0),k=d(2);a=function(a){function c(){function b(){null!=d._renderArea&&(d._renderArea.attr("transform","translate("+e+", "+f+") scale("+g+", "+k+")"),null!=d._canvas&&d._canvas.style("transform","translate("+e+"px, "+f+"px) scale("+g+", "+k+")"),clearTimeout(y),y=setTimeout(function(){d._cachedDomainX=l;d._cachedDomainY=m;f=e=0;k=g=1;d.render();d._renderArea.attr("transform","translate(0, 0) scale(1, 1)");
null!=d._canvas&&d._canvas.style("transform","translate(0, 0) scale(1, 1)")},c._DEFERRED_RENDERING_DELAY))}var d=a.call(this)||this;d._autoAdjustXScaleDomain=!1;d._autoAdjustYScaleDomain=!1;d._deferredRendering=!1;d._cachedDomainX=[null,null];d._cachedDomainY=[null,null];d.addClass("xy-plot");d._adjustYDomainOnChangeFromXCallback=function(){return d._adjustYDomainOnChangeFromX()};d._adjustXDomainOnChangeFromYCallback=function(){return d._adjustXDomainOnChangeFromY()};var e=0,f=0,g=1,k=1,l=[null,null],
m=[null,null],y=0;d._renderCallback=function(a){d.deferredRendering()&&d.x()&&d.x().scale===a?d._isAnchored&&(l=a.domain(),g=(a.scale(d._cachedDomainX[1])-a.scale(d._cachedDomainX[0]))/(a.scale(l[1])-a.scale(l[0]))||1,e=a.scale(d._cachedDomainX[0])-a.scale(l[0])||0,b()):d.deferredRendering()&&d.y()&&d.y().scale===a?d._isAnchored&&(m=a.domain(),k=(a.scale(d._cachedDomainY[1])-a.scale(d._cachedDomainY[0]))/(a.scale(m[1])-a.scale(m[0]))||1,f=a.scale(d._cachedDomainY[0])-a.scale(m[0])*k||0,b()):d.render()};
return d}b(c,a);c.prototype.deferredRendering=function(){return this._deferredRendering};c.prototype.x=function(a,b){if(null==a)return this._propertyBindings.get(c._X_KEY);this._bindProperty(c._X_KEY,a,b);a=this.width();null!=b&&null!=a&&b.range([0,a]);this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain();this.render();return this};c.prototype.y=function(a,b){if(null==a)return this._propertyBindings.get(c._Y_KEY);this._bindProperty(c._Y_KEY,a,b);a=this.height();null!=b&&null!=a&&(b instanceof
f.Category?b.range([0,a]):b.range([a,0]));this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain();this.render();return this};c.prototype._filterForProperty=function(a){return"x"===a&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"===a&&this._autoAdjustYScaleDomain?this._makeFilterByProperty("x"):null};c.prototype._makeFilterByProperty=function(a){a=this._propertyBindings.get(a);if(null!=a){var b=a.accessor,c=a.scale;if(null!=c)return function(a,d,e){var f=c.range();return g.Math.inRange(c.scale(b(a,
d,e)),f[0],f[1])}}return null};c.prototype._uninstallScaleForKey=function(b,d){a.prototype._uninstallScaleForKey.call(this,b,d);b.offUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype._installScaleForKey=function(b,d){a.prototype._installScaleForKey.call(this,b,d);b.onUpdate(d===c._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback)};c.prototype.destroy=function(){a.prototype.destroy.call(this);this.x().scale&&
this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback);this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback);return this};c.prototype.autorangeMode=function(a){if(null==a)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(a){case "x":this._autoAdjustXScaleDomain=!0;this._autoAdjustYScaleDomain=!1;this._adjustXDomainOnChangeFromY();break;case "y":this._autoAdjustXScaleDomain=!1;this._autoAdjustYScaleDomain=!0;this._adjustYDomainOnChangeFromX();
break;case "none":this._autoAdjustYScaleDomain=this._autoAdjustXScaleDomain=!1;break;default:throw Error("Invalid scale name '"+a+"', must be 'x', 'y' or 'none'");}return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=(b=this.x())&&b.scale;null!=b&&b.range([0,this.width()]);b=(b=this.y())&&b.scale;null!=b&&(b instanceof f.Category?b.range([0,this.height()]):b.range([this.height(),0]));return this};c.prototype._updateXExtentsAndAutodomain=function(){this._updateExtentsForProperty("x");
var a=this.x().scale;null!=a&&a.autoDomain()};c.prototype._updateYExtentsAndAutodomain=function(){this._updateExtentsForProperty("y");var a=this.y().scale;null!=a&&a.autoDomain()};c.prototype.showAllData=function(){this._updateXExtentsAndAutodomain();this._updateYExtentsAndAutodomain();return this};c.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()};c.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&
this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()};c.prototype._projectorsReady=function(){var a=this.x(),b=this.y();return null!=a&&null!=a.accessor&&null!=b&&null!=b.accessor};c.prototype._pixelPoint=function(a,b,c){var d=k.Plot._scaledAccessor(this.x()),e=k.Plot._scaledAccessor(this.y());return{x:d(a,b,c),y:e(a,b,c)}};c.prototype._getDataToDraw=function(){var b=this,c=a.prototype._getDataToDraw.call(this);this.datasets().forEach(function(a){c.set(a,c.get(a).filter(function(c,d){var e=
k.Plot._scaledAccessor(b.x())(c,d,a);c=k.Plot._scaledAccessor(b.y())(c,d,a);return g.Math.isValidNumber(e)&&g.Math.isValidNumber(c)}))});return c};return c}(k.Plot);a._X_KEY="x";a._Y_KEY="y";c.XYPlot=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(46));b(d(24));b(d(47));b(d(85));b(d(48));b(d(86));b(d(87));b(d(88));b(d(89));b(d(90));b(d(91));b(d(92))},function(a,c,d){var b=d(0);a=function(){function a(){this._autoDomainAutomatically=!0;this._domainModificationInProgress=
!1;this._callbacks=new b.CallbackSet;this._includedValuesProviders=new b.Set}a.prototype.extentOfValues=function(){return[]};a.prototype._getAllIncludedValues=function(){var a=this,b=[];this._includedValuesProviders.forEach(function(c){c=c(a);b=b.concat(c)});return b};a.prototype._getExtent=function(){return[]};a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype._dispatchUpdate=function(){this._callbacks.callCallbacks(this)};
a.prototype.autoDomain=function(){this._autoDomainAutomatically=!0;this._setDomain(this._getExtent());return this};a.prototype._autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()};a.prototype.scale=function(){throw Error("Subclasses should override scale");};a.prototype.domain=function(a){if(null==a)return this._getDomain();this._autoDomainAutomatically=!1;this._setDomain(a);return this};a.prototype._getDomain=function(){throw Error("Subclasses should override _getDomain");
};a.prototype._setDomain=function(a){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._backingScaleDomain(a),this._dispatchUpdate(),this._domainModificationInProgress=!1)};a.prototype._backingScaleDomain=function(){throw Error("Subclasses should override _backingDomain");};a.prototype.range=function(a){if(null==a)return this._getRange();this._setRange(a);return this};a.prototype._getRange=function(){throw Error("Subclasses should override _getRange");};a.prototype._setRange=
function(){throw Error("Subclasses should override _setRange");};a.prototype.addIncludedValuesProvider=function(a){this._includedValuesProviders.add(a);this._autoDomainIfAutomaticMode();return this};a.prototype.removeIncludedValuesProvider=function(a){this._includedValuesProviders.delete(a);this._autoDomainIfAutomaticMode()};return a}();c.Scale=a},function(a,c,d){var b=d(1);a=function(){function a(a,b){this._context=a;this._drawStep=b}a.prototype.getDrawStep=function(){return this._drawStep};a.prototype.draw=
function(a,b){b=b[b.length-1];this._context.save();this._drawStep(this._context,a,b.attrToAppliedProjector);this._context.restore()};a.prototype.getVisualPrimitives=function(){return[]};a.prototype.getVisualPrimitiveAtIndex=function(){return null};a.prototype.remove=function(){};return a}();c.CanvasDrawer=a;c.ContextStyleAttrs={strokeWidth:"stroke-width",stroke:"stroke",opacity:"opacity",fill:"fill"};c.resolveAttributesSubsetWithStyles=function(a,b,d,e){b=Object.keys(c.ContextStyleAttrs).concat(b);
for(var f={},g=0;g<b.length;g++){var k=b[g];a.hasOwnProperty(k)&&(f[k]=a[k](d,e))}return f};c.styleContext=function(a,d){d[c.ContextStyleAttrs.strokeWidth]&&(a.lineWidth=parseFloat(d[c.ContextStyleAttrs.strokeWidth]));if(d[c.ContextStyleAttrs.stroke]){var e=b.color(d[c.ContextStyleAttrs.stroke]);d[c.ContextStyleAttrs.opacity]&&(e.opacity=d[c.ContextStyleAttrs.opacity]);a.strokeStyle=e.rgb().toString();a.stroke()}d[c.ContextStyleAttrs.fill]&&(e=b.color(d[c.ContextStyleAttrs.fill]),d[c.ContextStyleAttrs.opacity]&&
(e.opacity=d[c.ContextStyleAttrs.opacity]),a.fillStyle=e.rgb().toString(),a.fill())}},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(123));b(d(124));b(d(125));b(d(126))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5);a=d(4);var k=d(10),l=d(0);d=d(9);c.AxisOrientation=d.makeEnum(["bottom","left",
"right","top"]);d=function(a){function c(b,c){var d=a.call(this)||this;d._endTickLength=5;d._innerTickLength=5;d._tickLabelPadding=10;d._margin=15;d._showEndTickLabels=!1;d._annotationsEnabled=!1;d._annotationTierCount=1;if(null==b||null==c)throw Error("Axis requires a scale and orientation");d._scale=b;d.orientation(c);d._setDefaultAlignment();d.addClass("axis");d.isHorizontal()?d.addClass("x-axis"):d.addClass("y-axis");d.formatter(k.identity());d._rescaleCallback=function(){return d._rescale()};
d._scale.onUpdate(d._rescaleCallback);d._annotatedTicks=[];d._annotationFormatter=k.identity();return d}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._rescaleCallback)};c.prototype.tickLabelDataOnElement=function(a){if(null!=a){for(var b;null!=a&&a.classList&&void 0===b;)a.classList.contains(c.TICK_LABEL_CLASS)?b=a:a=a.parentNode;return void 0===a?void 0:f.select(a).datum()}};c.prototype._computeWidth=function(){return this._maxLabelTickLength()};
c.prototype._computeHeight=function(){return this._maxLabelTickLength()};c.prototype.requestedSpace=function(){var a=0,b=0;if(this.isHorizontal()){if(b=this._computeHeight()+this._margin,this.annotationsEnabled()){var d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING;b+=d*this.annotationTierCount()}}else a=this._computeWidth()+this._margin,this.annotationsEnabled()&&(d=this._annotationMeasurer.measure().height+2*c._ANNOTATION_LABEL_PADDING,a+=d*this.annotationTierCount());
return{minWidth:a,minHeight:b}};c.prototype.fixedHeight=function(){return this.isHorizontal()};c.prototype.fixedWidth=function(){return!this.isHorizontal()};c.prototype._rescale=function(){this.render()};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()?this._scale.range([0,this.width()]):this._scale.range([this.height(),0]);return this};c.prototype._sizeFromOffer=function(a,b){var c=this.requestedSpace(a,b);return this.isHorizontal()?{width:a,
height:c.minHeight}:{height:b,width:c.minWidth}};c.prototype._setup=function(){a.prototype._setup.call(this);this._tickMarkContainer=this.content().append("g").classed(c.TICK_MARK_CLASS+"-container",!0);this._tickLabelContainer=this.content().append("g").classed(c.TICK_LABEL_CLASS+"-container",!0);this._baseline=this.content().append("line").classed("baseline",!0);this._annotationContainer=this.content().append("g").classed("annotation-container",!0);this._annotationContainer.append("g").classed("annotation-line-container",
!0);this._annotationContainer.append("g").classed("annotation-circle-container",!0);this._annotationContainer.append("g").classed("annotation-rect-container",!0);var b=this._annotationContainer.append("g").classed("annotation-label-container",!0),b=new g.SvgContext(b.node());this._annotationMeasurer=new g.CacheMeasurer(b);this._annotationWriter=new g.Writer(this._annotationMeasurer,b)};c.prototype._getTickValues=function(){return[]};c.prototype.renderImmediately=function(){var a=this._getTickValues(),
b=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).data(a),d=b.enter().append("line").classed(c.TICK_MARK_CLASS,!0).merge(b);d.attrs(this._generateTickMarkAttrHash());f.select(d.nodes()[0]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));f.select(d.nodes()[a.length-1]).classed(c.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0));b.exit().remove();this._baseline.attrs(this._generateBaselineAttrHash());this.annotationsEnabled()?this._drawAnnotations():
this._removeAnnotations();return this};c.prototype.annotatedTicks=function(){return this._annotatedTicks};c.prototype.annotationFormatter=function(a){if(null==a)return this._annotationFormatter;this._annotationFormatter=a;this.render();return this};c.prototype.annotationsEnabled=function(){return this._annotationsEnabled};c.prototype.annotationTierCount=function(){return this._annotationTierCount};c.prototype._drawAnnotations=function(){function a(a){switch(k.orientation()){case "bottom":case "right":return e(a);
case "top":case "left":return e(a)-n.get(a).height}}function b(a){return E.has(a)?"hidden":"visible"}function d(a){return k._scale.scale(a)}function e(a){switch(k.orientation()){case "bottom":case "right":return D.get(a)*A+I;case "top":case "left":return F-I-D.get(a)*A}}function g(a,b,c){a=a.selectAll("."+c).data(B);b=a.enter().append(b).classed(c,!0).merge(a);a.exit().remove();return b}var k=this,m=c._ANNOTATION_LABEL_PADDING,n=new l.Map,B=this._annotatedTicksToRender();B.forEach(function(a){var b=
k._annotationMeasurer.measure(k.annotationFormatter()(a));n.set(a,{width:b.width+2*m,height:b.height+2*m})});var A=this._annotationMeasurer.measure().height+2*m,D=this._annotationToTier(n),E=new l.Set,F=this.isHorizontal()?this.height():this.width(),I=this._coreSize(),H=Math.min(this.annotationTierCount(),Math.floor((F-I)/A));D.forEach(function(a,b){(-1===a||a>=H)&&E.add(b)});switch(this.orientation()){case "bottom":case "right":var C=0;break;case "top":C=this.height();break;case "left":C=this.width()}var J=
this.isHorizontal();g(this._annotationContainer.select(".annotation-line-container"),"line",c.ANNOTATION_LINE_CLASS).attrs({x1:J?d:C,x2:J?d:e,y1:J?C:d,y2:J?e:d,visibility:b});g(this._annotationContainer.select(".annotation-circle-container"),"circle",c.ANNOTATION_CIRCLE_CLASS).attrs({cx:J?d:C,cy:J?C:d,r:3});g(this._annotationContainer.select(".annotation-rect-container"),"rect",c.ANNOTATION_RECT_CLASS).attrs({x:J?d:a,y:J?a:d,width:J?function(a){return n.get(a).width}:function(a){return n.get(a).height},
height:J?function(a){return n.get(a).height}:function(a){return n.get(a).width},visibility:b});var M=this._annotationWriter,T=this.annotationFormatter();C=g(this._annotationContainer.select(".annotation-label-container"),"g",c.ANNOTATION_LABEL_CLASS);C.selectAll(".text-container").remove();C.attrs({transform:function(b){var c=J?d(b):a(b);b=J?a(b):d(b);return"translate("+c+","+b+")"},visibility:b}).each(function(a){M.write(T(a),J?n.get(a).width:n.get(a).height,J?n.get(a).height:n.get(a).width,{xAlign:"center",
yAlign:"center",textRotation:J?0:90},f.select(this).node())})};c.prototype._annotatedTicksToRender=function(){var a=this,b=this._scale.range();return l.Array.uniq(this.annotatedTicks().filter(function(c){return null==c?!1:l.Math.inRange(a._scale.scale(c),b[0],b[1])}))};c.prototype._coreSize=function(){var a=this.isHorizontal()?this.height():this.width(),b=this.isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(b,a)};c.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+
2*c._ANNOTATION_LABEL_PADDING};c.prototype._annotationToTier=function(a){var b=this,c=[[]],d=new l.Map,e=this.isHorizontal()?this.width():this.height();this._annotatedTicksToRender().forEach(function(f){var g=b._scale.scale(f),k=a.get(f).width;if(0>g||g+k>e)d.set(f,-1);else{for(var l=function(d){return c[d].some(function(c){var d=b._scale.scale(c);c=a.get(c).width;return g+k>=d&&g<=d+c})},m=0;l(m);)m++,c.length===m&&c.push([]);c[m].push(f);d.set(f,m)}});return d};c.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove();
this._annotationContainer.selectAll(".annotation-circle").remove();this._annotationContainer.selectAll(".annotation-rect").remove();this._annotationContainer.selectAll(".annotation-label").remove()};c.prototype._generateBaselineAttrHash=function(){var a={x1:0,y1:0,x2:0,y2:0};switch(this._orientation){case "bottom":a.x2=this.width();break;case "top":a.x2=this.width();a.y1=this.height();a.y2=this.height();break;case "left":a.x1=this.width();a.x2=this.width();a.y2=this.height();break;case "right":a.y2=
this.height()}return a};c.prototype._generateTickMarkAttrHash=function(a){function b(a){return c._scale.scale(a)}var c=this;void 0===a&&(a=!1);var d={x1:0,y1:0,x2:0,y2:0};this.isHorizontal()?(d.x1=b,d.x2=b):(d.y1=b,d.y2=b);a=a?this._endTickLength:this._innerTickLength;switch(this._orientation){case "bottom":d.y2=a;break;case "top":d.y1=this.height();d.y2=this.height()-a;break;case "left":d.x1=this.width();d.x2=this.width()-a;break;case "right":d.x2=a}return d};c.prototype._setDefaultAlignment=function(){switch(this._orientation){case "bottom":this.yAlignment("top");
break;case "top":this.yAlignment("bottom");break;case "left":this.xAlignment("right");break;case "right":this.xAlignment("left")}};c.prototype.isHorizontal=function(){return"top"===this._orientation||"bottom"===this._orientation};c.prototype.getScale=function(){return this._scale};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.innerTickLength=function(){return this._innerTickLength};c.prototype.endTickLength=function(){return this._endTickLength};
c.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()};c.prototype.tickLabelPadding=function(a){if(null==a)return this._tickLabelPadding;if(0>a)throw Error("tick label padding must be positive");this._tickLabelPadding=a;this.redraw();return this};c.prototype.margin=function(a){if(null==a)return this._margin;if(0>a)throw Error("margin size must be positive");this._margin=a;this.redraw();return this};c.prototype.orientation=
function(a){if(null==a)return this._orientation;a=a.toLowerCase();if("top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a)throw Error("unsupported orientation");this._orientation=a;this.redraw();return this};c.prototype.showEndTickLabels=function(){return this._showEndTickLabels};c.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._showAllTickLabels=function(){this._tickLabelContainer.selectAll("."+
c.TICK_LABEL_CLASS).each(function(){f.select(this).style("visibility","inherit")})};c.prototype._hideOverflowingTickLabels=function(){var a=this.element().node().getBoundingClientRect(),b=this._tickLabelContainer.selectAll("."+c.TICK_LABEL_CLASS);b.empty()||b.each(function(){l.DOM.clientRectInside(this.getBoundingClientRect(),a)||f.select(this).style("visibility","hidden")})};c.prototype._hideTickMarksWithoutLabel=function(){var a=this._tickMarkContainer.selectAll("."+c.TICK_MARK_CLASS),b=this._tickLabelContainer.selectAll("."+
c.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}).data();a.each(function(a){-1===b.indexOf(a)&&f.select(this).style("visibility","hidden")})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._annotationMeasurer.reset()};return c}(a.Component);d.END_TICK_MARK_CLASS="end-tick-mark";d.TICK_MARK_CLASS="tick-mark";d.TICK_LABEL_CLASS="tick-label";d.ANNOTATION_LINE_CLASS="annotation-line";d.ANNOTATION_RECT_CLASS=
"annotation-rect";d.ANNOTATION_CIRCLE_CLASS="annotation-circle";d.ANNOTATION_LABEL_CLASS="annotation-label";d._ANNOTATION_LABEL_PADDING=4;c.Axis=d},function(a,c){c.SHOW_WARNINGS=!0;c.ADD_TITLE_ELEMENTS=!0},function(a,c,d){var b=d(0);a=function(){function a(){this._eventToProcessingFunction={};this._eventNameToCallbackSet={};this._connected=!1}a.prototype._hasNoCallbacks=function(){for(var a=Object.keys(this._eventNameToCallbackSet),b=0;b<a.length;b++)if(0!==this._eventNameToCallbackSet[a[b]].size)return!1;
return!0};a.prototype._connect=function(){var a=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(b){document.addEventListener(b,a._eventToProcessingFunction[b])}),this._connected=!0)};a.prototype._disconnect=function(){var a=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(b){document.removeEventListener(b,a._eventToProcessingFunction[b])}),this._connected=!1)};a.prototype._addCallbackForEvent=function(a,
c){null==this._eventNameToCallbackSet[a]&&(this._eventNameToCallbackSet[a]=new b.CallbackSet);this._eventNameToCallbackSet[a].add(c);this._connect()};a.prototype._removeCallbackForEvent=function(a,b){null!=this._eventNameToCallbackSet[a]&&this._eventNameToCallbackSet[a].delete(b);this._disconnect()};a.prototype._callCallbacksForEvent=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];c=this._eventNameToCallbackSet[a];null!=c&&c.callCallbacks.apply(c,b)};return a}();c.Dispatcher=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(7),l=d(10),m=d(6),n=d(32),q=d(3),p=d(11),t=d(0);a=d(9);var r=d(17),v=d(2);d=d(16);c.BarOrientation=a.makeEnum(["vertical","horizontal"]);c.LabelsPosition=a.makeEnum(["start","middle","end","outside"]);c.BarAlignment=a.makeEnum(["start","middle","end"]);d=function(a){function d(b){void 0===
b&&(b="vertical");var d=a.call(this)||this;d._labelFormatter=l.identity();d._labelsEnabled=!1;d._labelsPosition=c.LabelsPosition.end;d._hideBarsIfAnyAreTooWide=!0;d._barAlignment="middle";d._fixedWidth=!0;d._barPixelWidth=0;d.addClass("bar-plot");if("vertical"!==b&&"horizontal"!==b)throw Error(b+" is not a valid orientation for Plots.Bar");d._isVertical="vertical"===b;d.animator("baseline",new k.Null);d.attr("fill",(new q.Color).range()[0]);d.attr("width",function(){return d._barPixelWidth});d._labelConfig=
new t.Map;d._baselineValueProvider=function(){return[d.baselineValue()]};d._updateBarPixelWidthCallback=function(){return d._updateBarPixelWidth()};return d}b(d,a);d.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):(a.prototype.x.call(this,b,c),c.onUpdate(this._updateBarPixelWidthCallback));this._updateWidthAccesor();this._updateValueScale();return this};d.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,
b):(a.prototype.y.call(this,b,c),c.onUpdate(this._updateBarPixelWidthCallback));this._updateValueScale();return this};d.prototype.barEnd=function(){return this._propertyBindings.get(d._BAR_END_KEY)};d.prototype.barAlignment=function(a){if(null==a)return this._barAlignment;this._barAlignment=a;this.render();return this};d.prototype.orientation=function(){return this._isVertical?"vertical":"horizontal"};d.prototype.render=function(){this._updateBarPixelWidth();this._updateExtents();a.prototype.render.call(this);
return this};d.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new n.RectangleSVGDrawer(d._BAR_AREA_CLASS)},n.RectangleCanvasDrawStep)};d.prototype._setup=function(){a.prototype._setup.call(this);this._baseline=this._renderArea.append("line").classed("baseline",!0)};d.prototype.baselineValue=function(){if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var a=this._isVertical?this.y().scale:this.x().scale;return a?a instanceof
q.Time?new Date(0):0:0};d.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);this._updateBarPixelWidth();return this};d.prototype._addDataset=function(b){b.onUpdate(this._updateBarPixelWidthCallback);a.prototype._addDataset.call(this,b);return this};d.prototype.removeDataset=function(b){b.offUpdate(this._updateBarPixelWidthCallback);a.prototype.removeDataset.call(this,b);this._updateBarPixelWidth();return this};d.prototype._removeDataset=function(b){b.offUpdate(this._updateBarPixelWidthCallback);
a.prototype._removeDataset.call(this,b);return this};d.prototype.datasets=function(b){if(null==b)return a.prototype.datasets.call(this);a.prototype.datasets.call(this,b);this._updateBarPixelWidth();return this};d.prototype.labelsEnabled=function(a,b){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;null!=b&&(this._labelsPosition=b);this.render();return this};d.prototype.labelFormatter=function(a){if(null==a)return this._labelFormatter;this._labelFormatter=a;this.render();return this};d.prototype._createNodesForDataset=
function(b){var c=a.prototype._createNodesForDataset.call(this,b),e=this._renderArea.append("g").classed(d._LABEL_AREA_CLASS,!0),f=new g.SvgContext(e.node()),k=new g.CacheMeasurer(f),f=new g.Writer(k,f);this._labelConfig.set(b,{labelArea:e,measurer:k,writer:f});return c};d.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);var c=this._labelConfig.get(b);null!=c&&(c.labelArea.remove(),this._labelConfig.delete(b))};d.prototype.entityNearest=function(a){var b=this,
c=Infinity,d=Infinity,e=this._isVertical?a.x:a.y,g=this._isVertical?a.y:a.x,k=this.bounds(),l;this._getEntityStore().entities().forEach(function(m){if(b._entityVisibleOnPlot(m,k)){var n=0,q=0,r=b._pixelPoint(m.datum,m.index,m.dataset),p=t.DOM.elementBBox(f.select(m.drawer.getVisualPrimitiveAtIndex(m.validDatumIndex)));t.DOM.intersectsBBox(a.x,a.y,p,.5)||(n=Math.abs(e-(b._isVertical?r.x:r.y)),q=b._isVertical?p.y:p.x,p=q+(b._isVertical?p.height:p.width),q=g>=q-.5&&g<=p+.5?0:Math.abs(g-(b._isVertical?
r.y:r.x)));if(n<c||n===c&&q<d)l=m,c=n,d=q}});if(void 0!==l)return this._lightweightPlotEntityToPlotEntity(l)};d.prototype._entityVisibleOnPlot=function(a,b){var c={min:0,max:b.bottomRight.x-b.topLeft.x};b={min:0,max:b.bottomRight.y-b.topLeft.y};var d=this._generateAttrToProjector(),e=a.datum,f=a.index;a=a.dataset;a={x:d.x(e,f,a),y:d.y(e,f,a),width:d.width(e,f,a),height:d.height(e,f,a)};return t.DOM.intersectsBBox(c,b,a)};d.prototype.entitiesAt=function(a){return this._entitiesIntersecting(a.x,a.y)};
d.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};d.prototype._entitiesIntersecting=function(a,b){var c=this,d=[];this._getEntityStore().entities().forEach(function(e){var g=f.select(e.drawer.getVisualPrimitiveAtIndex(e.validDatumIndex));t.DOM.intersectsBBox(a,b,t.DOM.elementBBox(g))&&d.push(c._lightweightPlotEntityToPlotEntity(e))});return d};d.prototype._updateValueScale=
function(){if(this._projectorsReady()){var a=this._isVertical?this.y().scale:this.x().scale;a instanceof p.QuantitativeScale&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))}};d.prototype._additionalPaint=function(a){var b=this,c=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue()),c={x1:this._isVertical?0:c,y1:this._isVertical?c:0,x2:this._isVertical?this.width():c,y2:this._isVertical?c:this.height()};
this._getAnimator("baseline").animate(this._baseline,c);this.datasets().forEach(function(a){return b._labelConfig.get(a).labelArea.selectAll("g").remove()});this._labelsEnabled&&t.Window.setTimeout(function(){return b._drawLabels()},a)};d.prototype._extentsForProperty=function(b){var c=this,d=a.prototype._extentsForProperty.call(this,b);if("x"===b&&this._isVertical)b=this.x();else{if("y"!==b||this._isVertical)return d;b=this.y()}if(!(b&&b.scale&&b.scale instanceof p.QuantitativeScale))return d;var e=
b.scale,g=this._barPixelWidth;return d=d.map(function(a){return f.extent([e.invert(c._getAlignedX(e.scale(a[0]),g)),e.invert(c._getAlignedX(e.scale(a[0]),g)+g),e.invert(c._getAlignedX(e.scale(a[1]),g)),e.invert(c._getAlignedX(e.scale(a[1]),g)+g)])})};d.prototype._getAlignedX=function(a,b){this._isVertical||(a-=b,b*=-1);switch(this._barAlignment){case "start":return a;case "end":return a-b;default:return a-b/2}};d.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw(),c=this._generateAttrToProjector(),
d=this.datasets().some(function(d){return b.get(d).some(function(b,e){return a._drawLabel(b,e,d,c)})});this._hideBarsIfAnyAreTooWide&&d&&this.datasets().forEach(function(b){return a._labelConfig.get(b).labelArea.selectAll("g").remove()})};d.prototype._drawLabel=function(a,b,c,e){var f=this._labelConfig.get(c),g=f.labelArea,k=f.measurer,f=f.writer,l=this._isVertical?this.y().accessor:this.x().accessor,m=l(a,b,c),n=this._isVertical?this.y().scale:this.x().scale,q=null!=n?n.scale(m):m,r=null!=n?n.scale(this.baselineValue()):
this.baselineValue(),p={x:e.x(a,b,c),y:e.y(a,b,c)},n={width:e.width(a,b,c),height:e.height(a,b,c)},l=this._labelFormatter(l(a,b,c)),k=k.measure(l),m=this._getShowLabelOnBar(p,n,k),t=this._calculateLabelProperties(p,n,k,m,this._isVertical?q<=r:q<r),q=t.containerDimensions,r=t.labelContainerOrigin,p=t.labelOrigin,t=t.alignment;a=e.fill(a,b,c);g=this._createLabelContainer(g,r,p,k,m,a);f.write(l,q.width,q.height,{xAlign:t.x,yAlign:t.y},g.node());return this._isVertical?n.width<k.width+2*d._LABEL_PADDING:
n.height<k.height+2*d._LABEL_PADDING};d.prototype._getShowLabelOnBar=function(a,b,e){if(this._labelsPosition===c.LabelsPosition.outside)return!1;a=this._isVertical?a.y:a.x;b=this._isVertical?b.height:b.width;var f=this._isVertical?this.height():this.width();e=this._isVertical?e.height:e.width;var g=b;a+b>f?g=f-a:0>a&&(g=a+b);return e+2*d._LABEL_PADDING<=g};d.prototype._calculateLabelProperties=function(a,b,e,f,g){function k(a){switch(a){case "topLeft":r=l._isVertical?"top":"left";t+=d._LABEL_PADDING;
v+=d._LABEL_PADDING;break;case "center":v+=(n+q)/2;break;case "bottomRight":r=l._isVertical?"bottom":"right",t-=d._LABEL_PADDING,v+=p-d._LABEL_PADDING-q}}var l=this,m=this._isVertical?a.y:a.x,n=this._isVertical?b.height:b.width,q=this._isVertical?e.height:e.width,r="center",p=n,t=m,v=m;if(f)switch(this._labelsPosition){case c.LabelsPosition.start:g?k("bottomRight"):k("topLeft");break;case c.LabelsPosition.middle:k("center");break;case c.LabelsPosition.end:g?k("topLeft"):k("bottomRight")}else g?(r=
this._isVertical?"top":"left",p=n+d._LABEL_PADDING+q,t-=d._LABEL_PADDING+q,v-=d._LABEL_PADDING+q):(r=this._isVertical?"bottom":"right",p=n+d._LABEL_PADDING+q,v+=n+d._LABEL_PADDING);return{containerDimensions:{width:this._isVertical?b.width:p,height:this._isVertical?p:b.height},labelContainerOrigin:{x:this._isVertical?a.x:t,y:this._isVertical?t:a.y},labelOrigin:{x:this._isVertical?a.x+b.width/2-e.width/2:v,y:this._isVertical?v:a.y+b.height/2-e.height/2},alignment:{x:this._isVertical?"center":r,y:this._isVertical?
r:"center"}}};d.prototype._createLabelContainer=function(a,b,c,d,e,f){a=a.append("g").attr("transform","translate("+b.x+", "+b.y+")");e?(a.classed("on-bar-label",!0),e=1.6*t.Color.contrast("white",f)<t.Color.contrast("black",f),a.classed(e?"dark-label":"light-label",!0)):a.classed("off-bar-label",!0);c=0>c.x||0>c.y||c.x+d.width>this.width()||c.y+d.height>this.height();a.style("visibility",c?"hidden":"inherit");return a};d.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=
this._generateAttrToProjector(),c=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue()),d=this._isVertical?"height":"width";b[this._isVertical?"y":"x"]=function(){return c};b[d]=function(){return 0};a.push({attrToProjector:b,animator:this._getAnimator(r.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(r.Animator.MAIN)});return a};d.prototype._generateAttrToProjector=function(){function b(a,b,c){return Math.abs(k-n(a,b,c))}
var c=this,d=a.prototype._generateAttrToProjector.call(this),e=this._isVertical?this.y().scale:this.x().scale,f=this._isVertical?"y":"x",g=this._isVertical?"x":"y",k=e.scale(this.baselineValue()),l=this._isVertical?v.Plot._scaledAccessor(this.x()):v.Plot._scaledAccessor(this.y()),m=d.width,n=this._isVertical?v.Plot._scaledAccessor(this.y()):v.Plot._scaledAccessor(this.x()),q=d.gap,e=null==q?m:function(a,b,c){return m(a,b,c)-q(a,b,c)};d.width=this._isVertical?e:b;d.height=this._isVertical?b:e;d[g]=
function(a,b,d){return c._getAlignedX(l(a,b,d),m(a,b,d))};d[f]=function(a,b,c){a=n(a,b,c);return a>k?k:a};return d};d.prototype._updateWidthAccesor=function(){var a=this,b=this._isVertical?this.x():this.y(),c=this.barEnd();null!=b&&null!=c?(this._fixedWidth=!1,this.attr("width",function(a,d,e){var f=b.accessor(a,d,e);a=c.accessor(a,d,e);f=b.scale?b.scale.scale(f):f;a=c.scale?c.scale.scale(a):a;return Math.abs(a-f)})):(this._fixedWidth=!0,this._updateBarPixelWidth(),this.attr("width",function(){return a._barPixelWidth}))};
d.prototype._getBarPixelWidth=function(){if(!this._projectorsReady())return 0;var a=this._isVertical?this.x().scale:this.y().scale;if(a instanceof q.Category)var b=a.rangeBand();else{var c=this._isVertical?this.x().accessor:this.y().accessor;b=f.set(t.Array.flatten(this.datasets().map(function(a){return a.data().map(function(b,d){return c(b,d,a)}).filter(function(a){return null!=a}).map(function(a){return a.valueOf()})}))).values().map(function(a){return+a});b.sort(function(a,b){return a-b});b=b.map(function(b){return a.scale(b)});
b=f.pairs(b);var e=this._isVertical?this.width():this.height();b=t.Math.min(b,function(a){return Math.abs(a[1]-a[0])},e*d._SINGLE_BAR_DIMENSION_RATIO);b*=d._BAR_WIDTH_RATIO}return b};d.prototype._updateBarPixelWidth=function(){this._fixedWidth&&(this._barPixelWidth=this._getBarPixelWidth())};d.prototype.entities=function(b){void 0===b&&(b=this.datasets());return this._projectorsReady()?a.prototype.entities.call(this,b):[]};d.prototype._pixelPoint=function(a,b,c){var d=this._generateAttrToProjector(),
e=d.x(a,b,c),f=d.y(a,b,c),g=d.width(a,b,c),d=d.height(a,b,c);a=(this._isVertical?v.Plot._scaledAccessor(this.y()):v.Plot._scaledAccessor(this.x()))(a,b,c);b=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());this._isVertical?(e+=g/2,f=a<=b?f:f+d):(e=a>=b?e+g:e,f+=d/2);return{x:e,y:f}};d.prototype._uninstallScaleForKey=function(b,c){b.offUpdate(this._updateBarPixelWidthCallback);a.prototype._uninstallScaleForKey.call(this,b,c)};d.prototype._getDataToDraw=function(){var a=
new t.Map,b=this._generateAttrToProjector();this.datasets().forEach(function(c){var d=c.data().filter(function(a,d){return t.Math.isValidNumber(b.x(a,d,c))&&t.Math.isValidNumber(b.y(a,d,c))&&t.Math.isValidNumber(b.width(a,d,c))&&t.Math.isValidNumber(b.height(a,d,c))});a.set(c,d)});return a};return d}(d.XYPlot);d._BAR_WIDTH_RATIO=.95;d._SINGLE_BAR_DIMENSION_RATIO=.4;d._BAR_AREA_CLASS="bar-area";d._BAR_END_KEY="barEnd";d._LABEL_AREA_CLASS="bar-label-text-area";d._LABEL_PADDING=10;c.Bar=d},function(a,
c,d){function b(a){g.SHOW_WARNINGS&&console.warn(a)}function f(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return 0===b?(a(c),-1):window.setTimeout(a,b,c)}var g=d(22);c.warn=b;c.setTimeout=f;c.debounce=function(a,b,c){function d(){b.apply(c,g)}var e=null,g=[];return function(){g=Array.prototype.slice.call(arguments);clearTimeout(e);e=f(d,a)}};c.deprecated=function(a,c,d){void 0===d&&(d="");b("Method "+a+" has been deprecated in version "+c+". Please refer to the release notes. "+
d)}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(10),l=d(3),m=d(0);a=d(9);var n=d(21);c.TimeInterval=a.makeEnum("second minute hour day week month year".split(" "));c.TimeAxisOrientation=a.makeEnum(["top","bottom"]);c.TierLabelPosition=a.makeEnum(["between","center"]);d=function(a){function c(b,d){b=a.call(this,b,d)||
this;b._maxTimeIntervalPrecision=null;b._tierLabelPositions=[];b.addClass("time-axis");b.tickLabelPadding(5);b.axisConfigurations(c._DEFAULT_TIME_AXIS_CONFIGURATIONS);b.annotationFormatter(k.time("%a %b %d, %Y"));return b}b(c,a);c.prototype.tierLabelPositions=function(a){if(null==a)return this._tierLabelPositions;if(!a.every(function(a){return"between"===a.toLowerCase()||"center"===a.toLowerCase()}))throw Error("Unsupported position for tier labels");this._tierLabelPositions=a;this.redraw();return this};
c.prototype.maxTimeIntervalPrecision=function(a){if(null==a)return this._maxTimeIntervalPrecision;this._maxTimeIntervalPrecision=a;this.redraw();return this};c.prototype.currentAxisConfiguration=function(){return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex]};c.prototype.axisConfigurations=function(a){if(null!=a){this._possibleTimeAxisConfigurations=a;this._numTiers=m.Math.max(this._possibleTimeAxisConfigurations.map(function(a){return a.length}),0);this._isAnchored&&this._setupDomElements();
a=this.tierLabelPositions();for(var b=[],c=0;c<this._numTiers;c++)b.push(a[c]||"between");this.tierLabelPositions(b);this.redraw()}};c.prototype._getMostPreciseConfigurationIndex=function(){var a=this,b=this._possibleTimeAxisConfigurations.length;this._possibleTimeAxisConfigurations.forEach(function(c,d){d<b&&c.every(function(b){return a._checkTimeAxisTierConfiguration(b)})&&(b=d)});b===this._possibleTimeAxisConfigurations.length&&(m.Window.warn("zoomed out too far: could not find suitable interval to display labels"),
--b);return b};c.prototype.orientation=function(b){if(b&&("right"===b.toLowerCase()||"left"===b.toLowerCase()))throw Error(b+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return a.prototype.orientation.call(this,b)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;this._tierHeights=[];for(var b=0;b<this._numTiers;b++)this._tierHeights.push(a+this.tickLabelPadding()+("between"===this._tierLabelPositions[b]?0:this._maxLabelTickLength()));
return f.sum(this._tierHeights)};c.prototype._getIntervalLength=function(a){var b=this._scale.domain()[0];a=l.Time.timeIntervalToD3Time(a.interval).offset(b,a.step);return a>this._scale.domain()[1]?this.width():Math.abs(this._scale.scale(a)-this._scale.scale(b))};c.prototype._maxWidthForInterval=function(a){return this._measurer.measure(a.formatter(c._LONG_DATE)).width};c.prototype._checkTimeAxisTierConfiguration=function(a){if(null!=this._maxTimeIntervalPrecision){var b=c._SORTED_TIME_INTERVAL_INDEX[this._maxTimeIntervalPrecision],
d=c._SORTED_TIME_INTERVAL_INDEX[a.interval];if(null!=b&&null!=d&&d<b)return!1}b=this._maxWidthForInterval(a)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(a),this.width())>=b};c.prototype._sizeFromOffer=function(b,c){var d=a.prototype._sizeFromOffer.call(this,b,c);b=this._tierHeights.reduce(function(a,b){return a+b>d.height?a:a+b});c=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);d.height=Math.min(d.height,b+c);return d};c.prototype._setup=
function(){a.prototype._setup.call(this);this._setupDomElements()};c.prototype._setupDomElements=function(){this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).remove();this._tierLabelContainers=[];this._tierMarkContainers=[];this._tierBaselines=[];this._tickLabelContainer.remove();this._baseline.remove();for(var a=0;a<this._numTiers;++a){var b=this.content().append("g").classed(c.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(b.append("g").classed(n.Axis.TICK_LABEL_CLASS+"-container",!0));
this._tierMarkContainers.push(b.append("g").classed(n.Axis.TICK_MARK_CLASS+"-container",!0));this._tierBaselines.push(b.append("line").classed("baseline",!0))}a=new g.SvgContext(this._tierLabelContainers[0].node());this._measurer=new g.CacheMeasurer(a)};c.prototype._getTickIntervalValues=function(a){return this._scale.tickInterval(a.interval,a.step)};c.prototype._getTickValues=function(){var a=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(b,c){return b.concat(a._getTickIntervalValues(c))},
[])};c.prototype._cleanTiers=function(){for(var a=0;a<this._tierLabelContainers.length;a++)this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[a].style("visibility","hidden")};c.prototype._getTickValuesForConfiguration=function(a){a=this._scale.tickInterval(a.interval,a.step);var b=this._scale.domain(),c=a.map(function(a){return a.valueOf()});-1===c.indexOf(b[0].valueOf())&&a.unshift(b[0]);
-1===c.indexOf(b[1].valueOf())&&a.push(b[1]);return a};c.prototype._renderTierLabels=function(a,b,c){var d=this,e=this._getTickValuesForConfiguration(b),g=[];"between"===this._tierLabelPositions[c]&&1===b.step?e.map(function(a,b){b+1>=e.length||g.push(new Date((e[b+1].valueOf()-e[b].valueOf())/2+e[b].valueOf()))}):g=e;a=a.selectAll("."+n.Axis.TICK_LABEL_CLASS).data(g,function(a){return String(a.valueOf())});var k=a.enter().append("g").classed(n.Axis.TICK_LABEL_CLASS,!0);k.append("text");var l="center"===
this._tierLabelPositions[c]||1===b.step?0:this.tickLabelPadding();var m="bottom"===this.orientation()?f.sum(this._tierHeights.slice(0,c+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[c]?this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-f.sum(this._tierHeights.slice(0,c))-this.tickLabelPadding();var k=a.merge(k),q=k.selectAll("text");0<q.size()&&q.attr("transform","translate("+l+","+m+")");a.exit().remove();k.attr("transform",
function(a){return"translate("+d._scale.scale(a)+",0)"});c="center"===this._tierLabelPositions[c]||1===b.step?"middle":"start";k.selectAll("text").text(b.formatter).style("text-anchor",c)};c.prototype._renderTickMarks=function(a,b){a=this._tierMarkContainers[b].selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var c=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),d=this._generateTickMarkAttrHash(),e=this._tierHeights.slice(0,b).reduce(function(a,b){return a+b},0);"bottom"===this.orientation()?
(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.innerTickLength():this._tierHeights[b])));c.attrs(d);"bottom"===this.orientation()?(d.y1=e,d.y2=e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])):(d.y1=this.height()-e,d.y2=this.height()-(e+("center"===this._tierLabelPositions[b]?this.endTickLength():this._tierHeights[b])));
f.select(c.nodes()[0]).attrs(d);f.select(c.nodes()[c.size()-1]).attrs(d);f.select(c.nodes()[0]).classed(n.Axis.END_TICK_MARK_CLASS,!0);f.select(c.nodes()[c.size()-1]).classed(n.Axis.END_TICK_MARK_CLASS,!0);a.exit().remove()};c.prototype._renderLabellessTickMarks=function(a){a=this._tickMarkContainer.selectAll("."+n.Axis.TICK_MARK_CLASS).data(a);var b=a.enter().append("line").classed(n.Axis.TICK_MARK_CLASS,!0).merge(a),c=this._generateTickMarkAttrHash();c.y2="bottom"===this.orientation()?this.tickLabelPadding():
this.height()-this.tickLabelPadding();b.attrs(c);a.exit().remove()};c.prototype._generateLabellessTicks=function(){return 1>this._mostPreciseConfigIndex?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])};c.prototype.renderImmediately=function(){var a=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var b=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers();b.forEach(function(b,c){return a._renderTierLabels(a._tierLabelContainers[c],
b,c)});for(var c=b.map(function(b){return a._getTickValuesForConfiguration(b)}),d=0,e=0;e<Math.max(b.length,1);++e){var f=this._generateBaselineAttrHash();f.y1+="bottom"===this.orientation()?d:-d;f.y2=f.y1;this._tierBaselines[e].attrs(f).style("visibility","inherit");d+=this._tierHeights[e]}d=[];e=this._scale.domain();e=this._scale.scale(e[1])-this._scale.scale(e[0]);1.5*this._getIntervalLength(b[0])>=e&&(d=this._generateLabellessTicks());this._renderLabellessTickMarks(d);this._hideOverflowingTiers();
for(e=0;e<b.length;++e)this._renderTickMarks(c[e],e),this._hideOverlappingAndCutOffLabels(e);this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations();return this};c.prototype._hideOverflowingTiers=function(){var a=this,b=this.height(),d=0;this.content().selectAll("."+c.TIME_AXIS_TIER_CLASS).attr("visibility",function(c,e){d+=a._tierHeights[e];return d<=b?"inherit":"hidden"})};c.prototype._hideOverlappingAndCutOffLabels=function(a){var b=this,c=this.element().node().getBoundingClientRect(),
d=this._tierMarkContainers[a].selectAll("."+n.Axis.TICK_MARK_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).nodes().map(function(a){return a.getBoundingClientRect()}),e;this._tierLabelContainers[a].selectAll("."+n.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"visible"===a||"inherit"===a}).each(function(a,g){a=this.getBoundingClientRect();var k=f.select(this),l=d[g],n=d[g+1];g=null!=e&&m.DOM.clientRectsOverlap(a,
e);l=null!=l&&m.DOM.clientRectsOverlap(a,l);n=null!=n&&m.DOM.clientRectsOverlap(a,n);!(Math.floor(c.left)<=Math.ceil(a.left)&&Math.floor(c.top)<=Math.ceil(a.top)&&Math.floor(a.right)<=Math.ceil(c.left+b.width())&&Math.floor(a.bottom)<=Math.ceil(c.top+b.height()))||g||l||n?k.style("visibility","hidden"):(e=a,k.style("visibility","inherit"))})};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(n.Axis);d.TIME_AXIS_TIER_CLASS="time-axis-tier";
d._SORTED_TIME_INTERVAL_INDEX=(q={},q[c.TimeInterval.second]=0,q[c.TimeInterval.minute]=1,q[c.TimeInterval.hour]=2,q[c.TimeInterval.day]=3,q[c.TimeInterval.week]=4,q[c.TimeInterval.month]=5,q[c.TimeInterval.year]=6,q);d._DEFAULT_TIME_AXIS_CONFIGURATIONS=[[{interval:c.TimeInterval.second,step:1,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:5,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,
formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:10,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:15,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.second,step:30,formatter:k.time("%I:%M:%S %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:1,formatter:k.time("%I:%M %p")},
{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:5,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:10,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,step:15,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.minute,
step:30,formatter:k.time("%I:%M %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:1,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:3,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.hour,step:6,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],
[{interval:c.TimeInterval.hour,step:12,formatter:k.time("%I %p")},{interval:c.TimeInterval.day,step:1,formatter:k.time("%B %e, %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:k.time("%a %e")},{interval:c.TimeInterval.month,step:1,formatter:k.time("%B %Y")}],[{interval:c.TimeInterval.day,step:1,formatter:k.time("%e")},{interval:c.TimeInterval.month,step:1,formatter:k.time("%B %Y")}],[{interval:c.TimeInterval.month,step:1,formatter:k.time("%B")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],
[{interval:c.TimeInterval.month,step:1,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.month,step:3,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.month,step:6,formatter:k.time("%b")},{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1,formatter:k.time("%y")}],
[{interval:c.TimeInterval.year,step:5,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:25,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:50,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:100,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:200,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:500,formatter:k.time("%Y")}],[{interval:c.TimeInterval.year,step:1E3,formatter:k.time("%Y")}]];d._LONG_DATE=new Date(9999,8,29,12,59,9999);c.Time=
d;var q},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(12);a=function(a){function c(){var b=a.call(this)||this;b._detachCallback=function(a){return b.remove(a)};return b}b(c,a);c.prototype.anchor=function(b){var c=this;b=f.coerceExternalD3(b);a.prototype.anchor.call(this,b);this._forEach(function(a){return a.anchor(c.element())});return this};
c.prototype.render=function(){this._forEach(function(a){return a.render()});return this};c.prototype.has=function(){throw Error("has() is not implemented on ComponentContainer");};c.prototype._adoptAndAnchor=function(a){a.parent(this);a.onDetach(this._detachCallback);this._isAnchored&&a.anchor(this.element())};c.prototype.remove=function(a){this.has(a)&&(a.offDetach(this._detachCallback),this._remove(a),a.detach(),this.redraw());return this};c.prototype._remove=function(){return!1};c.prototype._forEach=
function(){throw Error("_forEach() is not implemented on ComponentContainer");};c.prototype.destroy=function(){a.prototype.destroy.call(this);this._forEach(function(a){return a.destroy()})};c.prototype.invalidateCache=function(){this._forEach(function(a){return a.invalidateCache()})};return c}(d(4).Component);c.ComponentContainer=a},function(a,c,d){function b(a){l.add(a);k.add(a);m||(m=!0,q.render())}var f=d(0);a=d(9);var g=d(36),k=new f.Set,l=new f.Set,m=!1,n=!1;c.Policy=a.makeEnum(["immediate",
"animationFrame","timeout"]);var q=new g.AnimationFrame;c.renderPolicy=function(){var a=Plottable.RenderController.Policy.immediate;if(null!=a)switch(a){case c.Policy.immediate:q=new g.Immediate;break;case c.Policy.animationFrame:q=new g.AnimationFrame;break;case c.Policy.timeout:q=new g.Timeout;break;default:f.Window.warn("Unrecognized renderPolicy: "+a)}};c.registerToRender=function(a){n&&f.Window.warn("Registered to render while other components are flushing: request may be ignored");k.add(a);
m||(m=!0,q.render())};c.registerToComputeLayoutAndRender=b;c.registerToComputeLayout=function(a){b(a)};c.flush=function(){if(m){l.forEach(function(a){return a.computeLayout()});k.forEach(function(a){return a.render()});n=!0;var a=new f.Set;k.forEach(function(b){try{b.renderImmediately()}catch(r){window.setTimeout(function(){throw r;},0),a.add(b)}});l=new f.Set;k=a;n=m=!1}}},function(a,c,d){var b=d(1);c.circle=function(){return function(a){return b.symbol().type(b.symbolCircle).size(Math.PI*Math.pow(a/
2,2))}};c.square=function(){return function(a){return b.symbol().type(b.symbolSquare).size(Math.pow(a,2))}};c.cross=function(){return function(a){return b.symbol().type(b.symbolCross).size(5/9*Math.pow(a,2))}};c.diamond=function(){return function(a){return b.symbol().type(b.symbolDiamond).size(Math.tan(Math.PI/6)*Math.pow(a,2)/2)}};c.triangle=function(){return function(a){return b.symbol().type(b.symbolTriangle).size(Math.sqrt(3)*Math.pow(a/2,2))}};c.star=function(){return function(a){return b.symbol().type(b.symbolStar).size(.8908130915292852*
Math.pow(a/2,2))}};var f=3*(1/Math.sqrt(12)/2+1);c.wye=function(){return function(a){return b.symbol().type(b.symbolWye).size(f*Math.pow(a/2.4,2))}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(14),g=d(0),k=d(12),l=d(35);a=function(a){function c(){var b=a.call(this)||this;b._detectionRadius=3;b._resizable=!1;b._movable=!1;b._hasCorners=
!0;b.addClass("drag-box-layer");b._dragInteraction=new f.Drag;b._setUpCallbacks();b._dragInteraction.attachTo(b);b._dragStartCallbacks=new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;return b}b(c,a);c.prototype._setUpCallbacks=function(){function a(a,b){0===m&&a.x===b.x&&a.y===b.y&&d.boxVisible(!1);d._dragEndCallbacks.callCallbacks(d.bounds())}function b(a,b){switch(m){case 0:g.x=b.x;g.y=b.y;break;case 1:e.bottom?g.y=b.y:e.top&&(f.y=b.y);e.right?g.x=b.x:
e.left&&(f.x=b.x);break;case 2:a=b.x-k.x;var c=b.y-k.y;f.x+=a;f.y+=c;g.x+=a;g.y+=c;k=b}d._setBounds({topLeft:f,bottomRight:g});d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(f.x),d.xScale().invert(g.x)]);d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(f.y),d.yScale().invert(g.y)]);d.render();d._dragCallbacks.callCallbacks(d.bounds())}function c(a){e=d._getResizingEdges(a);var b=d.bounds(),b=b.topLeft.x<=a.x&&a.x<=
b.bottomRight.x&&b.topLeft.y<=a.y&&a.y<=b.bottomRight.y;d.boxVisible()&&(e.top||e.bottom||e.left||e.right)?m=1:d.boxVisible()&&d.movable()&&b?m=2:(m=0,d._setBounds({topLeft:a,bottomRight:a}),d._xBoundsMode===l.PropertyMode.VALUE&&null!=d.xScale()&&d._setXExtent([d.xScale().invert(a.x),d.xScale().invert(a.x)]),d._yBoundsMode===l.PropertyMode.VALUE&&null!=d.yScale()&&d._setYExtent([d.yScale().invert(a.y),d.yScale().invert(a.y)]),d.render());d.boxVisible(!0);b=d.bounds();f={x:b.topLeft.x,y:b.topLeft.y};
g={x:b.bottomRight.x,y:b.bottomRight.y};k=a;d._dragStartCallbacks.callCallbacks(b)}var d=this,e,f,g,k,m=0;this._dragInteraction.onDragStart(c);this._dragInteraction.onDrag(b);this._dragInteraction.onDragEnd(a);this._disconnectInteraction=function(){d._dragInteraction.offDragStart(c);d._dragInteraction.offDrag(b);d._dragInteraction.offDragEnd(a);d._dragInteraction.detachFrom()}};c.prototype._setup=function(){function b(){return c._box.append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})}
var c=this;a.prototype._setup.call(this);this._detectionEdgeT=b().classed("drag-edge-tb",!0);this._detectionEdgeB=b().classed("drag-edge-tb",!0);this._detectionEdgeL=b().classed("drag-edge-lr",!0);this._detectionEdgeR=b().classed("drag-edge-lr",!0);if(this._hasCorners){var d=function(){return c._box.append("circle").styles({opacity:0,fill:"pink","pointer-events":"visibleFill"})};this._detectionCornerTL=d().classed("drag-corner-tl",!0);this._detectionCornerTR=d().classed("drag-corner-tr",!0);this._detectionCornerBL=
d().classed("drag-corner-bl",!0);this._detectionCornerBR=d().classed("drag-corner-br",!0)}};c.prototype._getResizingEdges=function(a){var b={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return b;var c=this.bounds(),d=c.topLeft.y,e=c.bottomRight.y,f=c.topLeft.x,c=c.bottomRight.x,g=this._detectionRadius;f-g<=a.x&&a.x<=c+g&&(b.top=d-g<=a.y&&a.y<=d+g,b.bottom=e-g<=a.y&&a.y<=e+g);d-g<=a.y&&a.y<=e+g&&(b.left=f-g<=a.x&&a.x<=f+g,b.right=c-g<=a.x&&a.x<=c+g);return b};c.prototype.renderImmediately=
function(){a.prototype.renderImmediately.call(this);if(this.boxVisible()){var b=this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x,b=b.bottomRight.x;this._detectionEdgeT.attrs({x1:e,y1:c,x2:b,y2:c,"stroke-width":2*this._detectionRadius});this._detectionEdgeB.attrs({x1:e,y1:d,x2:b,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeL.attrs({x1:e,y1:c,x2:e,y2:d,"stroke-width":2*this._detectionRadius});this._detectionEdgeR.attrs({x1:b,y1:c,x2:b,y2:d,"stroke-width":2*this._detectionRadius});
this._hasCorners&&(this._detectionCornerTL.attrs({cx:e,cy:c,r:this._detectionRadius}),this._detectionCornerTR.attrs({cx:b,cy:c,r:this._detectionRadius}),this._detectionCornerBL.attrs({cx:e,cy:d,r:this._detectionRadius}),this._detectionCornerBR.attrs({cx:b,cy:d,r:this._detectionRadius}))}return this};c.prototype.detectionRadius=function(a){if(null==a)return this._detectionRadius;if(0>a)throw Error("detection radius cannot be negative.");this._detectionRadius=a;this.render();return this};c.prototype.resizable=
function(){return this._resizable};c.prototype._setResizableClasses=function(a){a&&this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))};c.prototype.movable=function(){return this._movable};c.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=
function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=function(a){this._dragCallbacks.add(a);return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);return this};c.prototype.dragInteraction=function(){return this._dragInteraction};c.prototype.enabled=function(a){if(null==a)return this._dragInteraction.enabled();
this._dragInteraction.enabled(a);this._setResizableClasses(this.resizable());this._setMovableClass();return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};c.prototype.detach=function(){this._resetState();
this._dragInteraction.detachFrom();a.prototype.detach.call(this);return this};c.prototype.anchor=function(b){b=k.coerceExternalD3(b);this._dragInteraction.attachTo(this);a.prototype.anchor.call(this,b);return this};c.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})};return c}(d(40).SelectionBoxLayer);c.DragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(19);a=function(a){function c(){return a.call(this,"path","line")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(8).SVGDrawer);c.LineSVGDrawer=a;c.makeLineCanvasDrawStep=function(a){return function(b,c,d){var e=a();d=f.resolveAttributesSubsetWithStyles(d,[],c[0],0);b.save();b.beginPath();
e.context(b);e(c[0]);b.lineJoin="round";f.styleContext(b,d);b.restore()}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(19);a=function(a){function c(b){void 0===b&&(b="");var c=a.call(this,"rect","")||this;c._rootClassName=b;c._root.classed(c._rootClassName,!0);return c}b(c,a);return c}(d(8).SVGDrawer);c.RectangleSVGDrawer=a;c.RectangleCanvasDrawStep=
function(a,b,c){a.save();b.forEach(function(b,d){b=f.resolveAttributesSubsetWithStyles(c,["x","y","width","height"],b,d);a.beginPath();a.rect(b.x,b.y,b.width,b.height);f.styleContext(a,b)});a.restore()}},function(a,c,d){var b=d(1),f=Math;c.inRange=function(a,b,c){return f.min(b,c)<=a&&a<=f.max(b,c)};c.clamp=function(a,b,c){return f.min(f.max(b,a),c)};c.max=function(a,c,d){var e="function"===typeof c?c:null;c=null==e?c:d;a=null==e?b.max(a):b.max(a,e);return void 0!==a?a:c};c.min=function(a,c,d){var e=
"function"===typeof c?c:null;c=null==e?c:d;a=null==e?b.min(a):b.min(a,e);return void 0!==a?a:c};c.isNaN=function(a){return a!==a};c.isValidNumber=function(a){return"number"===typeof a&&1>a-a};c.range=function(a,b,c){void 0===c&&(c=1);if(0===c)throw Error("step cannot be 0");b=f.max(f.ceil((b-a)/c),0);for(var d=[],e=0;e<b;++e)d[e]=a+c*e;return d};c.distanceSquared=function(a,b){return f.pow(b.y-a.y,2)+f.pow(b.x-a.x,2)};c.degreesToRadians=function(a){return a/360*f.PI*2};c.within=function(a,b){return b.topLeft.x<=
a.x&&b.bottomRight.x>=a.x&&b.topLeft.y<=a.y&&b.bottomRight.y>=a.y}},function(a,c){a=function(){function a(a){this.ruler=null!=a.createRuler?a.createRuler():a}a.prototype.measure=function(b){void 0===b&&(b=a.HEIGHT_TEXT);return this.ruler(b)};return a}();a.HEIGHT_TEXT="bdpql";c.AbstractMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(30));b(d(68));b(d(69));b(d(38));b(d(39));b(d(70));b(d(71));b(d(72));b(d(73));b(d(40));b(d(74));b(d(75));b(d(76))},function(a,
c,d){var b=d(0),f=d(28);a=function(){function a(){}a.prototype.render=function(){f.flush()};return a}();c.Immediate=a;a=function(){function a(){}a.prototype.render=function(){b.DOM.requestAnimationFramePolyfill(f.flush)};return a}();c.AnimationFrame=a;a=function(){function a(){this._timeoutMsec=b.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}a.prototype.render=function(){setTimeout(f.flush,this._timeoutMsec)};return a}();c.Timeout=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._keyPressCallbacks={};b._keyReleaseCallbacks={};b._mouseMoveCallback=function(){return!1};b._downedKeys=new g.Set;b._keyDownCallback=function(a,c){return b._handleKeyDownEvent(a,c)};b._keyUpCallback=function(a){return b._handleKeyUpEvent(a)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,
b);this._positionDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._positionDispatcher.onMouseMove(this._mouseMoveCallback);this._keyDispatcher=f.Key.getDispatcher();this._keyDispatcher.onKeyDown(this._keyDownCallback);this._keyDispatcher.onKeyUp(this._keyUpCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._positionDispatcher.offMouseMove(this._mouseMoveCallback);this._positionDispatcher=null;this._keyDispatcher.offKeyDown(this._keyDownCallback);this._keyDispatcher.offKeyUp(this._keyUpCallback);
this._keyDispatcher=null};c.prototype._handleKeyDownEvent=function(a,b){var c=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(c)&&!b.repeat&&(this._keyPressCallbacks[a]&&this._keyPressCallbacks[a].callCallbacks(a),this._downedKeys.add(a))};c.prototype._handleKeyUpEvent=function(a){this._downedKeys.has(a)&&this._keyReleaseCallbacks[a]&&this._keyReleaseCallbacks[a].callCallbacks(a);this._downedKeys.delete(a)};c.prototype.onKeyPress=function(a,b){this._keyPressCallbacks[a]||
(this._keyPressCallbacks[a]=new g.CallbackSet);this._keyPressCallbacks[a].add(b);return this};c.prototype.offKeyPress=function(a,b){this._keyPressCallbacks[a].delete(b);0===this._keyPressCallbacks[a].size&&delete this._keyPressCallbacks[a];return this};c.prototype.onKeyRelease=function(a,b){this._keyReleaseCallbacks[a]||(this._keyReleaseCallbacks[a]=new g.CallbackSet);this._keyReleaseCallbacks[a].add(b);return this};c.prototype.offKeyRelease=function(a,b){this._keyReleaseCallbacks[a].delete(b);0===
this._keyReleaseCallbacks[a].size&&delete this._keyReleaseCallbacks[a];return this};return c}(d(15).Interaction);c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){void 0===b&&(b=[]);var c=a.call(this)||this;c._components=[];c.addClass("component-group");b.forEach(function(a){return c.append(a)});return c}
b(c,a);c.prototype._forEach=function(a){this.components().forEach(a)};c.prototype.has=function(a){return 0<=this._components.indexOf(a)};c.prototype.requestedSpace=function(a,b){var c=this._components.map(function(c){return c.requestedSpace(a,b)});return{minWidth:f.Math.max(c,function(a){return a.minWidth},0),minHeight:f.Math.max(c,function(a){return a.minHeight},0)}};c.prototype.computeLayout=function(b,c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);this._forEach(function(a){a.computeLayout({x:0,
y:0},e.width(),e.height())});return this};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype.fixedWidth=function(){return this._components.every(function(a){return a.fixedWidth()})};c.prototype.fixedHeight=function(){return this._components.every(function(a){return a.fixedHeight()})};c.prototype.components=function(){return this._components.slice()};c.prototype.append=function(a){null==a||this.has(a)||(a.detach(),this._components.push(a),this._adoptAndAnchor(a),this.redraw());
return this};c.prototype._remove=function(a){a=this._components.indexOf(a);return 0<=a?(this._components.splice(a,1),!0):!1};return c}(d(27).ComponentContainer);c.Group=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};d(0);a=d(4);var f;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(f||(f={}));a=function(a){function c(b){var d=
a.call(this)||this;d._mode=f.VALUE;if(b!==c.ORIENTATION_VERTICAL&&b!==c.ORIENTATION_HORIZONTAL)throw Error(b+" is not a valid orientation for GuideLineLayer");d._orientation=b;d._overflowHidden=!0;d.addClass("guide-line-layer");d._isVertical()?d.addClass("vertical"):d.addClass("horizontal");d._scaleUpdateCallback=function(){d._syncPixelPositionAndValue();d.render()};return d}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._guideLine=this.content().append("line").classed("guide-line",
!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype._isVertical=function(){return this._orientation===c.ORIENTATION_VERTICAL};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this.scale()&&(this._isVertical()?this.scale().range([0,this.width()]):this.scale().range([this.height(),0]));return this};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);
this._syncPixelPositionAndValue();this._guideLine.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()});return this};c.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===f.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===f.PIXEL&&null!=this.pixelPosition()&&(this._value=
this.scale().invert(this.pixelPosition())))};c.prototype._setPixelPositionWithoutChangingMode=function(a){this._pixelPosition=a;null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition()));this.render()};c.prototype.scale=function(a){if(null==a)return this._scale;var b=this._scale;null!=b&&b.offUpdate(this._scaleUpdateCallback);this._scale=a;this._scale.onUpdate(this._scaleUpdateCallback);this._syncPixelPositionAndValue();this.redraw();return this};c.prototype.value=function(a){if(null==
a)return this._value;this._value=a;this._mode=f.VALUE;this._syncPixelPositionAndValue();this.render();return this};c.prototype.pixelPosition=function(){return this._pixelPosition};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)};return c}(a.Component);a.ORIENTATION_VERTICAL="vertical";a.ORIENTATION_HORIZONTAL="horizontal";c.GuideLineLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=d(4);var g;(function(a){a[a.VALUE=0]="VALUE";a[a.PIXEL=1]="PIXEL"})(g=c.PropertyMode||(c.PropertyMode={}));a=function(a){function c(){var b=a.call(this)||this;b._boxVisible=!1;b._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,y:0}};b._xBoundsMode=g.PIXEL;b._yBoundsMode=g.PIXEL;b.addClass("selection-box-layer");b._adjustBoundsCallback=function(){b.render()};b._overflowHidden=
!0;b._xExtent=[void 0,void 0];b._yExtent=[void 0,void 0];return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._box=this.content().append("g").classed("selection-box",!0).remove();this._boxArea=this._box.append("rect").classed("selection-area",!0)};c.prototype._sizeFromOffer=function(a,b){return{width:a,height:b}};c.prototype.bounds=function(a){if(null==a)return this._getBounds();this._setBounds(a);this._yBoundsMode=this._xBoundsMode=g.PIXEL;this.render();return this};c.prototype._setBounds=
function(a){this._boxBounds={topLeft:{x:Math.min(a.topLeft.x,a.bottomRight.x),y:Math.min(a.topLeft.y,a.bottomRight.y)},bottomRight:{x:Math.max(a.topLeft.x,a.bottomRight.x),y:Math.max(a.topLeft.y,a.bottomRight.y)}}};c.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?
0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===g.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===g.PIXEL?this._boxBounds.bottomRight.y:null==this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);
if(this._boxVisible){var b=this.bounds(),c=b.topLeft.y,d=b.bottomRight.y,e=b.topLeft.x,b=b.bottomRight.x;if(!(f.Math.isValidNumber(c)&&f.Math.isValidNumber(d)&&f.Math.isValidNumber(e)&&f.Math.isValidNumber(b)))throw Error("bounds have not been properly set");this._boxArea.attrs({x:e,y:c,width:b-e,height:d-c});this.content().node().appendChild(this._box.node())}else this._box.remove();return this};c.prototype.boxVisible=function(a){if(null==a)return this._boxVisible;this._boxVisible=a;this.render();
return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.xScale=function(a){if(null==a)return this._xScale;null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback);this._xScale=a;this._xBoundsMode=g.VALUE;this._xScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.yScale=function(a){if(null==a)return this._yScale;null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback);this._yScale=a;
this._yBoundsMode=g.VALUE;this._yScale.onUpdate(this._adjustBoundsCallback);this.render();return this};c.prototype.xExtent=function(a){if(null==a)return this._getXExtent();this._setXExtent(a);this._xBoundsMode=g.VALUE;this.render();return this};c.prototype._getXExtent=function(){return this._xBoundsMode===g.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]};c.prototype._setXExtent=function(a){this._xExtent=
a};c.prototype.yExtent=function(a){if(null==a)return this._getYExtent();this._setYExtent(a);this._yBoundsMode=g.VALUE;this.render();return this};c.prototype._getYExtent=function(){return this._yBoundsMode===g.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]};c.prototype._setYExtent=function(a){this._yExtent=a};c.prototype.destroy=function(){a.prototype.destroy.call(this);null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback);
null!=this._yScale&&this.yScale().offUpdate(this._adjustBoundsCallback)};return c}(a.Component);c.SelectionBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc fill")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};return c}(d(8).SVGDrawer);
c.ArcSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","arc outline")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("fill","none")};return c}(d(8).SVGDrawer);c.ArcOutlineSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"path","area")||this}b(c,a);c.prototype._applyDefaultAttributes=function(a){a.style("stroke","none")};c.prototype.getVisualPrimitiveAtIndex=function(){return a.prototype.getVisualPrimitiveAtIndex.call(this,0)};return c}(d(8).SVGDrawer);c.AreaSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.call(this,"line","")||this}b(c,a);return c}(d(8).SVGDrawer);c.SegmentSVGDrawer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(80),g=d(19);a=function(a){function c(){return a.call(this,
"path","symbol")||this}b(c,a);return c}(d(8).SVGDrawer);c.SymbolSVGDrawer=a;c.makeSymbolCanvasDrawStep=function(a,b,c){var d=this;return function(e,k,l){for(var m=e.canvas,n=m.width,m=m.height,q=new f.CanvasBuffer(0,0),p=b(),t=c(),B=null,A=null,D=null,E=0;E<k.length;E++){var F=k[E],I=g.resolveAttributesSubsetWithStyles(l,["x","y"],F,E),H=t(F,E,a),C=I.x,J=I.y;if(0<=C+H&&C-H<=n&&0<=J+H&&J-H<=m){a:if(C=Object.keys(g.ContextStyleAttrs),null==B)C=!1;else{for(J=0;J<C.length;J++){var M=C[J];if(B[M]!=I[M]){C=
!1;break a}}C=!0}F=p(F,E,d._dataset);C&&D==H&&A==F||((H>q.screenWidth||H>q.screenHeight)&&q.resize(H,H,!0),q.clear(),B=q.ctx,B.beginPath(),F(H).context(B)(null),B.closePath(),g.styleContext(B,I),A=F,D=H,B=I);q.blitCenter(e,I.x,I.y)}}}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(3),k=d(0),l=d(43),m=d(6),n=d(31),q=d(25),p=d(17);
a=d(48);var t=d(2);d=function(a){function c(){var b=a.call(this)||this;b.addClass("area-plot");b.y0(0);b.attr("fill-opacity",.25);b.attr("fill",(new g.Color).range()[0]);b._lineDrawers=new k.Map;return b}b(c,a);c.prototype._setup=function(){var b=this;a.prototype._setup.call(this);this._lineDrawers.forEach(function(a){return a.attachTo(b._renderArea)})};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d);null!=d&&(b=
this.y0().accessor,null!=b&&this._bindProperty(c._Y0_KEY,b,d),this._updateYScale());return this};c.prototype.y0=function(a){if(null==a)return this._propertyBindings.get(c._Y0_KEY);var b=this.y();this._bindProperty(c._Y0_KEY,a,b&&b.scale);this._updateYScale();this.render();return this};c.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this);this._updateYScale()};c.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);return this};c.prototype._addDataset=function(b){var c=
new n.LineSVGDrawer;this._isSetup&&c.attachTo(this._renderArea);this._lineDrawers.set(b,c);a.prototype._addDataset.call(this,b);return this};c.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);this._lineDrawers.get(b).remove()};c.prototype._additionalPaint=function(){var a=this,b=this._generateLineDrawSteps(),c=this._getDataToDraw();this.datasets().forEach(function(d){var e=t.Plot.applyDrawSteps(b,d);a._lineDrawers.get(d).draw(c.get(d),e)})};c.prototype._generateLineDrawSteps=
function(){var a=[];if(this._animateOnNextRender()){var b=this._generateLineAttrToProjector();b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._generateLineAttrToProjector=function(){var a=this._generateAttrToProjector();a.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),
t.Plot._scaledAccessor(this.y()));return a};c.prototype._createDrawer=function(){return new m.ProxyDrawer(function(){return new l.AreaSVGDrawer},function(){q.warn("canvas renderer not implemented on Area Plot!")})};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector();b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction(),t.Plot._scaledAccessor(this.y0()));a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),
animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._updateYScale=function(){var a=this._propertyExtents.get("y0"),a=k.Array.flatten(a),a=k.Array.uniq(a),b=1===a.length?a[0]:null,a=(a=this.y())&&a.scale;null!=a&&(null!=this._constantBaselineValueProvider&&(a.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=b&&(this._constantBaselineValueProvider=function(){return[b]},a.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))};
c.prototype._getResetYFunction=function(){return t.Plot._scaledAccessor(this.y0())};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructAreaProjector(t.Plot._scaledAccessor(this.x()),t.Plot._scaledAccessor(this.y()),t.Plot._scaledAccessor(this.y0()));return b};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());var d=a.prototype.selections.call(this,b).nodes();b.map(function(a){return c._lineDrawers.get(a)}).filter(function(a){return null!=
a}).forEach(function(a){return d.push.apply(d,a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._constructAreaProjector=function(a,b,c){var d=this;return function(e,g,l){g=d._getCurveFactory();return f.area().x(function(b,c){return a(b,c,l)}).y1(function(a,c){return b(a,c,l)}).y0(function(a,b){return c(a,b,l)}).curve(g).defined(function(a,b){var c=t.Plot._scaledAccessor(d.x())(a,b,l);a=t.Plot._scaledAccessor(d.y())(a,b,l);return k.Math.isValidNumber(c)&&k.Math.isValidNumber(a)})(e)}};
return c}(a.Line);d._Y0_KEY="y0";c.Area=d},function(a,c){a=c.Animator||(c.Animator={});a.MAIN="main";a.RESET="reset"},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),k=d(6),l=d(31),m=d(3),n=d(11),q=d(0);a=d(9);var p=d(17),t=d(2);d=d(16);var r={linear:f.curveLinear,linearClosed:f.curveLinearClosed,step:f.curveStep,stepBefore:f.curveStepBefore,
stepAfter:f.curveStepAfter,basis:f.curveBasis,basisOpen:f.curveBasisOpen,basisClosed:f.curveBasisClosed,bundle:f.curveBundle,cardinal:f.curveCardinal,cardinalOpen:f.curveCardinalOpen,cardinalClosed:f.curveCardinalClosed,monotone:f.curveMonotoneX};c.CurveName=a.makeEnum("linear linearClosed step stepBefore stepAfter basis basisOpen basisClosed bundle cardinal cardinalOpen cardinalClosed monotone".split(" "));d=function(a){function c(){var b=a.call(this)||this;b._curve="linear";b._autorangeSmooth=!1;
b._croppedRenderingEnabled=!0;b._collapseDenseVerticalLinesEnabled=!1;b._downsamplingEnabled=!1;b.addClass("line-plot");var c=new g.Easing;c.stepDuration(t.Plot._ANIMATION_MAX_DURATION);c.easingMode("expInOut");c.maxTotalDuration(t.Plot._ANIMATION_MAX_DURATION);b.animator(p.Animator.MAIN,c);b.attr("stroke",(new m.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,
b,c);this._setScaleSnapping();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);a.prototype.y.call(this,b,c);this._setScaleSnapping();return this};c.prototype.autorangeMode=function(b){if(null==b)return a.prototype.autorangeMode.call(this);a.prototype.autorangeMode.call(this,b);this._setScaleSnapping();return this};c.prototype.autorangeSmooth=function(){return this._autorangeSmooth};c.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&
this.x().scale instanceof n.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth());"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof n.QuantitativeScale&&this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())};c.prototype.curve=function(a){if(null==a)return this._curve;this._curve=a;this.render();return this};c.prototype.downsamplingEnabled=function(a){if(null==a)return this._downsamplingEnabled;this._downsamplingEnabled=a;return this};
c.prototype.croppedRenderingEnabled=function(a){if(null==a)return this._croppedRenderingEnabled;this._croppedRenderingEnabled=a;this.render();return this};c.prototype.collapseDenseLinesEnabled=function(a){if(null==a)return this._collapseDenseVerticalLinesEnabled;this._collapseDenseVerticalLinesEnabled=a;this.render();return this};c.prototype._createDrawer=function(a){var b=this;return new k.ProxyDrawer(function(){return new l.LineSVGDrawer},l.makeLineCanvasDrawStep(function(){return b._d3LineFactory(a)}))};
c.prototype._extentsForProperty=function(b){var c=a.prototype._extentsForProperty.call(this,b);if(!this._autorangeSmooth||this.autorangeMode()!==b||"x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return c;b=this._getEdgeIntersectionPoints();var d="y"===this.autorangeMode()?b.left.concat(b.right).map(function(a){return a.y}):b.top.concat(b.bottom).map(function(a){return a.x});return c.map(function(a){return f.extent(f.merge([a,d]))})};c.prototype._getEdgeIntersectionPoints=function(){var a=
this;if(!(this.y().scale instanceof n.QuantitativeScale&&this.x().scale instanceof n.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var b=this.y().scale,c=this.x().scale,d={left:[],right:[],top:[],bottom:[]},e=c.scale(c.domain()[0]),f=c.scale(c.domain()[1]),g=b.scale(b.domain()[0]),k=b.scale(b.domain()[1]);this.datasets().forEach(function(l){for(var m=l.data(),n,q,p,r,t,v,w,y=1;y<m.length;y++)r=v||c.scale(a.x().accessor(m[y-1],y-1,l)),t=w||b.scale(a.y().accessor(m[y-1],y-1,l)),v=c.scale(a.x().accessor(m[y],
y,l)),w=b.scale(a.y().accessor(m[y],y,l)),r<e===e<=v&&(n=e-r,q=v-r,p=w-t,n=n*p/q,d.left.push({x:e,y:b.invert(t+n)})),r<f===f<=v&&(n=f-r,q=v-r,p=w-t,n=n*p/q,d.right.push({x:f,y:b.invert(t+n)})),t<k===k<=w&&(q=v-r,n=k-t,p=w-t,n=n*q/p,d.top.push({x:c.invert(r+n),y:k})),t<g===g<=w&&(q=v-r,n=g-t,p=w-t,n=n*q/p,d.bottom.push({x:c.invert(r+n),y:g}))});return d};c.prototype._getResetYFunction=function(){var a=this.y().scale.domain(),b=Math.max(a[0],a[1]),a=Math.min(a[0],a[1]),b=0>b&&b||0<a&&a||0,c=this.y().scale.scale(b);
return function(){return c}};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector();b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),this._getResetYFunction());a.push({attrToProjector:b,animator:this._getAnimator(p.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)});return a};c.prototype._generateAttrToProjector=function(){var b=a.prototype._generateAttrToProjector.call(this);
Object.keys(b).forEach(function(a){if("d"!==a){var c=b[a];b[a]=function(a,b,d){return 0<a.length?c(a[0],b,d):null}}});return b};c.prototype.entitiesAt=function(a){a=this.entityNearestByXThenY(a);return null!=a?[a]:[]};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};var d={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,d=b;var e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y());return this.entities().filter(function(a){var b=a.datum,g=a.index,
k=a.dataset;a=e(b,g,k);b=f(b,g,k);return c.min<=a&&a<=c.max&&d.min<=b&&b<=d.max})};c.prototype.entityNearestByXThenY=function(a){var b=Infinity,c=Infinity,d,e=this.bounds();this.entities().forEach(function(f){if(q.Math.within(f.position,e)){var g=Math.abs(a.x-f.position.x),k=Math.abs(a.y-f.position.y);if(g<b||g===b&&k<c)d=f,b=g,c=k}});return d};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.d=this._constructLineProjector(t.Plot._scaledAccessor(this.x()),
t.Plot._scaledAccessor(this.y()));return b};c.prototype._constructLineProjector=function(a,b){var c=this;return function(d,e,f){return c._d3LineFactory(f,a,b)(d)}};c.prototype._d3LineFactory=function(a,b,c){void 0===b&&(b=t.Plot._scaledAccessor(this.x()));void 0===c&&(c=t.Plot._scaledAccessor(this.y()));return f.line().x(function(c,d){return b(c,d,a)}).y(function(b,d){return c(b,d,a)}).curve(this._getCurveFactory()).defined(function(d,e){var f=b(d,e,a);d=c(d,e,a);return q.Math.isValidNumber(f)&&q.Math.isValidNumber(d)})};
c.prototype._getCurveFactory=function(){var a=this.curve();return"string"===typeof a?(a=r[a],null==a?r.linear:a):a};c.prototype._getDataToDraw=function(){var a=this,b=new q.Map;this.datasets().forEach(function(c){var d=c.data();if(a._croppedRenderingEnabled||a._downsamplingEnabled){var e=d.map(function(a,b){return b});a._croppedRenderingEnabled&&(e=a._filterCroppedRendering(c,e));a._downsamplingEnabled&&(e=a._filterDownsampling(c,e));a._collapseDenseVerticalLinesEnabled&&(e=a._filterDenseLines(c,
e));b.set(c,[e.map(function(a){return d[a]})])}else b.set(c,[d])});return b};c.prototype._filterCroppedRendering=function(a,b){function c(a,b){return q.Math.inRange(a,0,d.width())&&q.Math.inRange(b,0,d.height())}for(var d=this,e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y()),g=a.data(),k=[],l=0;l<b.length;l++){var m=e(g[b[l]],b[l],a),n=f(g[b[l]],b[l],a),m=c(m,n);if(!m&&null!=b[l-1]&&null!=g[b[l-1]])var n=e(g[b[l-1]],b[l-1],a),p=f(g[b[l-1]],b[l-1],a),m=m||c(n,p);m||null==b[l+1]||
null==g[b[l+1]]||(n=e(g[b[l+1]],b[l+1],a),p=f(g[b[l+1]],b[l+1],a),m=m||c(n,p));m&&k.push(b[l])}return k};c.prototype._filterDownsampling=function(a,b){function c(c,g){var k=e(d[b[c]],b[c],a),l=f(d[b[c]],b[c],a),m=e(d[b[c+1]],b[c+1],a);c=f(d[b[c+1]],b[c+1],a);return Infinity===g?Math.floor(k)===Math.floor(m):Math.floor(c)===Math.floor(l+(m-k)*g)}if(0===b.length)return[];for(var d=a.data(),e=t.Plot._scaledAccessor(this.x()),f=t.Plot._scaledAccessor(this.y()),g=[b[0]],k=0;k<b.length-1;){for(var l=b[k],
m=e(d[b[k]],b[k],a),n=f(d[b[k]],b[k],a),q=e(d[b[k+1]],b[k+1],a),p=f(d[b[k+1]],b[k+1],a),p=Math.floor(m)===Math.floor(q)?Infinity:(p-n)/(q-m),q=b[k],n=Infinity===p?n:m,m=q,r=n,v=!0;k<b.length-1&&(v||c(k,p));){k++;var v=!1,w=Infinity===p?f(d[b[k]],b[k],a):e(d[b[k]],b[k],a);w>r&&(r=w,m=b[k]);w<n&&(n=w,q=b[k])}p=b[k];q!==l&&g.push(q);m!==q&&m!==l&&g.push(m);p!==l&&p!==q&&p!==m&&g.push(p)}return g};c.prototype._filterDenseLines=function(a,b){if(0===b.length)return[];var c=a.data(),d=t.Plot._scaledAccessor(this.x()),
e=t.Plot._scaledAccessor(this.y());return this._bucketByX(a,b,function(b){return d(c[b],b,a)},function(b){return e(c[b],b,a)})};c.prototype._bucketByX=function(a,b,c,d){var e=[];a=a.data();for(var f=null,g=0;g<=b.length;++g){var k=b[g];if(null!=a[k]){var l=Math.floor(c(k)),m=d(k);null==f?f=new q.Bucket(k,l,m):f.isInBucket(l)?f.addToBucket(m,k):(e.push.apply(e,f.getUniqueIndices()),f=new q.Bucket(k,l,m))}}null!=f&&e.push.apply(e,f.getUniqueIndices());return e};return c}(d.XYPlot);c.Line=d},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(14),k=d(0),l=[0,1];a=function(a){function c(){var b=a.call(this)||this;b._range=[0,1];b._d3Scale=f.scaleBand();b._d3Scale.range(l);b._d3TransformationScale=f.scaleLinear();b._d3TransformationScale.domain(l);b._innerPadding=c._convertToPlottableInnerPadding();b._outerPadding=c._convertToPlottableOuterPadding();
return b}b(c,a);c.prototype.cloneWithoutProviders=function(){var a=(new c).domain(this.domain()).range(this.range()).innerPadding(this.innerPadding()).outerPadding(this.outerPadding());a._d3TransformationScale.domain(this._d3TransformationScale.domain());return a};c.prototype.extentOfValues=function(a){return k.Array.uniq(a)};c.prototype._getExtent=function(){return k.Array.uniq(this._getAllIncludedValues())};c.prototype.domain=function(b){return a.prototype.domain.call(this,b)};c.prototype.invertRange=
function(){var a,b=this;void 0===a&&(a=this.range());var c=this._d3Scale.bandwidth(),d=this.invertedTransformation(a[0]),e=this.invertedTransformation(a[1]);a=this._d3Scale.domain();var g=a.map(function(a){return b._d3Scale(a)+c/2}),d=f.bisect(g,d),e=f.bisect(g,e);return a.slice(d,e)};c.prototype.range=function(b){return a.prototype.range.call(this,b)};c._convertToPlottableInnerPadding=function(){return 1/.7-1};c._convertToPlottableOuterPadding=function(){return.5/.7};c.prototype._setBands=function(){var a=
1-1/(1+this.innerPadding()),b=this.outerPadding()/(1+this.innerPadding());this._d3Scale.paddingInner(a);this._d3Scale.paddingOuter(b)};c.prototype.rangeBand=function(){return this._rescaleBand(this._d3Scale.bandwidth())};c.prototype.stepWidth=function(){return this._rescaleBand(this._d3Scale.bandwidth()*(1+this.innerPadding()))};c.prototype.innerPadding=function(a){if(null==a)return this._innerPadding;this._innerPadding=a;this.range(this.range());this._dispatchUpdate();return this};c.prototype.outerPadding=
function(a){if(null==a)return this._outerPadding;this._outerPadding=a;this.range(this.range());this._dispatchUpdate();return this};c.prototype.scale=function(a){a=this._d3Scale(a)+this._d3Scale.bandwidth()/2;return this._d3TransformationScale(a)};c.prototype.zoom=function(a,b){var c=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(d){return c._d3TransformationScale.invert(g.zoomAt(d,a,b))}));this._dispatchUpdate()};c.prototype.pan=function(a){var b=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(c){return b._d3TransformationScale.invert(c+
a)}));this._dispatchUpdate()};c.prototype.scaleTransformation=function(a){return this._d3TransformationScale(a)};c.prototype.invertedTransformation=function(a){return this._d3TransformationScale.invert(a)};c.prototype.getTransformationDomain=function(){return this._d3TransformationScale.domain()};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);this._setBands();return this};
c.prototype._getRange=function(){return this._range};c.prototype._setRange=function(a){this._range=a;this._d3TransformationScale.range(a);this._setBands()};c.prototype._rescaleBand=function(a){return Math.abs(this._d3TransformationScale(a)-this._d3TransformationScale(0))};return c}(d(18).Scale);c.Category=a},function(a,c){a=function(){function a(){"function"===typeof window.Set?this._es6Set=new window.Set:this._values=[];this.size=0}a.prototype.add=function(a){if(null!=this._es6Set)return this._es6Set.add(a),
this.size=this._es6Set.size,this;this.has(a)||(this._values.push(a),this.size=this._values.length);return this};a.prototype.delete=function(a){if(null!=this._es6Set)return a=this._es6Set.delete(a),this.size=this._es6Set.size,a;a=this._values.indexOf(a);return-1!==a?(this._values.splice(a,1),this.size=this._values.length,!0):!1};a.prototype.has=function(a){return null!=this._es6Set?this._es6Set.has(a):-1!==this._values.indexOf(a)};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Set?this._es6Set.forEach(function(d,
e){return a.call(b,d,e,c)},b):this._values.forEach(function(d){a.call(b,d,d,c)})};return a}();c.Set=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(120));b(d(119))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(20);a=function(a){function c(b,c){var d=a.call(this,b,c)||this;d.cache=new f.Cache(function(a){return d._measureCharacterNotFromCache(a)});
return d}b(c,a);c.prototype._measureCharacterNotFromCache=function(b){return a.prototype._measureCharacter.call(this,b)};c.prototype._measureCharacter=function(a){return this.cache.get(a)};c.prototype.reset=function(){this.cache.clear()};return c}(d(53).CharacterMeasurer);c.CacheCharacterMeasurer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)};a=function(a){function c(){return a.apply(this,arguments)||this}b(c,a);c.prototype._measureCharacter=function(b){return a.prototype._measureLine.call(this,b)};c.prototype._measureLine=function(a){var b=this;a=a.split("").map(function(a){return b._measureCharacter(a)});return{height:a.reduce(function(a,b){return Math.max(a,b.height)},0),width:a.reduce(function(a,b){return a+b.width},0)}};return c}(d(55).Measurer);c.CharacterMeasurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||
(c[b]=a[b])}b(d(34));b(d(52));b(d(121));b(d(53));b(d(55))},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(34);a=function(a){function c(b,c){void 0===c&&(c=!1);b=a.call(this,b)||this;b.useGuards=c;return b}b(c,a);c.prototype._addGuards=function(a){return f.AbstractMeasurer.HEIGHT_TEXT+a+f.AbstractMeasurer.HEIGHT_TEXT};c.prototype._measureLine=
function(b,c){void 0===c&&(c=!1);c=this.useGuards||c||/^[\t ]$/.test(b);b=a.prototype.measure.call(this,c?this._addGuards(b):b);b.width-=c?2*this.getGuardWidth():0;return b};c.prototype.measure=function(a){var b=this;void 0===a&&(a=f.AbstractMeasurer.HEIGHT_TEXT);if(""===a.trim())return{width:0,height:0};a=a.trim().split("\n").map(function(a){return b._measureLine(a)});return{height:a.reduce(function(a,b){return a+b.height},0),width:a.reduce(function(a,b){return Math.max(a,b.width)},0)}};c.prototype.getGuardWidth=
function(){null==this.guardWidth&&(this.guardWidth=a.prototype.measure.call(this).width);return this.guardWidth};return c}(f.AbstractMeasurer);c.Measurer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(127));b(d(57))},function(a,c,d){var b=d(20);a=function(){function a(){this.maxLines(Infinity);this.textTrimming();this.allowBreakingWords();this._tokenizer=new b.Tokenizer;this._breakingCharacter="-"}a.prototype.maxLines=function(a){if(null==a)return this._maxLines;
this._maxLines=a;return this};a.prototype.textTrimming=function(){this._textTrimming="ellipsis"};a.prototype.allowBreakingWords=function(){this._allowBreakingWords=!0};a.prototype.wrap=function(a,b,c,d){var e=this;void 0===d&&(d=Infinity);var f={noBrokeWords:0,noLines:0,originalText:a,truncatedText:"",wrappedText:""};c={availableLines:Math.min(Math.floor(d/b.measure().height),this._maxLines),availableWidth:c,canFitText:!0,currentLine:"",wrapping:f};var g=a.split("\n");return g.reduce(function(a,c,
d){return e.breakLineToFitWidth(a,c,d!==g.length-1,b)},c).wrapping};a.prototype.breakLineToFitWidth=function(a,c,d,e){var f=this;a.canFitText||""===a.wrapping.truncatedText||(a.wrapping.truncatedText+="\n");a=this._tokenizer.tokenize(c).reduce(function(a,b){return f.wrapNextToken(b,a,e)},a);c=b.StringMethods.trimEnd(a.currentLine);a.wrapping.noLines+=+(""!==c);a.wrapping.noLines===a.availableLines&&"none"!==this._textTrimming&&d?a.canFitText=!1:a.wrapping.wrappedText+=c;a.currentLine="\n";return a};
a.prototype.canFitToken=function(a,b,c){var d=this,e=this._allowBreakingWords?a.split("").map(function(b,c){return c!==a.length-1?b+d._breakingCharacter:b}):[a];return c.measure(a).width<=b||e.every(function(a){return c.measure(a).width<=b})};a.prototype.addEllipsis=function(a,c,d){if("none"===this._textTrimming)return{remainingToken:"",wrappedToken:a};var e=a.substring(0).trim(),f=d.measure(e).width,g=d.measure("...").width,k=0<a.length&&"\n"===a[0]?"\n":"";if(c<=g)return{remainingToken:a,wrappedToken:k+
"...".substr(0,Math.floor(c/(g/3)))};for(;f+g>c;)e=b.StringMethods.trimEnd(e.substr(0,e.length-1)),f=d.measure(e).width;return{remainingToken:b.StringMethods.trimEnd(a.substring(e.length),"-").trim(),wrappedToken:k+e+"..."}};a.prototype.wrapNextToken=function(a,c,d){if(!c.canFitText||c.availableLines===c.wrapping.noLines||!this.canFitToken(a,c.availableWidth,d))return this.finishWrapping(a,c,d);for(;a;){var e=this.breakTokenToFitInWidth(a,c.currentLine,c.availableWidth,d);c.currentLine=e.line;a=e.remainingToken;
if(null!=a)if(c.wrapping.noBrokeWords+=+e.breakWord,++c.wrapping.noLines,c.availableLines===c.wrapping.noLines){d=this.addEllipsis(c.currentLine,c.availableWidth,d);c.wrapping.wrappedText+=d.wrappedToken;c.wrapping.truncatedText+=d.remainingToken+a;c.currentLine="\n";break}else c.wrapping.wrappedText+=b.StringMethods.trimEnd(c.currentLine),c.currentLine="\n"}return c};a.prototype.finishWrapping=function(a,b,c){b.canFitText&&b.availableLines!==b.wrapping.noLines&&this._allowBreakingWords&&"none"!==
this._textTrimming?(c=this.addEllipsis(b.currentLine+a,b.availableWidth,c),b.wrapping.wrappedText+=c.wrappedToken,b.wrapping.truncatedText+=c.remainingToken,b.wrapping.noBrokeWords+=+(c.remainingToken.length<a.length),b.wrapping.noLines+=+(0<c.wrappedToken.length),b.currentLine=""):b.wrapping.truncatedText+=a;b.canFitText=!1;return b};a.prototype.breakTokenToFitInWidth=function(a,b,c,d){if(void 0===e)var e=this._breakingCharacter;if(d.measure(b+a).width<=c)return{breakWord:!1,line:b+a,remainingToken:null};
if(""===a.trim())return{breakWord:!1,line:b,remainingToken:""};if(!this._allowBreakingWords)return{breakWord:!1,line:b,remainingToken:a};for(var f=0;f<a.length;)if(d.measure(b+a.substring(0,f+1)+e).width<=c)++f;else break;c="";0<f&&(c=e);return{breakWord:0<f,line:b+a.substring(0,f)+c,remainingToken:a.substring(f)}};return a}();c.Wrapper=a},function(a,c,d){a=d(128);for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(66));
b(d(67));b(d(26))},function(a,c,d){var b=d(0);a=function(){function a(a,c){void 0===a&&(a=[]);void 0===c&&(c={});this._data=a;this._metadata=c;this._callbacks=new b.CallbackSet}a.prototype.onUpdate=function(a){this._callbacks.add(a);return this};a.prototype.offUpdate=function(a){this._callbacks.delete(a);return this};a.prototype.data=function(a){if(null==a)return this._data;this._data=a;this._callbacks.callCallbacks(this);return this};a.prototype.metadata=function(a){if(null==a)return this._metadata;
this._metadata=a;this._callbacks.callCallbacks(this);return this};return a}();c.Dataset=a},function(a,c){c.version="3.1.0"},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}b(d(41));b(d(42));b(d(43));b(d(19));b(d(6));b(d(31));b(d(32));b(d(44));b(d(8));b(d(45))},function(a,c,d){function b(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.attr(d,a[d])})}function f(a,b){for(var c in b)a.attr(c,b[c]);return a}function g(a,b,c){return a.each(function(){var a=
b.apply(this,arguments),d=r.select(this),e;for(e in a)d.style(e,a[e],c)})}function k(a,b,c){for(var d in b)a.style(d,b[d],c);return a}function l(a,b){return a.each(function(){var a=b.apply(this,arguments),c=r.select(this),d;for(d in a)c.property(d,a[d])})}function m(a,b){for(var c in b)a.property(c,b[c]);return a}function n(a,b){return a.each(function(){var c=b.apply(this,arguments),d=r.select(this).transition(a),e;for(e in c)d.attr(e,c[e])})}function q(a,b){for(var c in b)a.attr(c,b[c]);return a}
function p(a,b,c){return a.each(function(){var d=b.apply(this,arguments),e=r.select(this).transition(a),f;for(f in d)e.style(f,d[f],c)})}function t(a,b,c){for(var d in b)a.style(d,b[d],c);return a}var r=a=d(1);r.selection.prototype.attrs=function(a){return("function"===typeof a?b:f)(this,a)};r.selection.prototype.styles=function(a,b){return("function"===typeof a?g:k)(this,a,null==b?"":b)};r.selection.prototype.properties=function(a){return("function"===typeof a?l:m)(this,a)};a.transition.prototype.attrs=
function(a){return("function"===typeof a?n:q)(this,a)};a.transition.prototype.styles=function(a,b){return("function"===typeof a?p:t)(this,a,null==b?"":b)}},function(a,c,d){a=d(108);var b=d(12);d=d(9);var f={linear:a.easeLinear,quad:a.easeQuad,quadIn:a.easeQuadIn,quadOut:a.easeQuadOut,quadInOut:a.easeQuadInOut,cubic:a.easeCubic,cubicIn:a.easeCubicIn,cubicOut:a.easeCubicOut,cubicInOut:a.easeCubicInOut,poly:a.easePoly,polyIn:a.easePolyIn,polyOut:a.easePolyOut,polyInOut:a.easePolyInOut,sin:a.easeSin,
sinIn:a.easeSinIn,sinOut:a.easeSinOut,sinInOut:a.easeSinInOut,exp:a.easeExp,expIn:a.easeExpIn,expOut:a.easeExpOut,expInOut:a.easeExpInOut,circle:a.easeCircle,circleIn:a.easeCircleIn,circleOut:a.easeCircleOut,circleInOut:a.easeCircleInOut,bounce:a.easeBounce,bounceIn:a.easeBounceIn,bounceOut:a.easeBounceOut,bounceInOut:a.easeBounceInOut,back:a.easeBack,backIn:a.easeBackIn,backOut:a.easeBackOut,backInOut:a.easeBackInOut,elastic:a.easeElastic,elasticIn:a.easeElasticIn,elasticOut:a.easeElasticOut,elasticInOut:a.easeElasticInOut};
c.EaseName=d.makeEnum("linear quad quadIn quadOut quadInOut cubic cubicIn cubicOut cubicInOut poly polyIn polyOut polyInOut sin sinIn sinOut sinInOut exp expIn expOut expInOut circle circleIn circleOut circleInOut bounce bounceIn bounceOut bounceInOut back backIn backOut backInOut elastic elasticIn elasticOut elasticInOut".split(" "));d=function(){function a(){this._startDelay=a._DEFAULT_START_DELAY_MILLISECONDS;this._stepDuration=a._DEFAULT_STEP_DURATION_MILLISECONDS;this._stepDelay=a._DEFAULT_ITERATIVE_DELAY_MILLISECONDS;
this._maxTotalDuration=a._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS;this._easingMode=a._DEFAULT_EASING_MODE}a.prototype.totalTime=function(a){var b=this._getAdjustedIterativeDelay(a);return this.startDelay()+b*Math.max(a-1,0)+this.stepDuration()};a.prototype.animate=function(a,c){var d=this;a=b.coerceExternalD3(a);var e=a.size(),f=this._getAdjustedIterativeDelay(e);return a.transition().ease(this._getEaseFactory()).duration(this.stepDuration()).delay(function(a,b){return d.startDelay()+f*b}).attrs(c)};
a.prototype.startDelay=function(a){if(null==a)return this._startDelay;this._startDelay=a;return this};a.prototype.stepDuration=function(a){if(null==a)return Math.min(this._stepDuration,this._maxTotalDuration);this._stepDuration=a;return this};a.prototype.stepDelay=function(){return this._stepDelay};a.prototype.maxTotalDuration=function(a){if(null==a)return this._maxTotalDuration;this._maxTotalDuration=a;return this};a.prototype.easingMode=function(a){if(null==a)return this._easingMode;this._easingMode=
a;return this};a.prototype._getEaseFactory=function(){var a=this.easingMode();return"string"===typeof a?(a=f[a],null==a?f.linear:a):a};a.prototype._getAdjustedIterativeDelay=function(a){var b=this.maxTotalDuration()-this.stepDuration(),b=Math.max(b,0);a=b/Math.max(a-1,1);return Math.min(this.stepDelay(),a)};return a}();d._DEFAULT_START_DELAY_MILLISECONDS=0;d._DEFAULT_STEP_DURATION_MILLISECONDS=300;d._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15;d._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=Infinity;d._DEFAULT_EASING_MODE=
"expOut";c.Easing=d},function(a,c,d){var b=d(12);a=function(){function a(){}a.prototype.totalTime=function(){return 0};a.prototype.animate=function(a,c){a=b.coerceExternalD3(a);return a.attrs(c)};return a}();c.Null=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(4),l=d(0),m=d(21);a=function(a){function c(b,c){void 0===
c&&(c="bottom");b=a.call(this,b,c)||this;b._tickLabelAngle=0;b._tickLabelShearAngle=0;b.addClass("category-axis");return b}b(c,a);Object.defineProperty(c.prototype,"_wrapper",{get:function(){var a=new g.Wrapper;null!=this._tickLabelMaxLines&&a.maxLines(this._tickLabelMaxLines);return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"_writer",{get:function(){return new g.Writer(this._measurer,this._typesetterContext,this._wrapper)},enumerable:!0,configurable:!0});c.prototype._setup=
function(){a.prototype._setup.call(this);this._typesetterContext=new g.SvgContext(this._tickLabelContainer.node());this._measurer=new g.CacheMeasurer(this._typesetterContext)};c.prototype._rescale=function(){return this.redraw()};c.prototype.requestedSpace=function(a,b){var c=this.isHorizontal()?0:this._tickSpaceRequired()+this.margin(),d=this.isHorizontal()?this._tickSpaceRequired()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};if(this.annotationsEnabled()){var e=
this._annotationTierHeight()*this.annotationTierCount();this.isHorizontal()?d+=e:c+=e}a=this._measureTickLabels(a,b);return{minWidth:a.usedWidth+c,minHeight:a.usedHeight+d}};c.prototype._coreSize=function(){var a=this.isHorizontal()?this.height():this.width(),b=this.isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth,c=this.margin()+this._annotationTierHeight();return Math.min(b-c,a)};c.prototype._getTickValues=function(){return this.getDownsampleInfo().domain};
c.prototype._sizeFromOffer=function(a,b){return k.Component.prototype._sizeFromOffer.call(this,a,b)};c.prototype.getDownsampleInfo=function(a){var b;void 0===a&&(a=this._scale);void 0===b&&(b=a.invertRange());var d=Math.ceil(c._MINIMUM_WIDTH_PER_LABEL_PX*(0===this._tickLabelAngle?1:1/Math.cos(this._tickLabelShearAngle/180*Math.PI))/a.stepWidth());return{domain:b.filter(function(a,b){return 0===b%d}),stepWidth:d*a.stepWidth()}};c.prototype.tickLabelAngle=function(){return this._tickLabelAngle;throw Error("Angle undefined not supported; only 0, 90, and -90 are valid values");
};c.prototype.tickLabelShearAngle=function(){return this._tickLabelShearAngle};c.prototype.tickLabelMaxWidth=function(a){if(0===arguments.length)return this._tickLabelMaxWidth;this._tickLabelMaxWidth=a;this.redraw();return this};c.prototype.tickLabelMaxLines=function(a){if(0===arguments.length)return this._tickLabelMaxLines;this._tickLabelMaxLines=a;this.redraw();return this};c.prototype._tickSpaceRequired=function(){return this._maxLabelTickLength()+this.tickLabelPadding()};c.prototype._drawTicks=
function(a,b){var c=this;switch(this.tickLabelAngle()){case 0:var d={left:"right",right:"left",top:"center",bottom:"center"};var e={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:d={left:"center",right:"center",top:"right",bottom:"left"};e={left:"top",right:"bottom",top:"center",bottom:"center"};break;case -90:d={left:"center",right:"center",top:"left",bottom:"right"},e={left:"bottom",right:"top",top:"center",bottom:"center"}}b.each(function(b){var g=f.select(this),k=c.isHorizontal()?
a:c.width()-c._tickSpaceRequired(),l=c.isHorizontal()?c.height()-c._tickSpaceRequired():a,m={xAlign:d[c.orientation()],yAlign:e[c.orientation()],textRotation:c.tickLabelAngle(),textShear:c.tickLabelShearAngle()};if(null!=c._tickLabelMaxWidth){if("left"===c.orientation()&&k>c._tickLabelMaxWidth){var n=k-c._tickLabelMaxWidth,n=g.attr("transform")+" translate("+n+", 0)";g.attr("transform",n)}k=Math.min(k,c._tickLabelMaxWidth)}c._writer.write(c.formatter()(b),k,l,m,g.node())})};c.prototype._measureTickLabels=
function(a,b){var c=this,d=this._scale.cloneWithoutProviders().range([0,this.isHorizontal()?a:b]),e=this.getDownsampleInfo(d),d=e.domain,e=e.stepWidth,g=a-this._tickSpaceRequired();this.isHorizontal()&&(g=e,0!==this._tickLabelAngle&&(g=b-this._tickSpaceRequired()),g=Math.max(g,0));var k=e;this.isHorizontal()&&(k=b-this._tickSpaceRequired(),0!==this._tickLabelAngle&&(k=a-this._tickSpaceRequired()),k=Math.max(k,0));null!=this._tickLabelMaxWidth&&(g=Math.min(g,this._tickLabelMaxWidth));b=d.map(function(a){return c._wrapper.wrap(c.formatter()(a),
c._measurer,g,k)});d=this.isHorizontal()&&0===this._tickLabelAngle?l.Math.max:f.sum;a=(this.isHorizontal()&&0===this._tickLabelAngle?f.sum:l.Math.max)(b,function(a){return c._measurer.measure(a.wrappedText).width},0);b=d(b,function(a){return c._measurer.measure(a.wrappedText).height},0);0!==this._tickLabelAngle&&(b=[b,a],a=b[0],b=b[1]);return{usedWidth:a,usedHeight:b}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale,d=this.getDownsampleInfo(c),
e=d.domain,f=d=d.stepWidth;this.isHorizontal()&&null!=this._tickLabelMaxWidth&&(f=Math.min(f,this._tickLabelMaxWidth));var e=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(e),g=e.enter().append("g").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(e);e.exit().remove();g.attr("transform",function(a){a=c.scale(a)-f/2;return"translate("+(b.isHorizontal()?a:0)+","+(b.isHorizontal()?0:a)+")"});g.text("");this._drawTicks(d,g);d="right"===this.orientation()?this._tickSpaceRequired():0;e="bottom"===
this.orientation()?this._tickSpaceRequired():0;this._tickLabelContainer.attr("transform","translate("+d+","+e+")");this._showAllTickMarks();this._showAllTickLabels();this._hideTickMarksWithoutLabel();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);this.isHorizontal()||this._scale.range([0,this.height()]);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);a._MINIMUM_WIDTH_PER_LABEL_PX=
15;c.Category=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(10),l=d(0),m=d(21);a=function(a){function c(b,c){b=a.call(this,b,c)||this;b._tickLabelPositioning="center";b._usesTextWidthApproximation=!1;b.formatter(k.general());return b}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);var b=new g.SvgContext(this._tickLabelContainer.node(),
m.Axis.TICK_LABEL_CLASS);this._measurer=new g.CacheMeasurer(b);this._wrapper=(new g.Wrapper).maxLines(1)};c.prototype._computeWidth=function(){var a=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+a)};c.prototype._computeExactTextWidth=function(){var a=this,b=this._getTickValues().map(function(b){b=
a.formatter()(b);return a._measurer.measure(b).width});return l.Math.max(b,0)};c.prototype._computeApproximateTextWidth=function(){var a=this,b=this._getTickValues(),c=this._measurer.measure("M").width,b=b.map(function(b){return a.formatter()(b).length*c});return l.Math.max(b,0)};c.prototype._computeHeight=function(){var a=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+a:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+
a)};c.prototype._getTickValues=function(){var a=this._scale,b=a.domain(),c=b[0]<=b[1]?b[0]:b[1],d=b[0]>=b[1]?b[0]:b[1];return a.ticks().filter(function(a){return a>=c&&a<=d})};c.prototype._rescale=function(){if(this._isSetup){if(!this.isHorizontal()){var a=this._computeWidth();if(a>this.width()||a<this.width()-this.margin()){this.redraw();return}}this.render()}};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c={x:0,y:0,dx:"0em",dy:"0.3em"},d=this._maxLabelTickLength(),
e=this.tickLabelPadding(),f="middle",g=0,k=0,l=0,n=0;if(this.isHorizontal())switch(this._tickLabelPositioning){case "left":f="end";g=-e;n=e;break;case "center":n=d+e;break;case "right":f="start",n=g=e}else switch(this._tickLabelPositioning){case "top":c.dy="-0.3em";l=e;k=-e;break;case "center":l=d+e;break;case "bottom":c.dy="1em",k=l=e}d=this._generateTickMarkAttrHash();switch(this.orientation()){case "bottom":c.x=d.x1;c.dy="0.95em";k=d.y1+n;break;case "top":c.x=d.x1;c.dy="-.25em";k=d.y1-n;break;
case "left":f="end";g=d.x1-l;c.y=d.y1;break;case "right":f="start",g=d.x1+l,c.y=d.y1}l=this._getTickValues();l=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).data(l);l.exit().remove();l.enter().append("text").classed(m.Axis.TICK_LABEL_CLASS,!0).merge(l).style("text-anchor",f).style("visibility","inherit").attrs(c).text(function(a){return b.formatter()(a)});this._tickLabelContainer.attr("transform","translate("+g+", "+k+")");this._showAllTickMarks();this.showEndTickLabels()||this._hideEndTickLabels();
this._hideOverflowingTickLabels();this._hideOverlappingTickLabels();"center"!==this._tickLabelPositioning&&this._hideTickMarksWithoutLabel();return this};c.prototype.tickLabelPosition=function(a){if(null==a)return this._tickLabelPositioning;a=a.toLowerCase();if(this.isHorizontal()){if("left"!==a&&"center"!==a&&"right"!==a)throw Error(a+" is not a valid tick label position for a horizontal NumericAxis");}else if("top"!==a&&"center"!==a&&"bottom"!==a)throw Error(a+" is not a valid tick label position for a vertical NumericAxis");
this._tickLabelPositioning=a;this.redraw();return this};c.prototype.usesTextWidthApproximation=function(a){if(null==a)return this._usesTextWidthApproximation;this._usesTextWidthApproximation=a;return this};c.prototype._hideEndTickLabels=function(){var a=this.element().node().getBoundingClientRect(),b=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS);if(0!==b.size()){var c=b.nodes()[0];l.DOM.clientRectInside(c.getBoundingClientRect(),a)||f.select(c).style("visibility","hidden");b=b.nodes()[b.size()-
1];l.DOM.clientRectInside(b.getBoundingClientRect(),a)||f.select(b).style("visibility","hidden")}};c.prototype._hideOverlappingTickLabels=function(){for(var a=this._tickLabelContainer.selectAll("."+m.Axis.TICK_LABEL_CLASS).filter(function(){var a=f.select(this).style("visibility");return"inherit"===a||"visible"===a}),b=a.nodes().map(function(a){return a.getBoundingClientRect()}),c=1;!this._hasOverlapWithInterval(c,b)&&c<b.length;)c+=1;a.each(function(a,b){a=f.select(this);0!==b%c&&a.style("visibility",
"hidden")})};c.prototype._hasOverlapWithInterval=function(a,b){var c="center"===this._tickLabelPositioning?this.tickLabelPadding():3*this.tickLabelPadding();b=b.map(function(a){return l.DOM.expandRect(a,c)});for(var d=0;d<b.length-a;d+=a)if(l.DOM.clientRectsOverlap(b[d],b[d+a]))return!1;return!0};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(m.Axis);c.Numeric=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=d(39);var f=d(14),g=d(0);d=function(a){function c(b){function c(){l&&(l=!1,k._dragEndCallbacks.callCallbacks(k))}function d(a,b){l&&(k._setPixelPositionWithoutChangingMode(k._isVertical()?b.x:b.y),k._dragCallbacks.callCallbacks(k))}function e(a){if(k._isVertical()&&k.pixelPosition()-k.detectionRadius()<=a.x&&a.x<=k.pixelPosition()+k.detectionRadius()||!k._isVertical()&&k.pixelPosition()-
k.detectionRadius()<=a.y&&a.y<=k.pixelPosition()+k.detectionRadius())l=!0,k._dragStartCallbacks.callCallbacks(k)}var k=a.call(this,b)||this;k._detectionRadius=3;k._enabled=!0;k.addClass("drag-line-layer");k.addClass("enabled");k._dragInteraction=new f.Drag;k._dragInteraction.attachTo(k);var l=!1;k._dragInteraction.onDragStart(e);k._dragInteraction.onDrag(d);k._dragInteraction.onDragEnd(c);k._disconnectInteraction=function(){k._dragInteraction.offDragStart(e);k._dragInteraction.offDrag(d);k._dragInteraction.offDragEnd(c);
k._dragInteraction.detachFrom()};k._dragStartCallbacks=new g.CallbackSet;k._dragCallbacks=new g.CallbackSet;k._dragEndCallbacks=new g.CallbackSet;return k}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);this._detectionEdge=this.content().append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._detectionEdge.attrs({x1:this._isVertical()?this.pixelPosition():
0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius});return this};c.prototype.detectionRadius=function(a){if(null==a)return this._detectionRadius;if(0>a)throw Error("detection radius cannot be negative.");this._detectionRadius=a;this.render();return this};c.prototype.enabled=function(a){if(null==a)return this._enabled;(this._enabled=a)?this.addClass("enabled"):
this.removeClass("enabled");this._dragInteraction.enabled(a);return this};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=function(a){this._dragCallbacks.add(a);return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);
return this};c.prototype.destroy=function(){var b=this;a.prototype.destroy.call(this);this._dragStartCallbacks.forEach(function(a){return b._dragStartCallbacks.delete(a)});this._dragCallbacks.forEach(function(a){return b._dragCallbacks.delete(a)});this._dragEndCallbacks.forEach(function(a){return b._dragEndCallbacks.delete(a)});this._disconnectInteraction()};return c}(a.GuideLineLayer);c.DragLineLayer=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(11);a=function(a){function c(b,c){var d=this;if(null!=b&&!f.QuantitativeScale.prototype.isPrototypeOf(b))throw Error("xScale needs to inherit from Scale.QuantitativeScale");if(null!=c&&!f.QuantitativeScale.prototype.isPrototypeOf(c))throw Error("yScale needs to inherit from Scale.QuantitativeScale");d=a.call(this)||this;d.addClass("gridlines");d._xScale=b;d._yScale=c;d._renderCallback=function(){return d.render()};
if(d._xScale)d._xScale.onUpdate(d._renderCallback);if(d._yScale)d._yScale.onUpdate(d._renderCallback);return d}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._xScale&&this._xScale.offUpdate(this._renderCallback);this._yScale&&this._yScale.offUpdate(this._renderCallback);return this};c.prototype._setup=function(){a.prototype._setup.call(this);this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0);this._yLinesContainer=this.content().append("g").classed("y-gridlines",
!0)};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._redrawXLines();this._redrawYLines();return this};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);null!=this._xScale&&this._xScale.range([0,this.width()]);null!=this._yScale&&this._yScale.range([this.height(),0]);return this};c.prototype._redrawXLines=function(){var a=this;if(this._xScale){var b=this._xScale.ticks(),c=function(b){return a._xScale.scale(b)},b=this._xLinesContainer.selectAll("line").data(b);
b.enter().append("line").merge(b).attr("x1",c).attr("y1",0).attr("x2",c).attr("y2",this.height()).classed("zeroline",function(a){return 0===a});b.exit().remove()}};c.prototype._redrawYLines=function(){var a=this;if(this._yScale){var b=this._yScale.ticks(),c=function(b){return a._yScale.scale(b)},b=this._yLinesContainer.selectAll("line").data(b);b.enter().append("line").merge(b).attr("x1",0).attr("y1",c).attr("x2",this.width()).attr("y2",c).classed("zeroline",function(a){return 0===a});b.exit().remove()}};
return c}(d(4).Component);c.Gridlines=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5),g=d(22),k=d(10),l=d(0);a=function(a){function c(b){var c=a.call(this)||this;c._textPadding=5;if(null==b)throw Error("InterpolatedColorLegend requires a interpolatedColorScale");c._scale=b;c._redrawCallback=function(){return c.redraw()};c._scale.onUpdate(c._redrawCallback);
c._formatter=k.general();c._orientation="horizontal";c._expands=!1;c.addClass("legend");c.addClass("interpolated-color-legend");return c}b(c,a);c.prototype.destroy=function(){a.prototype.destroy.call(this);this._scale.offUpdate(this._redrawCallback)};c.prototype.formatter=function(a){if(void 0===a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.expands=function(){return this._expands};c._ensureOrientation=function(a){a=a.toLowerCase();if("horizontal"===a||"left"===
a||"right"===a)return a;throw Error('"'+a+'" is not a valid orientation for InterpolatedColorLegend');};c.prototype.orientation=function(a){if(null==a)return this._orientation;this._orientation=c._ensureOrientation(a);this.redraw();return this};c.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()};c.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()};c.prototype._generateTicks=function(a){void 0===a&&(a=c._DEFAULT_NUM_SWATCHES);var b=this._scale.domain();
if(1===a)return[b[0]];for(var d=(b[1]-b[0])/(a-1),e=[],f=0;f<a;f++)e.push(b[0]+d*f);return e};c.prototype._setup=function(){a.prototype._setup.call(this);this._swatchContainer=this.content().append("g").classed("swatch-container",!0);this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0);this._lowerLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,!0);this._upperLabel=this.content().append("g").classed(c.LEGEND_LABEL_CLASS,!0);var b=new f.SvgContext(this.content().node());
this._measurer=new f.Measurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,b,this._wrapper)};c.prototype.requestedSpace=function(){var a=this,b=this._measurer.measure().height,d=this._scale.domain().map(function(b){return a._measurer.measure(a._formatter(b)).width}),e=c._DEFAULT_NUM_SWATCHES;if(this._isVertical()){var f=l.Math.max(d,0);d=b+b+this._textPadding+f+this._textPadding;f=e*b}else f=b+b+b,d=this._textPadding+d[0]+e*b+d[1]+this._textPadding;return{minWidth:d,minHeight:f}};
c.prototype._isVertical=function(){return"horizontal"!==this._orientation};c.prototype.renderImmediately=function(){var b=this;a.prototype.renderImmediately.call(this);var c=this._scale.domain(),d=this._formatter(c[0]),e=this._measurer.measure(d).width,f=this._formatter(c[1]),c=this._measurer.measure(f).width,k=this._measurer.measure().height,l=this._textPadding,m=0,n=0,A=0,D=0,E={xAlign:"center",yAlign:"center",textRotation:0},F={xAlign:"center",yAlign:"center",textRotation:0},I={x:0,y:0,width:0,
height:0};if(this._isVertical()){var H=Math.floor(this.height());var C=Math.max(e,c);var J=(this.width()-C-2*this._textPadding)/2;c=Math.max(this.width()-J-2*l-C,0);k=1;var M=function(a,c){return b.height()-(c+1)};F.yAlign="top";n=0;E.yAlign="bottom";D=0;if("left"===this._orientation){var T=function(){return l+C+l};F.xAlign="right";m=-(J+c+l);E.xAlign="right";A=-(J+c+l)}else T=function(){return J},F.xAlign="left",m=J+c+l,E.xAlign="left",A=J+c+l;I.width=c;I.height=H*k}else J=Math.max(l,(this.height()-
k)/2),H=Math.max(Math.floor(this.width()-4*l-e-c),0),c=1,k=Math.max(this.height()-2*J,0),T=function(a,b){return Math.floor(e+2*l)+b},M=function(){return J},F.xAlign="right",m=-l,E.xAlign="left",A=l,I.y=J,I.width=H*c,I.height=k;I.x=T(null,0);this._upperLabel.text("");this._writer.write(f,this.width(),this.height(),F,this._upperLabel.node());this._upperLabel.attr("transform","translate("+m+", "+n+")");this._lowerLabel.text("");this._writer.write(d,this.width(),this.height(),E,this._lowerLabel.node());
this._lowerLabel.attr("transform","translate("+A+", "+D+")");this._swatchBoundingBox.attrs(I);d=this._generateTicks(H);d=this._swatchContainer.selectAll("rect.swatch").data(d);f=d.enter().append("rect").classed("swatch",!0);m=d.merge(f);d.exit().remove();m.attrs({fill:function(a){return b._scale.scale(a)},width:c,height:k,x:T,y:M,"shape-rendering":"crispEdges"});g.ADD_TITLE_ELEMENTS&&f.append("title").text(function(a){return b._formatter(a)});return this};return c}(d(4).Component);a._DEFAULT_NUM_SWATCHES=
11;a.LEGEND_LABEL_CLASS="legend-label";c.InterpolatedColorLegend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5);a=function(a){function c(b,c){void 0===b&&(b="");void 0===c&&(c=0);var d=a.call(this)||this;d.addClass("label");d.text(b);d.angle(c);d.xAlignment("center").yAlignment("center");d._padding=0;return d}b(c,a);c.prototype.requestedSpace=
function(){var a=this._measurer.measure(this._text),b=(0===this.angle()?a.width:a.height)+2*this.padding(),a=(0===this.angle()?a.height:a.width)+2*this.padding();return{minWidth:b,minHeight:a}};c.prototype._setup=function(){a.prototype._setup.call(this);this._textContainer=this.content().append("g");var b=new f.SvgContext(this._textContainer.node());this._measurer=new f.CacheMeasurer(b);this._wrapper=new f.Wrapper;this._writer=new f.Writer(this._measurer,b,this._wrapper);this.text(this._text)};c.prototype.text=
function(a){if(null==a)return this._text;if("string"!==typeof a)throw Error("Label.text() only takes strings as input");this._text=a;this.redraw();return this};c.prototype.angle=function(a){if(null==a)return this._angle;a%=360;180<a?a-=360:-180>a&&(a+=360);if(-90===a||0===a||90===a)this._angle=a;else throw Error(a+" is not a valid angle for Label");this.redraw();return this};c.prototype.padding=function(a){if(null==a)return this._padding;a=+a;if(0>a)throw Error(a+" is not a valid padding value. Cannot be less than 0.");
this._padding=a;this.redraw();return this};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);this._textContainer.selectAll("g").remove();var b=this._measurer.measure(this._text),c=Math.max(Math.min((this.height()-b.height)/2,this.padding()),0),b=Math.max(Math.min((this.width()-b.width)/2,this.padding()),0);this._textContainer.attr("transform","translate("+b+","+c+")");var b=this.width()-
2*b,c=this.height()-2*c,d={xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};this._writer.write(this._text,b,c,d);return this};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(d(4).Component);c.Label=a;d=function(a){function c(b,d){b=a.call(this,b,d)||this;b.addClass(c.TITLE_LABEL_CLASS);return b}b(c,a);return c}(a);d.TITLE_LABEL_CLASS="title-label";c.TitleLabel=d;a=function(a){function c(b,d){b=a.call(this,
b,d)||this;b.addClass(c.AXIS_LABEL_CLASS);return b}b(c,a);return c}(a);a.AXIS_LABEL_CLASS="axis-label";c.AxisLabel=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(22),l=d(10),m=d(29),n=d(0);a=d(4);var q=function(){function a(a,b,c){void 0===a&&(a=[]);void 0===b&&(b=0);void 0===c&&(c=Infinity);this.columns=a;this.bottomPadding=
b;this.maxWidth=c}a.prototype.addColumn=function(a){var b=a.width,c=this.getWidthAvailable();a.width=Math.min(c,b);this.columns.push(a)};a.prototype.getBounds=function(a){for(var b=this.columns[a],c=0,d=0;d<a;d++)c+=this.columns[d].width;return{topLeft:{x:c,y:0},bottomRight:{x:c+b.width,y:b.height}}};a.prototype.getHeight=function(){return n.Math.max(this.columns.map(function(a){return a.height}),0)+this.bottomPadding};a.prototype.getWidth=function(){return Math.min(this.columns.reduce(function(a,
b){return a+b.width},0),this.maxWidth)};a.prototype.getWidthAvailable=function(){var a=this.getWidth();return Math.max(this.maxWidth-a,0)};return a}(),p=function(){function a(a,b,c,d){void 0===a&&(a=Infinity);void 0===b&&(b=Infinity);void 0===c&&(c=0);void 0===d&&(d=[]);this.maxWidth=a;this.maxHeight=b;this.padding=c;this.rows=d}a.prototype.addRow=function(a){a.maxWidth=this.maxWidth-2*this.padding;this.rows.push(a)};a.prototype.getColumnBounds=function(a,b){var c=this.getRowBounds(a);a=this.rows[a].getBounds(b);
a.topLeft.x+=c.topLeft.x;a.bottomRight.x+=c.topLeft.x;a.topLeft.y+=c.topLeft.y;a.bottomRight.y+=c.topLeft.y;return a};a.prototype.getRowBounds=function(a){for(var b=this.padding,c=this.padding,d=0;d<a;d++)c+=this.rows[d].getHeight();return{topLeft:{x:b,y:c},bottomRight:{x:b+this.rows[a].getWidth(),y:c+this.rows[a].getHeight()}}};a.prototype.getHeight=function(){return Math.min(this.rows.reduce(function(a,b){return a+b.getHeight()},0)+2*this.padding,this.maxHeight)};a.prototype.getWidth=function(){return Math.min(n.Math.max(this.rows.map(function(a){return a.getWidth()}),
0)+2*this.padding,this.maxWidth)};return a}();a=function(a){function c(b){var c=a.call(this)||this;c._padding=5;c._rowBottomPadding=3;c.addClass("legend");c.maxEntriesPerRow(1);if(null==b)throw Error("Legend requires a colorScale");c._colorScale=b;c._redrawCallback=function(){return c.redraw()};c._colorScale.onUpdate(c._redrawCallback);c._formatter=l.identity();c.maxLinesPerEntry(1);c.xAlignment("right").yAlignment("top");c.comparator(function(a,b){var d=c._colorScale.domain().slice().map(function(a){return c._formatter(a)});
return d.indexOf(a)-d.indexOf(b)});c._symbolFactoryAccessor=function(){return m.circle()};c._symbolOpacityAccessor=function(){return 1};return c}b(c,a);c.prototype._setup=function(){a.prototype._setup.call(this);var b=this.content().append("g").classed(c.LEGEND_ROW_CLASS,!0);b.append("g").classed(c.LEGEND_ENTRY_CLASS,!0).append("text");b=new g.SvgContext(b.node(),null,k.ADD_TITLE_ELEMENTS);this._measurer=new g.Measurer(b);this._wrapper=(new g.Wrapper).maxLines(this.maxLinesPerEntry());this._writer=
new g.Writer(this._measurer,b,this._wrapper)};c.prototype.formatter=function(a){if(null==a)return this._formatter;this._formatter=a;this.redraw();return this};c.prototype.maxEntriesPerRow=function(a){if(null==a)return this._maxEntriesPerRow;this._maxEntriesPerRow=a;this.redraw();return this};c.prototype.maxLinesPerEntry=function(a){if(null==a)return this._maxLinesPerEntry;this._maxLinesPerEntry=a;this.redraw();return this};c.prototype.maxWidth=function(a){if(null==a)return this._maxWidth;this._maxWidth=
a;this.redraw();return this};c.prototype.comparator=function(a){null!=a&&(this._comparator=a,this.redraw())};c.prototype.colorScale=function(a){return null!=a?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=a,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale};c.prototype.destroy=function(){a.prototype.destroy.call(this);this._colorScale.offUpdate(this._redrawCallback)};c.prototype._buildLegendTable=function(a,b){var c=this,d=this._measurer.measure().height,
e=new p(a,b,this._padding);a=this._colorScale.domain().slice().sort(function(a,b){return c._comparator(c._formatter(a),c._formatter(b))});var f=new q;e.addRow(f);f.bottomPadding=this._rowBottomPadding;a.forEach(function(a){f.columns.length/2===c.maxEntriesPerRow()&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));var b=f.getWidthAvailable(),g=c._formatter(a),k=c._measurer.measure(g).width;0>b-d-k&&1<f.columns.length&&(f=new q,f.bottomPadding=c._rowBottomPadding,e.addRow(f));f.addColumn({width:d,
height:d,data:{name:a,type:"symbol"}});b=f.getWidthAvailable();b=Math.min(b,k);c._wrapper.maxLines(c.maxLinesPerEntry());g=c._wrapper.wrap(g,c._measurer,b).noLines*d;f.addColumn({width:b,height:g,data:{name:a,type:"text"}})});return e};c.prototype.requestedSpace=function(a,b){a=this._buildLegendTable(n.Math.min([this.maxWidth(),a],a),b);return{minHeight:a.getHeight(),minWidth:a.getWidth()}};c.prototype.entitiesAt=function(a){var b=this;if(!this._isSetup)return[];var d=this._buildLegendTable(this.width(),
this.height());return d.rows.reduce(function(e,g,k){if(0!==e.length)return e;var l=d.getRowBounds(k);return n.Math.within(a,l)?g.columns.reduce(function(e,g,l){var m=d.getColumnBounds(k,l);return n.Math.within(a,m)?(e=b.content().selectAll("."+c.LEGEND_ROW_CLASS).nodes()[k],l=f.select(e).selectAll("."+c.LEGEND_ENTRY_CLASS).nodes()[Math.floor(l/2)],m=f.select(l).select("."+c.LEGEND_SYMBOL_CLASS),e=n.DOM.getTranslateValues(f.select(e)),m=n.DOM.getTranslateValues(m),[{datum:g.data.name,position:{x:e[0]+
m[0],y:e[1]+m[1]},selection:f.select(l),component:b}]):e},e):e},[])};c.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this);var b=this._buildLegendTable(this.width(),this.height());this.content().selectAll("*").remove();var d=this.content().selectAll("g."+c.LEGEND_ROW_CLASS).data(b.rows),e=d.enter().append("g").classed(c.LEGEND_ROW_CLASS,!0).merge(d);d.exit().remove();e.attr("transform",function(a,c){a=b.getRowBounds(c);return"translate("+a.topLeft.x+", "+a.topLeft.y+")"});
var g=this;e.each(function(a,d){for(var e=[],k=0;k<a.columns.length;k+=2)e.push([a.columns[k],a.columns[k+1]]);a=f.select(this).selectAll("g."+c.LEGEND_ENTRY_CLASS).data(e);e=a.enter().append("g").classed(c.LEGEND_ENTRY_CLASS,!0).merge(a);e.append("path").attr("d",function(a){a=a[0];return g.symbol()(a.data.name,d)(.6*a.height)(null)}).attr("transform",function(a){a=a[0];return"translate("+(b.getColumnBounds(d,b.rows[d].columns.indexOf(a)).topLeft.x+a.width/2)+", "+a.height/2+")"}).attr("fill",function(a){return g._colorScale.scale(a[0].data.name)}).attr("opacity",
function(a){return g.symbolOpacity()(a[0].data.name,d)}).classed(c.LEGEND_SYMBOL_CLASS,!0);e.append("g").classed("text-container",!0).attr("transform",function(a){return"translate("+b.getColumnBounds(d,b.rows[d].columns.indexOf(a[1])).topLeft.x+", 0)"}).each(function(a){var b=f.select(this);a=a[1];g._writer.write(g._formatter(a.data.name),a.width,g.height(),{xAlign:"left",yAlign:"top",textRotation:0},b.node())});a.exit().remove()});return this};c.prototype.symbol=function(a){if(null==a)return this._symbolFactoryAccessor;
this._symbolFactoryAccessor=a;this.render();return this};c.prototype.symbolOpacity=function(){return this._symbolOpacityAccessor};c.prototype.fixedWidth=function(){return!0};c.prototype.fixedHeight=function(){return!0};return c}(a.Component);a.LEGEND_ROW_CLASS="legend-row";a.LEGEND_ENTRY_CLASS="legend-entry";a.LEGEND_SYMBOL_CLASS="legend-symbol";c.Legend=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=
null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(2),g=d(0);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b(c,a);c.prototype.entityNearest=function(a){var b,c=Infinity;this.components().forEach(function(d){d=d.entityNearest(a);if(null!=d){var e=g.Math.distanceSquared(d.position,a);e<=c&&(c=e,b=d)}});return b};c.prototype.append=function(b){if(null!=b&&!(b instanceof f.Plot))throw Error("Plot Group only accepts plots");a.prototype.append.call(this,b);return this};
return c}(d(38).Group);c.PlotGroup=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);a=function(a){function c(b){void 0===b&&(b=[]);var c=a.call(this)||this;c._rowPadding=0;c._columnPadding=0;c._rows=[];c._rowWeights=[];c._columnWeights=[];c._nRows=0;c._nCols=0;c._calculatedLayout=null;c.addClass("table");b.forEach(function(a,
b){a.forEach(function(a,d){null!=a&&c.add(a,b,d)})});return c}b(c,a);c.prototype._forEach=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)null!=this._rows[b][c]&&a(this._rows[b][c])};c.prototype.has=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a)return!0;return!1};c.prototype.componentAt=function(a){return 0>=this._nRows||0>a||a>=this._nCols?null:this._rows[0][a]};c.prototype.add=function(a,b,c){if(null==a)throw Error("Cannot add null to a table cell");
if(!this.has(a)){if(null!=(this._rows[b]&&this._rows[b][c]))throw Error("cell is occupied");a.detach();this._nRows=Math.max(b+1,this._nRows);this._nCols=Math.max(c+1,this._nCols);this._padTableToSize(this._nRows,this._nCols);this._rows[b][c]=a;this._adoptAndAnchor(a);this.redraw()}return this};c.prototype._remove=function(a){for(var b=0;b<this._nRows;b++)for(var c=0;c<this._nCols;c++)if(this._rows[b][c]===a)return this._rows[b][c]=null,!0;return!1};c.prototype._iterateLayout=function(a,b,d){void 0===
d&&(d=!1);var e=this._rows,k=f.transpose(this._rows);a-=this._columnPadding*(this._nCols-1);b-=this._rowPadding*(this._nRows-1);for(var e=c._calcComponentWeights(this._rowWeights,e,function(a){return null==a||a.fixedHeight()}),k=c._calcComponentWeights(this._columnWeights,k,function(a){return null==a||a.fixedWidth()}),l=k.map(function(a){return 0===a?.5:a}),m=e.map(function(a){return 0===a?.5:a}),l=c._calcProportionalSpace(l,a),n=c._calcProportionalSpace(m,b),q=g.Array.createFilledArray(0,this._nCols),
y=g.Array.createFilledArray(0,this._nRows),B,A,m=0,D,E,F;;){y=g.Array.add(y,n);l=g.Array.add(q,l);D=this._determineGuarantees(l,y,d);q=D.guaranteedWidths;y=D.guaranteedHeights;E=D.wantsWidthArr.some(function(a){return a});F=D.wantsHeightArr.some(function(a){return a});var I=B,H=A;B=a-f.sum(D.guaranteedWidths);A=b-f.sum(D.guaranteedHeights);l=void 0;E?(l=D.wantsWidthArr.map(function(a){return a?.1:0}),l=g.Array.add(l,k)):l=k;n=void 0;F?(n=D.wantsHeightArr.map(function(a){return a?.1:0}),n=g.Array.add(n,
e)):n=e;l=c._calcProportionalSpace(l,B);n=c._calcProportionalSpace(n,A);m++;H=0<A&&A!==H;if(!(0<B&&B!==I||H))break;if(5<m)break}B=a-f.sum(D.guaranteedWidths);A=b-f.sum(D.guaranteedHeights);l=c._calcProportionalSpace(k,B);n=c._calcProportionalSpace(e,A);return{colProportionalSpace:l,rowProportionalSpace:n,guaranteedWidths:D.guaranteedWidths,guaranteedHeights:D.guaranteedHeights,wantsWidth:E,wantsHeight:F}};c.prototype._determineGuarantees=function(a,b,c){void 0===c&&(c=!1);var d=g.Array.createFilledArray(0,
this._nCols),e=g.Array.createFilledArray(0,this._nRows),f=g.Array.createFilledArray(!1,this._nCols),k=g.Array.createFilledArray(!1,this._nRows);this._rows.forEach(function(g,l){g.forEach(function(g,m){g=null!=g?g.requestedSpace(a[m],b[l]):{minWidth:0,minHeight:0};d[m]=Math.max(d[m],c?Math.min(g.minWidth,a[m]):g.minWidth);e[l]=Math.max(e[l],c?Math.min(g.minHeight,b[l]):g.minHeight);var n=g.minWidth>a[m];f[m]=f[m]||n;m=g.minHeight>b[l];k[l]=k[l]||m})});return{guaranteedWidths:d,guaranteedHeights:e,
wantsWidthArr:f,wantsHeightArr:k}};c.prototype.requestedSpace=function(a,b){this._calculatedLayout=this._iterateLayout(a,b);return{minWidth:f.sum(this._calculatedLayout.guaranteedWidths),minHeight:f.sum(this._calculatedLayout.guaranteedHeights)}};c.prototype.computeLayout=function(b,c,d){var e=this;a.prototype.computeLayout.call(this,b,c,d);b=f.sum(this._calculatedLayout.guaranteedWidths);c=f.sum(this._calculatedLayout.guaranteedHeights);d=this._calculatedLayout;if(b>this.width()||c>this.height())d=
this._iterateLayout(this.width(),this.height(),!0);var k=0,l=g.Array.add(d.rowProportionalSpace,d.guaranteedHeights),m=g.Array.add(d.colProportionalSpace,d.guaranteedWidths);this._rows.forEach(function(a,b){var c=0;a.forEach(function(a,d){null!=a&&a.computeLayout({x:c,y:k},m[d],l[b]);c+=m[d]+e._columnPadding});k+=l[b]+e._rowPadding});return this};c.prototype.rowPadding=function(a){if(null==a)return this._rowPadding;if(!g.Math.isValidNumber(a)||0>a)throw Error("rowPadding must be a non-negative finite value");
this._rowPadding=a;this.redraw();return this};c.prototype.columnPadding=function(a){if(null!=a){if(!g.Math.isValidNumber(a)||0>a)throw Error("columnPadding must be a non-negative finite value");this._columnPadding=a;this.redraw()}};c.prototype.rowWeight=function(a,b){if(null==b)return this._rowWeights[a];if(!g.Math.isValidNumber(b)||0>b)throw Error("rowWeight must be a non-negative finite value");this._rowWeights[a]=b;this.redraw();return this};c.prototype.columnWeight=function(a,b){if(null==b)return this._columnWeights[a];
if(!g.Math.isValidNumber(b)||0>b)throw Error("columnWeight must be a non-negative finite value");this._columnWeights[a]=b;this.redraw();return this};c.prototype.fixedWidth=function(){var a=f.transpose(this._rows);return c._fixedSpace(a,function(a){return null==a||a.fixedWidth()})};c.prototype.fixedHeight=function(){return c._fixedSpace(this._rows,function(a){return null==a||a.fixedHeight()})};c.prototype._padTableToSize=function(a,b){for(var c=0;c<a;c++){void 0===this._rows[c]&&(this._rows[c]=[],
this._rowWeights[c]=null);for(var d=0;d<b;d++)void 0===this._rows[c][d]&&(this._rows[c][d]=null)}for(d=0;d<b;d++)void 0===this._columnWeights[d]&&(this._columnWeights[d]=null)};c._calcComponentWeights=function(a,b,c){return a.map(function(a,d){return null!=a?a:b[d].map(c).reduce(function(a,b){return a&&b},!0)?0:1})};c._calcProportionalSpace=function(a,b){var c=f.sum(a);return 0===c?g.Array.createFilledArray(0,a.length):a.map(function(a){return b*a/c})};c._fixedSpace=function(a,b){function c(a){return a.reduce(function(a,
b){return a&&b},!0)}return c(a.map(function(a){return c(a.map(b))}))};return c}(d(27).ComponentContainer);c.Table=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("x-drag-box-layer");b._hasCorners=!1;return b}b(c,a);c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,
b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:b.topLeft.x,y:0},bottomRight:{x:b.bottomRight.x,y:this.height()}})};c.prototype._setResizableClasses=function(a){a&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")};c.prototype.yScale=function(b){if(null==b)return a.prototype.yScale.call(this);throw Error("yScales cannot be set on an XDragBoxLayer");};c.prototype.yExtent=function(b){if(null==
b)return a.prototype.yExtent.call(this);throw Error("XDragBoxLayer has no yExtent");};return c}(d(30).DragBoxLayer);c.XDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b.addClass("y-drag-box-layer");b._hasCorners=!1;return b}b(c,a);c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,
b,c,d);this._setBounds(this.bounds());return this};c.prototype._setBounds=function(b){a.prototype._setBounds.call(this,{topLeft:{x:0,y:b.topLeft.y},bottomRight:{x:this.width(),y:b.bottomRight.y}})};c.prototype._setResizableClasses=function(a){a&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")};c.prototype.xScale=function(b){if(null==b)return a.prototype.xScale.call(this);throw Error("xScales cannot be set on an YDragBoxLayer");};c.prototype.xExtent=function(b){if(null==
b)return a.prototype.xExtent.call(this);throw Error("YDragBoxLayer has no xExtent");};return c}(d(30).DragBoxLayer);c.YDragBoxLayer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){var b=a.call(this)||this;b._eventToProcessingFunction[c._KEYDOWN_EVENT_NAME]=function(a){return b._processKeydown(a)};b._eventToProcessingFunction[c._KEYUP_EVENT_NAME]=
function(a){return b._processKeyup(a)};return b}b(c,a);c.getDispatcher=function(){var a=document[c._DISPATCHER_KEY];null==a&&(a=new c,document[c._DISPATCHER_KEY]=a);return a};c.prototype._processKeydown=function(a){this._callCallbacksForEvent(c._KEYDOWN_EVENT_NAME,a.keyCode,a)};c.prototype._processKeyup=function(a){this._callCallbacksForEvent(c._KEYUP_EVENT_NAME,a.keyCode,a)};c.prototype.onKeyDown=function(a){this._addCallbackForEvent(c._KEYDOWN_EVENT_NAME,a)};c.prototype.offKeyDown=function(a){this._removeCallbackForEvent(c._KEYDOWN_EVENT_NAME,
a)};c.prototype.onKeyUp=function(a){this._addCallbackForEvent(c._KEYUP_EVENT_NAME,a)};c.prototype.offKeyUp=function(a){this._removeCallbackForEvent(c._KEYUP_EVENT_NAME,a)};return c}(d(23).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Key";a._KEYDOWN_EVENT_NAME="keydown";a._KEYUP_EVENT_NAME="keyup";c.Key=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},f=d(0);a=function(a){function c(b){function d(a){return e._measureAndDispatch(b,a,c._MOUSEMOVE_EVENT_NAME,"page")}var e=a.call(this)||this;e._translator=f.getTranslator(b);e._lastMousePosition={x:-1,y:-1};e._eventToProcessingFunction[c._MOUSEOVER_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEMOVE_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEOUT_EVENT_NAME]=d;e._eventToProcessingFunction[c._MOUSEDOWN_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._MOUSEDOWN_EVENT_NAME)};
e._eventToProcessingFunction[c._MOUSEUP_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._MOUSEUP_EVENT_NAME,"page")};e._eventToProcessingFunction[c._WHEEL_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._WHEEL_EVENT_NAME)};e._eventToProcessingFunction[c._DBLCLICK_EVENT_NAME]=function(a){return e._measureAndDispatch(b,a,c._DBLCLICK_EVENT_NAME)};return e}b(c,a);c.getDispatcher=function(a){var b=a.root().rootElement(),d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=
d);return d};c.prototype.onMouseMove=function(a){this._addCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a)};c.prototype.offMouseMove=function(a){this._removeCallbackForEvent(c._MOUSEMOVE_EVENT_NAME,a)};c.prototype.onMouseDown=function(a){this._addCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a)};c.prototype.offMouseDown=function(a){this._removeCallbackForEvent(c._MOUSEDOWN_EVENT_NAME,a)};c.prototype.onMouseUp=function(a){this._addCallbackForEvent(c._MOUSEUP_EVENT_NAME,a)};c.prototype.offMouseUp=function(a){this._removeCallbackForEvent(c._MOUSEUP_EVENT_NAME,
a)};c.prototype.onWheel=function(a){this._addCallbackForEvent(c._WHEEL_EVENT_NAME,a)};c.prototype.offWheel=function(a){this._removeCallbackForEvent(c._WHEEL_EVENT_NAME,a)};c.prototype.onDblClick=function(a){this._addCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype.offDblClick=function(a){this._removeCallbackForEvent(c._DBLCLICK_EVENT_NAME,a)};c.prototype._measureAndDispatch=function(a,b,c,d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");
if("page"===d||this.eventInside(a,b))a=this._translator.computePosition(b.clientX,b.clientY),null!=a&&(this._lastMousePosition=a,this._callCallbacksForEvent(c,this.lastMousePosition(),b))};c.prototype.eventInside=function(a,b){return this._translator.isInside(a,b)};c.prototype.lastMousePosition=function(){return this._lastMousePosition};return c}(d(23).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Mouse";a._MOUSEOVER_EVENT_NAME="mouseover";a._MOUSEMOVE_EVENT_NAME="mousemove";a._MOUSEOUT_EVENT_NAME=
"mouseout";a._MOUSEDOWN_EVENT_NAME="mousedown";a._MOUSEUP_EVENT_NAME="mouseup";a._WHEEL_EVENT_NAME="wheel";a._DBLCLICK_EVENT_NAME="dblclick";c.Mouse=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=function(a){function c(b){var d=a.call(this)||this;d._translator=f.getTranslator(b);d._eventToProcessingFunction[c._TOUCHSTART_EVENT_NAME]=
function(a){return d._measureAndDispatch(b,a,c._TOUCHSTART_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHMOVE_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHMOVE_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHEND_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHEND_EVENT_NAME,"page")};d._eventToProcessingFunction[c._TOUCHCANCEL_EVENT_NAME]=function(a){return d._measureAndDispatch(b,a,c._TOUCHCANCEL_EVENT_NAME,"page")};return d}b(c,a);c.getDispatcher=
function(a){var b=a.root().rootElement(),d=b[c._DISPATCHER_KEY];null==d&&(d=new c(a),b[c._DISPATCHER_KEY]=d);return d};c.prototype.onTouchStart=function(a){this._addCallbackForEvent(c._TOUCHSTART_EVENT_NAME,a)};c.prototype.offTouchStart=function(a){this._removeCallbackForEvent(c._TOUCHSTART_EVENT_NAME,a)};c.prototype.onTouchMove=function(a){this._addCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,a)};c.prototype.offTouchMove=function(a){this._removeCallbackForEvent(c._TOUCHMOVE_EVENT_NAME,a)};c.prototype.onTouchEnd=
function(a){this._addCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.offTouchEnd=function(a){this._removeCallbackForEvent(c._TOUCHEND_EVENT_NAME,a)};c.prototype.onTouchCancel=function(a){this._addCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,a)};c.prototype.offTouchCancel=function(a){this._removeCallbackForEvent(c._TOUCHCANCEL_EVENT_NAME,a)};c.prototype._measureAndDispatch=function(a,b,c,d){void 0===d&&(d="element");if("page"!==d&&"element"!==d)throw Error("Invalid scope '"+d+"', must be 'element' or 'page'");
if("element"!==d||this.eventInside(a,b)){a=b.changedTouches;d={};for(var e=[],f=0;f<a.length;f++){var g=a[f],k=g.identifier,g=this._translator.computePosition(g.clientX,g.clientY);null!=g&&(d[k]=g,e.push(k))}0<e.length&&this._callCallbacksForEvent(c,e,d,b)}};c.prototype.eventInside=function(a,b){return this._translator.isInside(a,b)};return c}(d(23).Dispatcher);a._DISPATCHER_KEY="__Plottable_Dispatcher_Touch";a._TOUCHSTART_EVENT_NAME="touchstart";a._TOUCHMOVE_EVENT_NAME="touchmove";a._TOUCHEND_EVENT_NAME=
"touchend";a._TOUCHCANCEL_EVENT_NAME="touchcancel";c.Touch=a},function(a,c){a=function(){function a(b,c,d){void 0===d&&(d=window.devicePixelRatio);this.screenWidth=b;this.screenHeight=c;this.devicePixelRatio=d;this.pixelWidth=b*d;this.pixelHeight=c*d;this.canvas=document.createElement("canvas");this.ctx=this.canvas.getContext("2d");a.sizePixels(this.ctx,b,c,d)}a.sizePixels=function(a,b,c,d){var e=a.canvas;e.width=b*d;e.height=c*d;e.style.width=b+"px";e.style.height=c+"px";a.setTransform(1,0,0,1,0,
0);a.scale(d,d)};a.prototype.blit=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);a.drawImage(this.canvas,b,c,this.screenWidth,this.screenHeight)};a.prototype.blitCenter=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);this.blit(a,Math.floor(b-this.screenWidth/2),Math.floor(c-this.screenHeight/2))};a.prototype.resize=function(b,c,d){void 0===d&&(d=!1);var e=this.devicePixelRatio;this.screenWidth=b;this.screenHeight=c;this.pixelWidth=b*e;this.pixelHeight=c*e;a.sizePixels(this.ctx,b,c,e);d&&
this.ctx.translate(b/2,b/2);return this};a.prototype.clear=function(a){var b=this.pixelWidth,c=this.pixelHeight,d=this.ctx;d.save();d.setTransform(1,0,0,1,0,0);null==a?d.clearRect(0,0,b,c):(d.fillStyle=a,d.fillRect(0,0,b,c));d.restore();return this};a.prototype.getImageData=function(){return this.ctx.getImageData(0,0,this.pixelWidth,this.pixelHeight)};return a}();c.CanvasBuffer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._clickedDown=!1;b._doubleClicking=!1;b._onClickCallbacks=new g.CallbackSet;b._onDoubleClickCallbacks=new g.CallbackSet;b._mouseDownCallback=function(a){return b._handleClickDown(a)};b._mouseUpCallback=function(a,c){return b._handleClickUp(a,c)};b._dblClickCallback=function(a,c){return b._handleDblClick(a,c)};b._touchStartCallback=
function(a,c){return b._handleClickDown(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._handleClickUp(c[a[0]],d)};b._touchCancelCallback=function(){return b._clickedDown=!1};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(b);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);this._mouseDispatcher.onDblClick(this._dblClickCallback);this._touchDispatcher=
f.Touch.getDispatcher(b);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher.offDblClick(this._dblClickCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);
this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null};c.prototype._handleClickDown=function(a){a=this._translateToComponentSpace(a);this._isInsideComponent(a)&&(this._clickedDown=!0,this._clickedPoint=a)};c.prototype._handleClickUp=function(a,b){var d=this,e=this._translateToComponentSpace(a);this._clickedDown&&c._pointsEqual(e,this._clickedPoint)&&setTimeout(function(){d._doubleClicking||d._onClickCallbacks.callCallbacks(e,
b)},0);this._clickedDown=!1};c.prototype._handleDblClick=function(a,b){var c=this;a=this._translateToComponentSpace(a);this._doubleClicking=!0;this._onDoubleClickCallbacks.callCallbacks(a,b);setTimeout(function(){return c._doubleClicking=!1},0)};c._pointsEqual=function(a,b){return a.x===b.x&&a.y===b.y};c.prototype.onClick=function(a){this._onClickCallbacks.add(a)};c.prototype.offClick=function(a){this._onClickCallbacks.delete(a)};c.prototype.onDoubleClick=function(a){this._onDoubleClickCallbacks.add(a);
return this};c.prototype.offDoubleClick=function(a){this._onDoubleClickCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Click=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._dragging=!1;b._constrainedToComponent=!0;b._dragStartCallbacks=
new g.CallbackSet;b._dragCallbacks=new g.CallbackSet;b._dragEndCallbacks=new g.CallbackSet;b._mouseDownCallback=function(a,c){return b._startDrag(a,c)};b._mouseMoveCallback=function(a){return b._doDrag(a)};b._mouseUpCallback=function(a,c){return b._endDrag(a,c)};b._touchStartCallback=function(a,c,d){return b._startDrag(c[a[0]],d)};b._touchMoveCallback=function(a,c){return b._doDrag(c[a[0]])};b._touchEndCallback=function(a,c,d){return b._endDrag(c[a[0]],d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,
b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseDown(this._mouseDownCallback);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._mouseDispatcher.onMouseUp(this._mouseUpCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback)};c.prototype._unanchor=
function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseDown(this._mouseDownCallback);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);this._mouseDispatcher.offMouseUp(this._mouseUpCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher=null};c.prototype._translateAndConstrain=function(a){a=
this._translateToComponentSpace(a);return this._constrainedToComponent?{x:g.Math.clamp(a.x,0,this._componentAttachedTo.width()),y:g.Math.clamp(a.y,0,this._componentAttachedTo.height())}:a};c.prototype._startDrag=function(a,b){b instanceof MouseEvent&&0!==b.button||(a=this._translateToComponentSpace(a),this._isInsideComponent(a)&&(b.preventDefault(),this._dragging=!0,this._dragOrigin=a,this._dragStartCallbacks.callCallbacks(this._dragOrigin)))};c.prototype._doDrag=function(a){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,
this._translateAndConstrain(a))};c.prototype._endDrag=function(a,b){b instanceof MouseEvent&&0!==b.button||!this._dragging||(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(a)))};c.prototype.constrainedToComponent=function(){this._constrainedToComponent=!1};c.prototype.onDragStart=function(a){this._dragStartCallbacks.add(a);return this};c.prototype.offDragStart=function(a){this._dragStartCallbacks.delete(a);return this};c.prototype.onDrag=function(a){this._dragCallbacks.add(a);
return this};c.prototype.offDrag=function(a){this._dragCallbacks.delete(a);return this};c.prototype.onDragEnd=function(a){this._dragEndCallbacks.add(a);return this};c.prototype.offDragEnd=function(a){this._dragEndCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Drag=a},function(a,c,d){function b(a,b,c){return c-(c-a)*b}var f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)},g=d(1),k=d(13),l=d(3),m=d(0),n=d(14);a=d(15);c.zoomAt=b;a=function(a){function c(b,c){var d=a.call(this)||this;d._wheelCallback=function(a,b){return d._handleWheelEvent(a,b)};d._touchStartCallback=function(a,b){return d._handleTouchStart(a,b)};d._touchMoveCallback=function(a,b){return d._handlePinch(a,b)};d._touchEndCallback=function(a){return d._handleTouchEnd(a)};d._touchCancelCallback=function(a){return d._handleTouchEnd(a)};d._panEndCallbacks=new m.CallbackSet;d._zoomEndCallbacks=
new m.CallbackSet;d._xScales=new m.Set;d._yScales=new m.Set;d._dragInteraction=new n.Drag;d._setupDragInteraction();d._touchIds=g.map();d._minDomainExtents=new m.Map;d._maxDomainExtents=new m.Map;d._minDomainValues=new m.Map;d._maxDomainValues=new m.Map;null!=b&&d.addXScale(b);null!=c&&d.addYScale(c);return d}f(c,a);c.prototype.pan=function(a){var b=this;this.xScales().forEach(function(c){c.pan(b._constrainedTranslation(c,a.x))});this.yScales().forEach(function(c){c.pan(b._constrainedTranslation(c,
a.y))})};c.prototype.zoom=function(a,b){this.xScales().forEach(function(c){var d=c.range();c.zoom(a,void 0===b?(d[1]-d[0])/2:b.x)});this.yScales().forEach(function(c){var d=c.range();c.zoom(a,void 0===b?(d[1]-d[0])/2:b.y)})};c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._dragInteraction.attachTo(b);this._mouseDispatcher=k.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onWheel(this._wheelCallback);this._touchDispatcher=k.Touch.getDispatcher(this._componentAttachedTo);
this._touchDispatcher.onTouchStart(this._touchStartCallback);this._touchDispatcher.onTouchMove(this._touchMoveCallback);this._touchDispatcher.onTouchEnd(this._touchEndCallback);this._touchDispatcher.onTouchCancel(this._touchCancelCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offWheel(this._wheelCallback);this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher.offTouchMove(this._touchMoveCallback);
this._touchDispatcher.offTouchEnd(this._touchEndCallback);this._touchDispatcher.offTouchCancel(this._touchCancelCallback);this._touchDispatcher=null;this._dragInteraction.detachFrom()};c.prototype._handleTouchStart=function(a,b){for(var c=0;c<a.length&&2>this._touchIds.size();c++){var d=a[c];this._touchIds.set(d.toString(),this._translateToComponentSpace(b[d]))}};c.prototype._handlePinch=function(a,b){var d=this;if(!(2>this._touchIds.size())){var e=this._touchIds.values();if(this._isInsideComponent(this._translateToComponentSpace(e[0]))&&
this._isInsideComponent(this._translateToComponentSpace(e[1]))){var f=c._pointDistance(e[0],e[1]);if(0!==f){a.forEach(function(a){d._touchIds.has(a.toString())&&d._touchIds.set(a.toString(),d._translateToComponentSpace(b[a]))});a=this._touchIds.values();var g=c._pointDistance(a[0],a[1]);if(0!==g){var k=f/g,l=a.map(function(a,b){return{x:(a.x-e[b].x)/k,y:(a.y-e[b].y)/k}}),f=c.centerPoint(e[0],e[1]),m=f.x,n=f.y;this.xScales().forEach(function(a){a=d._constrainedZoom(a,k,m);m=a.centerPoint;k=a.zoomAmount});
this.yScales().forEach(function(a){a=d._constrainedZoom(a,k,n);n=a.centerPoint;k=a.zoomAmount});f=e.map(function(a,b){return{x:l[b].x*k+a.x,y:l[b].y*k+a.y}});f={x:m-(f[0].x+f[1].x)/2,y:n-(f[0].y+f[1].y)/2};this.zoom(k,{x:m,y:n});this.pan(f)}}}}};c.centerPoint=function(a,b){return{x:(Math.min(a.x,b.x)+Math.max(a.x,b.x))/2,y:(Math.max(a.y,b.y)+Math.min(a.y,b.y))/2}};c._pointDistance=function(a,b){return Math.sqrt(Math.pow(Math.max(a.x,b.x)-Math.min(a.x,b.x),2)+Math.pow(Math.max(a.y,b.y)-Math.min(a.y,
b.y),2))};c.prototype._handleTouchEnd=function(a){var b=this;a.forEach(function(a){b._touchIds.remove(a.toString())});0<this._touchIds.size()&&this._zoomEndCallbacks.callCallbacks()};c.prototype._handleWheelEvent=function(a,b){var d=this;a=this._translateToComponentSpace(a);if(this._isInsideComponent(a)){b.preventDefault();var e=Math.pow(2,b.deltaY*(b.deltaMode?c._PIXELS_PER_LINE:1)*.002),f=a.x,g=a.y;this.xScales().forEach(function(a){a=d._constrainedZoom(a,e,f);f=a.centerPoint;e=a.zoomAmount});this.yScales().forEach(function(a){a=
d._constrainedZoom(a,e,g);g=a.centerPoint;e=a.zoomAmount});this.zoom(e,{x:f,y:g});this._zoomEndCallbacks.callCallbacks()}};c.prototype._isRangeReversed=function(a){a=a.range();return a[1]<a[0]};c.prototype._constrainedZoom=function(a,b,c){b=this._constrainZoomExtents(a,b);return this._constrainZoomValues(a,b,c)};c.prototype._constrainZoomExtents=function(a,b){var c=1<b,d=c?this.maxDomainExtent(a):this.minDomainExtent(a);if(null==d)return b;a=a.getTransformationDomain();return(c?Math.min:Math.max)(b,
d/Math.abs(a[1]-a[0]))};c.prototype._constrainZoomValues=function(a,c,d){if(1>=c)return{centerPoint:d,zoomAmount:c};var e=this._isRangeReversed(a),f=this.minDomainValue(a),g=this.maxDomainValue(a);if(null==f&&null==g)return{centerPoint:d,zoomAmount:c};var k=a.getTransformationDomain();var l=k[0],m=k[1];if(null!=g){var n=a.scaleTransformation(g);var q=a.scaleTransformation(m);var p=b(q,c,d);p>n!=e&&(d=this._getZoomCenterForTarget(q,c,n))}if(null!=f){var r=a.scaleTransformation(f);k=a.scaleTransformation(l);
var t=b(k,c,d);t<r!=e&&(d=this._getZoomCenterForTarget(k,c,r))}null!=g&&null!=g&&(n=a.scaleTransformation(g),q=a.scaleTransformation(m),p=b(q,c,d),r=a.scaleTransformation(f),k=a.scaleTransformation(l),t=b(k,c,d),p>n!=e||t<r!=e)&&(a=q-k+r-n,0===a?(d=(q+k)/2,c=1):(d=(q*r-k*n)/a,c=(n-r)/(q-k)));return{centerPoint:d,zoomAmount:c}};c.prototype._getZoomCenterForTarget=function(a,b,c){return(a*b-c)/(b-1)};c.prototype._setupDragInteraction=function(){var a=this;this._dragInteraction.constrainedToComponent();
var b;this._dragInteraction.onDragStart(function(){return b=null});this._dragInteraction.onDrag(function(c,d){2<=a._touchIds.size()||(a.pan({x:(null==b?c.x:b.x)-d.x,y:(null==b?c.y:b.y)-d.y}),b=d)});this._dragInteraction.onDragEnd(function(){return a._panEndCallbacks.callCallbacks()})};c.prototype._constrainedTranslation=function(a,b){var c=a.getTransformationDomain(),d=c[0],e=c[1],c=this._isRangeReversed(a);if(0<b!==c){var f=this.maxDomainValue(a);null!=f&&(d=a.scaleTransformation(e),a=a.scaleTransformation(f),
b=(c?Math.max:Math.min)(d+b,a)-d)}else f=this.minDomainValue(a),null!=f&&(d=a.scaleTransformation(d),a=a.scaleTransformation(f),b=(c?Math.min:Math.max)(d+b,a)-d);return b};c.prototype._nonLinearScaleWithExtents=function(a){return null!=this.minDomainExtent(a)&&null!=this.maxDomainExtent(a)&&!(a instanceof l.Linear)&&!(a instanceof l.Time)};c.prototype.xScales=function(){var a=[];this._xScales.forEach(function(b){a.push(b)});return a};c.prototype.yScales=function(){var a=[];this._yScales.forEach(function(b){a.push(b)});
return a};c.prototype.addXScale=function(a){this._xScales.add(a)};c.prototype.removeXScale=function(a){this._xScales.delete(a);this._minDomainExtents.delete(a);this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);this._maxDomainValues.delete(a);return this};c.prototype.addYScale=function(a){this._yScales.add(a)};c.prototype.removeYScale=function(a){this._yScales.delete(a);this._minDomainExtents.delete(a);this._maxDomainExtents.delete(a);this._minDomainValues.delete(a);this._maxDomainValues.delete(a);
return this};c.prototype.minDomainExtent=function(a){return this._minDomainExtents.get(a)};c.prototype.maxDomainExtent=function(a){return this._maxDomainExtents.get(a)};c.prototype.minDomainValue=function(a,b){if(null==b)return this._minDomainValues.get(a);this._minDomainValues.set(a,b);return this};c.prototype.maxDomainValue=function(a,b){if(null==b)return this._maxDomainValues.get(a);this._maxDomainValues.set(a,b);return this};c.prototype.setMinMaxDomainValuesTo=function(a){this._minDomainValues.delete(a);
this._maxDomainValues.delete(a);var b=a.getTransformationDomain(),c=b[1];this.minDomainValue(a,b[0]);this.maxDomainValue(a,c);return this};c.prototype.onPanEnd=function(a){this._panEndCallbacks.add(a);return this};c.prototype.offPanEnd=function(a){this._panEndCallbacks.delete(a);return this};c.prototype.onZoomEnd=function(a){this._zoomEndCallbacks.add(a);return this};c.prototype.offZoomEnd=function(a){this._zoomEndCallbacks.delete(a);return this};return c}(a.Interaction);a._PIXELS_PER_LINE=120;c.PanZoom=
a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(13),g=d(0);a=function(a){function c(){var b=null!==a&&a.apply(this,arguments)||this;b._overComponent=!1;b._pointerEnterCallbacks=new g.CallbackSet;b._pointerMoveCallbacks=new g.CallbackSet;b._pointerExitCallbacks=new g.CallbackSet;b._mouseMoveCallback=function(a,c){return b._handleMouseEvent(a,
c)};b._touchStartCallback=function(a,c,d){return b._handleTouchEvent(c[a[0]],d)};return b}b(c,a);c.prototype._anchor=function(b){a.prototype._anchor.call(this,b);this._mouseDispatcher=f.Mouse.getDispatcher(this._componentAttachedTo);this._mouseDispatcher.onMouseMove(this._mouseMoveCallback);this._touchDispatcher=f.Touch.getDispatcher(this._componentAttachedTo);this._touchDispatcher.onTouchStart(this._touchStartCallback)};c.prototype._unanchor=function(){a.prototype._unanchor.call(this);this._mouseDispatcher.offMouseMove(this._mouseMoveCallback);
this._mouseDispatcher=null;this._touchDispatcher.offTouchStart(this._touchStartCallback);this._touchDispatcher=null};c.prototype._handleMouseEvent=function(a,b){b=this._mouseDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};c.prototype._handleTouchEvent=function(a,b){b=this._touchDispatcher.eventInside(this._componentAttachedTo,b);this._handlePointerEvent(a,b)};c.prototype._handlePointerEvent=function(a,b){a=this._translateToComponentSpace(a);var c=this._isInsideComponent(a);
c&&b?(this._overComponent||this._pointerEnterCallbacks.callCallbacks(a),this._pointerMoveCallbacks.callCallbacks(a)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(a);this._overComponent=c&&b};c.prototype.onPointerEnter=function(a){this._pointerEnterCallbacks.add(a);return this};c.prototype.offPointerEnter=function(a){this._pointerEnterCallbacks.delete(a);return this};c.prototype.onPointerMove=function(a){this._pointerMoveCallbacks.add(a)};c.prototype.offPointerMove=function(a){this._pointerMoveCallbacks.delete(a)};
c.prototype.onPointerExit=function(a){this._pointerExitCallbacks.add(a)};c.prototype.offPointerExit=function(a){this._pointerExitCallbacks.delete(a);return this};return c}(d(15).Interaction);c.Pointer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(3),g=d(0);a=d(24);var k=d(2);d=function(a){function c(b){void 0===b&&(b="vertical");
b=a.call(this,b)||this;b._clusterOffsets=new g.Map;return b}b(c,a);c.prototype._generateAttrToProjector=function(){function b(){return e.rangeBand()}var c=this,d=a.prototype._generateAttrToProjector.call(this),e=this._makeInnerScale();d.width=this._isVertical?b:d.width;d.height=this._isVertical?d.height:b;var f=d.x,g=d.y;d.x=this._isVertical?function(a,b,d){return f(a,b,d)+c._clusterOffsets.get(d)}:function(a,b,c){return f(a,b,c)};d.y=this._isVertical?function(a,b,c){return g(a,b,c)}:function(a,b,
d){return g(a,b,d)+c._clusterOffsets.get(d)};return d};c.prototype._updateClusterPosition=function(){var a=this,b=this._makeInnerScale();this.datasets().forEach(function(c,d){return a._clusterOffsets.set(c,b.scale(String(d))-b.rangeBand()/2)})};c.prototype._makeInnerScale=function(){var a=new f.Category;a.domain(this.datasets().map(function(a,b){return String(b)}));var b=k.Plot._scaledAccessor(this.attr("width"));a.range([0,b(null,0,null)]);return a};c.prototype._getDataToDraw=function(){this._updateClusterPosition();
return a.prototype._getDataToDraw.call(this)};return c}(a.Bar);c.ClusteredBar=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(7),l=d(10),m=d(3),n=d(0),q=d(41),p=d(42),t=d(6),r=d(25),v=d(2);a=function(a){function c(){var b=a.call(this)||this;b._startAngle=0;b._endAngle=2*Math.PI;b._labelFormatter=l.identity();b._labelsEnabled=
!1;b.innerRadius(0);b.outerRadius(function(){var a=b._pieCenter();return Math.min(Math.max(b.width()-a.x,a.x),Math.max(b.height()-a.y,a.y))});b.addClass("pie-plot");b.attr("fill",function(a,b){return String(b)},new m.Color);b._strokeDrawers=new n.Map;return b}b(c,a);c.prototype._setup=function(){var b=this;a.prototype._setup.call(this);this._strokeDrawers.forEach(function(a){return a.attachTo(b._renderArea)})};c.prototype.computeLayout=function(b,c,d){a.prototype.computeLayout.call(this,b,c,d);b=
this._pieCenter();this._renderArea.attr("transform","translate("+b.x+","+b.y+")");b=Math.min(Math.max(this.width()-b.x,b.x),Math.max(this.height()-b.y,b.y));null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,b]);null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,b]);return this};c.prototype.addDataset=function(b){a.prototype.addDataset.call(this,b);return this};c.prototype._addDataset=function(b){if(1===this.datasets().length)return n.Window.warn("Only one dataset is supported in Pie plots"),
this;this._updatePieAngles();var c=new p.ArcOutlineSVGDrawer;this._isSetup&&c.attachTo(this._renderArea);this._strokeDrawers.set(b,c);a.prototype._addDataset.call(this,b);return this};c.prototype.removeDataset=function(b){a.prototype.removeDataset.call(this,b);return this};c.prototype._removeDatasetNodes=function(b){a.prototype._removeDatasetNodes.call(this,b);this._strokeDrawers.get(b).remove()};c.prototype._removeDataset=function(b){a.prototype._removeDataset.call(this,b);this._startAngles=[];this._endAngles=
[];return this};c.prototype.selections=function(b){var c=this;void 0===b&&(b=this.datasets());var d=a.prototype.selections.call(this,b).nodes();b.forEach(function(a){a=c._strokeDrawers.get(a);null!=a&&d.push.apply(d,a.getVisualPrimitives())});return f.selectAll(d)};c.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this);this._updatePieAngles();this.render()};c.prototype._createDrawer=function(){return new t.ProxyDrawer(function(){return new q.ArcSVGDrawer},function(){r.warn("canvas renderer is not supported on Pie Plot!")})};
c.prototype.entities=function(b){var c=this;void 0===b&&(b=this.datasets());return a.prototype.entities.call(this,b).map(function(a){a.position.x+=c.width()/2;a.position.y+=c.height()/2;var b=f.select(c._strokeDrawers.get(a.dataset).getVisualPrimitiveAtIndex(a.index));a.strokeSelection=b;return a})};c.prototype.sectorValue=function(){return this._propertyBindings.get(c._SECTOR_VALUE_KEY)};c.prototype.innerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._INNER_RADIUS_KEY);this._bindProperty(c._INNER_RADIUS_KEY,
a,b);this.render();return this};c.prototype.outerRadius=function(a,b){if(null==a)return this._propertyBindings.get(c._OUTER_RADIUS_KEY);this._bindProperty(c._OUTER_RADIUS_KEY,a,b);this.render();return this};c.prototype.startAngle=function(a){if(null==a)return this._startAngle;this._startAngle=a;this._updatePieAngles();this.render();return this};c.prototype.endAngle=function(a){if(null==a)return this._endAngle;this._endAngle=a;this._updatePieAngles();this.render();return this};c.prototype.labelsEnabled=
function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this.render();return this};c.prototype.labelFormatter=function(a){if(null==a)return this._labelFormatter;this._labelFormatter=a;this.render();return this};c.prototype.entitiesAt=function(a){var b=this.width()/2,c=this.height()/2;a=this._sliceIndexForPoint({x:a.x-b,y:a.y-c});return null==a?[]:[this.entities()[a]]};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=v.Plot._scaledAccessor(this.innerRadius()),
e=v.Plot._scaledAccessor(this.outerRadius());c.d=function(a,c,g){return f.arc().innerRadius(d(a,c,g)).outerRadius(e(a,c,g)).startAngle(b._startAngles[c]).endAngle(b._endAngles[c])(a,c)};return c};c.prototype._updatePieAngles=function(){if(null!=this.sectorValue()&&0!==this.datasets().length){var a=v.Plot._scaledAccessor(this.sectorValue()),b=this.datasets()[0],c=this._getDataToDraw().get(b),c=f.pie().sort(null).startAngle(this._startAngle).endAngle(this._endAngle).value(function(c,d){return a(c,d,
b)})(c);this._startAngles=c.map(function(a){return a.startAngle});this._endAngles=c.map(function(a){return a.endAngle})}};c.prototype._pieCenter=function(){var a=this._startAngle<this._endAngle?this._startAngle:this._endAngle,b=this._startAngle<this._endAngle?this._endAngle:this._startAngle,c=Math.sin(a),a=Math.cos(a),d=Math.sin(b),b=Math.cos(b),e;if(0<=c&&0<=d)if(0<=a&&0<=b){var f=a;var g=e=0;var k=d}else 0>a&&0>b?(f=0,e=-b,g=0,k=c):0<=a&&0>b?(f=a,e=-b,g=0,k=c):0>a&&0<=b&&(g=e=f=1,k=Math.max(c,d));
else 0<=c&&0>d?0<=a&&0<=b?(f=Math.max(a,b),k=g=e=1):0>a&&0>b?(f=0,e=1,g=-d,k=c):0<=a&&0>b?(f=a,e=1,g=-d,k=1):0>a&&0<=b&&(f=b,g=e=1,k=c):0>c&&0<=d?0<=a&&0<=b?(f=1,e=0,g=-c,k=d):0>a&&0>b?(f=1,e=Math.max(-a,-b),k=g=1):0<=a&&0>b?(f=1,e=-b,g=-c,k=1):0>a&&0<=b&&(f=1,e=-a,g=1,k=d):0>c&&0>d&&(0<=a&&0<=b?(f=b,e=0,g=-c,k=0):0>a&&0>b?(f=0,e=-a,g=-d,k=0):0<=a&&0>b?(e=f=1,g=Math.max(a,-b),k=1):0>a&&0<=b&&(f=b,e=-a,g=1,k=0));return{x:0==g+k?0:g/(g+k)*this.width(),y:0==f+e?0:f/(f+e)*this.height()}};c.prototype._getDataToDraw=
function(){var b=a.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return b;var d=v.Plot._scaledAccessor(this.sectorValue()),e=this.datasets()[0],f=b.get(e).filter(function(a,b){return c._isValidData(d(a,b,e))});b.set(e,f);return b};c._isValidData=function(a){return n.Math.isValidNumber(a)&&0<=a};c.prototype._pixelPoint=function(a,b,d){var e=v.Plot._scaledAccessor(this.sectorValue());if(!c._isValidData(e(a,b,d)))return{x:NaN,y:NaN};var g=v.Plot._scaledAccessor(this.innerRadius())(a,
b,d);a=v.Plot._scaledAccessor(this.outerRadius())(a,b,d);g=(g+a)/2;a=f.pie().sort(null).value(function(a,b){a=e(a,b,d);return c._isValidData(a)?a:0}).startAngle(this._startAngle).endAngle(this._endAngle)(d.data());b=(a[b].startAngle+a[b].endAngle)/2;return{x:g*Math.sin(b),y:-g*Math.cos(b)}};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.select(".label-area").remove();this._labelsEnabled&&n.Window.setTimeout(function(){return b._drawLabels()},a);var c=this._generateStrokeDrawSteps(),
d=this._getDataToDraw();this.datasets().forEach(function(a){var e=v.Plot.applyDrawSteps(c,a);b._strokeDrawers.get(a).draw(d.get(a),e)})};c.prototype._generateStrokeDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new k.Null}]};c.prototype._sliceIndexForPoint=function(a){var b=Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2)),c=Math.acos(-a.y/b);0>a.x&&(c=2*Math.PI-c);for(a=0;a<this._startAngles.length;a++)if(this._startAngles[a]<c&&this._endAngles[a]>c){var d=a;break}if(void 0!==
d){a=this.datasets()[0];var e=a.data()[d],c=this.innerRadius().accessor(e,d,a);a=this.outerRadius().accessor(e,d,a);if(b>c&&b<a)return d}return null};c.prototype._drawLabels=function(){var a=this,b=this._generateAttrToProjector(),c=this._renderArea.append("g").classed("label-area",!0),d=new g.SvgContext(c.node()),e=new g.CacheMeasurer(d),f=new g.Writer(e,d),k=this.datasets()[0];this._getDataToDraw().get(k).forEach(function(d,g){var l=a.sectorValue().accessor(d,g,k);if(n.Math.isValidNumber(l)){var l=
a._labelFormatter(l),m=e.measure(l),q=(a._endAngles[g]+a._startAngles[g])/2,p=a.outerRadius().accessor(d,g,k);a.outerRadius().scale&&(p=a.outerRadius().scale.scale(p));var r=a.innerRadius().accessor(d,g,k);a.innerRadius().scale&&(r=a.innerRadius().scale.scale(r));var r=(p+r)/2,p=Math.sin(q)*r-m.width/2,r=-Math.cos(q)*r-m.height/2,t=[{x:p,y:r},{x:p,y:r+m.height},{x:p+m.width,y:r},{x:p+m.width,y:r+m.height}];(q=t.every(function(b){return Math.abs(b.x)<=a.width()/2&&Math.abs(b.y)<=a.height()/2}))&&(q=
t.map(function(b){return a._sliceIndexForPoint(b)}).every(function(a){return a===g}));d=b.fill(d,g,k);d=1.6*n.Color.contrast("white",d)<n.Color.contrast("black",d);p=c.append("g").attr("transform","translate("+p+","+r+")");p.classed(d?"dark-label":"light-label",!0);p.style("visibility",q?"inherit":"hidden");f.write(l,m.width,m.height,{xAlign:"center",yAlign:"center"},p.node())}})};return c}(v.Plot);a._INNER_RADIUS_KEY="inner-radius";a._OUTER_RADIUS_KEY="outer-radius";a._SECTOR_VALUE_KEY="sector-value";
c.Pie=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(5),k=d(7),l=d(6),m=d(32),n=d(3),q=d(0),p=d(2);a=function(a){function c(){var b=a.call(this)||this;b._labelsEnabled=!1;b._label=null;b.animator("rectangles",new k.Null);b.addClass("rectangle-plot");b.attr("fill",(new n.Color).range()[0]);return b}b(c,a);c.prototype._createDrawer=
function(){return new l.ProxyDrawer(function(){return new m.RectangleSVGDrawer},m.RectangleCanvasDrawStep)};c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=p.Plot._scaledAccessor(this.x()),f=d[c._X2_KEY],g=p.Plot._scaledAccessor(this.y()),k=d[c._Y2_KEY],l=this.x().scale,m=this.y().scale;null!=f?(d.width=function(a,b,c){return Math.abs(f(a,b,c)-e(a,b,c))},d.x=function(a,b,c){return Math.min(f(a,b,c),e(a,b,c))}):(d.width=function(){return b._rectangleWidth(l)},
d.x=function(a,b,c){return e(a,b,c)-.5*d.width(a,b,c)});null!=k?(d.height=function(a,b,c){return Math.abs(k(a,b,c)-g(a,b,c))},d.y=function(a,b,c){return Math.max(k(a,b,c),g(a,b,c))-d.height(a,b,c)}):(d.height=function(){return b._rectangleWidth(m)},d.y=function(a,b,c){return g(a,b,c)-.5*d.height(a,b,c)});delete d[c._X2_KEY];delete d[c._Y2_KEY];return d};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator("rectangles")}]};c.prototype._updateExtentsForProperty=
function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"===b?a.prototype._updateExtentsForProperty.call(this,"x2"):"y"===b&&a.prototype._updateExtentsForProperty.call(this,"y2")};c.prototype._filterForProperty=function(b){return"x2"===b?a.prototype._filterForProperty.call(this,"x"):"y2"===b?a.prototype._filterForProperty.call(this,"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):a.prototype.x.call(this,
b,d);null!=d&&(b=(b=this.x2())&&b.accessor,null!=b&&this._bindProperty(c._X2_KEY,b,d));d instanceof n.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.x2=function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);var b=this.x();this._bindProperty(c._X2_KEY,a,b&&b.scale);this.render();return this};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):a.prototype.y.call(this,b,d);null!=d&&(b=(b=this.y2())&&b.accessor,null!=
b&&this._bindProperty(c._Y2_KEY,b,d));d instanceof n.Category&&d.innerPadding(0).outerPadding(0);return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,a,b&&b.scale);this.render();return this};c.prototype.entitiesAt=function(a){var b=this._generateAttrToProjector();return this.entities().filter(function(c){var d=c.datum,e=c.index,f=c.dataset;c=b.x(d,e,f);var g=b.y(d,e,f),k=b.width(d,e,f),d=b.height(d,e,f);return c<=
a.x&&a.x<=c+k&&g<=a.y&&a.y<=g+d})};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};c.prototype._entityBBox=function(a,b,c,d){return{x:d.x(a,b,c),y:d.y(a,b,c),width:d.width(a,b,c),height:d.height(a,b,c)}};c.prototype._entitiesIntersecting=function(a,b){var c=this,d=[],e=this._generateAttrToProjector();this.entities().forEach(function(f){q.DOM.intersectsBBox(a,b,
c._entityBBox(f.datum,f.index,f.dataset,e))&&d.push(f)});return d};c.prototype.label=function(a){if(null==a)return this._label;this._label=a;this.render();return this};c.prototype.labelsEnabled=function(a){if(null==a)return this._labelsEnabled;this._labelsEnabled=a;this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);null!=this.x2()&&(b.x2=p.Plot._scaledAccessor(this.x2()));null!=this.y2()&&(b.y2=p.Plot._scaledAccessor(this.y2()));
return b};c.prototype._pixelPoint=function(a,b,c){var d=this._generateAttrToProjector(),e=d.x(a,b,c),f=d.y(a,b,c),g=d.width(a,b,c);a=d.height(a,b,c);return{x:e+g/2,y:f+a/2}};c.prototype._rectangleWidth=function(a){if(a instanceof n.Category)return a.rangeBand();var b=a===this.x().scale?this.x().accessor:this.y().accessor,c=f.set(q.Array.flatten(this.datasets().map(function(a){return a.data().map(function(c,d){return b(c,d,a).valueOf()})}))).values().map(function(a){return+a}),d=q.Math.min(c,0),c=
q.Math.max(c,0),e=a.scale(d);return(a.scale(c)-e)/Math.abs(c-d)};c.prototype._getDataToDraw=function(){var a=new q.Map,b=this._generateAttrToProjector();this.datasets().forEach(function(c){var d=c.data().filter(function(a,d){return q.Math.isValidNumber(b.x(a,d,c))&&q.Math.isValidNumber(b.y(a,d,c))&&q.Math.isValidNumber(b.width(a,d,c))&&q.Math.isValidNumber(b.height(a,d,c))});a.set(c,d)});return a};c.prototype._additionalPaint=function(a){var b=this;this._renderArea.selectAll(".label-area").remove();
this._labelsEnabled&&null!=this.label()&&q.Window.setTimeout(function(){return b._drawLabels()},a)};c.prototype._drawLabels=function(){var a=this,b=this._getDataToDraw();this.datasets().forEach(function(c,d){return a._drawLabel(b,c,d)})};c.prototype._drawLabel=function(a,b,c){var d=this,e=this._generateAttrToProjector(),f=this._renderArea.append("g").classed("label-area",!0),k=new g.SvgContext(f.node()),l=new g.CacheMeasurer(k),m=new g.Writer(l,k),k=this.x().scale.range(),n=this.y().scale.range(),
p=Math.min.apply(null,k),r=Math.max.apply(null,k),t=Math.min.apply(null,n),v=Math.max.apply(null,n);a.get(b).forEach(function(g,k){var n=""+d.label()(g,k,b),w=l.measure(n),z=e.x(g,k,b),y=e.y(g,k,b),A=e.width(g,k,b),D=e.height(g,k,b);w.height<=D&&w.width<=A&&(D=(D-w.height)/2,z+=(A-w.width)/2,y+=D,A={min:z,max:z+w.width},D={min:y,max:y+w.height},A.min<p||A.max>r||D.min<t||D.max>v||d._overlayLabel(A,D,k,c,a)||(g=e.fill(g,k,b),g=1.6*q.Color.contrast("white",g)<q.Color.contrast("black",g),z=f.append("g").attr("transform",
"translate("+z+","+y+")"),z.classed(g?"dark-label":"light-label",!0),m.write(n,w.width,w.height,{xAlign:"center",yAlign:"center"},z.node())))})};c.prototype._overlayLabel=function(a,b,c,d,e){for(var f=this._generateAttrToProjector(),g=this.datasets(),k=d;k<g.length;k++)for(var l=g[k],m=e.get(l),n=k===d?c+1:0;n<m.length;n++)if(q.DOM.intersectsBBox(a,b,this._entityBBox(m[n],n,l,f)))return!0;return!1};return c}(d(16).XYPlot);a._X2_KEY="x2";a._Y2_KEY="y2";c.Rectangle=a},function(a,c,d){var b=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(29),g=d(6),k=d(45),l=d(7),m=d(3),n=d(0),q=d(17),p=d(2);a=function(a){function c(){var b=a.call(this)||this;b.addClass("scatter-plot");var c=new l.Easing;c.startDelay(5);c.stepDuration(250);c.maxTotalDuration(p.Plot._ANIMATION_MAX_DURATION);b.animator(q.Animator.MAIN,c);b.attr("opacity",.6);b.attr("fill",(new m.Color).range()[0]);b.size(6);
var d=f.circle();b.symbol(function(){return d});return b}b(c,a);c.prototype._buildLightweightPlotEntities=function(b){var c=this;return a.prototype._buildLightweightPlotEntities.call(this,b).map(function(a){var b=p.Plot._scaledAccessor(c.size())(a.datum,a.index,a.dataset);a.diameter=b;return a})};c.prototype._createDrawer=function(a){var b=this;return new g.ProxyDrawer(function(){return new k.SymbolSVGDrawer},k.makeSymbolCanvasDrawStep(a,function(){return p.Plot._scaledAccessor(b.symbol())},function(){return p.Plot._scaledAccessor(b.size())}))};
c.prototype.size=function(a,b){if(null==a)return this._propertyBindings.get(c._SIZE_KEY);this._bindProperty(c._SIZE_KEY,a,b);this.render();return this};c.prototype.symbol=function(a){if(null==a)return this._propertyBindings.get(c._SYMBOL_KEY);this._propertyBindings.set(c._SYMBOL_KEY,{accessor:a});this.render();return this};c.prototype._generateDrawSteps=function(){var a=[];if(this._animateOnNextRender()){var b=this._generateAttrToProjector(),c=p.Plot._scaledAccessor(this.symbol());b.d=function(a,
b,d){return c(a,b,d)(0)(null)};a.push({attrToProjector:b,animator:this._getAnimator(q.Animator.RESET)})}a.push({attrToProjector:this._generateAttrToProjector(),animator:this._getAnimator(q.Animator.MAIN)});return a};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this),c=p.Plot._scaledAccessor(this.x()),d=p.Plot._scaledAccessor(this.y());b.x=c;b.y=d;b.transform=function(a,b,e){return"translate("+c(a,b,e)+","+d(a,b,e)+")"};b.d=this._constructSymbolGenerator();
return b};c.prototype._constructSymbolGenerator=function(){var a=p.Plot._scaledAccessor(this.symbol()),b=p.Plot._scaledAccessor(this.size());return function(c,d,e){return a(c,d,e)(b(c,d,e))(null)}};c.prototype._entityVisibleOnPlot=function(a,b){return n.DOM.intersectsBBox({min:b.topLeft.x,max:b.bottomRight.x},{min:b.topLeft.y,max:b.bottomRight.y},{x:a.position.x-a.diameter,y:a.position.y-a.diameter,width:a.diameter,height:a.diameter})};c.prototype.entitiesIn=function(a,b){if(null==b){var c={min:a.topLeft.x,
max:a.bottomRight.x};var d={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,d=b;var e=p.Plot._scaledAccessor(this.x()),f=p.Plot._scaledAccessor(this.y());return this.entities().filter(function(a){var b=a.datum,g=a.index,k=a.dataset;a=e(b,g,k);b=f(b,g,k);return c.min<=a&&a<=c.max&&d.min<=b&&b<=d.max})};c.prototype.entitiesAt=function(a){var b=p.Plot._scaledAccessor(this.x()),c=p.Plot._scaledAccessor(this.y()),d=p.Plot._scaledAccessor(this.size());return this.entities().filter(function(e){var f=e.datum,
g=e.index,k=e.dataset;e=b(f,g,k);var l=c(f,g,k),f=d(f,g,k);return e-f/2<=a.x&&a.x<=e+f/2&&l-f/2<=a.y&&a.y<=l+f/2})};return c}(d(16).XYPlot);a._SIZE_KEY="size";a._SYMBOL_KEY="symbol";c.Scatter=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(7),g=d(6),k=d(44),l=d(3),m=d(25),n=d(2);a=function(a){function c(){var b=a.call(this)||this;b.addClass("segment-plot");
b.attr("stroke",(new l.Color).range()[0]);b.attr("stroke-width","2px");return b}b(c,a);c.prototype._createDrawer=function(){return new g.ProxyDrawer(function(){return new k.SegmentSVGDrawer},function(){m.warn("canvas renderer is not supported on Segment Plot!")})};c.prototype._generateDrawSteps=function(){return[{attrToProjector:this._generateAttrToProjector(),animator:new f.Null}]};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"===b?a.prototype._updateExtentsForProperty.call(this,
"x2"):"y"===b&&a.prototype._updateExtentsForProperty.call(this,"y2")};c.prototype._filterForProperty=function(b){return"x2"===b?a.prototype._filterForProperty.call(this,"x"):"y2"===b?a.prototype._filterForProperty.call(this,"y"):a.prototype._filterForProperty.call(this,b)};c.prototype.x=function(b,d){if(null==b)return a.prototype.x.call(this);null==d?a.prototype.x.call(this,b):(a.prototype.x.call(this,b,d),b=(b=this.x2())&&b.accessor,null!=b&&this._bindProperty(c._X2_KEY,b,d));return this};c.prototype.x2=
function(a){if(null==a)return this._propertyBindings.get(c._X2_KEY);var b=this.x();this._bindProperty(c._X2_KEY,a,b&&b.scale);this.render();return this};c.prototype.y=function(b,d){if(null==b)return a.prototype.y.call(this);null==d?a.prototype.y.call(this,b):(a.prototype.y.call(this,b,d),b=(b=this.y2())&&b.accessor,null!=b&&this._bindProperty(c._Y2_KEY,b,d));return this};c.prototype.y2=function(a){if(null==a)return this._propertyBindings.get(c._Y2_KEY);var b=this.y();this._bindProperty(c._Y2_KEY,
a,b&&b.scale);this.render();return this};c.prototype._propertyProjectors=function(){var b=a.prototype._propertyProjectors.call(this);b.x1=n.Plot._scaledAccessor(this.x());b.x2=null==this.x2()?n.Plot._scaledAccessor(this.x()):n.Plot._scaledAccessor(this.x2());b.y1=n.Plot._scaledAccessor(this.y());b.y2=null==this.y2()?n.Plot._scaledAccessor(this.y()):n.Plot._scaledAccessor(this.y2());return b};c.prototype.entitiesAt=function(a){a=this.entityNearest(a);return null!=a?[a]:[]};c.prototype.entitiesIn=function(a,
b){if(null==b){var c={min:a.topLeft.x,max:a.bottomRight.x};a={min:a.topLeft.y,max:a.bottomRight.y}}else c=a,a=b;return this._entitiesIntersecting(c,a)};c.prototype._entitiesIntersecting=function(a,b){var c=this,d=[],e=this._generateAttrToProjector();this.entities().forEach(function(f){c._lineIntersectsBox(f,a,b,e)&&d.push(f)});return d};c.prototype._lineIntersectsBox=function(a,b,c,d){var e=this,f=d.x1(a.datum,a.index,a.dataset),g=d.x2(a.datum,a.index,a.dataset),k=d.y1(a.datum,a.index,a.dataset);
a=d.y2(a.datum,a.index,a.dataset);if(b.min<=f&&f<=b.max&&c.min<=k&&k<=c.max||b.min<=g&&g<=b.max&&c.min<=a&&a<=c.max)return!0;var l={x:f,y:k},m={x:g,y:a},n=[{x:b.min,y:c.min},{x:b.min,y:c.max},{x:b.max,y:c.max},{x:b.max,y:c.min}];return 0<n.filter(function(a,b){return 0!==b?e._lineIntersectsSegment(l,m,a,n[b-1])&&e._lineIntersectsSegment(a,n[b-1],l,m):!1}).length};c.prototype._lineIntersectsSegment=function(a,b,c,d){return 0>((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x))*((b.x-a.x)*(d.y-b.y)-(b.y-a.y)*
(d.x-b.x))};return c}(d(16).XYPlot);a._X2_KEY="x2";a._Y2_KEY="y2";c.Segment=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(7),k=d(0);a=d(46);var l=d(2);d=function(a){function c(){var b=a.call(this)||this;b._baselineValue=0;b._stackingOrder="bottomup";b.addClass("stacked-area-plot");b.attr("fill-opacity",1);b._stackingResult=
new k.Map;b._stackedExtent=[];b._baselineValueProvider=function(){return[b._baselineValue]};b.croppedRenderingEnabled(!1);return b}b(c,a);c.prototype.croppedRenderingEnabled=function(b){return null==b?a.prototype.croppedRenderingEnabled.call(this):b?(k.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):a.prototype.croppedRenderingEnabled.call(this,b)};c.prototype._getAnimator=function(){return new g.Null};c.prototype._setup=function(){a.prototype._setup.call(this);
this._baseline=this._renderArea.append("line").classed("baseline",!0)};c.prototype.x=function(b,c){if(null==b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;
this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype.downsamplingEnabled=function(b){if(null==b)return a.prototype.downsamplingEnabled.call(this);k.Window.warn("Warning: Stacked Area Plot does not support downsampling");return this};c.prototype._additionalPaint=function(){var a=this.y().scale.scale(this._baselineValue),a={x1:0,y1:a,x2:this.width(),y2:a};this._getAnimator("baseline").animate(this._baseline,a)};c.prototype._updateYScale=function(){var a=this.y(),a=a&&a.scale;null!=
a&&(a.addPaddingExceptionsProvider(this._baselineValueProvider),a.addIncludedValuesProvider(this._baselineValueProvider))};c.prototype._onDatasetUpdate=function(){this._updateStackExtentsAndOffsets();a.prototype._onDatasetUpdate.call(this);return this};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"!==b&&"y"!==b||!this._projectorsReady()||this._updateStackExtentsAndOffsets()};c.prototype._extentsForProperty=function(b){return"y"===b?[this._stackedExtent]:
a.prototype._extentsForProperty.call(this,b)};c.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var a=this.datasets(),b=this.x().accessor,c=this.y().accessor,d=this._filterForProperty("y");this._checkSameDomain(a,b);this._stackingResult=k.Stacking.stack(a,b,c,this._stackingOrder);this._stackedExtent=k.Stacking.stackedExtent(this._stackingResult,b,d)}};c.prototype._checkSameDomain=function(a,b){var d=a.map(function(a){return f.set(a.data().map(function(c,d){return b(c,
d,a).toString()})).values()}),e=c._domainKeys(a,b);d.some(function(a){return a.length!==e.length})&&k.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior.")};c._domainKeys=function(a,b){var c=f.set();a.forEach(function(a){a.data().forEach(function(d,e){c.add(b(d,e,a))})});return c.values()};c.prototype._propertyProjectors=function(){var b=this,c=a.prototype._propertyProjectors.call(this),d=this.y().accessor,e=this.x().accessor;c.d=this._constructAreaProjector(l.Plot._scaledAccessor(this.x()),
function(a,c,f){return b.y().scale.scale(+d(a,c,f)+b._stackingResult.get(f).get(k.Stacking.normalizeKey(e(a,c,f))).offset)},function(a,c,d){return b.y().scale.scale(b._stackingResult.get(d).get(k.Stacking.normalizeKey(e(a,c,d))).offset)});return c};c.prototype._pixelPoint=function(b,c,d){var e=a.prototype._pixelPoint.call(this,b,c,d),f=this.x().accessor(b,c,d);b=this.y().accessor(b,c,d);d=this.y().scale.scale(+b+this._stackingResult.get(d).get(k.Stacking.normalizeKey(f)).offset);return{x:e.x,y:d}};
return c}(a.Area);c.StackedArea=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(5),g=d(0),k=d(24);a=function(a){function c(b){void 0===b&&(b="vertical");b=a.call(this,b)||this;b.addClass("stacked-bar-plot");b._stackingOrder="bottomup";b._stackingResult=new g.Map;b._stackedExtent=[];return b}b(c,a);c.prototype.x=function(b,c){if(null==
b)return a.prototype.x.call(this);null==c?a.prototype.x.call(this,b):a.prototype.x.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.y=function(b,c){if(null==b)return a.prototype.y.call(this);null==c?a.prototype.y.call(this,b):a.prototype.y.call(this,b,c);this._updateStackExtentsAndOffsets();return this};c.prototype.stackingOrder=function(a){if(null==a)return this._stackingOrder;this._stackingOrder=a;this._onDatasetUpdate();return this};c.prototype._setup=function(){a.prototype._setup.call(this);
this._labelArea=this._renderArea.append("g").classed(k.Bar._LABEL_AREA_CLASS,!0);var b=new f.SvgContext(this._labelArea.node());this._measurer=new f.CacheMeasurer(b);this._writer=new f.Writer(this._measurer,b)};c.prototype._drawLabels=function(){function b(a,b,e){var f=e.x,g=e.y,k=b.height,l=b.width;e=d._isVertical?l>z-2*c._LABEL_PADDING:k>z-2*c._LABEL_PADDING;0>f||0>g||f+l>d.width()||g+k>d.height()||e||(f=d._labelArea.append("g").attr("transform","translate("+f+", "+g+")"),f.classed("stacked-bar-label",
!0),d._writer.write(a,b.width,b.height,{xAlign:"center",yAlign:"center"},f.node()));return e}var d=this;a.prototype._drawLabels.call(this);this._labelArea.selectAll("g").remove();var e=+this.baselineValue(),f=this._isVertical?this.x().scale:this.y().scale,k=this._isVertical?this.y().scale:this.x().scale,l=g.Stacking.stackedExtents(this._stackingResult),m=l.maximumExtents,l=l.minimumExtents,z=this._getBarPixelWidth(),y=[];m.forEach(function(a){if(a.extent!==e){var g=d.labelFormatter()(a.extent),l=
d._measurer.measure(g),m=d._isVertical?l.width:l.height,n=d._isVertical?l.height:l.width,q=d._isVertical?f.scale(a.axisValue)-m/2:k.scale(a.extent)+c._STACKED_BAR_LABEL_PADDING;a=d._isVertical?k.scale(a.extent)-n-c._STACKED_BAR_LABEL_PADDING:f.scale(a.axisValue)-m/2;y.push(b(g,l,{x:q,y:a}))}});l.forEach(function(a){if(a.extent!==e){var g=d.labelFormatter()(a.extent),l=d._measurer.measure(g),m=d._isVertical?l.width:l.height,n=d._isVertical?l.height:l.width,n=d._isVertical?f.scale(a.axisValue)-m/2:
k.scale(a.extent)-n-c._STACKED_BAR_LABEL_PADDING;a=d._isVertical?k.scale(a.extent)+c._STACKED_BAR_LABEL_PADDING:f.scale(a.axisValue)-m/2;y.push(b(g,l,{x:n,y:a}))}});y.some(function(a){return a})&&this._labelArea.selectAll("g").remove()};c.prototype._generateAttrToProjector=function(){function b(a,b,c){return 0>+B(a,b,c)?e(a,b,c):d(a,b,c)}function c(a,b,c){return Math.abs(d(a,b,c)-e(a,b,c))}function d(a,b,c){return y.scale(+B(a,b,c)+f._stackingResult.get(c).get(g.Stacking.normalizeKey(A(a,b,c))).offset)}
function e(a,b,c){return y.scale(f._stackingResult.get(c).get(g.Stacking.normalizeKey(A(a,b,c))).offset)}var f=this,k=a.prototype._generateAttrToProjector.call(this),l=this._isVertical?"y":"x",m=this._isVertical?"x":"y",y=this._isVertical?this.y().scale:this.x().scale,B=this._propertyBindings.get(l).accessor,A=this._propertyBindings.get(m).accessor;k[this._isVertical?"height":"width"]=c;k[l]=function(a,d,e){return f._isVertical?b(a,d,e):b(a,d,e)-c(a,d,e)};return k};c.prototype._onDatasetUpdate=function(){this._updateStackExtentsAndOffsets();
a.prototype._onDatasetUpdate.call(this);return this};c.prototype._updateExtentsForProperty=function(b){a.prototype._updateExtentsForProperty.call(this,b);"x"!==b&&"y"!==b||!this._projectorsReady()||this._updateStackExtentsAndOffsets()};c.prototype._extentsForProperty=function(b){return b===(this._isVertical?"y":"x")?[this._stackedExtent]:a.prototype._extentsForProperty.call(this,b)};c.prototype._updateStackExtentsAndOffsets=function(){if(this._projectorsReady()){var a=this.datasets(),b=this._isVertical?
this.x().accessor:this.y().accessor,c=this._isVertical?this.y().accessor:this.x().accessor,d=this._filterForProperty(this._isVertical?"y":"x");this._stackingResult=g.Stacking.stack(a,b,c,this._stackingOrder);this._stackedExtent=g.Stacking.stackedExtent(this._stackingResult,b,d)}};c.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this);this._measurer.reset()};return c}(k.Bar);a._STACKED_BAR_LABEL_PADDING=5;c.StackedBar=a},function(a,c,d){var b=this&&this.__extends||function(a,
b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(0);a=d(24);var g=d(2);d=function(a){function c(){var b=a.call(this)||this;b._connectorsEnabled=!1;b.addClass("waterfall-plot");return b}b(c,a);c.prototype.connectorsEnabled=function(a){if(null==a)return this._connectorsEnabled;this._connectorsEnabled=a;return this};c.prototype.total=function(a){if(null==a)return this._propertyBindings.get(c._TOTAL_KEY);
this._bindProperty(c._TOTAL_KEY,a,null);return this};c.prototype._additionalPaint=function(a){var b=this;this._connectorArea.selectAll("line").remove();this._connectorsEnabled&&f.Window.setTimeout(function(){return b._drawConnectors()},a)};c.prototype._createNodesForDataset=function(b){b=a.prototype._createNodesForDataset.call(this,b);this._connectorArea=this._renderArea.append("g").classed(c._CONNECTOR_AREA_CLASS,!0);return b};c.prototype._extentsForProperty=function(b){return"y"===b?[this._extent]:
a.prototype._extentsForProperty.call(this,b)};c.prototype._generateAttrToProjector=function(){var b=this,d=a.prototype._generateAttrToProjector.call(this),e=this.y().scale,f=g.Plot._scaledAccessor(this.total());null==this.attr("y")&&(d.y=function(a,c,d){var g=b.y().accessor(a,c,d);if(f(a,c,d))return Math.min(e.scale(g),e.scale(0));a=b._subtotals[c];if(0===c)return 0>g?e.scale(a-g):e.scale(a);c=b._subtotals[c-1];return a>c?e.scale(a):e.scale(c)});null==this.attr("height")&&(d.height=function(a,c,d){var g=
f(a,c,d);a=b.y().accessor(a,c,d);if(g)return Math.abs(e.scale(a)-e.scale(0));g=b._subtotals[c];if(0===c)return Math.abs(e.scale(g)-e.scale(g-a));c=b._subtotals[c-1];return Math.abs(e.scale(g)-e.scale(c))});d["class"]=function(a,d,e){var g="";null!=b.attr("class")&&(g=b.attr("class").accessor(a,d,e)+" ");if(f(a,d,e))return g+c._BAR_TOTAL_CLASS;a=b.y().accessor(a,d,e);return g+(0<a?c._BAR_GROWTH_CLASS:c._BAR_DECLINE_CLASS)};return d};c.prototype._onDatasetUpdate=function(){this._updateSubtotals();a.prototype._onDatasetUpdate.call(this);
return this};c.prototype._calculateSubtotalsAndExtent=function(a){var b=this,c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=0,f=!1;a.data().forEach(function(g,k){var l=b.y().accessor(g,k,a);(g=b.total().accessor(g,k,a))&&0!==k||(e+=l);b._subtotals.push(e);e<c&&(c=e);e>d&&(d=e);g&&(l<c&&(c=l),l>d&&(d=l));if(!f&&g){k=l-e;for(l=0;l<b._subtotals.length;l++)b._subtotals[l]+=k;f=!0;e+=k;c+=k;d+=k}});this._extent=[c,d]};c.prototype._drawConnectors=function(){for(var a=this._generateAttrToProjector(),b=this.datasets()[0],
d=1;d<b.data().length;d++){var e=d-1,f=b.data()[d],g=b.data()[e],g=a.x(g,e,b),k=a.x(f,d,b)+a.width(f,d,b),l=a.y(f,d,b);if(0<this._subtotals[d]&&this._subtotals[d]>this._subtotals[e]||0>this._subtotals[d]&&this._subtotals[d]>=this._subtotals[e])l=a.y(f,d,b)+a.height(f,d,b);this._connectorArea.append("line").classed(c._CONNECTOR_CLASS,!0).attr("x1",g).attr("x2",k).attr("y1",l).attr("y2",l)}};c.prototype._updateSubtotals=function(){var a=this.datasets();0<a.length&&(a=a[a.length-1],this._subtotals=[],
this._calculateSubtotalsAndExtent(a))};return c}(a.Bar);d._BAR_DECLINE_CLASS="waterfall-decline";d._BAR_GROWTH_CLASS="waterfall-growth";d._BAR_TOTAL_CLASS="waterfall-total";d._CONNECTOR_CLASS="connector";d._CONNECTOR_AREA_CLASS="connector-area";d._TOTAL_KEY="total";c.Waterfall=d},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);
a=function(a){function c(b){var d=a.call(this)||this;switch(b){case null:case void 0:null==c._plottableColorCache&&(c._plottableColorCache=c._getPlottableColors());b=f.scaleOrdinal().range(c._plottableColorCache);break;case "Category10":case "category10":case "10":b=f.scaleOrdinal(f.schemeCategory10);break;case "Category20":case "category20":case "20":b=f.scaleOrdinal(f.schemeCategory20);break;case "Category20b":case "category20b":case "20b":b=f.scaleOrdinal(f.schemeCategory20b);break;case "Category20c":case "category20c":case "20c":b=
f.scaleOrdinal(f.schemeCategory20c);break;default:throw Error("Unsupported ColorScale type");}d._d3Scale=b;return d}b(c,a);c.prototype.extentOfValues=function(a){return g.Array.uniq(a)};c.prototype._getExtent=function(){return g.Array.uniq(this._getAllIncludedValues())};c.invalidateColorCache=function(){c._plottableColorCache=null};c._getPlottableColors=function(){for(var a=[],b=f.select("body").append("plottable-color-tester"),c=g.Color.colorTest(b,""),d=0,e=g.Color.colorTest(b,"plottable-colors-0");null!=
e&&d<this._MAXIMUM_COLORS_FROM_CSS&&(e!==c||e!==a[a.length-1]);)a.push(e),d++,e=g.Color.colorTest(b,"plottable-colors-"+d);b.remove();return a};c.prototype.scale=function(a){var b=this._d3Scale(a);a=this.domain().indexOf(a);a=Math.floor(a/this.range().length);return g.Color.lightenColor(b,Math.log(a*c._LOOP_LIGHTEN_FACTOR+1))};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);
return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};return c}(d(18).Scale);a._LOOP_LIGHTEN_FACTOR=1.6;a._MAXIMUM_COLORS_FROM_CSS=256;c.Color=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0);a=function(a){function c(b){void 0===b&&(b="linear");
var d=a.call(this)||this;switch(b){case "linear":d._colorScale=f.scaleLinear();break;case "log":d._colorScale=f.scaleLog();break;case "sqrt":d._colorScale=f.scaleSqrt();break;case "pow":d._colorScale=f.scalePow()}if(null==d._colorScale)throw Error("unknown QuantitativeScale scale type "+b);d.range(c.REDS);return d}b(c,a);c.prototype.extentOfValues=function(a){a=f.extent(a);return null==a[0]||null==a[1]?[]:a};c.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,1]).interpolate(this._interpolateColors())};
c.prototype._interpolateColors=function(){var a=this._colorRange;if(2>a.length)throw Error("Color scale arrays must have at least two elements.");return function(){return function(b){b=Math.max(0,Math.min(1,b));b*=a.length-1;var c=Math.floor(b),d=b-c;return f.interpolateLab(a[c],a[Math.ceil(b)])(d)}}};c.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale();this._autoDomainIfAutomaticMode();this._dispatchUpdate()};c.prototype.autoDomain=function(){var a=this._getAllIncludedValues();
0<a.length&&this._setDomain([g.Math.min(a,0),g.Math.max(a,0)]);return this};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._colorRange};c.prototype._setRange=function(a){this._colorRange=a;this._resetScale()};return c}(d(18).Scale);a.REDS="#FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");
a.BLUES="#FFFFFF #CCFFFF #A5FFFD #85F7FB #6ED3EF #55A7E0 #417FD0 #2545D3 #0B02E1".split(" ");a.POSNEG="#0B02E1 #2545D3 #417FD0 #55A7E0 #6ED3EF #85F7FB #A5FFFD #CCFFFF #FFFFFF #FFF6E1 #FEF4C0 #FED976 #FEB24C #FD8D3C #FC4E2A #E31A1C #B10026".split(" ");c.InterpolatedColor=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1);a=function(a){function c(){var b=
a.call(this)||this;b._d3Scale=f.scaleLinear();return b}b(c,a);c.prototype._defaultExtent=function(){return[0,1]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?[a[0]-1,a[1]+1]:a};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype.scaleTransformation=function(a){return this.scale(a)};c.prototype.invertedTransformation=function(a){return this.invert(a)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype._getDomain=function(){return this._backingScaleDomain()};
c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(c._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=function(a,b){return this._d3Scale.copy().domain(a).nice(b).domain()};return c}(d(11).QuantitativeScale);
c.Linear=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),g=d(0),k=d(3);a=function(a){function c(b){void 0===b&&(b=10);var c=a.call(this)||this;c._d3Scale=f.scaleLinear();c._base=b;c._pivot=c._base;c._setDomain(c._defaultExtent());if(1>=b)throw Error("ModifiedLogScale: The base must be \x3e 1");return c}b(c,a);c.prototype._adjustedLog=
function(a){var b=0>a?-1:1;a*=b;a<this._pivot&&(a+=(this._pivot-a)/this._pivot);a=Math.log(a)/Math.log(this._base);return a*b};c.prototype._invertedAdjustedLog=function(a){var b=0>a?-1:1;a=Math.pow(this._base,a*b);a<this._pivot&&(a=this._pivot*(a-1)/(this._pivot-1));return a*b};c.prototype.scale=function(a){return this._d3Scale(this._adjustedLog(a))};c.prototype.invert=function(a){return this._invertedAdjustedLog(this._d3Scale.invert(a))};c.prototype.scaleTransformation=function(a){return this.scale(a)};
c.prototype.invertedTransformation=function(a){return this.invert(a)};c.prototype.getTransformationDomain=function(){return this.domain()};c.prototype._getDomain=function(){return this._untransformedDomain};c.prototype._setDomain=function(b){this._untransformedDomain=b;a.prototype._setDomain.call(this,[this._adjustedLog(b[0]),this._adjustedLog(b[1])])};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype.ticks=function(){function a(a,
b,c){return[a,b,c].sort(function(a,b){return a-b})[1]}var b=g.Math.min(this._untransformedDomain,0),c=g.Math.max(this._untransformedDomain,0),d=a(b,c,-this._pivot),e=a(b,c,this._pivot),d=this._logTicks(-d,-b).map(function(a){return-a}).reverse(),e=this._logTicks(e,c),l=Math.max(b,-this._pivot),m=Math.min(c,this._pivot),l=f.scaleLinear().domain([l,m]).ticks(this._howManyTicks(l,m)),d=d.concat(l).concat(e);1>=d.length&&(d=f.scaleLinear().domain([b,c]).ticks(k.ModifiedLog._DEFAULT_NUM_TICKS));return d};
c.prototype._logTicks=function(a,b){var c=this,d=this._howManyTicks(a,b);if(0===d)return[];var e=Math.floor(Math.log(a)/Math.log(this._base)),k=Math.ceil(Math.log(b)/Math.log(this._base)),d=f.range(k,e,-Math.ceil((k-e)/d)),e=f.range(this._base,1,-(this._base-1)).map(Math.floor),l=g.Array.uniq(e),d=d.map(function(a){return l.map(function(b){return Math.pow(c._base,a-1)*b})});return g.Array.flatten(d).filter(function(c){return a<=c&&c<=b}).sort(function(a,b){return a-b})};c.prototype._howManyTicks=
function(a,b){var c=this._adjustedLog(g.Math.min(this._untransformedDomain,0)),d=this._adjustedLog(g.Math.max(this._untransformedDomain,0));return Math.ceil((this._adjustedLog(b)-this._adjustedLog(a))/(d-c)*k.ModifiedLog._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=function(a){return a};c.prototype._defaultExtent=function(){return[0,this._base]};c.prototype._expandSingleValueDomain=function(a){return a[0]===a[1]?(a=a[0],0<a?[a/this._base,a*this._base]:0===a?[-this._base,this._base]:[a*this._base,
a/this._base]):a};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(k.ModifiedLog._DEFAULT_NUM_TICKS)};return c}(d(11).QuantitativeScale);c.ModifiedLog=a},function(a,c,d){var b=d(0);c.intervalTickGenerator=function(a){if(0>=a)throw Error("interval must be positive number");return function(c){c=c.domain();var d=Math.min(c[0],c[1]);c=Math.max(c[0],c[1]);var e=Math.ceil(d/
a)*a,d=0===d%a?[]:[d],f=b.Math.range(0,Math.floor((c-e)/a)+1).map(function(b){return e+b*a});return d.concat(f).concat(0===c%a?[]:[c])}};c.integerTickGenerator=function(){return function(a){var b=a.defaultTicks();return b.filter(function(a,c){return 0===a%1||0===c||c===b.length-1})}}},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(1),
g=d(26);a=function(a){function c(){var b=a.call(this)||this;b._d3Scale=f.scaleTime();b.autoDomain();return b}b(c,a);c.prototype.tickInterval=function(a,b){void 0===b&&(b=1);var d=f.scaleTime();a=c.timeIntervalToD3Time(a).every(b);d.domain(this.domain());d.range(this.range());return d.ticks(a)};c.prototype._setDomain=function(b){if(b[1]<b[0])throw Error("Scale.Time domain values must be in chronological order");return a.prototype._setDomain.call(this,b)};c.prototype._defaultExtent=function(){return[new Date("1970-01-01"),
new Date("1970-01-02")]};c.prototype._expandSingleValueDomain=function(a){var b=a[0].getTime(),c=a[1].getTime();return b===c?(a=new Date(b),a.setDate(a.getDate()-1),c=new Date(c),c.setDate(c.getDate()+1),[a,c]):a};c.prototype.scale=function(a){return this._d3Scale(a)};c.prototype.scaleTransformation=function(a){return this.scale(new Date(a))};c.prototype.invertedTransformation=function(a){return this.invert(a).getTime()};c.prototype.getTransformationDomain=function(){var a=this.domain();return[a[0].valueOf(),
a[1].valueOf()]};c.prototype._getDomain=function(){return this._backingScaleDomain()};c.prototype._backingScaleDomain=function(a){if(null==a)return this._d3Scale.domain();this._d3Scale.domain(a);return this};c.prototype._getRange=function(){return this._d3Scale.range()};c.prototype._setRange=function(a){this._d3Scale.range(a)};c.prototype.invert=function(a){return this._d3Scale.invert(a)};c.prototype.defaultTicks=function(){return this._d3Scale.ticks(c._DEFAULT_NUM_TICKS)};c.prototype._niceDomain=
function(a){return this._d3Scale.copy().domain(a).nice().domain()};c.timeIntervalToD3Time=function(a){switch(a){case g.TimeInterval.second:return f.timeSecond;case g.TimeInterval.minute:return f.timeMinute;case g.TimeInterval.hour:return f.timeHour;case g.TimeInterval.day:return f.timeDay;case g.TimeInterval.week:return f.timeWeek;case g.TimeInterval.month:return f.timeMonth;case g.TimeInterval.year:return f.timeYear;default:throw Error("TimeInterval specified does not exist: "+a);}};return c}(d(11).QuantitativeScale);
c.Time=a},function(a,c,d){var b=d(1),f=Array;c.add=function(a,b){if(a.length!==b.length)throw Error("attempted to add arrays of unequal length");return a.map(function(c,d){return a[d]+b[d]})};c.uniq=function(a){var c=b.set(),d=[];a.forEach(function(a){c.has(String(a))||(c.add(String(a)),d.push(a))});return d};c.flatten=function(a){return f.prototype.concat.apply([],a)};c.createFilledArray=function(a,b){for(var c=[],d=0;d<b;d++)c[d]="function"===typeof a?a(d):a;return c}},function(a,c){a=function(){function a(a,
b,c){this.maxIndex=this.minIndex=this.exitIndex=this.entryIndex=a;this.bucketValue=b;this.maxValue=this.minValue=c}a.prototype.isInBucket=function(a){return a==this.bucketValue};a.prototype.addToBucket=function(a,b){a<this.minValue&&(this.minValue=a,this.minIndex=b);a>this.maxValue&&(this.maxValue=a,this.maxIndex=b);this.exitIndex=b};a.prototype.getUniqueIndices=function(){var a=[this.entryIndex,this.maxIndex,this.minIndex,this.exitIndex];return a.filter(function(b,c){return 0==c||b!=a[c-1]})};return a}();
c.Bucket=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}b(c,a);c.prototype.callCallbacks=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];this.forEach(function(c){c.apply(a,b)});return this};return c}(d(50).Set);c.CallbackSet=a},function(a,
c,d){function b(a){function b(a){a/=255;return.03928>=a?a/12.92:g.pow((a+.055)/1.055,2.4)}a=f.rgb(a);return.2126*b(a.r)+.7152*b(a.g)+.0722*b(a.b)}var f=d(1),g=Math;c.contrast=function(a,c){a=b(a)+.05;c=b(c)+.05;return a>c?a/c:c/a};c.lightenColor=function(a,b){return f.color(a).brighter(b).rgb().toString()};c.colorTest=function(a,b){a.classed(b,!0);var c=a.style("background-color");if("transparent"===c)return null;c=/\((.+)\)/.exec(c)[1].split(",").map(function(a){a=+a;var b=a.toString(16);return 16>
a?"0"+b:b});if(4===c.length&&"00"===c[3])return null;c="#"+c.join("");a.classed(b,!1);return c}},function(a,c,d){function b(a){if("number"===typeof a)return{min:a,max:a};if(a instanceof Object&&"min"in a&&"max"in a)return a;throw Error("input '"+a+"' can't be parsed as an Range");}function f(a,b){a=a.getPropertyValue(b);return parseFloat(a)||0}var g=d(1),k=Math;c.contains=function(a,b){for(;null!=b&&b!==a;)b=b.parentNode;return b===a};c.elementBBox=function(a){try{var b=a.node().getBBox()}catch(t){b=
{x:0,y:0,width:0,height:0}}return b};c.SCREEN_REFRESH_RATE_MILLISECONDS=1E3/60;c.requestAnimationFramePolyfill=function(a){null!=window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(a,c.SCREEN_REFRESH_RATE_MILLISECONDS)};c.elementWidth=function(a){a=a instanceof g.selection?a.node():a;a=window.getComputedStyle(a);return f(a,"width")+f(a,"padding-left")+f(a,"padding-right")+f(a,"border-left-width")+f(a,"border-right-width")};c.elementHeight=function(a){a=a instanceof g.selection?
a.node():a;a=window.getComputedStyle(a);return f(a,"height")+f(a,"padding-top")+f(a,"padding-bottom")+f(a,"border-top-width")+f(a,"border-bottom-width")};var l=/translate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/,m=/rotate\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))\s*\)/,n=/scale\s*\(\s*((?:[-+]?[0-9]*\.?[0-9]+))(?:(?:(?:\s+,?\s*)|(?:,\s*))((?:[-+]?[0-9]*\.?[0-9]+)))?\s*\)/;c.getTranslateValues=function(a){a=l.exec(a.attr("transform"));if(null!=a){var b=
a[2];return[+a[1],+(void 0===b?0:b)]}return[0,0]};c.getRotate=function(a){a=m.exec(a.attr("transform"));return null!=a?+a[1]:0};c.getScaleValues=function(a){var b=n.exec(a.attr("transform"));return null!=b?(a=b[1],b=b[2],[+a,null==b?+a:+b]):[0,0]};c.clientRectsOverlap=function(a,b){return k.floor(a.right)<=k.ceil(b.left)||k.ceil(a.left)>=k.floor(b.right)||k.floor(a.bottom)<=k.ceil(b.top)||k.ceil(a.top)>=k.floor(b.bottom)?!1:!0};c.expandRect=function(a,b){return{left:a.left-b,top:a.top-b,right:a.right+
b,bottom:a.bottom+b,width:a.width+2*b,height:a.height+2*b}};c.clientRectInside=function(a,b){return k.floor(b.left)<=k.ceil(a.left)&&k.floor(b.top)<=k.ceil(a.top)&&k.floor(a.right)<=k.ceil(b.right)&&k.floor(a.bottom)<=k.ceil(b.bottom)};c.intersectsBBox=function(a,c,d,e){void 0===e&&(e=.5);a=b(a);c=b(c);return d.x+d.width>=a.min-e&&d.x<=a.max+e&&d.y+d.height>=c.min-e&&d.y<=c.max+e}},function(a,c,d){var b=d(1),f=d(33);a=function(){function a(){this._entities=[];this._tree=b.quadtree().x(function(a){return Math.floor(a.position.x)}).y(function(a){return Math.floor(a.position.y)})}
a.prototype.addAll=function(a,b){(d=this._entities).push.apply(d,a);if(void 0!==b)for(d=0;d<a.length;d++){var c=a[d];f.within(c.position,b)&&this._tree.add(c)}else this._tree.addAll(a);var d};a.prototype.entityNearest=function(a){return this._tree.find(a.x,a.y)};a.prototype.entities=function(){return this._entities};return a}();c.EntityStore=a},function(a,c,d){var b=d(33);a=function(){function a(){"function"===typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}a.prototype.set=function(a,
c){if(b.isNaN(a))throw Error("NaN may not be used as a key to the Map");if(null!=this._es6Map)return this._es6Map.set(a,c),this;for(var d=0;d<this._keyValuePairs.length;d++)if(this._keyValuePairs[d].key===a)return this._keyValuePairs[d].value=c,this;this._keyValuePairs.push({key:a,value:c});return this};a.prototype.get=function(a){if(null!=this._es6Map)return this._es6Map.get(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return this._keyValuePairs[b].value};a.prototype.has=
function(a){if(null!=this._es6Map)return this._es6Map.has(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===a)return!0;return!1};a.prototype.forEach=function(a,b){var c=this;null!=this._es6Map?this._es6Map.forEach(function(d,e){return a.call(b,d,e,c)},b):this._keyValuePairs.forEach(function(d){a.call(b,d.value,d.key,c)})};a.prototype.delete=function(a){if(null!=this._es6Map)return this._es6Map.delete(a);for(var b=0;b<this._keyValuePairs.length;b++)if(this._keyValuePairs[b].key===
a)return this._keyValuePairs.splice(b,1),!0;return!1};return a}();c.Map=a},function(a,c,d){var b=d(1),f=d(0);a=d(9);c.IStackingOrder=a.makeEnum(["topdown","bottomup"]);var g=Math;c.stack=function(a,c,d,e){void 0===e&&(e="bottomup");var g=b.map(),k=b.map(),l=new f.Map;"topdown"===e&&(a=a.slice(),a.reverse());a.forEach(function(a){var b=new f.Map;a.data().forEach(function(e,f){var l=String(c(e,f,a)),m=+d(e,f,a),n=0<=m?g:k;if(n.has(l)){var q=n.get(l);n.set(l,q+m)}else q=0,n.set(l,m);b.set(l,{offset:q,
value:m,axisValue:c(e,f,a)})});l.set(a,b)});return l};c.stackedExtents=function(a){var b=new f.Map,c=new f.Map;a.forEach(function(a){a.forEach(function(a,d){var e=f.Math.max([a.offset+a.value,a.offset],a.offset),g=f.Math.min([a.offset+a.value,a.offset],a.offset);b.has(d)?b.get(d).extent<e&&b.set(d,{extent:e,axisValue:a.axisValue}):b.set(d,{extent:e,axisValue:a.axisValue});c.has(d)?c.get(d).extent>g&&c.set(d,{extent:g,axisValue:a.axisValue}):c.set(d,{extent:g,axisValue:a.axisValue})})});return{maximumExtents:b,
minimumExtents:c}};c.stackedExtent=function(a,b,c){var d=[];a.forEach(function(a,e){e.data().forEach(function(f,g){if(null==c||c(f,g,e))f=a.get(String(b(f,g,e))),d.push(f.value+f.offset)})});a=f.Math.max(d,0);var e=f.Math.min(d,0);return[g.min(e,0),g.max(0,a)]};c.normalizeKey=function(a){return String(a)}},function(a,c,d){function b(a,b,c){a.styles({left:b+"px",top:c+"px"});a.attrs({x:""+b,y:""+c})}var f=d(1),g=d(0);c.getTranslator=function(a){a=a.root().rootElement().node();var b=a.__Plottable_ClientTranslator;
null==b&&(b=document.createElementNS(a.namespaceURI,"svg"),b.setAttribute("class","measurer"),b.setAttribute("style","opacity: 0; visibility: hidden; position: absolute; width: 1px; height: 1px;"),a.appendChild(b),b=new k(f.select(b)),a.__Plottable_ClientTranslator=b);return b};var k=function(){function a(a){this._measurementElement=a}a.prototype.computePosition=function(c,d){b(this._measurementElement,0,0);var e=this._measurementElement.node().getBoundingClientRect(),f=e.left,g=e.top;b(this._measurementElement,
a.SAMPLE_DISTANCE,a.SAMPLE_DISTANCE);var e=this._measurementElement.node().getBoundingClientRect(),k=e.left,e=e.top;if(f===k||g===e)return null;var k=(k-f)/a.SAMPLE_DISTANCE,l=(e-g)/a.SAMPLE_DISTANCE;b(this._measurementElement,(c-f)/k,(d-g)/l);e=this._measurementElement.node().getBoundingClientRect();return{x:(e.left-f)/k,y:(e.top-g)/l}};a.prototype.isInside=function(a,b){return g.DOM.contains(a.root().rootElement().node(),b.target)};return a}();k.SAMPLE_DISTANCE=100;c.Translator=k},function(a,c,
d){Object.defineProperty(c,"__esModule",{value:!0});var b=d(115);d.d(c,"easeLinear",function(){return b.a});var f=d(117);d.d(c,"easeQuad",function(){return f.a});d.d(c,"easeQuadIn",function(){return f.b});d.d(c,"easeQuadOut",function(){return f.c});d.d(c,"easeQuadInOut",function(){return f.a});var g=d(112);d.d(c,"easeCubic",function(){return g.a});d.d(c,"easeCubicIn",function(){return g.b});d.d(c,"easeCubicOut",function(){return g.c});d.d(c,"easeCubicInOut",function(){return g.a});var k=d(116);d.d(c,
"easePoly",function(){return k.a});d.d(c,"easePolyIn",function(){return k.b});d.d(c,"easePolyOut",function(){return k.c});d.d(c,"easePolyInOut",function(){return k.a});var l=d(118);d.d(c,"easeSin",function(){return l.a});d.d(c,"easeSinIn",function(){return l.b});d.d(c,"easeSinOut",function(){return l.c});d.d(c,"easeSinInOut",function(){return l.a});var m=d(114);d.d(c,"easeExp",function(){return m.a});d.d(c,"easeExpIn",function(){return m.b});d.d(c,"easeExpOut",function(){return m.c});d.d(c,"easeExpInOut",
function(){return m.a});var n=d(111);d.d(c,"easeCircle",function(){return n.a});d.d(c,"easeCircleIn",function(){return n.b});d.d(c,"easeCircleOut",function(){return n.c});d.d(c,"easeCircleInOut",function(){return n.a});var q=d(110);d.d(c,"easeBounce",function(){return q.a});d.d(c,"easeBounceIn",function(){return q.b});d.d(c,"easeBounceOut",function(){return q.a});d.d(c,"easeBounceInOut",function(){return q.c});var p=d(109);d.d(c,"easeBack",function(){return p.a});d.d(c,"easeBackIn",function(){return p.b});
d.d(c,"easeBackOut",function(){return p.c});d.d(c,"easeBackInOut",function(){return p.a});var t=d(113);d.d(c,"easeElastic",function(){return t.a});d.d(c,"easeElasticIn",function(){return t.b});d.d(c,"easeElasticOut",function(){return t.a});d.d(c,"easeElasticInOut",function(){return t.c})},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function l(a){function b(b){return b*b*((a+1)*b-a)}a=+a;b.overshoot=l;return b}(1.70158),f=function m(a){function b(b){return--b*
b*((a+1)*b+a)+1}a=+a;b.overshoot=m;return b}(1.70158),g=function n(a){function b(b){return(1>(b*=2)?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}a=+a;b.overshoot=n;return b}(1.70158)},function(a,c){function b(a){return(a=+a)<e?t*a*a:a<g?t*(a-=f)*a+k:a<m?t*(a-=l)*a+n:t*(a-=q)*a+p}c.b=function(a){return 1-b(1-a)};c.a=b;c.c=function(a){return(1>=(a*=2)?1-b(1-a):b(a-1)+1)/2};var e=4/11,f=6/11,g=8/11,k=.75,l=9/11,m=10/11,n=.9375,q=21/22,p=.984375,t=1/e/e},function(a,c){c.b=function(a){return 1-Math.sqrt(1-
a*a)};c.c=function(a){return Math.sqrt(1- --a*a)};c.a=function(a){return(1>=(a*=2)?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}},function(a,c){c.b=function(a){return a*a*a};c.c=function(a){return--a*a*a+1};c.a=function(a){return(1>=(a*=2)?a*a*a:(a-=2)*a*a+2)/2}},function(a,c,d){d.d(c,"b",function(){return f});d.d(c,"a",function(){return g});d.d(c,"c",function(){return k});var b=2*Math.PI,f=function m(a,c){function d(b){return a*Math.pow(2,10*--b)*Math.sin((e-b)/c)}var e=Math.asin(1/(a=Math.max(1,
a)))*(c/=b);d.amplitude=function(a){return m(a,c*b)};d.period=function(b){return m(a,b)};return d}(1,.3),g=function n(a,c){function d(b){return 1-a*Math.pow(2,-10*(b=+b))*Math.sin((b+e)/c)}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);d.amplitude=function(a){return n(a,c*b)};d.period=function(b){return n(a,b)};return d}(1,.3),k=function q(a,c){function d(b){return(0>(b=2*b-1)?a*Math.pow(2,10*b)*Math.sin((e-b)/c):2-a*Math.pow(2,-10*b)*Math.sin((e+b)/c))/2}var e=Math.asin(1/(a=Math.max(1,a)))*(c/=b);
d.amplitude=function(a){return q(a,c*b)};d.period=function(b){return q(a,b)};return d}(1,.3)},function(a,c){c.b=function(a){return Math.pow(2,10*a-10)};c.c=function(a){return 1-Math.pow(2,-10*a)};c.a=function(a){return(1>=(a*=2)?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}},function(a,c){c.a=function(a){return+a}},function(a,c,d){d.d(c,"b",function(){return b});d.d(c,"c",function(){return f});d.d(c,"a",function(){return g});var b=function l(a){function b(b){return Math.pow(b,a)}a=+a;b.exponent=l;
return b}(3),f=function m(a){function b(b){return 1-Math.pow(1-b,a)}a=+a;b.exponent=m;return b}(3),g=function n(a){function b(b){return(1>=(b*=2)?Math.pow(b,a):2-Math.pow(2-b,a))/2}a=+a;b.exponent=n;return b}(3)},function(a,c){c.b=function(a){return a*a};c.c=function(a){return a*(2-a)};c.a=function(a){return(1>=(a*=2)?a*a:--a*(2-a)+1)/2}},function(a,c){c.b=function(a){return 1-Math.cos(a*e)};c.c=function(a){return Math.sin(a*e)};c.a=function(a){return(1-Math.cos(b*a))/2};var b=Math.PI,e=b/2},function(a,
c){a=function(){function a(a,b,c){void 0===b&&(b=10);void 0===c&&(c={});var d=this;this.ctx=a;this.lineHeight=b;this.style=c;this.createRuler=function(){return function(a){d.ctx.font=d.style.font;return{width:d.ctx.measureText(a).width,height:d.lineHeight}}};this.createPen=function(a,b,c){null==c&&(c=d.ctx);c.save();c.translate(b.translate[0],b.translate[1]);c.rotate(b.rotate*Math.PI/180);return d.createCanvasPen(c)};void 0===this.style.fill&&(this.style.fill="#444")}a.prototype.createCanvasPen=function(a){var b=
this;return{destroy:function(){a.restore()},write:function(c,d,e,f){a.textAlign=d;null!=b.style.font&&(a.font=b.style.font);null!=b.style.fill&&(a.fillStyle=b.style.fill,a.fillText(c,e,f));null!=b.style.stroke&&(a.strokeStyle=b.style.fill,a.strokeText(c,e,f))}}};return a}();c.CanvasContext=a},function(a,c){var b=function(){function a(){}a.append=function(b,c){for(var d=[],e=2;e<arguments.length;e++)d[e-2]=arguments[e];d=a.create.apply(a,[c].concat(d));b.appendChild(d);return d};a.create=function(b){for(var c=
[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];d=document.createElementNS(a.SVG_NS,b);a.addClasses.apply(a,[d].concat(c));return d};a.addClasses=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];b=b.filter(function(a){return null!=a});null!=a.classList?b.forEach(function(b){a.classList.add(b)}):a.setAttribute("class",b.join(" "))};a.getDimensions=function(a){if(a.getBBox)try{var b=a.getBBox();return{width:b.width,height:b.height}}catch(k){}return{height:0,width:0}};return a}();
b.SVG_NS="http://www.w3.org/2000/svg";c.SvgUtils=b;a=function(){function a(a,c,d){void 0===d&&(d=!1);var e=this;this.element=a;this.className=c;this.addTitleElement=d;this.createRuler=function(){var a=e.getTextElements(e.element),c=a.parentElement,d=a.containerElement,f=a.textElement;return function(a){c.appendChild(d);f.textContent=a;a=b.getDimensions(f);c.removeChild(d);return a}};this.createPen=function(a,c,d){null==d&&(d=e.element);d=b.append(d,"g","text-container",e.className);e.addTitleElement&&
(b.append(d,"title").textContent=a,d.setAttribute("title",a));a=b.append(d,"g","text-area");a.setAttribute("transform","translate("+c.translate[0]+","+c.translate[1]+")"+("rotate("+c.rotate+")"));return e.createSvgLinePen(a)}}a.prototype.setAddTitleElement=function(a){this.addTitleElement=a};a.prototype.createSvgLinePen=function(a){return{write:function(c,d,e,f){var g=b.append(a,"text","text-line");g.textContent=c;g.setAttribute("text-anchor",d);g.setAttribute("transform","translate("+e+","+f+")");
g.setAttribute("y","-0.25em")}}};a.prototype.getTextElements=function(a){if("text"===a.tagName){var c=a.parentElement;null==c&&(c=a.parentNode);c.removeChild(a);return{containerElement:a,parentElement:c,textElement:a}}var d=a.querySelector("text");if(null!=d)return c=a.parentElement,null==c&&(c=a.parentNode),c.removeChild(a),{containerElement:a,parentElement:c,textElement:d};c=b.create("text",this.className);return{containerElement:c,parentElement:a,textElement:c}};return a}();c.SvgContext=a},function(a,
c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=d(20),g=d(34);a=function(a){function c(b){var c=a.call(this,b)||this;c.dimCache=new f.Cache(function(a){return c._measureNotFromCache(a)});return c}b(c,a);c.prototype._measureNotFromCache=function(b){return a.prototype.measure.call(this,b)};c.prototype.measure=function(a){void 0===a&&(a=g.AbstractMeasurer.HEIGHT_TEXT);
return this.dimCache.get(a)};c.prototype.reset=function(){this.dimCache.clear();a.prototype.reset.call(this)};return c}(d(52).CacheCharacterMeasurer);c.CacheMeasurer=a},function(a,c,d){var b=d(51),f=d(54),g=d(56),k=d(58);a=function(){function a(a){this.context=a;this.measurer=new f.CacheMeasurer(this.context);this.wrapper=new g.Wrapper;this.writer=new k.Writer(this.measurer,this.context,this.wrapper)}a.svg=function(c,d,e){return new a(new b.SvgContext(c,d,e))};a.canvas=function(c,d,e){return new a(new b.CanvasContext(c,
d,e))};a.prototype.write=function(a,b,c,d,e){this.writer.write(a,b,c,d,e)};a.prototype.clearMeasurerCache=function(){this.measurer.reset()};return a}();c.Typesetter=a},function(a,c){a=function(){function a(a){this.cache={};this.compute=a}a.prototype.get=function(a){this.cache.hasOwnProperty(a)||(this.cache[a]=this.compute(a));return this.cache[a]};a.prototype.clear=function(){this.cache={};return this};return a}();c.Cache=a},function(a,c){a=function(){function a(){}a.arrayEq=function(a,b){if(null==
a||null==b)return a===b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.objEq=function(b,c){if(null==b||null==c)return b===c;var d=Object.keys(b).sort(),e=Object.keys(c).sort(),f=d.map(function(a){return b[a]}),m=e.map(function(a){return c[a]});return a.arrayEq(d,e)&&a.arrayEq(f,m)};a.strictEq=function(a,b){return a===b};a.defaults=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(null==a)throw new TypeError("Cannot convert undefined or null to object");
var d=Object(a);b.forEach(function(a){if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(d[b]=a[b])});return d};return a}();c.Methods=a},function(a,c){a=function(){function a(){}a.combineWhitespace=function(a){return a.replace(/[ \t]+/g," ")};a.isNotEmptyString=function(a){return a&&""!==a.trim()};a.trimStart=function(b,c){if(!b)return b;b=b.split("");var d=c?function(b){return b.split(c).some(a.isNotEmptyString)}:a.isNotEmptyString;return b.reduce(function(a,b){return d(a+b)?a+
b:a},"")};a.trimEnd=function(b,c){if(!b)return b;b=b.split("");b.reverse();b=a.trimStart(b.join(""),c).split("");b.reverse();return b.join("")};return a}();c.StringMethods=a},function(a,c){a=function(){function a(){this.WordDividerRegExp=/\W/;this.WhitespaceRegExp=/\s/}a.prototype.tokenize=function(a){var b=this;return a.split("").reduce(function(a,c){return a.slice(0,-1).concat(b.shouldCreateNewToken(a[a.length-1],c))},[""])};a.prototype.shouldCreateNewToken=function(a,b){if(!a)return[b];var c=a[a.length-
1];return this.WhitespaceRegExp.test(c)&&this.WhitespaceRegExp.test(b)?[a+b]:this.WhitespaceRegExp.test(c)||this.WhitespaceRegExp.test(b)?[a,b]:this.WordDividerRegExp.test(c)||this.WordDividerRegExp.test(b)?c===b?[a+b]:[a,b]:[a+b]};return a}();c.Tokenizer=a},function(a,c,d){var b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};a=function(a){function c(){return a.apply(this,
arguments)||this}b(c,a);c.prototype.wrap=function(b,d,e,f){void 0===f&&(f=Infinity);if(1<b.split("\n").length)throw Error("SingleLineWrapper is designed to work only on single line");var g=a.prototype.wrap.call(this,b,d,e,f);if(2>g.noLines)return g;for(var k=0,l=0;l<c.NO_WRAP_ITERATIONS&&e>k;++l){var m=(e+k)/2,n=a.prototype.wrap.call(this,b,d,m,f);this.areSameResults(g,n)?(e=m,g=n):k=m}return g};c.prototype.areSameResults=function(a,b){return a.noLines===b.noLines&&a.truncatedText===b.truncatedText};
return c}(d(57).Wrapper);a.NO_WRAP_ITERATIONS=5;c.SingleLineWrapper=a},function(a,c,d){var b=d(20),f={textRotation:0,textShear:0,xAlign:"left",yAlign:"top"};a=function(){function a(a,b,c){this._measurer=a;this._penFactory=b;this._wrapper=c}a.prototype.measurer=function(a){this._measurer=a;return this};a.prototype.wrapper=function(a){this._wrapper=a;return this};a.prototype.penFactory=function(a){this._penFactory=a;return this};a.prototype.write=function(c,d,e,g,q){void 0===g&&(g={});g=b.Methods.defaults({},
f,g);if(-1===a.SupportedRotation.indexOf(g.textRotation))throw Error("unsupported rotation - "+g.textRotation+". Supported rotations are "+a.SupportedRotation.join(", "));if(null!=g.textShear&&-80>g.textShear||80<g.textShear)throw Error("unsupported shear angle - "+g.textShear+". Must be between -80 and 80");var k=45<Math.abs(Math.abs(g.textRotation)-90),l=k?d:e,m=k?e:d,n=g.textShear,w=n*Math.PI/180,k=this._measurer.measure().height,z=k*Math.tan(w),l=l/Math.cos(w)-Math.abs(z),y=m*Math.cos(w),m=b.StringMethods.combineWhitespace(c),
m=(this._wrapper?this._wrapper.wrap(m,this._measurer,l,y).wrappedText:m).split("\n"),w=a.XOffsetFactor[g.xAlign]*l*Math.sin(w)-a.YOffsetFactor[g.yAlign]*(y-m.length*k),n=g.textRotation+n;switch(g.textRotation){case 90:d=[d+w,0];break;case -90:d=[-w,e];break;case 180:d=[d,e+w];break;default:d=[0,-w]}c=this._penFactory.createPen(c,{translate:d,rotate:n},q);this.writeLines(m,c,l,k,z,g.xAlign);null!=c.destroy&&c.destroy()};a.prototype.writeLines=function(b,c,d,e,f,g){b.forEach(function(b,k){c.write(b,
a.AnchorConverter[g],(0<f?(k+1)*f:k*f)+d*a.XOffsetFactor[g],(k+1)*e)})};return a}();a.SupportedRotation=[-90,0,180,90];a.AnchorConverter={center:"middle",left:"start",right:"end"};a.XOffsetFactor={center:.5,left:0,right:1};a.YOffsetFactor={bottom:1,center:.5,top:0};c.Writer=a},function(a,c,d){function b(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}d(63);a=d(7);c.Animators=a;a=d(59);c.Axes=a;a=d(35);c.Components=a;a=d(22);c.Configs=a;a=d(10);c.Formatters=a;a=d(28);c.RenderController=a;a=d(36);
c.RenderPolicies=a;a=d(29);c.SymbolFactories=a;a=d(13);c.Dispatchers=a;a=d(62);c.Drawers=a;a=d(14);c.Interactions=a;a=d(17);c.Plots=a;a=d(3);c.Scales=a;a=d(0);c.Utils=a;b(d(21));a=d(26);c.TimeInterval=a.TimeInterval;b(d(4));b(d(27));b(d(60));a=d(61);c.version=a.version;b(d(23));b(d(6));b(d(15));b(d(37));b(d(16));b(d(2));b(d(11));b(d(18))}])}
"object"===typeof exports&&"object"===typeof module?module.exports=ae(require("d3")):"function"===typeof define&&define.amd?define(["d3"],ae):"object"===typeof exports?exports.Plottable=ae(require("d3")):this.Plottable=ae(this.d3);
</script>
<style>
.plottable-colors-0 {
  background-color: #5279c7; /* INDIGO */
}

.plottable-colors-1 {
  background-color: #fd373e; /* CORAL_RED */
}

.plottable-colors-2 {
  background-color: #63c261; /* FERN */
}

.plottable-colors-3 {
  background-color: #fad419; /* BRIGHT_SUN */
}

.plottable-colors-4 {
  background-color: #2c2b6f; /* JACARTA */
}

.plottable-colors-5 {
  background-color: #ff7939; /* BURNING_ORANGE */
}

.plottable-colors-6 {
  background-color: #db2e65; /* CERISE_RED */
}

.plottable-colors-7 {
  background-color: #99ce50; /* CONIFER */
}

.plottable-colors-8 {
  background-color: #962565; /* ROYAL_HEATH */
}

.plottable-colors-9 {
  background-color: #06cccc; /* ROBINS_EGG_BLUE */
}

/**
 * User-supplied renderTo element.
 */
.plottable {
  display: block; /* must be block elements for width/height calculations to work in Firefox. */
  pointer-events: visibleFill;
  position: relative;
  /**
   * Pre 3.0, users could set the dimension of the root element in two ways: either using CSS
   * (inline or through a stylesheet), or using the SVG width/height attributes. By default, we
   * set the SVG width/height attributes to 100%.
   *
   * Post 3.0 the root element is always a normal div and the only way to set the dimensions is
   * to use CSS. To replicate the "100%-by-default" behavior, we apply width/height 100%.
   */
  width: 100%;
  height: 100%;
}

/**
 * The _element that roots each Component's DOM.
 */
.plottable .component {
  /* Allow components to be positioned with explicit left/top/width/height styles */
  position: absolute;
}

.plottable .background-container,
.plottable .content,
.plottable .foreground-container {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**
 * Don't allow svg elements above the content to steal events
 */
.plottable .foreground-container {
  pointer-events: none;
}

.plottable .component-overflow-hidden {
  overflow: hidden;
}

.plottable .component-overflow-visible {
  overflow: visible;
}

.plottable .plot-canvas-container {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.plottable .plot-canvas {
  width: 100%;
  height: 100%;
  /**
   * Play well with deferred rendering.
   */
  transform-origin: 0px 0px 0px;
}

.plottable .label text {
  font-family: "Helvetica Neue", sans-serif;
  fill: #32313F;
}

.plottable .bar-label-text-area text {
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
}

.plottable .label-area text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 14px;
}

.plottable .light-label text {
  fill: white;
}

.plottable .dark-label text {
  fill: #32313F;
}

.plottable .off-bar-label text {
  fill: #32313F;
}

.plottable .stacked-bar-label text {
  fill: #32313F;
  font-style: normal;
}

.plottable .stacked-bar-plot .off-bar-label {
  /* HACKHACK #2795: correct off-bar label logic to be implemented on StackedBar */
  visibility: hidden !important;
}

.plottable .axis-label text {
  font-size: 10px;
  font-weight: bold;
  letter-spacing: 1px;
  line-height: normal;
  text-transform: uppercase;
}

.plottable .title-label text {
  font-size: 20px;
  font-weight: bold;
}

.plottable .axis line.baseline {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis line.tick-mark {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: 200;
  line-height: normal;
}

.plottable .axis .annotation-circle {
  fill: white;
  stroke-width: 1px;
  stroke: #CCC;
}

.plottable .axis .annotation-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .axis .annotation-rect {
  stroke: #CCC;
  stroke-width: 1px;
  fill: white;
}

.plottable .bar-plot .baseline {
  stroke: #999;
}

.plottable .gridlines line {
  stroke: #3C3C3C; /* hackhack: gridlines should be solid; see #820 */
  opacity: 0.25;
  stroke-width: 1px;
}

.plottable .selection-box-layer .selection-area {
  fill: black;
  fill-opacity: 0.03;
  stroke: #CCC;
}
/* DragBoxLayer */
.plottable .drag-box-layer.x-resizable .drag-edge-lr {
  cursor: ew-resize;
}
.plottable .drag-box-layer.y-resizable .drag-edge-tb {
  cursor: ns-resize;
}

.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tl {
  cursor: nwse-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-tr {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-bl {
  cursor: nesw-resize;
}
.plottable .drag-box-layer.x-resizable.y-resizable .drag-corner-br {
  cursor: nwse-resize;
}

.plottable .drag-box-layer.movable .selection-area {
  cursor: move; /* IE fallback */
  cursor: -moz-grab;
  cursor: -webkit-grab;
  cursor: grab;
}

.plottable .drag-box-layer.movable .selection-area:active {
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  cursor: grabbing;
}
/* /DragBoxLayer */

.plottable .guide-line-layer line.guide-line {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .drag-line-layer.enabled.vertical line.drag-edge {
  cursor: ew-resize;
}

.plottable .drag-line-layer.enabled.horizontal line.drag-edge {
  cursor: ns-resize;
}

.plottable .legend text {
  fill: #32313F;
  font-family: "Helvetica Neue", sans-serif;
  font-size: 12px;
  font-weight: bold;
  line-height: normal;
}

.plottable .interpolated-color-legend rect.swatch-bounding-box {
  fill: none;
  stroke: #CCC;
  stroke-width: 1px;
  pointer-events: none;
}

.plottable .waterfall-plot line.connector {
  stroke: #CCC;
  stroke-width: 1px;
}

.plottable .pie-plot .arc.outline {
  stroke-linejoin: round;
}
</style>

<script>//~~WEBPATH~~/facets-overview/common/feature_statistics_generator.js
/*

 Copyright 2017 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function be(){this.vals=[];this.counts=[]}function ce(a){var b=new Nb;a.forEach(function(a){var c=de(a.data);c.setName(a.name);Pb(b).push(c)});return b}
function de(a){var b={};if(null==a)return new Sb;a.forEach(function(a,d){if(null!=a){for(var c=Object.keys(a),f={},g=0;g<c.length;g++){var k=c[g],l=a[k];f[k]=!0;k in b||(b[k]=new be,b[k].missing=d,b[k].counts=[]);"number"===typeof l||"string"===typeof l?(b[k].vals.push(l),b[k].counts.push(1)):l instanceof Array&&(b[k].counts.push(l.length),(m=b[k].vals).push.apply(m,l))}Object.keys(b).forEach(function(a){a in f||(b[a].missing+=1)});var m}});Object.keys(b).forEach(function(a){var c=0,e=0,f=!1;b[a].vals.forEach(function(a){"string"===
typeof a?c+=1:(e+=1,f=f||!(a===+a&&a===(a|0)))});b[a].type=e>c?f?1:0:2});return ee(b,a.length)}function ee(a,b){var c=new Sb;G(c,2,b);for(var d in a)if(a.hasOwnProperty(d)){var e=new Yb;Wb(c).push(e);var f=a[d];e.setName(d);e.setType(f.type);1===f.type||0===f.type?(f=fe(f.vals,f.counts,b,f.missing),Ha(e,3,fc[0],f)):2===f.type&&(f=ge(f.vals,f.counts,b,f.missing),Ha(e,4,fc[0],f))}return c}
function fe(a,b,c,d){var e=new nc;e.setCommonStats(he(b,c,d));var f=0,g=0,k=0;b=a.filter(function(a){return"number"===typeof a&&!isNaN(a)}).map(function(a){return+a}).sort(function(a,b){return a-b});0<b.length&&(G(e,5,b[0]),G(e,7,b[b.length-1]),c=Math.floor(b.length/2),e.setMedian(0!==b.length%2?b[c]:(b[c]+b[c-1])/2));b.forEach(function(a){0===a&&(k+=1);f+=a;g+=a*a});1<b.length&&e.setStdDev(Math.sqrt((g-f*f/b.length)/(b.length-1)));e.setMean(f/a.length);G(e,4,k);a=b.filter(function(a){return Infinity!==
a&&-Infinity!==a});c=b.filter(function(a){return Infinity===a}).length;d=b.filter(function(a){return-Infinity===a}).length;var l=a[0],m=a[a.length-1],l=d3.range(l,m,(m-l)/10),l=d3.histogram().thresholds(l)(a),n=e.addHistograms();n.setType(0);l.forEach(function(a){var b=n.addBuckets();b.setSampleCount(a.length);xd(b,a.x0);yd(b,a.x1)});l=n.getBucketsList();b.length&&-Infinity===b[0]&&(xd(l[0],-Infinity),l[0].setSampleCount(l[0].getSampleCount()+d));b.length&&Infinity===b[b.length-1]&&(yd(l[l.length-
1],Infinity),l[l.length-1].setSampleCount(l[l.length-1].getSampleCount()+c));n=e.addHistograms();ie(n,a);return e}function ie(a,b){var c=[0,10,20,30,40,50,60,70,80,90,100],d=c.length-1,c=c.map(function(a){if(0===b.length)a=NaN;else{a=a/100*(b.length-1);var c=Math.floor(a);a=c===a?b[a]:b[c]+(b[c+1]-b[c])*(a-c)}return a});a.setType(1);for(var e=b.length/d,f=0;f<d;f++){var g=a.addBuckets();g.setSampleCount(e);xd(g,c[f]);yd(g,c[f+1])}}
function ge(a,b,c,d){var e=new pc;e.setCommonStats(he(b,c,d));var f=0,g={};a.forEach(function(a){a=String(a);g[a]=(g[a]||0)+1;f+=a.length});0<a.length&&G(e,4,f/a.length);a=[];for(var k in g)g.hasOwnProperty(k)&&a.push({str:k,count:g[k]});e.setUnique(a.length);a=a.sort(function(a,b){return b.count-a.count});var l=new kd;e.setRankHistogram(l);a.length&&(k=e.addTopValues(),k.setValue(a[0].str),G(k,3,a[0].count));a.forEach(function(a,b){var c=l.addBuckets();c.setSampleCount(a.count);G(c,1,b);G(c,2,b);
G(c,4,a.str)});return e}function he(a,b,c){var d=new Tc,e=Infinity,f=0,g=0;a.forEach(function(a){a<e&&(e=a);a>f&&(f=a);g+=a});d.setNumNonMissing(b-c);d.setNumMissing(c);G(d,3,e);G(d,4,f);0<a.length&&d.setAvgNumValues(g/a.length);b=new Kc;Ga(d,6,b);ie(b,a);return d};
</script>
<script>//~~WEBPATH~~/facets-overview/common/utils.js
function je(){}function ke(a,b,c,d,e,f,g,k){var l=this;this.histMap={};this.name=a;b&&(this.histMap[le(!1,me)]=b);c&&(this.histMap[le(!0,me)]=c);d&&(this.histMap[le(!1,ne)]=d);e&&(this.histMap[le(!0,ne)]=e);f&&(this.histMap[le(!1,oe)]=f);g&&(this.histMap[le(!1,pe)]=g);k&&Object.keys(k).forEach(function(a){return l.histMap[a]=k[a]})}
var qe=function(){function a(a,c,d,e){this.name=a;this.stringValue=c;this.lowNumValue=d;this.highNumValue=e}a.prototype.clear=function(){this.highNumValue=this.lowNumValue=this.stringValue=this.name=void 0};a.prototype.equals=function(a){return a?this.name===a.name&&this.stringValue===a.stringValue&&this.lowNumValue===a.lowNumValue&&this.highNumValue===a.highNumValue:!1};return a}();
function re(a){var b=se(a);if(0===b)return 0;var c=a.reduce(function(a,c){c=+c.getSampleCount()||0;if(0===c)return a;c/=b;return a-c*Math.log(c)},0);return 0===c?0:c/Math.log(a.length)}function te(a,b){return isFinite(a)&&-1===a.toString().indexOf("e")?+(Math.round(Number(a+"e+"+b))+"e-"+b):a}function ue(a,b,c){return(a=a.histMap[le(b,c)])?a.getBucketsList():[]}function le(a,b){b=null==b?me:b;a&&(b="weighted"+b);return b}
function se(a){return a.map(function(a){return a.getSampleCount()}).reduce(function(a,c){return(+c||0)+a},0)}function ve(a){return a.map(function(a){return se(ue(a,!1))})}function we(a){var b=[];a.forEach(function(a){a.forEach(function(a){a=xe(Fd(a));-1===b.indexOf(a)&&b.push(a)})});return b}function xe(a){return null==a||""===a?"\u00a0":a}function Y(a){return null==a?0:"inf"===a?Infinity:"-inf"===a?-Infinity:+a}
function ye(a){var b,c,d=a.map(function(a){return ue(a,!1)});var e=null;for(var f=0;f<d.length;f++)if(0<d[f].length){e=d[f][0];break}if(!e)return 0;for(var g=ve(a),f=0;f<g.length;f++)if(0===g[f])return Infinity;var k=0;if(e instanceof Cd)for(var l=we(d),f=1;f<a.length;f++){var m=d[0];var n=d[f];for(var q=c=0;q<l.length;q++){for(var p=l[q],t=e=b=0;t<m.length;t++)if(Fd(m[t])===p){b=m[t].getSampleCount()?m[t].getSampleCount():0;break}for(t=0;t<n.length;t++)if(Fd(n[t])===p){e=n[t].getSampleCount()?n[t].getSampleCount():
0;break}c=ze(c,b,g[0],e,g[f])}k=Math.max(k,c)}else for(f=1;f<a.length;f++){m=d[0];n=d[f];c=0;l=Math.max(m.length,n.length);for(q=0;q<l;q++)b=q<m.length&&m[q].getSampleCount()?m[q].getSampleCount():0,e=q<n.length&&n[q].getSampleCount()?n[q].getSampleCount():0,c=ze(c,b,g[0],e,g[f]);k=Math.max(k,c)}return k}function ze(a,b,c,d,e){var f=b/c-d/e;b=b/(c*c)+d/(e*e);return a+(b?f*f/b:0)}
function Ae(a){Pb(a).forEach(function(a){Wb(a).forEach(function(a){var b=[];if(hc(a)){var c=hc(a).getRankHistogram();c&&b.push(c);(a=hc(a).getTopValuesList())&&a.forEach(function(a){var b=u(a,1,0);b&&!+u(a,3,0)&&G(a,3,b)})}else W(a)&&(a=W(a).getHistogramsList())&&(b=b.concat(a));b.forEach(function(a){(a=a.getBucketsList())&&a.forEach(function(a){var b=u(a,3,0);b&&!a.getSampleCount()&&a.setSampleCount(b)})})})});return a}
function Be(a){var b=!0;Pb(a).forEach(function(a){Wb(a).forEach(function(a){var c=[];if(hc(a)){var d=hc(a).getRankHistogram();d&&c.push(d);(a=hc(a).getTopValuesList())&&a.forEach(function(a){u(a,1,0)&&!+u(a,3,0)&&(b=!1)})}else W(a)&&(a=W(a).getHistogramsList())&&(c=c.concat(a));c.forEach(function(a){(a=a.getBucketsList())&&a.forEach(function(a){u(a,3,0)&&!a.getSampleCount()&&(b=!1)})})})});return b}
function Ce(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(a[b].histMap[le(!0,me)])return!0;return!1}function De(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(a[b].histMap[ne])return!0;return!1}function Ee(a){return a?a.getNumNonMissing()*a.getAvgNumValues():0}
function Fe(a){switch(a){case 0:return"int";case 1:return"fixed-length ints";case 2:return"variable-length ints";case 3:return"float";case 4:return"fixed-length floats";case 5:return"variable-length floats";case 6:return"string";case 7:return"fixed-length strings";case 8:return"variable-length strings";case 9:return"bytes";case 10:return"fixed-length bytes";case 11:return"variable-length bytes";default:return"unknown"}}function Ge(){}function He(){}function Ie(){}
function Je(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].rawBuckets.length>b&&(b=a[d].rawBuckets.length,c=d);for(var d=[],e=0;e<b;e++){var f=new Ie;f.value=Fd(a[c].rawBuckets[e]);f.counts=[];for(var g=0;g<a.length;g++)a[g].rawBuckets.length<=e?f.counts.push(0):f.counts.push(a[g].rawBuckets[e].getSampleCount());d.push(f)}return d}
function Ke(a,b){for(var c=[],d=0;d<b.length;d++){var e=new Ie,f=b[d];e.value=f;e.counts=[];for(var g=0;g<a.length;g++){for(var k=a[g].rawBuckets,l=-1,m=0;m<k.length;m++)if(Fd(k[m])===f){l=m;break}-1===l?e.counts.push(0):e.counts.push(k[l].getSampleCount())}c.push(e)}return c}var Le,Me=Le||(Le={});Me[Me.HISTOGRAM=0]="HISTOGRAM";Me[Me.BAR_CHART=1]="BAR_CHART";Me[Me.CUMDIST_CHART=2]="CUMDIST_CHART";var me="Standard",ne="Quantiles",oe="Value list length",pe="Feature list length";
function Ne(a,b){var c=!0,d=0;a.forEach(function(a){a.histMap[me]&&(a=a.histMap[me].getBucketsList(),d=Math.max(d,a.length),a.forEach(function(a){a.getLowValue||(c=!1)}))});return c?Le.HISTOGRAM:d>b?Le.CUMDIST_CHART:Le.BAR_CHART}var Oe=function(){function a(a,c,d){this.str=a;this.cssClass=c;this.fullStr=d;this.fullStr||(this.fullStr=a)}a.prototype.append=function(a,c){c&&(this.str+=c,this.fullStr+=c);this.str+=a.str;this.fullStr+=a.fullStr;this.cssClass+=a.cssClass};return a}();
function Pe(a){var b=Math.abs(a);return(.01>b&&0<b||1E4<b)&&isFinite(a)?d3.format(".3s")(a).replace(/G$/,"B"):a.toLocaleString()}function Qe(a,b){var c=Pe(te(Y(a),1E6<Math.abs(a)?0:2));b=Re(a,b,void 0);return new Oe(c,b,a.toLocaleString([],{maximumFractionDigits:9}))}function Se(a,b,c){a=Y(a);a=null!=a&&b?a/b:0;b=.999999<a&&1>a?"~100%":1E-6>a&&0<a?"~0%":te(100*a,2)+"%";c=Re(a,!1,c);return new Oe(b,c,100*a+"%")}function Te(a,b,c){var d=Pe(a);b=Re(a,b,c);return new Oe(d,b,a.toLocaleString())}
function Ue(a,b){a=xe(a);a=0===a.length||isNaN(+a)?a:'"'+a+'"';b=Re(a,b,void 0);return new Oe(a,b)}function Re(a,b,c){b=b?"data-weighted ":"";if(c&&c(a)||"number"===typeof a&&!isFinite(a))b+="data-error ";return b}function Ve(a){var b=[];a?(b.push(Te(a.getNumNonMissing(),!1,function(a){return 0>=a})),b.push(Se(a.getNumMissing(),Y(a.getNumNonMissing())+Y(a.getNumMissing()),function(a){return.02<a}))):(b.push(Te(0,!1,function(a){return 0>=a})),b.push(Se(1,1,function(a){return.02<a})));return b}
function We(a,b,c){var d=[];if(a)(c=c?O(a,Rc,9):null)?(d.push(Qe(c.getMean(),!0)),d.push(Qe(c.getStdDev(),!0))):(d.push(Qe(a.getMean())),d.push(Qe(a.getStdDev()))),d.push(Se(u(a,4,0),Ee(b),function(a){return.1<a})),b=Xe(a),d.push(Qe(b?NaN:+u(a,5,0))),c?d.push(Qe(c.getMedian(),!0)):d.push(Qe(a.getMedian())),d.push(Qe(b?NaN:+u(a,7,0)));else for(a=0;6>a;a++)d.push(Ue("-"));return d}function Xe(a){if(!a)return!1;a=a.getHistogramsList();for(var b=0;b<a.length;b++)if(0<u(a[b],1,0))return!0;return!1}
function Ye(a,b){var c=[];if(a){b=b?O(a,gd,6):null;c.push(Te(u(a,2,0)));var d=b?b.getTopValuesList():a.getTopValuesList();d&&0<d.length?(c.push(Ue(d[0].getValue(),!!b)),c.push(Qe(+u(d[0],3,0),!!b))):(c.push(Ue("-")),c.push(Ue("-")));c.push(Qe(+u(a,4,0)))}else for(a=0;4>a;a++)c.push(Ue("-"));return c}
function Ze(a){var b=[];if(a&&0<a.length){var c=new Oe("","data-custom ");a.forEach(function(a){if(!O(a,Kc,4)){var b=a.getName();""!==c.str&&(b="\n"+b);c.append(Ue(b));u(a,3,"")?c.append(Ue(u(a,3,"")),": "):c.append(Qe(+u(a,2,0)),": ")}});b.push(c)}else a=new Oe("-","data-custom "),b.push(a);return b}
function $e(a){var b=a.map(function(){return 0});a.forEach(function(a,d){a.forEach(function(a){b[d]+=Y(a.getSampleCount())})});return a.map(function(a,d){return a.map(function(a){if(a instanceof ud){var c=new ud;c.setSampleCount(a.getSampleCount()/b[d]);xd(c,a.getLowValue());yd(c,zd(a))}else{c=new Cd;c.setSampleCount(a.getSampleCount()/b[d]);var e=u(a,1,0);G(c,1,e);e=u(a,2,0);G(c,2,e);a=Fd(a);G(c,4,a)}return c})})}var af=Le;
</script>
<script>//~~WEBPATH~~/facets-overview/common/overview_data_model.js
var bf=function(){function a(a){this.data=a;this.colorScale=new Plottable.Scales.Color;this.colorScale.domain(Pb(a).map(function(a){return a.getName()}));this.colorScale.range("#4285F4 #F09300 #0F9D58 #9C27B0 #607D8B #0B8043 #757575".split(" "));if(!Be(a))throw Error("input proto has not been cleaned");this.featuresBySpec=this.makeFeatureBySpecList()}a.prototype.makeFeatureBySpecList=function(){for(var a=this,c=[],d=0;13>d;d++)c[d]=[];this.getUniqueFeatures().forEach(function(b){var d=a.getFeatureSpecForFeature(b.getName());
c[d].push(b.getName())});return c};a.prototype.getNonEmptyFeatureSpecLists=function(){for(var a=[],c=0;13>c;c++)if(0!==this.featuresBySpec[c].length){var d=new Ge;d.features=this.featuresBySpec[c];d.spec=c;a.push(d)}return a};a.prototype.getFeatureSpecForFeature=function(a){for(var b=this.getDatasetNames(),d=12,e=0;e<b.length;e++){var f=this.getFeature(a,b[e]);if(null==f)f=12;else{var f=f.getType(),g=this.getFeatureCommonStats(a,b[e]),k=12;if(null!=g&&0!==g.getNumNonMissing()){var l=k=!1;u(g,3,0)===
u(g,4,0)&&(1===u(g,3,0)?k=!0:l=!0);k=1===f?k?3:l?4:5:0===f?k?0:l?1:2:2===f?k?6:l?7:8:k?9:l?10:11}f=k}d=12===d?f:13<=d||12===f?d:3<=d&&5>=d&&3<=f&&5>=f||0<=d&&2>=d&&0<=f&&2>=f||6<=d&&8>=d&&6<=f&&8>=f||9<=d&&11>=d&&9<=f&&11>=f?Math.max(d,f):13}13===d&&(d=12);return d};a.prototype.getDatasetFeatureStatistics=function(){return this.data};a.prototype.getColorScale=function(){return this.colorScale};a.prototype.getDatasetNames=function(){return this.data?Pb(this.data).map(function(a){return a.getName()}):
[]};a.prototype.getDataset=function(a){if(!this.data)return null;for(var b=0,d=Pb(this.data);b<d.length;b++){var e=d[b];if(e.getName()===a)return e}return null};a.prototype.getFeature=function(a,c){if(!a||!this.data)return null;var b=this.getDataset(c);if(!b)return null;c=0;for(b=Wb(b);c<b.length;c++){var e=b[c];if(e.getName()===a)return e}return null};a.prototype.getExtraHistogramNames=function(a){if(!this.data)return[];a=a.map(function(a){return a.getName()});for(var b={},d=0,e=Pb(this.data);d<
e.length;d++)for(var f=0,g=Wb(e[d]);f<g.length;f++){var k=g[f];if(-1!==a.indexOf(k.getName())&&(lc(k)&&lc(k).forEach(function(a){O(a,Kc,4)&&(b[a.getName()]=!0)}),W(k)&&(k=W(k).getHistogramsList())))for(var l=0;l<k.length;l++){var m=k[l];m.getName()&&(b[m.getName()]=!0)}}return Object.keys(b)};a.prototype.getFeatureCommonStats=function(a,c){a=this.getFeature(a,c);return null==a?null:W(a)?Pc(W(a)):hc(a)?Pc(hc(a)):jc(a)?Pc(jc(a)):null};a.prototype.getFeatureNames=function(a){return a&&this.data?(a=this.getDataset(a))?
Wb(a).map(function(a){return a.getName()}):[]:null};a.prototype.getFeatureIndex=function(a,c){if(!this.data)return null;var b=this.getDataset(a);if(!b)return null;for(var e=a=0,b=Wb(b);e<b.length;e++){if(b[e].getName()===c)return a;++a}return null};a.prototype.getUniqueFeatures=function(){if(!this.data)return[];for(var a={},c=0,d=Pb(this.data);c<d.length;c++)for(var e=0,f=Wb(d[c]);e<f.length;e++){var g=f[e];a[g.getName()]=g}return Object.keys(a).map(function(b){return a[b]})};a.prototype.getNumUniqueFeaturesByType=
function(a){return this.getUniqueFeatures().filter(function(b){return null!=W(b)===a}).length};a.prototype.featureHasSingleValue=function(a){if(!a)return!1;if(hc(a)){var b=u(hc(a),2,0);return 1===Y(b)}return jc(a)?(b=u(jc(a),2,0),1===Y(b)):W(a)?(b=+u(W(a),5,0),a=+u(W(a),7,0),null==b&&null==a?!1:Y(b)===Y(a)):!1};a.prototype.featureAcrossAllDatasetsHasSingleValue=function(a){if(!a||!this.data)return!1;for(var b=0,d=Pb(this.data);b<d.length;b++)for(var e=0,f=Wb(d[b]);e<f.length;e++){var g=f[e];if(a===
g.getName()&&!this.featureHasSingleValue(g))return!1}return!0};a.prototype.getFeatureSingleValue=function(a){if(null==a)return"\x3cnull\x3e";if(hc(a))return a=hc(a).getTopValuesList(),null==a||0===a.length?"\x3cnull\x3e":a[0].getValue();if(jc(a))return 0===u(jc(a),2,0)?"\x3cnull\x3e":"\x3cbinary data\x3e";if(W(a)){var b=+u(W(a),5,0);if(b)return Y(b).toString();if(a=+u(W(a),7,0))return Y(a).toString()}return"\x3cunknown type\x3e"};a.prototype.getDatasetHistogramsForFeature=function(a){var b=[];if(this.data)for(var d=
function(c){var d,f=c.getName(),g=null,k=null,p=null,t=null,r=null,v=null,w={};var z=0;for(var y=Wb(c);z<y.length;z++)if(c=y[z],c.getName()===a){if(z=e.getFeatureCommonStats(a,f))r=O(z,Kc,6),v=O(z,Kc,9);lc(c)&&lc(c).forEach(function(a){O(a,Kc,4)&&(w[a.getName()]=O(a,Kc,4))});if(W(c)){if(d=W(c).getHistogramsList())for(y=0;y<d.length;y++)z=d[y],z.getName()?w[z.getName()]=z:0===z.getType()?g=z:p=z;if(O(W(c),Rc,9)&&(c=O(W(c),Rc,9).getHistogramsList()))for(y=0;y<c.length;y++)z=c[y],0===z.getType()?k=z:
t=z}else hc(c)&&(g=hc(c).getRankHistogram(),O(hc(c),gd,6)&&(k=O(hc(c),gd,6).getRankHistogram()));break}b.push(new ke(f,g,k,p,t,r,v,w))},e=this,f=0,g=Pb(this.data);f<g.length;f++)d(g[f]);return b};a.prototype.doesContainWeightedStats=function(){if(null==this.containsWeightedStats){a:{var a=this.data;for(var c=0;c<Pb(a).length;c++)for(var d=Pb(a)[c],e=0;e<Wb(d).length;e++){var f=Wb(d)[e];if(hc(f)){if(O(hc(f),gd,6)){a=!0;break a}}else if(W(f)&&O(W(f),Rc,9)){a=!0;break a}}a=!1}this.containsWeightedStats=
a}return this.containsWeightedStats};a.prototype.doesContainCustomStats=function(){if(null==this.containsCustomStats){a:{var a=this.data;for(var c=0;c<Pb(a).length;c++)for(var d=Pb(a)[c],e=0;e<Wb(d).length;e++){var f=lc(Wb(d)[e]);if(null!=f&&0<f.length){a=!0;break a}}a=!1}this.containsCustomStats=a}return this.containsCustomStats};a.prototype.doesContainFeatureListLengthData=function(){if(null==this.containsFeatureListLengthData){a:{var a=this.data;for(var c=0;c<Pb(a).length;c++)for(var d=Pb(a)[c],
e=0;e<Wb(d).length;e++){var f=Wb(d)[e],g=null;hc(f)?g=Pc(hc(f)):W(f)?g=Pc(W(f)):jc(f)&&(g=Pc(jc(f)));if(g&&O(g,Kc,9)){a=!0;break a}}a=!1}this.containsFeatureListLengthData=a}return this.containsFeatureListLengthData};a.prototype.getChartAlpha=function(){return 2<=this.getDatasetNames().length?.4:1};a.prototype.getChartColorString=function(a){a=this.getColorScale().scale(this.getDatasetNames()[a]);var b=this.getChartAlpha();return a.replace("rgb","rgba").replace(")",", "+b+")")};return a}();
</script>







<script>//~~WEBPATH~~/iron-scroll-target-behavior/iron-scroll-target-behavior.html.js
Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:Object,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&("document"===a?this.scrollTarget=this._doc:"string"===typeof a?this.scrollTarget=this.domHost?this.domHost.$[a]:Polymer.dom(this.ownerDocument).querySelector("#"+
a):this._isValidScrollTarget()&&(this._boundScrollHandler=this._boundScrollHandler||this._scrollHandler.bind(this),this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?
this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=
a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){this._boundScrollHandler&&(b=b===this._doc?window:b,a?b.addEventListener("scroll",
this._boundScrollHandler):b.removeEventListener("scroll",this._boundScrollHandler))},toggleScrollListener:function(a){this._shouldHaveListener=a;this._toggleScrollListener(a,this.scrollTarget)}};
</script>




<dom-module id="iron-list">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }

      @media only screen and (-webkit-max-device-pixel-ratio: 1) {
        :host {
          will-change: transform;
        }
      }

      #items {
        @apply(--iron-list-items-container);
        position: relative;
      }

      :host(:not([grid])) #items > ::content > * {
        width: 100%;
      };

      #items > ::content > * {
        box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
      }
    </style>

    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}">
    </array-selector>

    <div id="items">
      <content></content>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/iron-list/iron-list.html.js
(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1];Polymer({is:"iron-list",properties:{items:{type:Array},maxPhysicalCount:{type:Number,value:500},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1}},
observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronScrollTargetBehavior],keyBindings:{up:"_didMoveUp",down:"_didMoveDown",enter:"_didEnter"},_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_physicalIndexForKey:null,
_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_collection:null,_maxPages:3,_focusedItem:null,_focusedIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+
this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollerPaddingTop},_minVirtualStart:0,get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},_virtualStartVal:0,set _virtualStart(a){this._virtualStartVal=Math.min(this._maxVirtualStart,Math.max(this._minVirtualStart,a))},get _virtualStart(){return this._virtualStartVal||
0},_physicalStartVal:0,set _physicalStart(a){this._physicalStartVal=a%this._physicalCount;0>this._physicalStartVal&&(this._physicalStartVal=this._physicalCount+this._physicalStartVal);this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalStart(){return this._physicalStartVal||0},_physicalCountVal:0,set _physicalCount(a){this._physicalCountVal=a;this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal},
_physicalEnd:0,get _optPhysicalSize(){return this.grid?this._estRowsInView*this._rowHeight*this._maxPages:this._viewportHeight*this._maxPages},get _optPhysicalCount(){return this._estRowsInView*this._itemsPerRow*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){if(null===this._firstVisibleIndexVal){var a=Math.floor(this._physicalTop+this._scrollerPaddingTop);this._firstVisibleIndexVal=this._iterateItems(function(b,c){a+=this._getPhysicalSizeIncrement(b);
if(a>this._scrollPosition)return this.grid?c-c%this._itemsPerRow:c;if(this.grid&&this._virtualCount-1===c)return c-c%this._itemsPerRow})||0}return this._firstVisibleIndexVal},get lastVisibleIndex(){if(null===this._lastVisibleIndexVal)if(this.grid)this._lastVisibleIndexVal=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var a=this._physicalTop;this._iterateItems(function(b,c){if(a<this._scrollBottom)this._lastVisibleIndexVal=c;else return!0;a+=this._getPhysicalSizeIncrement(b)})}return this._lastVisibleIndexVal},
get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this.updateViewportBoundaries();0===this._physicalCount&&this._debounceTemplate(this._render);this.listen(this,"iron-resize","_resizeHandler")},
detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},_setOverflow:function(a){this.style.webkitOverflowScrolling=a===this?"touch":"";this.style.overflow=a===this?"auto":""},updateViewportBoundaries:function(){this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(window.getComputedStyle(this)["padding-top"],10);this._viewportHeight=this._scrollTargetHeight;this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var a=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),
b=a-this._scrollPosition,e=this._ratio,f=0,g=this._hiddenContentSize,k,l=[];this._scrollPosition=a;this._lastVisibleIndexVal=this._firstVisibleIndexVal=null;var m=this._scrollBottom;var n=this._physicalBottom;if(Math.abs(b)>this._physicalSize)this._physicalTop+=b,f=Math.round(b/this._physicalAverage);else if(0>b){var q=a-this._physicalTop;l=this._virtualStart;var p=[];b=this._physicalEnd;for(k=q/g;k<e&&f<this._physicalCount&&0<l-f&&n-this._getPhysicalSizeIncrement(b)>m;)q=this._getPhysicalSizeIncrement(b),
k+=q/g,n-=q,p.push(b),f++,b=0===b?this._physicalCount-1:b-1;l=p;f=-f}else if(0<b){var t=this._virtualEnd,r=this._virtualCount-1;p=[];b=this._physicalStart;for(k=(n-m)/g;k<e&&f<this._physicalCount&&t+f<r&&this._physicalTop+this._getPhysicalSizeIncrement(b)<a;)q=this._getPhysicalSizeIncrement(b),k+=q/g,this._physicalTop+=q,p.push(b),f++,b=(b+1)%this._physicalCount}0===f?(n<m||this._physicalTop>a)&&this._increasePoolIfNeeded():(this._virtualStart+=f,this._physicalStart+=f,this._update(p,l))},_update:function(a,
b){this._manageFocus();this._assignModels(a);this._updateMetrics(a);if(b)for(;b.length;)a=b.pop(),this._physicalTop-=this._getPhysicalSizeIncrement(a);this._positionItems();this._updateScrollerSize();this._increasePoolIfNeeded()},_createPool:function(a){var b=Array(a);this._ensureTemplatized();for(var c=0;c<a;c++){var f=this.stamp(null);b[c]=f.root.querySelector("*");Polymer.dom(this).appendChild(f.root)}return b},_increasePoolIfNeeded:function(){if(0===this._viewportHeight)return!1;var a=this,b=
this._physicalBottom>=this._scrollBottom&&this._physicalTop<=this._scrollPosition;if(this._physicalSize>=this._optPhysicalSize&&b)return!1;var e=Math.round(.5*this._physicalCount);if(!b)return this._debounceTemplate(this._increasePool.bind(this,e)),!0;this._yield(function(){a._increasePool(Math.min(e,Math.max(1,Math.round(50/a._templateCost))))});return!0},_yield:function(a){var b=window,c=b.requestIdleCallback?b.requestIdleCallback(a):b.setTimeout(a,16);Polymer.dom.addDebouncer({complete:function(){b.cancelIdleCallback?
b.cancelIdleCallback(c):b.clearTimeout(c);a()}})},_increasePool:function(a){var b=this._physicalCount;a=Math.min(this._physicalCount+a,this._virtualCount-this._virtualStart,Math.max(this.maxPhysicalCount,3))-b;var c=window.performance.now();0>=a||([].push.apply(this._physicalItems,this._createPool(a)),[].push.apply(this._physicalSizes,Array(a)),this._physicalCount=b+a,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedIndex)&&this._getPhysicalIndex(this._focusedIndex)<this._physicalEnd&&
(this._physicalStart+=a),this._update(),this._templateCost=(window.performance.now()-c)/a)},_render:function(){this.isAttached&&this._isVisible&&(0===this._physicalCount?this._increasePool(3):this._update())},_ensureTemplatized:function(){if(!this.ctor){var a={__key__:!0};a[this.as]=!0;a[this.indexAs]=!0;a[this.selectedAs]=!0;a.tabIndex=!0;this._instanceProps=a;(this._userTemplate=Polymer.dom(this).querySelector("template"))?this.templatize(this._userTemplate):console.warn("iron-list requires a template to be provided in light-dom")}},
_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(a,b,e){0===b.indexOf(this.as+".")&&this.notifyPath("items."+a.__key__+"."+b.slice(this.as.length+1),e)},_forwardParentProp:function(a,b){this._physicalItems&&this._physicalItems.forEach(function(c){c._templateInstance[a]=b},this)},_forwardParentPath:function(a,b){this._physicalItems&&this._physicalItems.forEach(function(c){c._templateInstance.notifyPath(a,b,!0)},this)},_forwardItemPath:function(a,b){if(this._physicalIndexForKey){var c=
a.indexOf("."),d=a.substring(0,0>c?a.length:c),g=this._physicalIndexForKey[d],k=this._offscreenFocusedItem;if((g=k&&k._templateInstance.__key__===d?k:this._physicalItems[g])&&g._templateInstance.__key__===d)if(0<=c)a=this.as+"."+a.substring(c+1),g._templateInstance.notifyPath(a,b,!0);else{a=g._templateInstance[this.as];if(Array.isArray(this.selectedItems))for(c=0;c<this.selectedItems.length;c++){if(this.selectedItems[c]===a){this.set("selectedItems."+c,b);break}}else this.selectedItem===a&&this.set("selectedItem",
b);g._templateInstance[this.as]=b}}},_itemsChanged:function(a){"items"===a.path?(this._physicalTop=this._virtualStart=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._lastVisibleIndexVal=this._firstVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._resetScrollPosition(0),
this._removeFocusedItem(),this._debounceTemplate(this._render)):"items.splices"===a.path?(this._adjustVirtualIndex(a.value.indexSplices),this._virtualCount=this.items?this.items.length:0,this._debounceTemplate(this._render)):this._forwardItemPath(a.path.split(".").slice(1).join("."),a.value)},_adjustVirtualIndex:function(a){a.forEach(function(a){a.removed.forEach(this._removeItem,this);a.index<this._virtualStart&&(a=Math.max(a.addedCount-a.removed.length,a.index-this._virtualStart),this._virtualStart+=
a,0<=this._focusedIndex&&(this._focusedIndex+=a))},this)},_removeItem:function(a){this.$.selector.deselect(a);this._focusedItem&&this._focusedItem._templateInstance[this.as]===a&&this._removeFocusedItem()},_iterateItems:function(a,b){var c,d;if(2===arguments.length&&b)for(d=0;d<b.length;d++){var g=b[d];var k=this._computeVidx(g);if(null!=(c=a.call(this,g,k)))return c}else{g=this._physicalStart;for(k=this._virtualStart;g<this._physicalCount;g++,k++)if(null!=(c=a.call(this,g,k)))return c;for(g=0;g<
this._physicalStart;g++,k++)if(null!=(c=a.call(this,g,k)))return c}},_computeVidx:function(a){return a>=this._physicalStart?this._virtualStart+(a-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+a},_assignModels:function(a){this._iterateItems(function(a,b){var c=this._physicalItems[a],d=c._templateInstance,e=this.items&&this.items[b];null!=e?(d[this.as]=e,d.__key__=this._collection.getKey(e),d[this.selectedAs]=this.$.selector.isSelected(e),d[this.indexAs]=b,d.tabIndex=
this._focusedIndex===b?0:-1,this._physicalIndexForKey[d.__key__]=a,c.removeAttribute("hidden")):(d.__key__=null,c.setAttribute("hidden",""))},a)},_updateMetrics:function(a){Polymer.dom.flush();var b=0,c=0,f=this._physicalAverageCount,g=this._physicalAverage;this._iterateItems(function(a){c+=this._physicalSizes[a]||0;this._physicalSizes[a]=this._physicalItems[a].offsetHeight;b+=this._physicalSizes[a];this._physicalAverageCount+=this._physicalSizes[a]?1:0},a);this._viewportHeight=this._scrollTargetHeight;
this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):this._physicalSize=this._physicalSize+b-c;this._physicalAverageCount!==f&&(this._physicalAverage=Math.round((g*f+b)/this._physicalAverageCount))},_updateGridMetrics:function(){this._viewportWidth=this.$.items.offsetWidth;this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200;this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:
200;this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var a=this._physicalTop;if(this.grid){var b=(this._viewportWidth-this._itemsPerRow*this._itemWidth)/2;this._iterateItems(function(c,d){this.translate3d(Math.floor(d%this._itemsPerRow*this._itemWidth+b)+"px",a+"px",0,this._physicalItems[c]);this._shouldRenderNextRow(d)&&(a+=this._rowHeight)})}else this._iterateItems(function(b){this.translate3d(0,
a+"px",0,this._physicalItems[b]);a+=this._physicalSizes[b]})},_getPhysicalSizeIncrement:function(a){return this.grid?this._computeVidx(a)%this._itemsPerRow!==this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[a]},_shouldRenderNextRow:function(a){return a%this._itemsPerRow===this._itemsPerRow-1},_adjustScrollPosition:function(){var a=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);a&&(this._physicalTop-=a,b||0===this._physicalTop||this._resetScrollPosition(this._scrollTop-
a))},_resetScrollPosition:function(a){this.scrollTarget&&(this._scrollPosition=this._scrollTop=a)},_updateScrollerSize:function(a){this._estScrollHeight=this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;if((a=(a=(a=a||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-
this._scrollHeight)>=this._optPhysicalSize)this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight},scrollToItem:function(a){return this.scrollToIndex(this.items.indexOf(a))},scrollToIndex:function(a){if(!("number"!==typeof a||0>a||a>this.items.length-1)&&(Polymer.dom.flush(),0!==this._physicalCount)){a=Math.min(Math.max(a,0),this._virtualCount-1);if(!this._isIndexRendered(a)||a>=this._maxVirtualStart)this._virtualStart=this.grid?a-2*this._itemsPerRow:a-1;this._manageFocus();
this._assignModels();this._updateMetrics();this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var b=this._physicalStart,c=this._virtualStart,f=0,g=this._hiddenContentSize;c<a&&f<=g;)f+=this._getPhysicalSizeIncrement(b),b=(b+1)%this._physicalCount,c++;this._updateScrollerSize(!0);this._positionItems();this._resetScrollPosition(this._physicalTop+this._scrollerPaddingTop+f);this._increasePoolIfNeeded();this._lastVisibleIndexVal=this._firstVisibleIndexVal=null}},
_resetAverage:function(){this._physicalAverageCount=this._physicalAverage=0},_resizeHandler:function(){a&&100>Math.abs(this._viewportHeight-this._scrollTargetHeight)||Polymer.dom.addDebouncer(this.debounce("_debounceTemplate",function(){this.updateViewportBoundaries();this._render();0<this._physicalCount&&this._isVisible&&(this._resetAverage(),this.scrollToIndex(this.firstVisibleIndex))}.bind(this),1))},_getModelFromItem:function(a){a=this._collection.getKey(a);a=this._physicalIndexForKey[a];return null!=
a?this._physicalItems[a]._templateInstance:null},_getNormalizedItem:function(a){if(void 0===this._collection.getKey(a)){if("number"===typeof a){a=this.items[a];if(!a)throw new RangeError("\x3citem\x3e not found");return a}throw new TypeError("\x3citem\x3e should be a valid item");}return a},selectItem:function(a){a=this._getNormalizedItem(a);var b=this._getModelFromItem(a);!this.multiSelection&&this.selectedItem&&this.deselectItem(this.selectedItem);b&&(b[this.selectedAs]=!0);this.$.selector.select(a);
this.updateSizeForItem(a)},deselectItem:function(a){a=this._getNormalizedItem(a);var b=this._getModelFromItem(a);b&&(b[this.selectedAs]=!1);this.$.selector.deselect(a);this.updateSizeForItem(a)},toggleSelectionForItem:function(a){a=this._getNormalizedItem(a);this.$.selector.isSelected(a)?this.deselectItem(a):this.selectItem(a)},clearSelection:function(){function a(a){(a=this._getModelFromItem(a))&&(a[this.selectedAs]=!1)}Array.isArray(this.selectedItems)?this.selectedItems.forEach(a,this):this.selectedItem&&
a.call(this,this.selectedItem);this.$.selector.clearSelection()},_selectionEnabledChanged:function(a){(a?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(a){var b=this.modelForElement(a.target);if(b){var c=Polymer.dom(a).path[0];a=Polymer.dom(this.domHost?this.domHost.root:document).activeElement;var f=this._physicalItems[this._getPhysicalIndex(b[this.indexAs])];if("input"!==c.localName&&"button"!==c.localName&&"select"!==c.localName){c=b.tabIndex;b.tabIndex=
-100;var g=a?a.tabIndex:-1;b.tabIndex=c;a&&f!==a&&f.contains(a)&&-100!==g||this.toggleSelectionForItem(b[this.as])}}},_multiSelectionChanged:function(a){this.clearSelection();this.$.selector.multi=a},updateSizeForItem:function(a){a=this._getNormalizedItem(a);a=this._collection.getKey(a);a=this._physicalIndexForKey[a];null!=a&&(this._updateMetrics([a]),this._positionItems())},_manageFocus:function(){var a=this._focusedIndex;0<=a&&a<this._virtualCount?this._isIndexRendered(a)?this._restoreFocusedItem():
this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_isIndexRendered:function(a){return a>=this._virtualStart&&a<=this._virtualEnd},_isIndexVisible:function(a){return a>=this.firstVisibleIndex&&a<=this.lastVisibleIndex},_getPhysicalIndex:function(a){return this._physicalIndexForKey[this._collection.getKey(this._getNormalizedItem(a))]},_focusPhysicalItem:function(a){if(!(0>a||
a>=this._virtualCount)){this._restoreFocusedItem();this._isIndexRendered(a)||this.scrollToIndex(a);var b=this._physicalItems[this._getPhysicalIndex(a)],c=b._templateInstance,f;c.tabIndex=-100;-100===b.tabIndex&&(f=b);f||(f=Polymer.dom(b).querySelector('[tabindex\x3d"-100"]'));c.tabIndex=0;this._focusedIndex=a;f&&f.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&Polymer.dom(this).removeChild(this._offscreenFocusedItem);this._focusedItem=this._focusBackfillItem=this._offscreenFocusedItem=
null;this._focusedIndex=-1},_createFocusBackfillItem:function(){var a=this._focusedIndex;if(!(this._offscreenFocusedItem||0>a)){if(!this._focusBackfillItem){var b=this.stamp(null);this._focusBackfillItem=b.root.querySelector("*");Polymer.dom(this).appendChild(b.root)}a=this._getPhysicalIndex(a);null!=a&&(this._offscreenFocusedItem=this._physicalItems[a],this._physicalItems[a]=this._focusBackfillItem,this.translate3d(0,"-10000px",0,this._offscreenFocusedItem))}},_restoreFocusedItem:function(){var a=
this._focusedIndex;!this._offscreenFocusedItem||0>this._focusedIndex||(this._assignModels(),a=this._getPhysicalIndex(a),null!=a&&(this._focusBackfillItem=this._physicalItems[a],this._physicalItems[a]=this._offscreenFocusedItem,this._offscreenFocusedItem=null,this.translate3d(0,"-10000px",0,this._focusBackfillItem)))},_didFocus:function(a){a=this.modelForElement(a.target);var b=this._focusedItem?this._focusedItem._templateInstance:null,c=null!==this._offscreenFocusedItem,f=this._focusedIndex;a&&b&&
(b===a?this._isIndexVisible(f)||this.scrollToIndex(f):(this._restoreFocusedItem(),b.tabIndex=-1,a.tabIndex=0,this._focusedIndex=f=a[this.indexAs],this._focusedItem=this._physicalItems[this._getPhysicalIndex(f)],c&&!this._offscreenFocusedItem&&this._update()))},_didMoveUp:function(){this._focusPhysicalItem(this._focusedIndex-1)},_didMoveDown:function(a){a.detail.keyboardEvent.preventDefault();this._focusPhysicalItem(this._focusedIndex+1)},_didEnter:function(a){this._focusPhysicalItem(this._focusedIndex);
this._selectionHandler(a.detail.keyboardEvent)}})})();
</script>








<dom-module id="facets-overview-row-stats">
  <template>
    <style>
      * {
        text-align: right;
        white-space: nowrap;
        overflow-x: hidden;
        text-overflow: ellipsis;
      }
      .data-error {
        color: red;
        font-weight: bold;
      }
      .data-weighted {
        font-style: italic;
      }
      .table-row {
        display: flex;
        margin-bottom: 4px;
      }
      .table-cell {
        min-width: 70px;
        max-width: 70px;
        padding-right: 4px;
      }
      .data-custom {
        min-width: 150px;
        max-width: 150px;
        white-space: pre;;
      }
      #legend-box {
        width: 6px;
        height: 16px;
        margin-left: 4px;
      }
    </style>
    <div class="table-row">
      <div id="legend-box"></div>
      <template is="dom-repeat" items="[[_entries]]">
        <div class$="[[item.cssClass]] table-cell" title="[[item.fullStr]]">[[item.str]]</div>
      </template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-stats/facets-overview-row-stats.js
Polymer({is:"facets-overview-row-stats",properties:{type:Object,stats:Object,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,datasetIndex:Number,compareMode:Boolean,_entries:{type:Array,computed:"_getEntries(type, stats, showWeighted, hasCustom)"}},observers:["_colorLegendBox(dataModel, datasetIndex, compareMode)"],_getEntries:function(a,b,c,d){a=null;if(b){hc(b)?a=Pc(hc(b)):W(b)?a=Pc(W(b)):jc(b)&&(a=Pc(jc(b)));var e=Ve(a),e=W(b)?e.concat(We(W(b),a,c)):e.concat(Ye(hc(b),c));d&&(e=e.concat(Ze(lc(b))));
b=e}else b=[];return b},_colorLegendBox:function(a,b,c){var d=d3.select(this.$$("#legend-box"));2>a.getDatasetNames().length&&!c?d.style("visibility","hidden"):(d.style("visibility",null),d.style("background-color",a.getChartColorString(b)))}});
</script>




<dom-module id="facets-overview-row-legend">
  <template>
    <style>
      .table-row {
        display: flex;
        background: rgba(61,140,207,0.1);
        border-left: solid 0.5px rgba(0,0,0,0.1);
        border-bottom: solid 0.5px rgba(0,0,0,0.1);
      }
      .table-cell {
        padding: 20px 4px 8px 0;
        min-width: 69px;
        max-width: 69px;
        text-align: right;
        font-size: 14px;
        font-weight: 300;
        border-right: solid 0.5px rgba(0,0,0,0.1);
      }
      .data-weighted {
        font-style: italic;
      }
      .data-custom {
        min-width: 150px;
        max-width: 150px;
      }
      .legend-space {
        width: 6px;
        height: 8px;
        margin-left: 4px;
      }
    </style>
    <div class="table-row">
      <div class="legend-space"></div>
      
      <template is="dom-repeat" items="[[_entries]]">
        <div class$="[[item.cssClass]] table-cell">[[item.str]]</div>
      </template>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-row-legend/facets-overview-row-legend.js
Polymer({is:"facets-overview-row-legend",properties:{type:Object,showWeighted:Boolean,hasCustom:Boolean,dataModel:Object,_entries:{type:Array,computed:"_getEntries(type, showWeighted, hasCustom)"}},_getEntries:function(a,b,c){var d=[];d.push(Ue("count"));d.push(Ue("missing"));0===a||1===a?(d.push(Ue("mean",b)),d.push(Ue("std dev",b)),d.push(Ue("zeros")),d.push(Ue("min")),d.push(Ue("median",b)),d.push(Ue("max"))):(d.push(Ue("unique")),d.push(Ue("top",b)),d.push(Ue("freq top",b)),d.push(Ue("avg str len")));
c&&(a=new Oe("custom","data-custom "),d.push(a));return d}});
</script>








<dom-module id="paper-material-shared-styles">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
      }

      :host([elevation="1"]) {
        @apply --shadow-elevation-2dp;
      }

      :host([elevation="2"]) {
        @apply --shadow-elevation-4dp;
      }

      :host([elevation="3"]) {
        @apply --shadow-elevation-6dp;
      }

      :host([elevation="4"]) {
        @apply --shadow-elevation-8dp;
      }

      :host([elevation="5"]) {
        @apply --shadow-elevation-16dp;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-material">
  <template>
    <style include="paper-material-shared-styles"></style>
    <style>
      :host([animated]) {
        @apply --shadow-transition;
      }
      :host {
        @apply --paper-material;
      }
    </style>

    <slot></slot>
  </template>
</dom-module>
<script>//~~WEBPATH~~/paper-material/paper-material.html.js
Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}});
</script>






<script>//~~WEBPATH~~/paper-behaviors/paper-button-behavior.html.js
Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var a=1;this.disabled?a=0:this.active||this.pressed?a=4:this.receivedFocusFromKeyboard&&(a=3);this._setElevation(a)},_computeKeyboardClass:function(a){this.toggleClass("keyboard-focus",
a)},_spaceKeyDownHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,a);this.hasRipple()&&1>this.getRipple().ripples.length&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(a){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,a);this.hasRipple()&&this._ripple.uiUpAction()}};Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl];
</script>





<dom-module id="paper-button">
  <template strip-whitespace>

    <style include="paper-material">
      :host {
        display: inline-block;
        position: relative;
        box-sizing: border-box;
        min-width: 5.14em;
        margin: 0 0.29em;
        background: transparent;
        text-align: center;
        font: inherit;
        text-transform: uppercase;
        outline-width: 0;
        border-radius: 3px;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        padding: 0.7em 0.57em;

        @apply(--paper-button);
      }

      :host([raised].keyboard-focus) {
        font-weight: bold;
        @apply(--paper-button-raised-keyboard-focus);
      }

      :host(:not([raised]).keyboard-focus) {
        font-weight: bold;
        @apply(--paper-button-flat-keyboard-focus);
      }

      :host([disabled]) {
        background: #eaeaea;
        color: #a8a8a8;
        cursor: auto;
        pointer-events: none;

        @apply(--paper-button-disabled);
      }

      paper-ripple {
        color: var(--paper-button-ink-color);
      }

      :host > ::content * {
        text-transform: inherit;
      }
    </style>
    <content></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-button/paper-button.html.js
Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}});
</script>





<dom-module id="facets-overview-chart">
  
  <template>
    <style>
      .chart-small {
        height: 46px;
        width: 250px;
      }
      .xaxis-small{
        height: 30px;
        width: 250px;
      }
      .chart-big {
        height: 200px;
        width: 550px;
      }
      .xaxis-big {
        height: 50px;
        width: 550px;
      }
      #show_table_button {
        margin: 0 0 0 5px;
        padding: 0 3px;
        font-size: 7pt;
        background-color: #d3d3d3;
      }
      .dialog-row-entry {
        padding: 0 10px 0 0;
      }
      .table-header {
        border-bottom: 1px solid black;
      }
      .dialog-row, .dialog-header-row {
        display: flex;
      }
      .dialog-row.selected {
        border: 1px solid black
      }
      .dialog-row:hover {
        background-color: #D0D0D0;
        cursor: pointer;
      }
      .dialog-table {
        clear: left;
      }
      .label-cell {
        width: 100px;
        max-width: 100px;
        min-width: 100px;
        overflow-wrap: break-word;
      }
      .count-cell {
        width: 100px;
        max-width: 100px;
        min-width: 100px;
        overflow-wrap: break-word;
      }
      .weighted-cell {
        font-style: italic;
      }
      .data-list-small {
        height: 60px;
      }
      .data-list-big {
        height: 180px;
        width: 550px;
      }
      .hidechart {
        display: none;
      }
      .showchart {
        display: inline;
      }
      #tooltip {
        background-color: var(--paper-tooltip-background, #616161);
        opacity: 0;
        color: white;
        pointer-events:none;
        transition: opacity 0.3s;
        position: absolute;
        text-align:center;
        padding: 6px;
        border-radius: 2px;
        font-size: 12px;
        line-height: 1;
        margin-left: 50px;
        white-space: pre;
        top: 0px;
      }
      .toplevel {
        position: relative;
        text-align: left;
        padding-top: 4px;
      }
    </style>
    <div class="toplevel">
      <template is="dom-if" if="[[_isStringChart(_chartType, chartSelection)]]">
        <paper-button id="show_table_button" on-click="_toggleShowTable">[[_getShowTableButtonText(_showTable)]]</paper-button>
      </template>
      <div class$="[[_chartClass]]">
        <div id="chart" class$="[[_chartSvgClass]]"></div>
        <div id="xaxis" class$="[[_xAxisSvgClass]]"></div>
      </div>
      <template is="dom-if" if="[[_showTable]]">
        <div class="dialog-table">
          <div class="dialog-header-row">
            <div class="dialog-row-entry table-header label-cell">Value</div>
            <template is="dom-repeat" items="[[data]]" as="data">
              <div class="dialog-row-entry table-header label-cell">[[data.name]]</div>
            </template>
          </div>
          <iron-list items="[[_tableData]]" as="entry" class$="[[_tableDataClass]]">
            <template>
              <div class$="[[_getEntryRowClass(entry, selection)]]" on-tap="_rowClick" data-value="[[_getEntryRowValue(entry)]]">
                <div class="dialog-row-entry label-cell">[[entry.value]]</div>
                <template is="dom-repeat" items="[[entry.counts]]" as="count">
                  <div class$="[[_getCountCellClass(showWeighted)]]">[[count]]</div>
                </template>
              </div>
            </template>
          <iron-list>
        </iron-list></iron-list></div>
      </template>
      <div id="tooltip"></div>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-chart/facets-overview-chart.js
Polymer({is:"facets-overview-chart",properties:{data:{type:Object,observer:"_updateData"},dataModel:Object,feature:String,_maxBucketsForBarChart:{type:Number,value:10,readOnly:!0},_chartAlpha:{type:Number,value:1},logScale:Boolean,showWeighted:Boolean,showPercentage:Boolean,chartSelection:{type:Number,observer:"_updateChartSelection"},selection:{type:Object,observer:"_updateSelectionVisibility",notify:!0},expandChart:Boolean,_selectionElem:Object,_minBarHeightRatio:{type:Number,value:.01,readOnly:!0},
_onClick:Object,_onClickFunction:Object,_onPointer:Object,_onPointerEnterFunction:Object,_onPointerExitFunction:Object,_tableData:Array,_showTable:{type:Boolean,value:!1},_chartType:Object,_chartClass:{type:String,computed:"_getChartClass(_showTable)"},_chartSvgClass:{type:String,computed:"_getChartSvgClass(expandChart)"},_xAxisSvgClass:{type:String,computed:"_getXAxisSvgClass(expandChart)"},_tableDataClass:{type:String,computed:"_getTableDataClass(expandChart)"}},observers:["_render(data, logScale, showWeighted, chartSelection, _showTable, expandChart, showPercentage, dataModel)"],
_updateData:function(){this._showTable=!1},_updateChartSelection:function(){this._showTable=!1},_hasWeightedHistogram:function(a){return Ce(a)},_hasQuantiles:function(a){return De(a)},_isStringChart:function(a,b){return(a===af.CUMDIST_CHART||a===af.BAR_CHART)&&b!==oe&&b!==pe},_disableLogCheckbox:function(a,b){return a||b!==me},_render:function(a,b,c,d,e,f,g,k){var l=this;this._onPointer&&(this._onPointer.offPointerMove(this._onPointerEnterFunction),this._onPointer.offPointerMove(this._onPointerExitFunction));
this._onClick&&this._onClick.offClick(this._onClickFunction);a&&(this._chartAlpha=k.getChartAlpha(),e=a.map(function(a){return l._getBuckets(a,c,d)}),this._chartType=Ne(a,this._maxBucketsForBarChart),a=a.map(function(a){return a.name}),d===oe||d===pe||d===ne?this._renderQuantileChart(e,a,b):this._chartType===af.HISTOGRAM?this._renderHistogramChart(e,a,b,g):this._chartType===af.CUMDIST_CHART?this._renderCdfChart(e,a,b):this._renderBarChart(e,a,b,g))},_renderHistogramChart:function(a,b,c,d){var e=this,
f=[],g=new Plottable.Plots.Rectangle,k=Infinity,l=-Infinity,m=0;d&&(a=$e(a));a.forEach(function(a,c){a.forEach(function(a){var b=Y(a.getLowValue()),c=Y(zd(a));a=Y(a.getSampleCount());b<k&&(k=b);c>l&&(l=c);a>m&&(m=a);isFinite(b)&&isFinite(c)&&f.push(c-b)});g.addDataset(new Plottable.Dataset(a,{name:b[c]}))});var n=0<f.length?f.reduce(function(a,b){return a+b})/f.length:0;0===n&&(n=1);d=[];isFinite(k)&&(d.push(k),isFinite(l)&&d.push(l));a=new Plottable.Scales.Linear;0<d.length&&a.domain(d);d=this._getScale(c).domain([0]);
var q=new Plottable.Axes.Numeric(a,"bottom"),p=new Plottable.Axes.Numeric(d,"left");p.formatter(this._chartAxisScaleFormatter());q.formatter(this._chartAxisScaleFormatter());g.x(function(a){var b=Y(a.getLowValue());if(-Infinity===b||b===zd(a))a=Y(zd(a)),isFinite(a)?b=a-n:(b=0,-Infinity===a&&(b-=n));return b},a).x2(function(a){var b=Y(zd(a));if(Infinity===b||b===a.getLowValue())a=Y(a.getLowValue()),isFinite(a)?b=a+n:(b=0,Infinity===a&&(b+=n));return b},a).y(function(){return 0},d).y2(function(a){return e._getCountWithFloor(a,
m,c)},d);g.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);this._renderChart(g,q,p,null,null,function(a){return g.entitiesAt(a)},function(a){return te(Y(a.getLowValue()),2).toLocaleString()+"-"+te(Y(zd(a)),2).toLocaleString()+": "+Y(a.getSampleCount()).toLocaleString()},function(a){return new qe(e.feature,void 0,Y(a.getLowValue()),Y(zd(a)))},function(a){return a.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width",
"1px")},function(a,b){return a.attr("x",b.position.x-b.selection._groups[0][0].width.baseVal.value/2).attr("y",b.position.y-b.selection._groups[0][0].height.baseVal.value/2).attr("width",b.selection._groups[0][0].width.baseVal.value).attr("height",b.selection._groups[0][0].height.baseVal.value)})},_renderQuantileChart:function(a,b,c){var d=this,e=new Plottable.Plots.Line,f=new Plottable.Plots.Scatter,g=Infinity,k=-Infinity;a.forEach(function(a,c){var d=[],l=a.length;a.forEach(function(a,b){var e=
Y(a.getLowValue()),f=Y(zd(a));e<g&&(g=e);f>k&&(k=f);e=new je;e.bucket=a;e.datasetIndex=c;e.quantile=100*b/l;d.push(e)});if(0<a.length){var m=new ud;xd(m,zd(a[a.length-1]));yd(m,zd(a[a.length-1]));m.setSampleCount(a[a.length-1].getSampleCount());a=new je;a.bucket=m;a.datasetIndex=c;a.quantile=100;d.push(a)}e.addDataset(new Plottable.Dataset(d,{name:b[c]}));f.addDataset(new Plottable.Dataset(d,{name:b[c]}))});var l=isFinite(g)&&isFinite(k)?k===g?1:(k-g)/10:0,m=[];isFinite(g)&&(m.push(g-l),isFinite(k)&&
m.push(k+l));c=this._getScale(c);0<m.length&&c.domain(m);m=this._getScale(!1).domain([-a.length+.5,1]);a=new Plottable.Axes.Numeric(c,"bottom");a.formatter(this._chartAxisScaleFormatter());e.x(function(a){return Y(a.bucket.getLowValue())},c).y(function(a){return-1*a.datasetIndex},m);f.x(function(a){return Y(a.bucket.getLowValue())},c).y(function(a){return-a.datasetIndex},m).size(function(a){return 50===a.quantile?15:8}).symbol(function(){return Plottable.SymbolFactories.cross()});e.attr("stroke",
"gray").attr("opacity",this._chartAlpha);f.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);m=new Plottable.Components.Group([e,f]);this._renderChart(m,a,null,null,null,function(a){return f.entitiesAt(a)},function(a){return a.quantile+"%: "+te(Y(a.bucket.getLowValue()),2).toLocaleString()},function(a){return new qe(d.feature,void 0,Y(a.bucket.getLowValue()),Y(zd(a.bucket)))},function(a){return a.append("circle").attr("r",3).attr("stroke",
"black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("cx",b.position.x).attr("cy",b.position.y)})},_renderBarChart:function(a,b,c,d){var e=this,f=we(a),g=new Plottable.Scales.Linear,k=new Plottable.Scales.Category,l=this._getScale(c);k.domain(f);var k=new Plottable.Axes.Category(k,"bottom"),m=new Plottable.Axes.Numeric(l,"left");m.formatter(this._chartAxisScaleFormatter());d&&(a=$e(a));var n=0;d=a.map(function(a,c){a.forEach(function(a){a=Y(a.getSampleCount());a>n&&
(n=a)});var d=new He;d.name=b[c];d.rawBuckets=a;return d});this._tableData=Ke(d,f);var q=new Plottable.Plots.Bar;a.forEach(function(a,c){return q.addDataset(new Plottable.Dataset(a,{name:b[c]}))});q.x(function(a){return f.indexOf(xe(Fd(a)))},g).y(function(a){return e._getCountWithFloor(a,n,c)},l);q.attr("fill",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);this._renderChart(q,k,m,null,null,function(a){return q.entitiesAt(a)},function(a){return xe(Fd(a))+
": "+Y(a.getSampleCount()).toLocaleString()},function(a){return new qe(e.feature,Fd(a))},function(a){return a.append("rect").attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("x",b.position.x-b.selection._groups[0][0].width.baseVal.value/2).attr("y",b.position.y).attr("width",b.selection._groups[0][0].width.baseVal.value).attr("height",b.selection._groups[0][0].height.baseVal.value)})},_renderCdfChart:function(a,b,c){var d=this,e=b.map(function(a){a=
d.dataModel.getFeatureCommonStats(d.feature,a);return null!=a?a.getNumNonMissing()*a.getAvgNumValues():0}),f=we(a),g={};f.forEach(function(a,b){g[a]=b});var k=(new Plottable.Scales.Linear).domain([0]);c=this._getScale(c).domain([0]);var l=new Plottable.Axes.Numeric(k,"bottom"),m=new Plottable.Axes.Numeric(c,"left"),n=new Plottable.Plots.Line;a=a.map(function(a,c){var d=[],k=[],l=[],m=-1;a.forEach(function(a){a=new a.constructor(Ma(a.toArray()));l.push(a)});0<c&&l.sort(function(a,b){return g[xe(Fd(a))]-
g[xe(Fd(b))]});l.forEach(function(a,b){for(var l=g[xe(Fd(a))],n=m+1;n<l;n++){var p=new Cd;G(p,4,f[n]);G(p,1,n);G(p,2,n);0===d.length?p.setSampleCount(0):p.setSampleCount(d[d.length-1].getSampleCount());d.push(p);p=new Cd;G(p,4,f[n]);G(p,1,n);G(p,2,n);p.setSampleCount(0);k.push(p)}m=l;n=a.clone();k.push(n);0===b?a.setSampleCount(Y(a.getSampleCount())/e[c]):(b=0<l?l-1:b-1,a.setSampleCount(Y(a.getSampleCount())/e[c]+Y(d[b].getSampleCount())));G(a,1,l);G(a,2,l);d.push(a)});a=new He;a.name=b[c];a.percBuckets=
d;a.rawBuckets=k;return a});this._tableData=Je(a);a.map(function(a){return n.addDataset(new Plottable.Dataset(a.percBuckets,{name:a.name}))});n.x(function(a){return Y(u(a,1,0))},k).y(function(a){return Y(a.getSampleCount())},c);n.attr("stroke",function(a,b,c){return c.metadata().name},this.dataModel.getColorScale()).attr("opacity",this._chartAlpha);this._renderChart(n,l,m,null,null,function(a){return n.entitiesAt(a)},function(a){return xe(Fd(a))+": "+te(Y(a.getSampleCount()),4).toLocaleString()},
function(a){return new qe(d.feature,Fd(a))},function(a){return a.append("circle").attr("r",3).attr("stroke","black").attr("fill","none").attr("stroke-width","1px")},function(a,b){return a.attr("cx",b.position.x).attr("cy",b.position.y)})},_renderChart:function(a,b,c,d,e,f,g,k,l,m){var n=this;if(!this._showTable){var q=new Plottable.Components.Table([[e,c,a],[null,null,null]]),p=new Plottable.Components.Table([[null,null],[null,b]]);Plottable.RenderController.renderPolicy();var t=d3.select(this.$.chart),
r=d3.select(this.$.xaxis),v=d3.select(this.$.tooltip);this.async(function(){t.selectAll(".component").remove();r.selectAll(".component").remove();q.renderTo(n.$.chart);n._selectionElem=l(a.foreground());n._updateSelectionVisibility(n.selection);n._onPointer=new Plottable.Interactions.Pointer;n._onPointerEnterFunction=function(a){a=f(a);0<a.length&&(a=a.map(function(a){return null==a.dataset.metadata().name||1===n.dataModel.getDatasetNames().length?g(a.datum):a.dataset.metadata().name+": "+g(a.datum)}).join("\n"),
v.text(a),v.style("opacity","1"))};n._onPointer.onPointerMove(n._onPointerEnterFunction);n._onPointerExitFunction=function(){v.style("opacity","0")};n._onPointer.onPointerExit(n._onPointerExitFunction);n._onPointer.attachTo(a);n.chartSelection!==oe&&(n._onClick=new Plottable.Interactions.Click,n._onClickFunction=function(a){a=f(a);0<a.length&&(m(n._selectionElem,a[0]),a=k(a[0].datum),n._setSelection(a))},n._onClick.onClick(n._onClickFunction),n._onClick.attachTo(a));null!=c&&p.columnPadding(q.componentAt(1).width()+
(q.componentAt(0)?q.componentAt(0).width():0));p.renderTo(n.$.xaxis)})}},_setSelection:function(a){a.equals(this.selection)&&a.clear();this.selection=a;this.fire("feature-select",{selection:a})},_getBuckets:function(a,b,c){return ue(a,b,c)},_getScale:function(a){return a?new Plottable.Scales.ModifiedLog:new Plottable.Scales.Linear},_chartAxisScaleFormatter:function(){var a=Plottable.Formatters.shortScale();return function(b){return 1E3>Math.abs(b)?String(b):a(b)}},_getCountWithFloor:function(a,b,
c){a=Y(a.getSampleCount());!c&&0<a&&a/b<this._minBarHeightRatio&&(a=b*this._minBarHeightRatio);return a},_updateSelectionVisibility:function(a){this._selectionElem&&this._selectionElem.style("display",null==a||a.name!==this.feature?"none":"inline")},_toggleShowTable:function(){this._showTable=!this._showTable},_getChartClass:function(a){return a?"hidechart":"showchart"},_getShowTableButtonText:function(a){return a?"show chart":"show raw data"},_getChartSvgClass:function(a){return a?"chart-big":"chart-small"},
_getXAxisSvgClass:function(a){return a?"xaxis-big":"xaxis-small"},_getTableDataClass:function(a){return a?"data-list-big":"data-list-small"},_rowClick:function(a){a=new qe(this.feature,a.currentTarget.dataValue);this._setSelection(a)},_getEntryRowValue:function(a){return a.value},_getEntryRowClass:function(a,b){var c="dialog-row";null!=b&&b.name===this.feature&&b.stringValue===a.value&&(c+=" selected");return c},_getCountCellClass:function(a){return"dailog-row-entry count-cell"+(a?" weighted-cell":
"")}});
</script>


<dom-module id="facets-overview-table">
  <template>
    <style>
      .feature-name {
        font-weight: 500;
        max-width: 480px;
        word-wrap: break-word;
        margin: 0 0 4px 4px;
      }
      .table-name {
        font-weight: 500;
        word-wrap:break-word;
        padding: 4px 0 4px 8px;
        background: rgba(61,140,207,0.3);
        border: solid 0.5px rgba(0,0,0,0.1);
      }
      .feature-iron-list {
        max-height: 800px;
        overflow-x: hidden !important;
      }
      .chart-column {
        width: 280px;
        min-width: 280px;
        text-align: center;
      }
      .chart-column.header-cell {
        background: rgba(61,140,207,0.1);
        border-top: solid 0.5px rgba(0,0,0,0.1);
        border-bottom: solid 0.5px rgba(0,0,0,0.1);
        border-right: solid 0.5px rgba(0,0,0,0.1);
        padding-left: 8px;
      }
      .table-row {
        display: table-row;
      }
      .table-cell {
        display: table-cell;
        vertical-align: top;
        font-size: 14px;
        line-height: 1.2em;
      }
      .chart-column.table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 0 0 20px
        margin-right: 10px;
      }
      .header-cell {
        position: relative;
        min-height: 60px;
      }
      paper-checkbox {
        --paper-checkbox-size: 12px;
        --paper-checkbox-label-spacing: 2px;
      }
      .control-holder {
        position: absolute;
        bottom: 0;
        width: 100%;
      }
      .checkbox-holder {
        display: flex;
        padding-bottom: 2px;
      }
      .chart-checkbox {
        padding-right: 8px;
        font-size: 12px;
      }
      #weightbox {
        font-style: italic;
      }
      paper-dropdown-menu {
        display: block;
        width: 150px;
        --paper-input-container-label --paper-input-container-input: {
          font-size: 14px;
        }
      }
      .hidden {
        display: none;
      }
    </style>
    <div class$="[[_getTableWrapperClass(features)]]">
      <div class="header-row">
        <div class="header-cell table-cell">
          <div class="table-name">[[_getTitle(numeric)]] Features ([[_getFeatureCountText(dataModel, numeric, features)]])
          </div>
          <facets-overview-row-legend type="[[_getFeatureTypeForList(features)]]" show-weighted="[[_showWeighted]]" has-custom="[[_hasCustomStats(dataModel)]]" data-model="[[dataModel]]">
          </facets-overview-row-legend>
        </div>
        <div class="table-cell chart-column header-cell">
          <div class="control-holder">
            <paper-dropdown-menu label="Chart to show">
              <paper-listbox class="dropdown-content" selected="{{_chartSelection}}" attr-for-selected="value">
                <template is="dom-repeat" items="[[_chartSelectionTypes]]">
                  <paper-item value="[[item]]">[[item]]</paper-item>
                </template>
              </paper-listbox>
            </paper-dropdown-menu>
            <div class="checkbox-holder">
              <paper-checkbox class="chart-checkbox" id="logbox" checked="{{_logScale}}">log</paper-checkbox>
              <paper-checkbox class="chart-checkbox" id="expandbox" checked="{{_expandCharts}}">expand</paper-checkbox>
              <template is="dom-if" if="[[_hasWeightedHistogram(features)]]">
                <paper-checkbox class="chart-checkbox" id="weightbox" checked="{{_showWeighted}}">weighted</paper-checkbox>
              </template>
              <template is="dom-if" if="[[_hasMultipleDatasets(dataModel)]]">
                <paper-checkbox class="chart-checkbox" id="percentbox" checked="{{_showPercentage}}" disabled="[[_chartSelectionHasQuantiles(_chartSelection)]]">percentages</paper-checkbox>
              </template>
            </div>
          </div>
        </div>
      </div>
      <iron-list items="[[features]]" as="feature" class="feature-iron-list">
        <template>
          <div class="table-row">
            <div class="table-cell">
              <div class="feature-name">[[_getFeatureName(feature)]]</div>
              <template is="dom-repeat" items="[[_getDatasets(dataModel)]]" as="dataset" index-as="datasetIndex">
                <div>
                  <facets-overview-row-stats type="[[_getFeatureType(feature)]]" stats="[[_getStats(dataModel, dataset, feature)]]" custom-stats="[[_getAllCustomStats(dataModel, feature)]]" show-weighted="[[_showWeighted]]" has-custom="[[_hasCustomStats(dataModel)]]" data-model="[[dataModel]]" dataset-index="[[datasetIndex]]" compare-mode="[[compareMode]]">
                  </facets-overview-row-stats>
                </div>
              </template>
            </div>
            <div class$="[[_getChartClass(_expandCharts)]]">
              <facets-overview-chart data="[[_getChartData(dataModel, feature)]]" data-model="[[dataModel]]" feature="[[_getFeatureName(feature)]]" selection="{{featureSliceSelection}}" log-scale="[[_logScale]]" show-weighted="[[_showWeighted]]" show-percentage="[[_showPercentage]]" chart-selection="[[_chartSelection]]" expand-chart="[[_expandCharts]]">
              </facets-overview-chart>
            </div>
          </div>
        </template>
      </iron-list>
    </div>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview-table/facets-overview-table.js
Polymer({is:"facets-overview-table",properties:{dataModel:{type:Object,observer:"_handleResize"},features:Array,featureSliceSelection:{type:Object,notify:!0},numeric:{type:Boolean,value:!1},compareMode:{type:Boolean,value:!1},_logScale:{type:Boolean,value:!1},_expandCharts:{type:Boolean,value:!1,observer:"_handleResize"},_showWeighted:{type:Boolean,value:!1},_showPercentage:{type:Boolean,value:!1},_chartSelection:{type:String,value:me},_enableLogScale:{type:Boolean,value:!0},_chartSelectionTypes:{type:Array,
computed:"_computeChartSelectionTypes(numeric, dataModel, features)"}},_handleResize:function(){var a=this.$$("iron-list");a&&a.fire("iron-resize")},_computeChartSelectionTypes:function(a,b,c){var d=[me];a&&d.push(ne);if(a=0!==c.length)a:{if(a=this._getChartData(b,c[0]))for(var e=0;e<a.length;e++)if(a[e].histMap[oe]){a=!0;break a}a=!1}a&&d.push(oe);b.doesContainFeatureListLengthData()&&d.push(pe);return d.concat(b.getExtraHistogramNames(c))},attached:function(){var a=this;setTimeout(function(){a._handleResize()},
1E3)},_chartSelectionHasQuantiles:function(a){return a===ne||a===oe||a===pe},_getTitle:function(a){return a?"Numeric":"Categorical"},_getFeatureName:function(a){return a.getName()},_getFeatureType:function(a){return this._getFeatureTypeForList([a])},_getFeatureTypeForList:function(a){return 0<a.length?a[0].getType()||0:0},_hasCustomStats:function(a){return null==a?!1:a.doesContainCustomStats()},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},_getAllCustomStats:function(a,
b){var c=[],d={};Pb(a.getDatasetFeatureStatistics()).forEach(function(e){var f=a.getFeatureIndex(e.getName(),b.getName());null!=f&&(e=lc(Wb(e)[f]))&&e.forEach(function(a){d[a.getName()]||(d[a.getName()]=!0,c.push(a))})});return c},_getDatasets:function(a){return a?Pb(a.getDatasetFeatureStatistics()):null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getChartData:function(a,b){return a&&b?a.getDatasetHistogramsForFeature(b.getName()):[]},_getFeatureCountText:function(a,
b,c){a=a?a.getNumUniqueFeaturesByType(b):0;c=c.length;return a===c?a.toLocaleString():c.toLocaleString()+"/"+a.toLocaleString()},_hasWeightedHistogram:function(a){return 0===a.length?!1:Ce(this._getChartData(this.dataModel,a[0]))},_hasQuantiles:function(a){if(0===a.length)a=!1;else{var b=this._getFeatureTypeForList(a);a=0===b||1===b?De(this._getChartData(this.dataModel,a[0])):!1}return a},_getChartClass:function(a){var b="chart-column ";a||(b+="table-cell ");return b},_getTableWrapperClass:function(a){return a&&
0!==a.length?"":"hidden"}});
</script>





<script>//~~WEBPATH~~/iron-validator-behavior/iron-validator-behavior.html.js
Polymer.IronValidatorBehavior={properties:{validatorType:{type:String,value:"validator"},validatorName:{type:String,value:function(){return this.is}}},ready:function(){new Polymer.IronMeta({type:this.validatorType,key:this.validatorName,value:this})},validate:function(){}};
</script>


<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview-filter-validator.html.js
Polymer({is:"facets-overview-filter-validator",behaviors:[Polymer.IronValidatorBehavior],validate:function(a){try{return new RegExp(a),!0}catch(b){return!1}}});
</script>


<dom-module id="facets-overview">
  <template>
    <style>
      :host {
        @apply(--paper-font-common-base)
        font-size: 10pt;
      }
      .controls {
        background: rgba(234,234,234,0.2);
        border-bottom: solid 0.5px rgba(0,0,0,0.2);
        display: flex;
        height: 60px;
        padding-left: 20px;

      }
      .feature-checkboxes {
        background: rgba(234,234,234,0.2);
        border-bottom: solid 0.5px rgba(0,0,0,0.2);
        display: flex;
        padding:  8px 0 8px 20px;
      }
      .feature-checkbox {
        display: flex;
        padding: 0 0 0 16px;
      }
      paper-checkbox {
        font-size: 14px;
      }
      .input-control {
        --paper-input-container-label --paper-input-container-input: {
          font-size: 14px;
        };
      }
      .features-text {
        line-height: 1;
        padding: 1px 0 0 0;
        font-size: 14px;
      }
      .left-dropdown {
        padding: 0 10px 0 0;
      }
      .middle-checkbox {
        margin-top: 30px;
        padding: 0 10px;
      }
      .right-input {
        width: 300px;
        padding: 0 10px;
      }
      .feature-iron-list {
        max-height: 800px;
        overflow: auto;
      }
      .feature-column {
        width: 200px;
        max-width: 200px;
        overflow-wrap: break-word;
        text-align: left;
      }
      .legend-column {
        width: 120px;
      }
      .stats-column {
        width: 150px;
        max-width: 150px;
        overflow-wrap: break-word;
        text-align: right;
      }
      .chart-column {
        width: 580px;
        text-align: center;
      }
      .table-row {
        display: table-row;
      }
      .table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 5px 0
      }
      .chart-column.table-cell {
        display: table-cell;
        vertical-align: top;
        padding: 10px 0 0 20px
      }
      .header-row {
        clear: both;
      }
      .header-row > .table-cell {
        font-size: 14pt;
        padding: 0 5px 0;
        border-bottom: 1px solid black;
      }
      .stats-header-text {
        text-align: right;
      }
      .chart-header-text {
        text-align: center;
      }
      .table-holder {
        display: flex;
        flex-wrap: wrap;
        overflow-x: auto;
        margin-left: 30px;
      }
      .table-left {
        margin: 20px 20px 0 0;
      }
      .table-right {
        margin: 20px 0 0 0;
      }
      .hidden {
        display: none;
      }
      .legend-holder {
        display: flex;
        margin: 8px 0 0 38px;
      }
      .legend-box {
        width: 8px;
        height: 8px;
        margin-top: 6px;
      }
      .legend-row {
        display: flex;
      }
      .legend-name {
        margin: 3px 10px 0 5px;
        font-size: 12px;
      }
      /* Give min height to placeholder in paper-input to get around colab embedding
       * alignment issue.
       */
      ::content paper-input-container > .floated-label-placeholder {
        min-height: 20px;
      }
    </style>
    <template is="dom-if" if="[[_dataModel]]">
      <div class$="[[_getControlsWrapperClass(_dataModel)]]">
        <div class="controls">
          <paper-dropdown-menu class="left-dropdown input-control" label="Sort by">
            <paper-listbox class="dropdown-content" selected="{{_sortOrder}}">
              <template is="dom-repeat" items="[[_sortOptions]]" as="option">
                <paper-item>[[option.name]]</paper-item>
              </template>
            </paper-listbox>
          </paper-dropdown-menu>
          <paper-checkbox noink class="middle-checkbox" checked="{{_reverseOrder}}">
            Reverse order
          </paper-checkbox>
          <paper-input class="right-input input-control" label="Feature search" value="{{_searchString}}" auto-validate="true" validator="filter-validator">
            <facets-overview-filter-validator validator-name="filter-validator">
            </facets-overview-filter-validator>
          </paper-input>
        </div>
        <div class="feature-checkboxes">
          <div class="features-text">Features: </div>
          <template is="dom-repeat" items="[[_featureSpecArray]]" as="specAndList">
          <div>
            <paper-checkbox noink checked="true" class="feature-checkbox" id="[[_getSpecCheckboxId(specAndList)]]" on-change="_featureSpecCheck">
              [[_getSpecCheckboxText(specAndList)]]
            </paper-checkbox>
          </div>
        </template>
        </div>
      </div>
      <template is="dom-if" if="[[_hasMultipleDatasets(_dataModel)]]">
        <div class="legend-holder">
          <template is="dom-repeat" items="[[_getDatasets(_dataModel)]]" as="dataset" index-as="datasetIndex">
            <div class="legend-row">
              <div class="legend-box" style="[[_getLegendBoxStyle(_dataModel, datasetIndex)]]"></div>
              <div class="legend-name">[[_getDatasetName(_dataModel, datasetIndex)]]</div>
            </div>
          </template>
        </div>
      </template>
      <div class="table-holder">
        <facets-overview-table features="[[_getNumericFeatureListItems(_dataModel, _searchString, _sortOrder, _reverseOrder, _featureSpecCheckboxes)]]" data-model="[[_dataModel]]" feature-slice-selection="{{featureSliceSelection}}" numeric="true" class="table-left" compare-mode="[[compareMode]]">
        </facets-overview-table>
        <facets-overview-table features="[[_getNonNumericFeatureListItems(_dataModel, _searchString, _sortOrder, _reverseOrder, _featureSpecCheckboxes)]]" data-model="[[_dataModel]]" feature-slice-selection="{{featureSliceSelection}}" class="table-right" compare-mode="[[compareMode]]">
        </facets-overview-table>
      </div>
    </template>
  </template>
</dom-module>
<script>//~~WEBPATH~~/facets-overview/components/facets-overview/facets-overview.js
Polymer({is:"facets-overview",properties:{_searchString:String,_sortOptions:Array,_reverseOrder:Boolean,_sortOrder:{type:Number,value:0},protoInput:{type:Object,observer:"_update"},featureSliceSelection:{type:Object,notify:!0},compareMode:{type:Boolean,value:!1},_dataModel:{type:Object,value:null},_featureSpecArray:{type:Array,computed:"_getFeatureSpecArray(_dataModel)"},_featureSpecCheckboxes:Array},_getFeatureSpecArray:function(a){if(!a)return[];for(var b=[],c=0;13>c;c++)b.push(!0);this._featureSpecCheckboxes=
b;return a.getNonEmptyFeatureSpecLists()},_getSpecCheckboxText:function(a){return Fe(a.spec)+"("+a.features.length+")"},_getSpecCheckboxId:function(a){return String(a.spec)},_featureSpecCheck:function(a){if(a){for(var b=[],c=+a.target.id,d=0;13>d;d++)c===d?b.push(a.target.checked):b.push(this._featureSpecCheckboxes[d]);this._featureSpecCheckboxes=b}},_convertInputToProto:function(a){if(!a)return null;if(a instanceof Nb)return a;if(a instanceof Uint8Array)return Rb(a);if("string"===typeof a||a instanceof
String){a=atob(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return Rb(b)}return null},_update:function(){var a=this;this.featureSliceSelection=null;var b=this._convertInputToProto(this.protoInput);if(b){var c=new bf(Ae(b));this.set("_sortOptions",[{name:"Feature order",map:{}},{name:"Non-uniformity",map:{}},{name:"Alphabetical",map:{}},{name:"Amount missing/zero",map:{}}]);var d=Pb(c.getDatasetFeatureStatistics()),e=1<d.length;e&&this.push("_sortOptions",{name:"Distribution distance",
map:{}});c.getUniqueFeatures().forEach(function(b,g){a._sortOptions[0].map[b.getName()]=g;g=c.getDatasetHistogramsForFeature(b.getName());a._sortOptions[1].map[b.getName()]=g.reduce(function(a,b){b=b.histMap[me]?re(b.histMap[me].getBucketsList()):1;return Math.min(a,b)},1);a._sortOptions[2].map[b.getName()]=b.getName();a._sortOptions[3].map[b.getName()]=d.reduce(function(d,e){var f=a._getStats(c,e,b);e=null;var g=0,k=0;f&&W(f)?(f=W(f),e=Pc(f),g+=Y(u(f,4,0))):f&&hc(f)?e=Pc(hc(f)):f&&jc(f)&&(e=Pc(jc(f)));
e&&(k=Y(e.getNumMissing()),g+=k,k=Y(e.getNumNonMissing())+k);return Math.min(d,-1*(0===k?1:g/k))},0);e&&(a._sortOptions[4].map[b.getName()]=-1*ye(g))},this);this._dataModel=c}else this._dataModel=null},_getStats:function(a,b,c){return a&&b&&c?a.getFeature(c.getName(),b.getName()):null},_getSortFunction:function(a,b){var c=this._sortOptions[a].map,d=b?-1:1;return function(a,b){a=c[a.getName()];b=c[b.getName()];return"undefined"==typeof a||"undefined"==typeof b?0:d*(a<b?-1:1)}},_getFilter:function(a){if(a)try{var b=
new RegExp(a,"i");return function(a){return b.test(a.getName())}}catch(c){return null}else return null},_getNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!0)},_getNonNumericFeatureListItems:function(a,b,c,d,e){return this._getFeatureListItems(a,b,c,d,e,!1)},_getFeatureListItems:function(a,b,c,d,e,f){if(!a)return[];var g=this._getFilter(b);b=a.getUniqueFeatures();b=g?b.filter(function(b){return g(b)&&e[a.getFeatureSpecForFeature(b.getName())]}):b.filter(function(b){return e[a.getFeatureSpecForFeature(b.getName())]});
b=b.filter(function(a){return f?null!=W(a):null==W(a)});return b.slice().sort(this._getSortFunction(c,d))},_getControlsWrapperClass:function(a){return!a||1>=a.getUniqueFeatures().length?"hidden":""},_getDatasetName:function(a,b){return a.getDatasetNames()[b]},_getLegendBoxStyle:function(a,b){return"background-color:"+a.getChartColorString(b)},_getDatasets:function(a){return a?Pb(a.getDatasetFeatureStatistics()):null},_hasMultipleDatasets:function(a){return null==a?!1:1<a.getDatasetNames().length},
getStatsProto:function(a){return ce(a)}});
</script>




<iron-iconset-svg name="icons" size="24">
<svg><defs>
<g id="3d-rotation"><path d="M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z" /></g>
<g id="accessibility"><path d="M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 7h-6v13h-2v-6h-2v6H9V9H3V7h18v2z" /></g>
<g id="accessible"><circle cx="12" cy="4" r="2" /><path d="M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-6.17 5c-.41 1.16-1.52 2-2.83 2-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07z" /></g>
<g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z" /></g>
<g id="account-balance-wallet"><path d="M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="account-box"><path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z" /></g>
<g id="account-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" /></g>
<g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" /></g>
<g id="add-alert"><path d="M10.01 21.01c0 1.1.89 1.99 1.99 1.99s1.99-.89 1.99-1.99h-3.98zm8.87-4.19V11c0-3.25-2.25-5.97-5.29-6.69v-.72C13.59 2.71 12.88 2 12 2s-1.59.71-1.59 1.59v.72C7.37 5.03 5.12 7.75 5.12 11v5.82L3 18.94V20h18v-1.06l-2.12-2.12zM16 13.01h-3v3h-2v-3H8V11h3V8h2v3h3v2.01z" /></g>
<g id="add-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z" /></g>
<g id="add-circle-outline"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="add-shopping-cart"><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z" /></g>
<g id="alarm"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" /></g>
<g id="alarm-add"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3V9z" /></g>
<g id="alarm-off"><path d="M12 6c3.87 0 7 3.13 7 7 0 .84-.16 1.65-.43 2.4l1.52 1.52c.58-1.19.91-2.51.91-3.92 0-4.97-4.03-9-9-9-1.41 0-2.73.33-3.92.91L9.6 6.43C10.35 6.16 11.16 6 12 6zm10-.28l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM2.92 2.29L1.65 3.57 2.98 4.9l-1.11.93 1.42 1.42 1.11-.94.8.8C3.83 8.69 3 10.75 3 13c0 4.97 4.02 9 9 9 2.25 0 4.31-.83 5.89-2.2l2.2 2.2 1.27-1.27L3.89 3.27l-.97-.98zm13.55 16.1C15.26 19.39 13.7 20 12 20c-3.87 0-7-3.13-7-7 0-1.7.61-3.26 1.61-4.47l9.86 9.86zM8.02 3.28L6.6 1.86l-.86.71 1.42 1.42.86-.71z" /></g>
<g id="alarm-on"><path d="M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-1.46-5.47L8.41 12.4l-1.06 1.06 3.18 3.18 6-6-1.06-1.06-4.93 4.95z" /></g>
<g id="all-out"><path d="M16.21 4.16l4 4v-4zm4 12l-4 4h4zm-12 4l-4-4v4zm-4-12l4-4h-4zm12.95-.95c-2.73-2.73-7.17-2.73-9.9 0s-2.73 7.17 0 9.9 7.17 2.73 9.9 0 2.73-7.16 0-9.9zm-1.1 8.8c-2.13 2.13-5.57 2.13-7.7 0s-2.13-5.57 0-7.7 5.57-2.13 7.7 0 2.13 5.57 0 7.7z" /></g>
<g id="android"><path d="M6 18c0 .55.45 1 1 1h1v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h2v3.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5V19h1c.55 0 1-.45 1-1V8H6v10zM3.5 8C2.67 8 2 8.67 2 9.5v7c0 .83.67 1.5 1.5 1.5S5 17.33 5 16.5v-7C5 8.67 4.33 8 3.5 8zm17 0c-.83 0-1.5.67-1.5 1.5v7c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5zm-4.97-5.84l1.3-1.3c.2-.2.2-.51 0-.71-.2-.2-.51-.2-.71 0l-1.48 1.48C13.85 1.23 12.95 1 12 1c-.96 0-1.86.23-2.66.63L7.85.15c-.2-.2-.51-.2-.71 0-.2.2-.2.51 0 .71l1.31 1.31C6.97 3.26 6 5.01 6 7h12c0-1.99-.97-3.75-2.47-4.84zM10 5H9V4h1v1zm5 0h-1V4h1v1z" /></g>
<g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z" /></g>
<g id="apps"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z" /></g>
<g id="archive"><path d="M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z" /></g>
<g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /></g>
<g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" /></g>
<g id="arrow-drop-down"><path d="M7 10l5 5 5-5z" /></g>
<g id="arrow-drop-down-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12l-4-4h8l-4 4z" /></g>
<g id="arrow-drop-up"><path d="M7 14l5-5 5 5z" /></g>
<g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z" /></g>
<g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" /></g>
<g id="aspect-ratio"><path d="M19 12h-2v3h-3v2h5v-5zM7 9h3V7H5v5h2V9zm14-6H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="assessment"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" /></g>
<g id="assignment"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z" /></g>
<g id="assignment-ind"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z" /></g>
<g id="assignment-late"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 15h-2v-2h2v2zm0-4h-2V8h2v6zm-1-9c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" /></g>
<g id="assignment-return"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm4 12h-4v3l-5-5 5-5v3h4v4z" /></g>
<g id="assignment-returned"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 15l-5-5h3V9h4v4h3l-5 5z" /></g>
<g id="assignment-turned-in"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="attachment"><path d="M2 12.5C2 9.46 4.46 7 7.5 7H18c2.21 0 4 1.79 4 4s-1.79 4-4 4H9.5C8.12 15 7 13.88 7 12.5S8.12 10 9.5 10H17v2H9.41c-.55 0-.55 1 0 1H18c1.1 0 2-.9 2-2s-.9-2-2-2H7.5C5.57 9 4 10.57 4 12.5S5.57 16 7.5 16H17v2H7.5C4.46 18 2 15.54 2 12.5z" /></g>
<g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z" /></g>
<g id="backspace"><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z" /></g>
<g id="backup"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="block"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z" /></g>
<g id="book"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="bookmark"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="bookmark-border"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="bug-report"><path d="M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z" /></g>
<g id="build"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" /></g>
<g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z" /></g>
<g id="camera-enhance"><path d="M9 3L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2h-3.17L15 3H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-1l1.25-2.75L16 13l-2.75-1.25L12 9l-1.25 2.75L8 13l2.75 1.25z" /></g>
<g id="cancel"><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z" /></g>
<g id="card-giftcard"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="card-membership"><path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z" /></g>
<g id="card-travel"><path d="M20 6h-3V4c0-1.11-.89-2-2-2H9c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM9 4h6v2H9V4zm11 15H4v-2h16v2zm0-5H4V8h3v2h2V8h6v2h2V8h3v6z" /></g>
<g id="change-history"><path d="M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z" /></g>
<g id="check"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" /></g>
<g id="check-box"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="check-box-outline-blank"><path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="check-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" /></g>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" /></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" /></g>
<g id="chrome-reader-mode"><path d="M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z" /></g>
<g id="class"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z" /></g>
<g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" /></g>
<g id="cloud"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z" /></g>
<g id="cloud-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01C8.58 8.28 10.13 7 12 7c2.21 0 4 1.79 4 4h.5c1.38 0 2.5 1.12 2.5 2.5S17.88 16 16.5 16z" /></g>
<g id="cloud-done"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM10 17l-3.5-3.5 1.41-1.41L10 14.17 15.18 9l1.41 1.41L10 17z" /></g>
<g id="cloud-download"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z" /></g>
<g id="cloud-off"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z" /></g>
<g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z" /></g>
<g id="cloud-upload"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" /></g>
<g id="code"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" /></g>
<g id="compare-arrows"><path d="M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z" /></g>
<g id="content-copy"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z" /></g>
<g id="content-cut"><path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z" /></g>
<g id="content-paste"><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z" /></g>
<g id="copyright"><path d="M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91 1.05.34 1.7.34c.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" /></g>
<g id="create-new-folder"><path d="M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z" /></g>
<g id="credit-card"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="dashboard"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" /></g>
<g id="date-range"><path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z" /></g>
<g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" /></g>
<g id="description"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" /></g>
<g id="dns"><path d="M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="done"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" /></g>
<g id="done-all"><path d="M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z" /></g>
<g id="donut-large"><path d="M11 5.08V2c-5 .5-9 4.81-9 10s4 9.5 9 10v-3.08c-3-.48-6-3.4-6-6.92s3-6.44 6-6.92zM18.97 11H22c-.47-5-4-8.53-9-9v3.08C16 5.51 18.54 8 18.97 11zM13 18.92V22c5-.47 8.53-4 9-9h-3.03c-.43 3-2.97 5.49-5.97 5.92z" /></g>
<g id="donut-small"><path d="M11 9.16V2c-5 .5-9 4.79-9 10s4 9.5 9 10v-7.16c-1-.41-2-1.52-2-2.84s1-2.43 2-2.84zM14.86 11H22c-.48-4.75-4-8.53-9-9v7.16c1 .3 1.52.98 1.86 1.84zM13 14.84V22c5-.47 8.52-4.25 9-9h-7.14c-.34.86-.86 1.54-1.86 1.84z" /></g>
<g id="drafts"><path d="M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z" /></g>
<g id="eject"><path d="M5 17h14v2H5zm7-12L5.33 15h13.34z" /></g>
<g id="error"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" /></g>
<g id="error-outline"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="event"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" /></g>
<g id="event-seat"><path d="M4 18v3h3v-3h10v3h3v-6H4zm15-8h3v3h-3zM2 10h3v3H2zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z" /></g>
<g id="exit-to-app"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="expand-less"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z" /></g>
<g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z" /></g>
<g id="explore"><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1c.61 0 1.1-.49 1.1-1.1s-.49-1.1-1.1-1.1zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm2.19 12.19L6 18l3.81-8.19L18 6l-3.81 8.19z" /></g>
<g id="extension"><path d="M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z" /></g>
<g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z" /></g>
<g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" /></g>
<g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z" /></g>
<g id="feedback"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z" /></g>
<g id="file-download"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" /></g>
<g id="filter-list"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" /></g>
<g id="find-in-page"><path d="M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z" /></g>
<g id="find-replace"><path d="M11 6c1.38 0 2.63.56 3.54 1.46L12 10h6V4l-2.05 2.05C14.68 4.78 12.93 4 11 4c-3.53 0-6.43 2.61-6.92 6H6.1c.46-2.28 2.48-4 4.9-4zm5.64 9.14c.66-.9 1.12-1.97 1.28-3.14H15.9c-.46 2.28-2.48 4-4.9 4-1.38 0-2.63-.56-3.54-1.46L10 12H4v6l2.05-2.05C7.32 17.22 9.07 18 11 18c1.55 0 2.98-.51 4.14-1.36L20 21.49 21.49 20l-4.85-4.86z" /></g>
<g id="fingerprint"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z" /></g>
<g id="flag"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6z" /></g>
<g id="flight-land"><path d="M2.5 19h19v2h-19zm7.18-5.73l4.35 1.16 5.31 1.42c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l1.6.43 5.31 1.43z" /></g>
<g id="flight-takeoff"><path d="M2.5 19h19v2h-19zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 1.82 3.16.77 1.33 1.6-.43 5.31-1.42 4.35-1.16L21 11.49c.81-.23 1.28-1.05 1.07-1.85z" /></g>
<g id="flip-to-back"><path d="M9 7H7v2h2V7zm0 4H7v2h2v-2zm0-8c-1.11 0-2 .9-2 2h2V3zm4 12h-2v2h2v-2zm6-12v2h2c0-1.1-.9-2-2-2zm-6 0h-2v2h2V3zM9 17v-2H7c0 1.1.89 2 2 2zm10-4h2v-2h-2v2zm0-4h2V7h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zM5 7H3v12c0 1.1.89 2 2 2h12v-2H5V7zm10-2h2V3h-2v2zm0 12h2v-2h-2v2z" /></g>
<g id="flip-to-front"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z" /></g>
<g id="folder"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" /></g>
<g id="folder-open"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z" /></g>
<g id="folder-shared"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z" /></g>
<g id="font-download"><path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5l-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z" /></g>
<g id="forward"><path d="M12 8V4l8 8-8 8v-4H4V8z" /></g>
<g id="fullscreen"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" /></g>
<g id="fullscreen-exit"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z" /></g>
<g id="gavel"><path d="M1 21h12v2H1zM5.245 8.07l2.83-2.827 14.14 14.142-2.828 2.828zM12.317 1l5.657 5.656-2.83 2.83-5.654-5.66zM3.825 9.485l5.657 5.657-2.828 2.828-5.657-5.657z" /></g>
<g id="gesture"><path d="M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z" /></g>
<g id="get-app"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" /></g>
<g id="gif"><path d="M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1zm10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z" /></g>
<g id="grade"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" /></g>
<g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" /></g>
<g id="highlight-off"><path d="M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" /></g>
<g id="hourglass-empty"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z" /></g>
<g id="hourglass-full"><path d="M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6z" /></g>
<g id="http"><path d="M4.5 11h-2V9H1v6h1.5v-2.5h2V15H6V9H4.5v2zm2.5-.5h1.5V15H10v-4.5h1.5V9H7v1.5zm5.5 0H14V15h1.5v-4.5H17V9h-4.5v1.5zm9-1.5H18v6h1.5v-2h2c.8 0 1.5-.7 1.5-1.5v-1c0-.8-.7-1.5-1.5-1.5zm0 2.5h-2v-1h2v1z" /></g>
<g id="https"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="important-devices"><path d="M23 11.01L18 11c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5c.55 0 1-.45 1-1v-9c0-.55-.45-.99-1-.99zM23 20h-5v-7h5v7zM20 2H2C.89 2 0 2.89 0 4v12c0 1.1.89 2 2 2h7v2H7v2h8v-2h-2v-2h2v-2H2V4h18v5h2V4c0-1.11-.9-2-2-2zm-8.03 7L11 6l-.97 3H7l2.47 1.76-.94 2.91 2.47-1.8 2.47 1.8-.94-2.91L15 9h-3.03z" /></g>
<g id="inbox"><path d="M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z" /></g>
<g id="indeterminate-check-box"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z" /></g>
<g id="info"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" /></g>
<g id="info-outline"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z" /></g>
<g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z" /></g>
<g id="invert-colors"><path d="M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z" /></g>
<g id="label"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z" /></g>
<g id="label-outline"><path d="M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z" /></g>
<g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z" /></g>
<g id="launch"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z" /></g>
<g id="line-style"><path d="M3 16h5v-2H3v2zm6.5 0h5v-2h-5v2zm6.5 0h5v-2h-5v2zM3 20h2v-2H3v2zm4 0h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM3 12h8v-2H3v2zm10 0h8v-2h-8v2zM3 4v4h18V4H3z" /></g>
<g id="line-weight"><path d="M3 17h18v-2H3v2zm0 3h18v-1H3v1zm0-7h18v-3H3v3zm0-9v4h18V4H3z" /></g>
<g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z" /></g>
<g id="list"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" /></g>
<g id="lock"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z" /></g>
<g id="lock-open"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z" /></g>
<g id="lock-outline"><path d="M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9V6zM18 20H6V10h12v10z" /></g>
<g id="loyalty"><path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7zm11.77 8.27L13 19.54l-4.27-4.27C8.28 14.81 8 14.19 8 13.5c0-1.38 1.12-2.5 2.5-2.5.69 0 1.32.28 1.77.74l.73.72.73-.73c.45-.45 1.08-.73 1.77-.73 1.38 0 2.5 1.12 2.5 2.5 0 .69-.28 1.32-.73 1.77z" /></g>
<g id="mail"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" /></g>
<g id="markunread-mailbox"><path d="M20 6H10v6H8V4h6V0H6v6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2z" /></g>
<g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" /></g>
<g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="motorcycle"><path d="M19.44 9.03L15.41 5H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97zM7.82 15C7.4 16.15 6.28 17 5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z" /></g>
<g id="move-to-inbox"><path d="M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z" /></g>
<g id="next-week"><path d="M20 7h-4V5c0-.55-.22-1.05-.59-1.41C15.05 3.22 14.55 3 14 3h-4c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zm1 13.5l-1-1 3-3-3-3 1-1 4 4-4 4z" /></g>
<g id="note-add"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z" /></g>
<g id="offline-pin"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm5 16H7v-2h10v2zm-6.7-4L7 10.7l1.4-1.4 1.9 1.9 5.3-5.3L17 7.3 10.3 14z" /></g>
<g id="opacity"><path d="M17.66 8L12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z" /></g>
<g id="open-in-browser"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z" /></g>
<g id="open-in-new"><path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" /></g>
<g id="open-with"><path d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z" /></g>
<g id="pageview"><path d="M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z" /></g>
<g id="pan-tool"><path d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z" /></g>
<g id="payment"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z" /></g>
<g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z" /></g>
<g id="perm-contact-calendar"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z" /></g>
<g id="perm-data-setting"><path d="M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" /></g>
<g id="perm-device-information"><path d="M13 7h-2v2h2V7zm0 4h-2v6h2v-6zm4-9.99L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z" /></g>
<g id="perm-identity"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z" /></g>
<g id="perm-media"><path d="M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z" /></g>
<g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z" /></g>
<g id="perm-scan-wifi"><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z" /></g>
<g id="pets"><circle cx="4.5" cy="9.5" r="2.5" /><circle cx="9" cy="5.5" r="2.5" /><circle cx="15" cy="5.5" r="2.5" /><circle cx="19.5" cy="9.5" r="2.5" /><path d="M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z" /></g>
<g id="picture-in-picture"><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z" /></g>
<g id="picture-in-picture-alt"><path d="M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z" /></g>
<g id="play-for-work"><path d="M11 5v5.59H7.5l4.5 4.5 4.5-4.5H13V5h-2zm-5 9c0 3.31 2.69 6 6 6s6-2.69 6-6h-2c0 2.21-1.79 4-4 4s-4-1.79-4-4H6z" /></g>
<g id="polymer"><path d="M19 4h-4L7.11 16.63 4.5 12 9 4H5L.5 12 5 20h4l7.89-12.63L19.5 12 15 20h4l4.5-8z" /></g>
<g id="power-settings-new"><path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z" /></g>
<g id="pregnant-woman"><path d="M9 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm7 9c-.01-1.34-.83-2.51-2-3 0-1.66-1.34-3-3-3s-3 1.34-3 3v7h2v5h3v-5h3v-4z" /></g>
<g id="print"><path d="M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z" /></g>
<g id="query-builder"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="question-answer"><path d="M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z" /></g>
<g id="radio-button-checked"><path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="radio-button-unchecked"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" /></g>
<g id="receipt"><path d="M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z" /></g>
<g id="record-voice-over"><circle cx="9" cy="9" r="4" /><path d="M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm7.76-9.64l-1.68 1.69c.84 1.18.84 2.71 0 3.89l1.68 1.69c2.02-2.02 2.02-5.07 0-7.27zM20.07 2l-1.63 1.63c2.77 3.02 2.77 7.56 0 10.74L20.07 16c3.9-3.89 3.91-9.95 0-14z" /></g>
<g id="redeem"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" /></g>
<g id="redo"><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z" /></g>
<g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" /></g>
<g id="remove"><path d="M19 13H5v-2h14v2z" /></g>
<g id="remove-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z" /></g>
<g id="remove-circle-outline"><path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="reorder"><path d="M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z" /></g>
<g id="reply"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="reply-all"><path d="M7 8V5l-7 7 7 7v-3l-4-4 4-4zm6 1V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z" /></g>
<g id="report"><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z" /></g>
<g id="report-problem"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="restore"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z" /></g>
<g id="room"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" /></g>
<g id="rounded-corner"><path d="M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z" /></g>
<g id="rowing"><path d="M8.5 14.5L4 19l1.5 1.5L9 17h2l-2.5-2.5zM15 1c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 20.01L18 24l-2.99-3.01V19.5l-7.1-7.09c-.31.05-.61.07-.91.07v-2.16c1.66.03 3.61-.87 4.67-2.04l1.4-1.55c.19-.21.43-.38.69-.5.29-.14.62-.23.96-.23h.03C15.99 6.01 17 7.02 17 8.26v5.75c0 .84-.35 1.61-.92 2.16l-3.58-3.58v-2.27c-.63.52-1.43 1.02-2.29 1.39L16.5 18H18l3 3.01z" /></g>
<g id="save"><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" /></g>
<g id="schedule"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z" /></g>
<g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /></g>
<g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" /></g>
<g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" /></g>
<g id="settings"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" /></g>
<g id="settings-applications"><path d="M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69z" /></g>
<g id="settings-backup-restore"><path d="M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z" /></g>
<g id="settings-bluetooth"><path d="M11 24h2v-2h-2v2zm-4 0h2v-2H7v2zm8 0h2v-2h-2v2zm2.71-18.29L12 0h-1v7.59L6.41 3 5 4.41 10.59 10 5 15.59 6.41 17 11 12.41V20h1l5.71-5.71-4.3-4.29 4.3-4.29zM13 3.83l1.88 1.88L13 7.59V3.83zm1.88 10.46L13 16.17v-3.76l1.88 1.88z" /></g>
<g id="settings-brightness"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02zM8 16h2.5l1.5 1.5 1.5-1.5H16v-2.5l1.5-1.5-1.5-1.5V8h-2.5L12 6.5 10.5 8H8v2.5L6.5 12 8 13.5V16zm4-7c1.66 0 3 1.34 3 3s-1.34 3-3 3V9z" /></g>
<g id="settings-cell"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm4 0h2v-2h-2v2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 16H8V4h8v12z" /></g>
<g id="settings-ethernet"><path d="M7.77 6.76L6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12l4.35-5.24zM7 13h2v-2H7v2zm10-2h-2v2h2v-2zm-6 2h2v-2h-2v2zm6.77-7.52l-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12l-5.41-6.52z" /></g>
<g id="settings-input-antenna"><path d="M12 5c-3.87 0-7 3.13-7 7h2c0-2.76 2.24-5 5-5s5 2.24 5 5h2c0-3.87-3.13-7-7-7zm1 9.29c.88-.39 1.5-1.26 1.5-2.29 0-1.38-1.12-2.5-2.5-2.5S9.5 10.62 9.5 12c0 1.02.62 1.9 1.5 2.29v3.3L7.59 21 9 22.41l3-3 3 3L16.41 21 13 17.59v-3.3zM12 1C5.93 1 1 5.93 1 12h2c0-4.97 4.03-9 9-9s9 4.03 9 9h2c0-6.07-4.93-11-11-11z" /></g>
<g id="settings-input-component"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-composite"><path d="M5 2c0-.55-.45-1-1-1s-1 .45-1 1v4H1v6h6V6H5V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2H9v2zm-8 0c0 1.3.84 2.4 2 2.82V23h2v-4.18C6.16 18.4 7 17.3 7 16v-2H1v2zM21 6V2c0-.55-.45-1-1-1s-1 .45-1 1v4h-2v6h6V6h-2zm-8-4c0-.55-.45-1-1-1s-1 .45-1 1v4H9v6h6V6h-2V2zm4 14c0 1.3.84 2.4 2 2.82V23h2v-4.18c1.16-.41 2-1.51 2-2.82v-2h-6v2z" /></g>
<g id="settings-input-hdmi"><path d="M18 7V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v3H5v6l3 6v3h8v-3l3-6V7h-1zM8 4h8v3h-2V5h-1v2h-2V5h-1v2H8V4z" /></g>
<g id="settings-input-svideo"><path d="M8 11.5c0-.83-.67-1.5-1.5-1.5S5 10.67 5 11.5 5.67 13 6.5 13 8 12.33 8 11.5zm7-5c0-.83-.67-1.5-1.5-1.5h-3C9.67 5 9 5.67 9 6.5S9.67 8 10.5 8h3c.83 0 1.5-.67 1.5-1.5zM8.5 15c-.83 0-1.5.67-1.5 1.5S7.67 18 8.5 18s1.5-.67 1.5-1.5S9.33 15 8.5 15zM12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9zm5.5-11c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm-2 5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z" /></g>
<g id="settings-overscan"><path d="M12.01 5.5L10 8h4l-1.99-2.5zM18 10v4l2.5-1.99L18 10zM6 10l-2.5 2.01L6 14v-4zm8 6h-4l2.01 2.5L14 16zm7-13H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16.01H3V4.99h18v14.02z" /></g>
<g id="settings-phone"><path d="M13 9h-2v2h2V9zm4 0h-2v2h2V9zm3 6.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM19 9v2h2V9h-2z" /></g>
<g id="settings-power"><path d="M7 24h2v-2H7v2zm4 0h2v-2h-2v2zm2-22h-2v10h2V2zm3.56 2.44l-1.45 1.45C16.84 6.94 18 8.83 18 11c0 3.31-2.69 6-6 6s-6-2.69-6-6c0-2.17 1.16-4.06 2.88-5.12L7.44 4.44C5.36 5.88 4 8.28 4 11c0 4.42 3.58 8 8 8s8-3.58 8-8c0-2.72-1.36-5.12-3.44-6.56zM15 24h2v-2h-2v2z" /></g>
<g id="settings-remote"><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41C9.37 6.56 10.62 6 12 6s2.63.56 3.54 1.46l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z" /></g>
<g id="settings-voice"><path d="M7 24h2v-2H7v2zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3zm-1 11h2v-2h-2v2zm4 0h2v-2h-2v2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72z" /></g>
<g id="shop"><path d="M16 6V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H2v13c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6h-6zm-6-2h4v2h-4V4zM9 18V9l7.5 4L9 18z" /></g>
<g id="shop-two"><path d="M3 9H1v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2H3V9zm15-4V3c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H5v11c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5h-5zm-6-2h4v2h-4V3zm0 12V8l5.5 3-5.5 4z" /></g>
<g id="shopping-basket"><path d="M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" /></g>
<g id="shopping-cart"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z" /></g>
<g id="speaker-notes"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 14H6v-2h2v2zm0-3H6V9h2v2zm0-3H6V6h2v2zm7 6h-5v-2h5v2zm3-3h-8V9h8v2zm0-3h-8V6h8v2z" /></g>
<g id="spellcheck"><path d="M12.45 16h2.09L9.43 3H7.57L2.46 16h2.09l1.12-3h5.64l1.14 3zm-6.02-5L8.5 5.48 10.57 11H6.43zm15.16.59l-8.09 8.09L9.83 16l-1.41 1.41 5.09 5.09L23 13l-1.41-1.41z" /></g>
<g id="star"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" /></g>
<g id="star-border"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="star-half"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z" /></g>
<g id="stars"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z" /></g>
<g id="store"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z" /></g>
<g id="subdirectory-arrow-left"><path d="M11 9l1.42 1.42L8.83 14H18V4h2v12H8.83l3.59 3.58L11 21l-6-6 6-6z" /></g>
<g id="subdirectory-arrow-right"><path d="M19 15l-6 6-1.42-1.42L15.17 16H4V4h2v10h9.17l-3.59-3.58L13 9l6 6z" /></g>
<g id="subject"><path d="M14 17H4v2h10v-2zm6-8H4v2h16V9zM4 15h16v-2H4v2zM4 5v2h16V5H4z" /></g>
<g id="supervisor-account"><path d="M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z" /></g>
<g id="swap-horiz"><path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z" /></g>
<g id="swap-vert"><path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z" /></g>
<g id="swap-vertical-circle"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z" /></g>
<g id="system-update-alt"><path d="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z" /></g>
<g id="tab"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h10v4h8v10z" /></g>
<g id="tab-unselected"><path d="M1 9h2V7H1v2zm0 4h2v-2H1v2zm0-8h2V3c-1.1 0-2 .9-2 2zm8 16h2v-2H9v2zm-8-4h2v-2H1v2zm2 4v-2H1c0 1.1.9 2 2 2zM21 3h-8v6h10V5c0-1.1-.9-2-2-2zm0 14h2v-2h-2v2zM9 5h2V3H9v2zM5 21h2v-2H5v2zM5 5h2V3H5v2zm16 16c1.1 0 2-.9 2-2h-2v2zm0-8h2v-2h-2v2zm-8 8h2v-2h-2v2zm4 0h2v-2h-2v2z" /></g>
<g id="text-format"><path d="M5 17v2h14v-2H5zm4.5-4.2h5l.9 2.2h2.1L12.75 4h-1.5L6.5 15h2.1l.9-2.2zM12 5.98L13.87 11h-3.74L12 5.98z" /></g>
<g id="theaters"><path d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z" /></g>
<g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z" /></g>
<g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z" /></g>
<g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z" /></g>
<g id="timeline"><path d="M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z" /></g>
<g id="toc"><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z" /></g>
<g id="today"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z" /></g>
<g id="toll"><path d="M15 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zM3 12c0-2.61 1.67-4.83 4-5.65V4.26C3.55 5.15 1 8.27 1 12s2.55 6.85 6 7.74v-2.09c-2.33-.82-4-3.04-4-5.65z" /></g>
<g id="touch-app"><path d="M9 11.24V7.5C9 6.12 10.12 5 11.5 5S14 6.12 14 7.5v3.74c1.21-.81 2-2.18 2-3.74C16 5.01 13.99 3 11.5 3S7 5.01 7 7.5c0 1.56.79 2.93 2 3.74zm9.84 4.63l-4.54-2.26c-.17-.07-.35-.11-.54-.11H13v-6c0-.83-.67-1.5-1.5-1.5S10 6.67 10 7.5v10.74l-3.43-.72c-.08-.01-.15-.03-.24-.03-.31 0-.59.13-.79.33l-.79.8 4.94 4.94c.27.27.65.44 1.06.44h6.79c.75 0 1.33-.55 1.44-1.28l.75-5.27c.01-.07.02-.14.02-.2 0-.62-.38-1.16-.91-1.38z" /></g>
<g id="track-changes"><path d="M19.07 4.93l-1.41 1.41C19.1 7.79 20 9.79 20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8c0-4.08 3.05-7.44 7-7.93v2.02C8.16 6.57 6 9.03 6 12c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.66-.67-3.16-1.76-4.24l-1.41 1.41C15.55 9.9 16 10.9 16 12c0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.86 1.28-3.41 3-3.86v2.14c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V2h-1C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-2.76-1.12-5.26-2.93-7.07z" /></g>
<g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z" /></g>
<g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z" /></g>
<g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z" /></g>
<g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z" /></g>
<g id="turned-in"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z" /></g>
<g id="turned-in-not"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15l-5-2.18L7 18V5h10v13z" /></g>
<g id="unarchive"><path d="M20.55 5.22l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28zM12 9.5l5.5 5.5H14v2h-4v-2H6.5L12 9.5zM5.12 5l.82-1h12l.93 1H5.12z" /></g>
<g id="undo"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" /></g>
<g id="unfold-less"><path d="M7.41 18.59L8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z" /></g>
<g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z" /></g>
<g id="update"><path d="M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79 2.73 2.71 7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58 3.51-3.47 9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z" /></g>
<g id="verified-user"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" /></g>
<g id="view-agenda"><path d="M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z" /></g>
<g id="view-array"><path d="M4 18h3V5H4v13zM18 5v13h3V5h-3zM8 18h9V5H8v13z" /></g>
<g id="view-carousel"><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z" /></g>
<g id="view-column"><path d="M10 18h5V5h-5v13zm-6 0h5V5H4v13zM16 5v13h5V5h-5z" /></g>
<g id="view-day"><path d="M2 21h19v-3H2v3zM20 8H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zM2 3v3h19V3H2z" /></g>
<g id="view-headline"><path d="M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z" /></g>
<g id="view-list"><path d="M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z" /></g>
<g id="view-module"><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z" /></g>
<g id="view-quilt"><path d="M10 18h5v-6h-5v6zm-6 0h5V5H4v13zm12 0h5v-6h-5v6zM10 5v6h11V5H10z" /></g>
<g id="view-stream"><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z" /></g>
<g id="view-week"><path d="M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z" /></g>
<g id="visibility"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" /></g>
<g id="visibility-off"><path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z" /></g>
<g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" /></g>
<g id="watch-later"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z" /></g>
<g id="weekend"><path d="M21 10c-1.1 0-2 .9-2 2v3H5v-3c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm-3-5H6c-1.1 0-2 .9-2 2v2.15c1.16.41 2 1.51 2 2.82V14h12v-2.03c0-1.3.84-2.4 2-2.82V7c0-1.1-.9-2-2-2z" /></g>
<g id="work"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z" /></g>
<g id="youtube-searched-for"><path d="M17.01 14h-.8l-.27-.27c.98-1.14 1.57-2.61 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 3-6.5 6.5H2l3.84 4 4.16-4H6.51C6.51 7 8.53 5 11.01 5s4.5 2.01 4.5 4.5c0 2.48-2.02 4.5-4.5 4.5-.65 0-1.26-.14-1.82-.38L7.71 15.1c.97.57 2.09.9 3.3.9 1.61 0 3.08-.59 4.22-1.57l.27.27v.79l5.01 4.99L22 19l-4.99-5z" /></g>
<g id="zoom-in"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></g>
<g id="zoom-out"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z" /></g>
</defs></svg>
</iron-iconset-svg>





<iron-iconset-svg name="av" size="24">
<svg><defs>
<g id="add-to-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2h-3v3h-2v-3H8v-2h3V7h2v3h3z" /></g>
<g id="airplay"><path d="M6 22h12l-6-6zM21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V5h18v12h-4v2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" /></g>
<g id="album"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z" /></g>
<g id="art-track"><path d="M22 13h-8v-2h8v2zm0-6h-8v2h8V7zm-8 10h8v-2h-8v2zm-2-8v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V9c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2zm-1.5 6l-2.25-3-1.75 2.26-1.25-1.51L3.5 15h7z" /></g>
<g id="av-timer"><path d="M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z" /></g>
<g id="closed-caption"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z" /></g>
<g id="equalizer"><path d="M10 20h4V4h-4v16zm-6 0h4v-8H4v8zM16 9v11h4V9h-4z" /></g>
<g id="explicit"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4 6h-4v2h4v2h-4v2h4v2H9V7h6v2z" /></g>
<g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z" /></g>
<g id="fast-rewind"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z" /></g>
<g id="fiber-dvr"><path d="M17.5 10.5h2v1h-2zm-13 0h2v3h-2zM21 3H3c-1.11 0-2 .89-2 2v14c0 1.1.89 2 2 2h18c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2zM8 13.5c0 .85-.65 1.5-1.5 1.5H3V9h3.5c.85 0 1.5.65 1.5 1.5v3zm4.62 1.5h-1.5L9.37 9h1.5l1 3.43 1-3.43h1.5l-1.75 6zM21 11.5c0 .6-.4 1.15-.9 1.4L21 15h-1.5l-.85-2H17.5v2H16V9h3.5c.85 0 1.5.65 1.5 1.5v1z" /></g>
<g id="fiber-manual-record"><circle cx="12" cy="12" r="8" /></g>
<g id="fiber-new"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5v6zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4v1.26zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25v5z" /></g>
<g id="fiber-pin"><path d="M5.5 10.5h2v1h-2zM20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zM9 11.5c0 .85-.65 1.5-1.5 1.5h-2v2H4V9h3.5c.85 0 1.5.65 1.5 1.5v1zm3.5 3.5H11V9h1.5v6zm7.5 0h-1.2l-2.55-3.5V15H15V9h1.25l2.5 3.5V9H20v6z" /></g>
<g id="fiber-smart-record"><g><circle cx="9" cy="12" r="8" /><path d="M17 4.26v2.09c2.33.82 4 3.04 4 5.65s-1.67 4.83-4 5.65v2.09c3.45-.89 6-4.01 6-7.74s-2.55-6.85-6-7.74z" /></g></g>
<g id="forward-10"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.8 3H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="forward-30"><path d="M9.6 13.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5zM4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8z" /></g>
<g id="forward-5"><path d="M4 13c0 4.4 3.6 8 8 8s8-3.6 8-8h-2c0 3.3-2.7 6-6 6s-6-2.7-6-6 2.7-6 6-6v4l5-5-5-5v4c-4.4 0-8 3.6-8 8zm6.7.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.5.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.6z" /></g>
<g id="games"><path d="M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z" /></g>
<g id="hd"><path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z" /></g>
<g id="hearing"><path d="M17 20c-.29 0-.56-.06-.76-.15-.71-.37-1.21-.88-1.71-2.38-.51-1.56-1.47-2.29-2.39-3-.79-.61-1.61-1.24-2.32-2.53C9.29 10.98 9 9.93 9 9c0-2.8 2.2-5 5-5s5 2.2 5 5h2c0-3.93-3.07-7-7-7S7 5.07 7 9c0 1.26.38 2.65 1.07 3.9.91 1.65 1.98 2.48 2.85 3.15.81.62 1.39 1.07 1.71 2.05.6 1.82 1.37 2.84 2.73 3.55.51.23 1.07.35 1.64.35 2.21 0 4-1.79 4-4h-2c0 1.1-.9 2-2 2zM7.64 2.64L6.22 1.22C4.23 3.21 3 5.96 3 9s1.23 5.79 3.22 7.78l1.41-1.41C6.01 13.74 5 11.49 5 9s1.01-4.74 2.64-6.36zM11.5 9c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5-1.12-2.5-2.5-2.5-2.5 1.12-2.5 2.5z" /></g>
<g id="high-quality"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z" /></g>
<g id="library-add"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" /></g>
<g id="library-books"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z" /></g>
<g id="library-music"><path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 5h-3v5.5c0 1.38-1.12 2.5-2.5 2.5S10 13.88 10 12.5s1.12-2.5 2.5-2.5c.57 0 1.08.19 1.5.51V5h4v2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6z" /></g>
<g id="loop"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z" /></g>
<g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" /></g>
<g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z" /></g>
<g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z" /></g>
<g id="movie"><path d="M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z" /></g>
<g id="music-video"><path d="M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14zM8 15c0-1.66 1.34-3 3-3 .35 0 .69.07 1 .18V6h5v2h-3v7.03c-.02 1.64-1.35 2.97-3 2.97-1.66 0-3-1.34-3-3z" /></g>
<g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z" /></g>
<g id="not-interested"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z" /></g>
<g id="pause"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" /></g>
<g id="pause-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z" /></g>
<g id="pause-circle-outline"><path d="M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm1-4h2V8h-2v8z" /></g>
<g id="play-arrow"><path d="M8 5v14l11-7z" /></g>
<g id="play-circle-filled"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z" /></g>
<g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" /></g>
<g id="playlist-add"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z" /></g>
<g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z" /></g>
<g id="playlist-play"><path d="M19 9H2v2h17V9zm0-4H2v2h17V5zM2 15h13v-2H2v2zm15-2v6l5-3-5-3z" /></g>
<g id="queue"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z" /></g>
<g id="queue-music"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z" /></g>
<g id="queue-play-next"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h2v-2H3V5h18v8h2V5c0-1.11-.9-2-2-2zm-8 7V7h-2v3H8v2h3v3h2v-3h3v-2h-3zm11 8l-4.5 4.5L18 21l3-3-3-3 1.5-1.5L24 18z" /></g>
<g id="radio"><path d="M3.24 6.15C2.51 6.43 2 7.17 2 8v12c0 1.1.89 2 2 2h16c1.11 0 2-.9 2-2V8c0-1.11-.89-2-2-2H8.3l8.26-3.34L15.88 1 3.24 6.15zM7 20c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-8h-2v-2h-2v2H4V8h16v4z" /></g>
<g id="recent-actors"><path d="M21 5v14h2V5h-2zm-4 14h2V5h-2v14zM14 5H2c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zM8 7.75c1.24 0 2.25 1.01 2.25 2.25S9.24 12.25 8 12.25 5.75 11.24 5.75 10 6.76 7.75 8 7.75zM12.5 17h-9v-.75c0-1.5 3-2.25 4.5-2.25s4.5.75 4.5 2.25V17z" /></g>
<g id="remove-from-queue"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-7v2H8v-2h8z" /></g>
<g id="repeat"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z" /></g>
<g id="repeat-one"><path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z" /></g>
<g id="replay"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" /></g>
<g id="replay-10"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.1 11H10v-3.3L9 13v-.7l1.8-.6h.1V16zm4.3-1.8c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1c.2.1.3.2.5.3s.2.3.3.6.1.5.1.8v.7zm-.9-.8v-.5s-.1-.2-.1-.3-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="replay-30"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-2.4 8.5h.4c.2 0 .4-.1.5-.2s.2-.2.2-.4v-.2s-.1-.1-.1-.2-.1-.1-.2-.1h-.5s-.1.1-.2.1-.1.1-.1.2v.2h-1c0-.2 0-.3.1-.5s.2-.3.3-.4.3-.2.4-.2.4-.1.5-.1c.2 0 .4 0 .6.1s.3.1.5.2.2.2.3.4.1.3.1.5v.3s-.1.2-.1.3-.1.2-.2.2-.2.1-.3.2c.2.1.4.2.5.4s.2.4.2.6c0 .2 0 .4-.1.5s-.2.3-.3.4-.3.2-.5.2-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.4-.1-.6h.8v.2s.1.1.1.2.1.1.2.1h.5s.1-.1.2-.1.1-.1.1-.2v-.5s-.1-.1-.1-.2-.1-.1-.2-.1h-.6v-.7zm5.7.7c0 .3 0 .6-.1.8l-.3.6s-.3.3-.5.3-.4.1-.6.1-.4 0-.6-.1-.3-.2-.5-.3-.2-.3-.3-.6-.1-.5-.1-.8v-.7c0-.3 0-.6.1-.8l.3-.6s.3-.3.5-.3.4-.1.6-.1.4 0 .6.1.3.2.5.3.2.3.3.6.1.5.1.8v.7zm-.8-.8v-.5c0-.1-.1-.2-.1-.3s-.1-.1-.2-.2-.2-.1-.3-.1-.2 0-.3.1l-.2.2s-.1.2-.1.3v2s.1.2.1.3.1.1.2.2.2.1.3.1.2 0 .3-.1l.2-.2s.1-.2.1-.3v-1.5z" /></g>
<g id="replay-5"><path d="M12 5V1L7 6l5 5V7c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6H4c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8zm-1.3 8.9l.2-2.2h2.4v.7h-1.7l-.1.9s.1 0 .1-.1.1 0 .1-.1.1 0 .2 0h.2c.2 0 .4 0 .5.1s.3.2.4.3.2.3.3.5.1.4.1.6c0 .2 0 .4-.1.5s-.1.3-.3.5-.3.2-.4.3-.4.1-.6.1c-.2 0-.4 0-.5-.1s-.3-.1-.5-.2-.2-.2-.3-.4-.1-.3-.1-.5h.8c0 .2.1.3.2.4s.2.1.4.1c.1 0 .2 0 .3-.1l.2-.2s.1-.2.1-.3v-.6l-.1-.2-.2-.2s-.2-.1-.3-.1h-.2s-.1 0-.2.1-.1 0-.1.1-.1.1-.1.1h-.7z" /></g>
<g id="shuffle"><path d="M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z" /></g>
<g id="skip-next"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z" /></g>
<g id="skip-previous"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z" /></g>
<g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z" /></g>
<g id="snooze"><path d="M7.88 3.39L6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7zm-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9v2z" /></g>
<g id="sort-by-alpha"><path d="M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27L1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27H6.1zm-1.13 7.37l1.94-5.18 1.94 5.18H4.97zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26l-5.93 8.6z" /></g>
<g id="stop"><path d="M6 6h12v12H6z" /></g>
<g id="subscriptions"><path d="M20 8H4V6h16v2zm-2-6H6v2h12V2zm4 10v8c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2zm-6 4l-6-3.27v6.53L16 16z" /></g>
<g id="subtitles"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z" /></g>
<g id="surround-sound"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.76 16.24l-1.41 1.41C4.78 16.1 4 14.05 4 12c0-2.05.78-4.1 2.34-5.66l1.41 1.41C6.59 8.93 6 10.46 6 12s.59 3.07 1.76 4.24zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm5.66 1.66l-1.41-1.41C17.41 15.07 18 13.54 18 12s-.59-3.07-1.76-4.24l1.41-1.41C19.22 7.9 20 9.95 20 12c0 2.05-.78 4.1-2.34 5.66zM12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" /></g>
<g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z" /></g>
<g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z" /></g>
<g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z" /></g>
<g id="volume-down"><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z" /></g>
<g id="volume-mute"><path d="M7 9v6h4l5 5V4l-5 5H7z" /></g>
<g id="volume-off"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" /></g>
<g id="volume-up"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" /></g>
<g id="web"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z" /></g>
<g id="web-asset"><path d="M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm0 14H5V8h14v10z" /></g>
</defs></svg>
</iron-iconset-svg>













<dom-module id="paper-icon-button">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        /* NOTE: Both values are needed, since some phones require the value to be `transparent`. */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        /* Because of polymer/2558, this style has lower specificity than * */
        box-sizing: border-box !important;

        @apply(--paper-icon-button);
      }

      :host #ink {
        color: var(--paper-icon-button-ink-color, --primary-text-color);
        opacity: 0.6;
      }

      :host([disabled]) {
        color: var(--paper-icon-button-disabled-text, --disabled-text-color);
        pointer-events: none;
        cursor: auto;

        @apply(--paper-icon-button-disabled);
      }

      :host(:hover) {
        @apply(--paper-icon-button-hover);
      }

      iron-icon {
        --iron-icon-width: 100%;
        --iron-icon-height: 100%;
      }
    </style>

    <iron-icon id="icon" src="[[src]]" icon="[[icon]]" alt$="[[alt]]"></iron-icon>
  </template>

  <script>//~~WEBPATH~~/paper-icon-button/paper-icon-button.html.js
Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(a,b){var c=this.getAttribute("aria-label");c&&b!=c||this.setAttribute("aria-label",a)}});
</script>
</dom-module>







<dom-module id="paper-menu-shared-styles">
  <template>
    <style>
      /* need a wrapper element to make this higher specificity than the :host rule in paper-item */
      .selectable-content > ::content > .iron-selected {
        font-weight: bold;

        @apply(--paper-menu-selected-item);
      }

      .selectable-content > ::content > [disabled] {
        color: var(--paper-menu-disabled-color, --disabled-text-color);
      }

      .selectable-content > ::content > *:focus {
        position: relative;
        outline: 0;

        @apply(--paper-menu-focused-item);
      }

      .selectable-content > ::content > *:focus:after {
        @apply(--layout-fit);
        background: currentColor;
        opacity: var(--dark-divider-opacity);
        content: '';
        pointer-events: none;

        @apply(--paper-menu-focused-item-after);
      }

      .selectable-content > ::content > *[colored]:focus:after {
        opacity: 0.26;
      }
    </style>
  </template>
</dom-module>




<dom-module id="paper-menu">
  <template>
    <style include="paper-menu-shared-styles"></style>
    <style>
      :host {
        display: block;
        padding: 8px 0;

        background: var(--paper-menu-background-color, --primary-background-color);
        color: var(--paper-menu-color, --primary-text-color);

        @apply(--paper-menu);
      }
    </style>

    <div class="selectable-content">
      <content></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-menu/paper-menu.html.js
Polymer({is:"paper-menu",behaviors:[Polymer.IronMenuBehavior]});
</script>
</dom-module>









<dom-module id="iron-collapse">

  <template>

    <style>
      :host {
        display: block;
        transition-duration: var(--iron-collapse-transition-duration, 300ms);
        /* Safari 10 needs this property prefixed to correctly apply the custom property */
        -webkit-transition-duration: var(--iron-collapse-transition-duration, 300ms);
        overflow: visible;
      }

      :host(.iron-collapse-closed) {
        display: none;
      }

      :host(:not(.iron-collapse-opened)) {
        overflow: hidden;
      }
    </style>

    <slot></slot>

  </template>

</dom-module>

<script>//~~WEBPATH~~/iron-collapse/iron-collapse.html.js
Polymer({is:"iron-collapse",behaviors:[Polymer.IronResizableBehavior],properties:{horizontal:{type:Boolean,value:!1,observer:"_horizontalChanged"},opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},transitioning:{type:Boolean,notify:!0,readOnly:!0},noAnimation:{type:Boolean},_desiredSize:{type:String,value:""}},get dimension(){return this.horizontal?"width":"height"},get _dimensionMax(){return this.horizontal?"maxWidth":"maxHeight"},get _dimensionMaxCss(){return this.horizontal?"max-width":
"max-height"},hostAttributes:{role:"group","aria-hidden":"true","aria-expanded":"false"},listeners:{transitionend:"_onTransitionEnd"},toggle:function(){this.opened=!this.opened},show:function(){this.opened=!0},hide:function(){this.opened=!1},updateSize:function(a,b){a="auto"===a?"":a;b=b&&!this.noAnimation&&this.isAttached&&this._desiredSize!==a;this._desiredSize=a;this._updateTransition(!1);b&&(b=this._calcSize(),""===a&&(this.style[this._dimensionMax]="",a=this._calcSize()),this.style[this._dimensionMax]=
b,this.scrollTop=this.scrollTop,this._updateTransition(!0),b=a!==b);this.style[this._dimensionMax]=a;b||this._transitionEnd()},enableTransition:function(a){Polymer.Base._warn("`enableTransition()` is deprecated, use `noAnimation` instead.");this.noAnimation=!a},_updateTransition:function(a){this.style.transitionDuration=a&&!this.noAnimation?"":"0s"},_horizontalChanged:function(){this.style.transitionProperty=this._dimensionMaxCss;this.style["maxWidth"===this._dimensionMax?"maxHeight":"maxWidth"]=
"";this.updateSize(this.opened?"auto":"0px",!1)},_openedChanged:function(){this.setAttribute("aria-expanded",this.opened);this.setAttribute("aria-hidden",!this.opened);this._setTransitioning(!0);this.toggleClass("iron-collapse-closed",!1);this.toggleClass("iron-collapse-opened",!1);this.updateSize(this.opened?"auto":"0px",!0);this.opened&&this.focus()},_transitionEnd:function(){this.style[this._dimensionMax]=this._desiredSize;this.toggleClass("iron-collapse-closed",!this.opened);this.toggleClass("iron-collapse-opened",
this.opened);this._updateTransition(!1);this.notifyResize();this._setTransitioning(!1)},_onTransitionEnd:function(a){Polymer.dom(a).rootTarget===this&&this._transitionEnd()},_calcSize:function(){return this.getBoundingClientRect()[this.dimension]+"px"}});
</script>








<dom-module id="paper-submenu">
  <template>
    <style include="paper-menu-shared-styles"></style>

    <div class="selectable-content" on-tap="_onTap">
      <content id="trigger" select=".menu-trigger"></content>
    </div>
    <iron-collapse id="collapse" opened="{{opened}}">
      <content id="content" select=".menu-content"></content>
    </iron-collapse>
  </template>

  <script>//~~WEBPATH~~/paper-menu/paper-submenu.html.js
Polymer({is:"paper-submenu",properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"}},behaviors:[Polymer.IronControlState],listeners:{focus:"_onFocus"},get __parent(){return Polymer.dom(this).parentNode},get __trigger(){return Polymer.dom(this.$.trigger).getDistributedNodes()[0]},get __content(){return Polymer.dom(this.$.content).getDistributedNodes()[0]},attached:function(){this.listen(this.__parent,"iron-activate","_onParentIronActivate")},dettached:function(){this.unlisten(this.__parent,
"iron-activate","_onParentIronActivate")},open:function(){this.disabled||this._active||(this.$.collapse.show(),this._active=!0,this.__trigger&&this.__trigger.classList.add("iron-selected"),this.__content&&this.__content.focus())},close:function(){this._active&&(this.$.collapse.hide(),this._active=!1,this.__trigger&&this.__trigger.classList.remove("iron-selected"))},toggle:function(){this._active?this.close():this.open()},_onTap:function(){this.disabled||this.toggle()},_openedChanged:function(a,b){a?
this.fire("paper-submenu-open"):null!=b&&this.fire("paper-submenu-close")},_onParentIronActivate:function(a){var b=this.__parent;Polymer.dom(a).localTarget===b&&(a.detail.item===this||b.multi||this.close())},_disabledChanged:function(a){Polymer.IronControlState._disabledChanged.apply(this,arguments);a&&this._active&&this.close()},_onFocus:function(){this.__trigger&&this.__trigger.focus()}});
</script>
</dom-module>







<dom-module id="paper-radio-button">
  <template strip-whitespace>
    <style>
      :host {
        display: inline-block;
        white-space: nowrap;
        cursor: pointer;
        @apply(--paper-font-common-base);
      }

      :host(:focus) {
        outline: none;
      }

      #radioContainer {
        display: inline-block;
        position: relative;
        width: 16px;
        height: 16px;
        vertical-align: middle;
      }

      #ink {
        position: absolute;
        top: -16px;
        left: -16px;
        width: 48px;
        height: 48px;
        color: var(--paper-radio-button-unchecked-ink-color, --primary-text-color);
        opacity: 0.6;
        pointer-events: none;
      }

      :host-context([dir="rtl"]) #ink {
        right: -15px;
        left: auto;
      }

      #ink[checked] {
        color: var(--paper-radio-button-checked-ink-color, --primary-color);
      }

      #offRadio {
        position: absolute;
        box-sizing: content-box;
        top: 0px;
        left: 0px;
        right: 0px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: solid 2px;
        background-color: var(--paper-radio-button-unchecked-background-color, transparent);
        border-color: var(--paper-radio-button-unchecked-color, --primary-text-color);
        transition: border-color 0.28s;
      }

      #onRadio {
        position: absolute;
        box-sizing: content-box;
        top: 4px;
        left: 4px;
        right: 4px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: var(--paper-radio-button-checked-color, --primary-color);
        -webkit-transform: scale(0);
        transform: scale(0);
        transition: -webkit-transform ease 0.28s;
        transition: transform ease 0.28s;
        will-change: transform;
      }

      :host([checked]) #offRadio {
        border-color: var(--paper-radio-button-checked-color, --primary-color);
      }

      :host([checked]) #onRadio {
        -webkit-transform: scale(1);
        transform: scale(1);
      }

      #radioLabel {
        position: relative;
        display: inline-block;
        vertical-align: middle;
        margin-left: var(--paper-radio-button-label-spacing, 10px);
        white-space: normal;
        color: var(--paper-radio-button-label-color, --primary-text-color);
      }

      :host-context([dir="rtl"]) #radioLabel {
        margin-left: 0px;
        margin-right: var(--paper-radio-button-label-spacing, 10px);
      }

      #radioLabel[hidden] {
        display: none;
      }

      /* disabled state */

      :host([disabled]) #offRadio {
        border-color: var(--paper-radio-button-unchecked-color, --primary-text-color);
        opacity: 0.5;
      }

      :host([disabled][checked]) #onRadio {
        background-color: var(--paper-radio-button-unchecked-color, --primary-text-color);
        opacity: 0.5;
      }

      :host([disabled]) #radioLabel {
        /* slightly darker than the button, so that it's readable */
        opacity: 0.65;
      }
    </style>

    <div id="radioContainer">
      <div id="offRadio"></div>
      <div id="onRadio"></div>
    </div>

    <div id="radioLabel"><content></content></div>
  </template>

  <script>//~~WEBPATH~~/paper-radio-button/paper-radio-button.html.js
Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer}});
</script>
</dom-module>








<dom-module id="paper-radio-group">
  <template>
    <style>
      :host {
        display: inline-block;
      }

      :host ::content > * {
        padding: 12px;
      }
    </style>

    <content id="items" select="*"></content>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-radio-group/paper-radio-group.html.js
Polymer({is:"paper-radio-group",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronSelectableBehavior],hostAttributes:{role:"radiogroup",tabindex:0},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},keyBindings:{"left up":"selectPrevious","right down":"selectNext"},select:function(a){if(this.selected){var b=this._valueToItem(this.selected);if(this.selected==
a)if(this.allowEmptySelection)a="";else{b&&(b.checked=!0);return}b&&(b.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[a]);this.fire("paper-radio-group-changed")},selectPrevious:function(){var a=this.items.length,b=Number(this._valueToIndex(this.selected));do b=(b-1+a)%a;while(this.items[b].disabled);this._itemActivate(this._indexToValue(b),this.items[b])},selectNext:function(){var a=this.items.length,b=Number(this._valueToIndex(this.selected));do b=(b+1+a)%a;while(this.items[b].disabled);
this._itemActivate(this._indexToValue(b),this.items[b])}});
</script>







<script>//~~WEBPATH~~/iron-range-behavior/iron-range-behavior.html.js
Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(a){return(this._clampValue(a)-this.min)/(this.max-this.min)},_clampValue:function(a){return Math.min(this.max,Math.max(this.min,this._calcStep(a)))},_calcStep:function(a){a=parseFloat(a);
return this.step?(Math.round((a+this.min)/this.step)-this.min/this.step)/(1/this.step):a},_validateValue:function(){var a=this._clampValue(this.value);this.value=this.oldValue=isNaN(a)?this.oldValue:a;return this.value!==a},_update:function(){this._validateValue();this._setRatio(100*this._calcRatio(this.value))}};
</script>










<dom-module id="paper-progress">
  <template>
    <style>
      :host {
        display: block;
        width: 200px;
        position: relative;
        overflow: hidden;
      }

      #progressContainer {
        position: relative;
      }

      #progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after {
        height: var(--paper-progress-height, 4px);
      }

      #primaryProgress,
      #secondaryProgress,
      .indeterminate::after {
        @apply(--layout-fit);
      }

      #progressContainer,
      .indeterminate::after {
        background: var(--paper-progress-container-color, --google-grey-300);
      }

      :host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress {
        -webkit-transition-property: -webkit-transform;
        transition-property: transform;

        /* Duration */
        -webkit-transition-duration: var(--paper-progress-transition-duration, 0.08s);
        transition-duration: var(--paper-progress-transition-duration, 0.08s);

        /* Timing function */
        -webkit-transition-timing-function: var(--paper-progress-transition-timing-function, ease);
        transition-timing-function: var(--paper-progress-transition-timing-function, ease);

        /* Delay */
        -webkit-transition-delay: var(--paper-progress-transition-delay, 0s);
        transition-delay: var(--paper-progress-transition-delay, 0s);
      }

      #primaryProgress,
      #secondaryProgress {
        @apply(--layout-fit);
        -webkit-transform-origin: left center;
        transform-origin: left center;
        -webkit-transform: scaleX(0);
        transform: scaleX(0);
        will-change: transform;
      }

      #primaryProgress {
        background: var(--paper-progress-active-color, --google-green-500);
      }

      #secondaryProgress {
        background: var(--paper-progress-secondary-color, --google-green-100);
      }

      :host([disabled]) #primaryProgress {
        background: var(--paper-progress-disabled-active-color, --google-grey-500);
      }

      :host([disabled]) #secondaryProgress {
        background: var(--paper-progress-disabled-secondary-color, --google-grey-300);
      }

      :host(:not([disabled])) #primaryProgress.indeterminate {
        -webkit-transform-origin: right center;
        transform-origin: right center;
        -webkit-animation: indeterminate-bar 2s linear infinite;
        animation: indeterminate-bar 2s linear infinite;
      }

      :host(:not([disabled])) #primaryProgress.indeterminate::after {
        content: "";
        -webkit-transform-origin: center center;
        transform-origin: center center;

        -webkit-animation: indeterminate-splitter 2s linear infinite;
        animation: indeterminate-splitter 2s linear infinite;
      }

      @-webkit-keyframes indeterminate-bar {
        0% {
          -webkit-transform: scaleX(1) translateX(-100%);
        }
        50% {
          -webkit-transform: scaleX(1) translateX(0%);
        }
        75% {
          -webkit-transform: scaleX(1) translateX(0%);
          -webkit-animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          -webkit-transform: scaleX(0) translateX(0%);
        }
      }

      @-webkit-keyframes indeterminate-splitter {
        0% {
          -webkit-transform: scaleX(.75) translateX(-125%);
        }
        30% {
          -webkit-transform: scaleX(.75) translateX(-125%);
          -webkit-animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
        100% {
          -webkit-transform: scaleX(.75) translateX(125%);
        }
      }

      @keyframes indeterminate-bar {
        0% {
          transform: scaleX(1) translateX(-100%);
        }
        50% {
          transform: scaleX(1) translateX(0%);
        }
        75% {
          transform: scaleX(1) translateX(0%);
          animation-timing-function: cubic-bezier(.28,.62,.37,.91);
        }
        100% {
          transform: scaleX(0) translateX(0%);
        }
      }

      @keyframes indeterminate-splitter {
        0% {
          transform: scaleX(.75) translateX(-125%);
        }
        30% {
          transform: scaleX(.75) translateX(-125%);
          animation-timing-function: cubic-bezier(.42,0,.6,.8);
        }
        90% {
          transform: scaleX(.75) translateX(125%);
        }
        100% {
          transform: scaleX(.75) translateX(125%);
        }
      }
    </style>

    <div id="progressContainer">
      <div id="secondaryProgress" hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div>
      <div id="primaryProgress"></div>
    </div>
  </template>
</dom-module>

<script>//~~WEBPATH~~/paper-progress/paper-progress.html.js
Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(a){this.toggleClass("indeterminate",a,this.$.primaryProgress)},
_transformProgress:function(a,b){a.style.transform=a.style.webkitTransform="scaleX("+b/100+")"},_mainRatioChanged:function(a){this._transformProgress(this.$.primaryProgress,a)},_progressChanged:function(a,b,c,d){a=this._clampValue(a);b=this._clampValue(b);var e=100*this._calcRatio(a),f=100*this._calcRatio(b);this._setSecondaryRatio(e);this._transformProgress(this.$.secondaryProgress,e);this._transformProgress(this.$.primaryProgress,f);this.secondaryProgress=a;this.setAttribute("aria-valuenow",b);
this.setAttribute("aria-valuemin",c);this.setAttribute("aria-valuemax",d)},_disabledChanged:function(a){this.setAttribute("aria-disabled",a?"true":"false")},_hideSecondaryProgress:function(a){return 0===a}});
</script>





<dom-module id="paper-slider">
  <template strip-whitespace>
    <style>
      :host {
        @apply(--layout);
        @apply(--layout-justified);
        @apply(--layout-center);
        width: 200px;
        cursor: default;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        --paper-progress-active-color: var(--paper-slider-active-color, --google-blue-700);
        --paper-progress-secondary-color: var(--paper-slider-secondary-color, --google-blue-300);
        --paper-progress-disabled-active-color: var(--paper-slider-disabled-active-color, --paper-grey-400);
        --paper-progress-disabled-secondary-color: var(--paper-slider-disabled-secondary-color, --paper-grey-400);
        --calculated-paper-slider-height: var(--paper-slider-height, 2px);
      }

      /* focus shows the ripple */
      :host(:focus) {
        outline: none;
      }

      #sliderContainer {
        position: relative;
        width: 100%;
        height: calc(30px + var(--calculated-paper-slider-height));
        margin-left: calc(15px + var(--calculated-paper-slider-height)/2);
        margin-right: calc(15px + var(--calculated-paper-slider-height)/2);
      }

      #sliderContainer:focus {
        outline: 0;
      }

      #sliderContainer.editable {
        margin-top: 12px;
        margin-bottom: 12px;
      }

      .bar-container {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        overflow: hidden;
      }

      .ring > .bar-container {
        left: calc(5px + var(--calculated-paper-slider-height)/2);
        transition: left 0.18s ease;
      }

      .ring.expand.dragging > .bar-container {
        transition: none;
      }

      .ring.expand:not(.pin) > .bar-container {
        left: calc(8px + var(--calculated-paper-slider-height)/2);
      }

      #sliderBar {
        padding: 15px 0;
        width: 100%;
        background-color: var(--paper-slider-bar-color, transparent);
        --paper-progress-container-color: var(--paper-slider-container-color, --paper-grey-400);
        --paper-progress-height: var(--calculated-paper-slider-height);
      }

      .slider-markers {
        position: absolute;
        top: calc(14px + var(--paper-slider-height,2px)/2);
        height: var(--calculated-paper-slider-height);
        left: 0;
        right: -1px;
        box-sizing: border-box;
        pointer-events: none;
        @apply(--layout-horizontal);
      }

      .slider-marker {
        @apply(--layout-flex);
      }
      .slider-markers::after,
      .slider-marker::after {
        content: "";
        display: block;
        margin-left: -1px;
        width: 2px;
        height: var(--calculated-paper-slider-height);
        border-radius: 50%;
        background-color: var(--paper-slider-markers-color, #000);
      }

      .slider-knob {
        position: absolute;
        left: 0;
        top: 0;
        margin-left: calc(-15px - var(--calculated-paper-slider-height)/2);
        width: calc(30px + var(--calculated-paper-slider-height));
        height: calc(30px + var(--calculated-paper-slider-height));
      }

      .transiting > .slider-knob {
        transition: left 0.08s ease;
      }

      .slider-knob:focus {
        outline: none;
      }

      .slider-knob.dragging {
        transition: none;
      }

      .snaps > .slider-knob.dragging {
        transition: -webkit-transform 0.08s ease;
        transition: transform 0.08s ease;
      }

      .slider-knob-inner {
        margin: 10px;
        width: calc(100% - 20px);
        height: calc(100% - 20px);
        background-color: var(--paper-slider-knob-color, --google-blue-700);
        border: 2px solid var(--paper-slider-knob-color, --google-blue-700);
        border-radius: 50%;

        -moz-box-sizing: border-box;
        box-sizing: border-box;

        transition-property: -webkit-transform, background-color, border;
        transition-property: transform, background-color, border;
        transition-duration: 0.18s;
        transition-timing-function: ease;
      }

      .expand:not(.pin) > .slider-knob > .slider-knob-inner {
        -webkit-transform: scale(1.5);
        transform: scale(1.5);
      }

      .ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, --paper-grey-400);
      }

      .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-color, --google-blue-700);
      }

      .pin > .slider-knob > .slider-knob-inner::before {
        content: "";
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -13px;
        width: 26px;
        height: 26px;
        border-radius: 50% 50% 50% 0;

        -webkit-transform: rotate(-45deg) scale(0) translate(0);
        transform: rotate(-45deg) scale(0) translate(0);
      }

      .slider-knob-inner::before,
      .slider-knob-inner::after {
        transition: -webkit-transform .18s ease, background-color .18s ease;
        transition: transform .18s ease, background-color .18s ease;
      }

      .pin.ring > .slider-knob > .slider-knob-inner::before {
        background-color: var(--paper-slider-pin-start-color, --paper-grey-400);
      }

      .pin.expand > .slider-knob > .slider-knob-inner::before {
        -webkit-transform: rotate(-45deg) scale(1) translate(17px, -17px);
        transform: rotate(-45deg) scale(1) translate(17px, -17px);
      }

      .pin > .slider-knob > .slider-knob-inner::after {
        content: attr(value);
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: -16px;
        width: 32px;
        height: 26px;
        text-align: center;
        color: var(--paper-slider-font-color, #fff);
        font-size: 10px;

        -webkit-transform: scale(0) translate(0);
        transform: scale(0) translate(0);
      }

      .pin.expand > .slider-knob > .slider-knob-inner::after {
        -webkit-transform: scale(1) translate(0, -17px);
        transform: scale(1) translate(0, -17px);
      }

      /* paper-input */
      .slider-input {
        width: 50px;
        overflow: hidden;
        --paper-input-container-input: {
          text-align: center;
        };
        @apply(--paper-slider-input);
      }

      /* disabled state */
      #sliderContainer.disabled {
        pointer-events: none;
      }

      .disabled > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-disabled-knob-color, --paper-grey-400);
        border: 2px solid var(--paper-slider-disabled-knob-color, --paper-grey-400);
        -webkit-transform: scale3d(0.75, 0.75, 1);
        transform: scale3d(0.75, 0.75, 1);
      }

      .disabled.ring > .slider-knob > .slider-knob-inner {
        background-color: var(--paper-slider-knob-start-color, transparent);
        border: 2px solid var(--paper-slider-knob-start-border-color, --paper-grey-400);
      }

      paper-ripple {
        color: var(--paper-slider-knob-color, --google-blue-700);
      }
    </style>

    <div id="sliderContainer" class$="[[_getClassNames(disabled, pin, snaps, immediateValue, min, expand, dragging, transiting, editable)]]">
      <div class="bar-container">
        <paper-progress disabled$="[[disabled]]" id="sliderBar" aria-hidden="true" min="[[min]]" max="[[max]]" step="[[step]]" value="[[immediateValue]]" secondary-progress="[[secondaryProgress]]" on-down="_bardown" on-up="_resetKnob" on-track="_onTrack">
        </paper-progress>
      </div>

      <template is="dom-if" if="[[snaps]]">
        <div class="slider-markers">
          <template is="dom-repeat" items="[[markers]]">
            <div class="slider-marker"></div>
          </template>
        </div>
      </template>

      <div id="sliderKnob" class="slider-knob" on-down="_knobdown" on-up="_resetKnob" on-track="_onTrack" on-transitionend="_knobTransitionEnd">
          <div class="slider-knob-inner" value$="[[immediateValue]]"></div>
      </div>
    </div>

    <template is="dom-if" if="[[editable]]">
      <paper-input id="input" type="number" step="[[step]]" min="[[min]]" max="[[max]]" class="slider-input" disabled$="[[disabled]]" value="[[immediateValue]]" on-change="_changeValue" on-keydown="_inputKeyDown" no-label-float>
      </paper-input>
    </template>
  </template>

  <script>//~~WEBPATH~~/paper-slider/paper-slider.html.js
Polymer({is:"paper-slider",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronFormElementBehavior,Polymer.PaperInkyFocusBehavior,Polymer.IronRangeBehavior],properties:{snaps:{type:Boolean,value:!1,notify:!0},pin:{type:Boolean,value:!1,notify:!0},secondaryProgress:{type:Number,value:0,notify:!0,observer:"_secondaryProgressChanged"},editable:{type:Boolean,value:!1},immediateValue:{type:Number,value:0,readOnly:!0,notify:!0},maxMarkers:{type:Number,value:0,notify:!0},expand:{type:Boolean,value:!1,readOnly:!0},
dragging:{type:Boolean,value:!1,readOnly:!0},transiting:{type:Boolean,value:!1,readOnly:!0},markers:{type:Array,readOnly:!0,value:function(){return[]}}},observers:["_updateKnob(value, min, max, snaps, step)","_valueChanged(value)","_immediateValueChanged(immediateValue)","_updateMarkers(maxMarkers, min, max, snaps)"],hostAttributes:{role:"slider",tabindex:0},keyBindings:{"left down pagedown home":"_decrementKey","right up pageup end":"_incrementKey"},increment:function(){this.value=this._clampValue(this.value+
this.step)},decrement:function(){this.value=this._clampValue(this.value-this.step)},_updateKnob:function(a,b,c){this.setAttribute("aria-valuemin",b);this.setAttribute("aria-valuemax",c);this.setAttribute("aria-valuenow",a);this._positionKnob(this._calcRatio(a))},_valueChanged:function(){this.fire("value-change")},_immediateValueChanged:function(){this.dragging?this.fire("immediate-value-change"):this.value=this.immediateValue},_secondaryProgressChanged:function(){this.secondaryProgress=this._clampValue(this.secondaryProgress)},
_expandKnob:function(){this._setExpand(!0)},_resetKnob:function(){this.cancelDebouncer("expandKnob");this._setExpand(!1)},_positionKnob:function(a){this._setImmediateValue(this._calcStep(this._calcKnobPosition(a)));this._setRatio(this._calcRatio(this.immediateValue));this.$.sliderKnob.style.left=100*this.ratio+"%";this.dragging&&(this._knobstartx=this.ratio*this._w,this.translate3d(0,0,0,this.$.sliderKnob))},_calcKnobPosition:function(a){return(this.max-this.min)*a+this.min},_onTrack:function(a){a.stopPropagation();
switch(a.detail.state){case "start":this._trackStart(a);break;case "track":this._trackX(a);break;case "end":this._trackEnd()}},_trackStart:function(){this._w=this.$.sliderBar.offsetWidth;this._knobstartx=this._startx=this._x=this.ratio*this._w;this._minx=-this._startx;this._maxx=this._w-this._startx;this.$.sliderKnob.classList.add("dragging");this._setDragging(!0)},_trackX:function(a){this.dragging||this._trackStart(a);this._x=this._startx+Math.min(this._maxx,Math.max(this._minx,a.detail.dx));this._setImmediateValue(this._calcStep(this._calcKnobPosition(this._x/
this._w)));this.translate3d(this._calcRatio(this.immediateValue)*this._w-this._knobstartx+"px",0,0,this.$.sliderKnob)},_trackEnd:function(){var a=this.$.sliderKnob.style;this.$.sliderKnob.classList.remove("dragging");this._setDragging(!1);this._resetKnob();this.value=this.immediateValue;a.transform=a.webkitTransform="";this.fire("change")},_knobdown:function(a){this._expandKnob();a.preventDefault();this.focus()},_bardown:function(a){this._w=this.$.sliderBar.offsetWidth;var b=this.$.sliderBar.getBoundingClientRect(),
b=(a.detail.x-b.left)/this._w,c=this.ratio;this._setTransiting(!0);this._positionKnob(b);this.debounce("expandKnob",this._expandKnob,60);c===this.ratio&&this._setTransiting(!1);this.async(function(){this.fire("change")});a.preventDefault();this.focus()},_knobTransitionEnd:function(a){a.target===this.$.sliderKnob&&this._setTransiting(!1)},_updateMarkers:function(a,b,c,d){d||this._setMarkers([]);b=Math.round((c-b)/this.step);b>a&&(b=a);if(0>b||!isFinite(b))b=0;this._setMarkers(Array(b))},_mergeClasses:function(a){return Object.keys(a).filter(function(b){return a[b]}).join(" ")},
_getClassNames:function(){return this._mergeClasses({disabled:this.disabled,pin:this.pin,snaps:this.snaps,ring:this.immediateValue<=this.min,expand:this.expand,dragging:this.dragging,transiting:this.transiting,editable:this.editable})},_incrementKey:function(a){this.disabled||("end"===a.detail.key?this.value=this.max:this.increment(),this.fire("change"),a.preventDefault())},_decrementKey:function(a){this.disabled||("home"===a.detail.key?this.value=this.min:this.decrement(),this.fire("change"),a.preventDefault())},
_changeValue:function(a){this.value=a.target.value;this.fire("change")},_inputKeyDown:function(a){a.stopPropagation()},_createRipple:function(){this._rippleContainer=this.$.sliderKnob;return Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)},_focusedChanged:function(a){a&&this.ensureRipple();this.hasRipple()&&(this._ripple.style.display=a?"":"none",this._ripple.holdDown=a)}});
</script>
</dom-module>








<dom-module id="paper-tooltip">
  <template>
    <style>
      :host {
        display: block;
        position: absolute;
        outline: none;
        z-index: 1002;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
      }

      #tooltip {
        display: block;
        outline: none;
        @apply(--paper-font-common-base);
        font-size: 10px;
        line-height: 1;

        background-color: var(--paper-tooltip-background, #616161);
        opacity: var(--paper-tooltip-opacity, 0.9);
        color: var(--paper-tooltip-text-color, white);

        padding: 8px;
        border-radius: 2px;

        @apply(--paper-tooltip);
      }

      /* Thanks IE 10. */
      .hidden {
        display: none !important;
      }
    </style>

    <div id="tooltip" class="hidden">
      <content></content>
    </div>
  </template>

  <script>//~~WEBPATH~~/paper-tooltip/paper-tooltip.html.js
Polymer({is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},behaviors:[Polymer.NeonAnimationRunnerBehavior],properties:{for:{type:String,observer:"_forChanged"},manualMode:{type:Boolean,value:!1},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],
exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{"neon-animation-finish":"_onAnimationFinish",mouseenter:"hide"},get target(){var a=Polymer.dom(this).parentNode,b=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(b).querySelector("#"+this.for):a.nodeType==Node.DOCUMENT_FRAGMENT_NODE?b.host:a},attached:function(){this._target=this.target;this.manualMode||(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,
"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide"))},detached:function(){this._target&&!this.manualMode&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide"))},show:function(){this._showing||""===Polymer.dom(this).textContent.trim()||(this.cancelAnimation(),this._showing=!0,this.toggleClass("hidden",
!1,this.$.tooltip),this.updatePosition(),this.animationConfig.entry[0].timing.delay=this.animationDelay,this._animationPlaying=!0,this.playAnimation("entry"))},hide:function(){this._showing&&(this._animationPlaying?(this.cancelAnimation(),this._showing=!1,this._onAnimationFinish()):(this._showing=!1,this._animationPlaying=!0,this.playAnimation("exit")))},_forChanged:function(){this._target=this.target},updatePosition:function(){if(this._target&&this.offsetParent){var a=this.offset;14!=this.marginTop&&
14==this.offset&&(a=this.marginTop);var b=this.offsetParent.getBoundingClientRect(),c=this._target.getBoundingClientRect(),d=this.getBoundingClientRect(),e=(c.width-d.width)/2,f=(c.height-d.height)/2,g=c.left-b.left,b=c.top-b.top;switch(this.position){case "top":var k=g+e;var l=b-d.height-a;break;case "bottom":k=g+e;l=b+c.height+a;break;case "left":k=g-d.width-a;l=b+f;break;case "right":k=g+c.width+a,l=b+f}this.fitToVisibleBounds?(k+d.width>window.innerWidth?(this.style.right="0px",this.style.left=
"auto"):(this.style.left=Math.max(0,k)+"px",this.style.right="auto"),l+d.height>window.innerHeight?(this.style.bottom="0px",this.style.top="auto"):(this.style.top=Math.max(0,l)+"px",this.style.bottom="auto")):(this.style.left=k+"px",this.style.top=l+"px")}},_onAnimationFinish:function(){this._animationPlaying=!1;this._showing||this.toggleClass("hidden",!0,this.$.tooltip)}});
</script>
</dom-module>



<script>//~~WEBPATH~~/facets-dive/lib/bounded-object.js
var cf,hf=cf||(cf={});hf[hf.Bottom=0]="Bottom";hf[hf.Left=1]="Left";hf[hf.Right=2]="Right";hf[hf.Top=3]="Top";
var jf=function(){function a(){}a.prototype.shouldBeVisible=function(a,c,d,e){if(void 0!==this.minScale)return this.scaleDown||c>=this.minScale;if(!this.boundingBox)return!0;var b=this.boundingBox;if(b.left>d.x+e.right||b.right<d.x+e.left||b.bottom>d.y+e.top||b.top<d.y+e.bottom)return!1;e=this.elementMargin||{bottom:0,left:0,right:0,top:0};d=void 0===this.width?a.getBoundingClientRect().width+e.left+e.right:this.width;a=void 0===this.height?a.getBoundingClientRect().height+e.top+e.bottom:this.height;
e=isFinite(b.top)&&isFinite(b.bottom)?b.top-b.bottom:Infinity;return(isFinite(b.left)&&isFinite(b.right)?b.right-b.left:Infinity)*c>=d&&e*c>=a};return a}(),kf=cf;
</script>

<script>//~~WEBPATH~~/facets-dive/lib/sorting.js
function lf(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:"string"!==typeof a?-1:"string"!==typeof b?1:a.localeCompare(b):a===b?0:void 0===a?-1:1}
function mf(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"number"===typeof a&&"number"===typeof b?isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:b-a:"string"!==typeof a?-1:"string"!==typeof b?1:-a.localeCompare(b):a===b?0:void 0===a?-1:1}
function nf(a,b){return null!==a&&void 0!==a||null!==b&&void 0!==b?null===a||void 0===a?-1:null===b||void 0===b?1:"string"===typeof a&&"string"===typeof b?a.localeCompare(b):"number"!==typeof a?-1:"number"!==typeof b?1:isNaN(a)&&isNaN(b)?0:isNaN(a)?-1:isNaN(b)?1:a-b:a===b?0:void 0===a?-1:1};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/grid.js
function of(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);return 1<a?b%a/(a-1):0}function pf(a,b,c,d){a=Math.floor(1E-6+c.minWidth/d.itemAspectRatio);c=Math.ceil(c.items.length/a);return 1<c?Math.floor(b/a)/(c-1):0}
function qf(a,b){var c="right"===b?1:"middle"===b?.5:0,d="top"===a?1:"middle"===a?.5:0;return function(a,b,g,k){a=g.innerWidth-k.itemAspectRatio;var e=g.innerHeight-1;return{x:of(0,b,g,k)/a*(g.minWidth-k.itemAspectRatio)+c*(g.innerWidth-g.minWidth)/a,y:pf(0,b,g,k)/e*(g.minHeight-1)+d*(g.innerHeight-g.minHeight)/e}}}var rf=qf("bottom","left"),sf,tf=sf||(sf={});tf[tf.Tight=0]="Tight";tf[tf.Uniform=1]="Uniform";
var uf=function(){function a(a){this.items=a;this.cellMargin=this.itemAspectRatio=1;this.cellPadding={bottom:0,left:0,right:0,top:0};this.targetGridAspectRatio=1;this.minCellAspectRatio=0;this.maxCellAspectRatio=Infinity;this.verticalFacet=function(){return null};this.horizontalFacet=function(){return null};this.verticalKeyCompare=mf;this.horizontalKeyCompare=lf;this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=
0;this.itemPositionSetter=function(a,b,e){a.x=b;a.y=e};this.computeItemPosition=rf;this.horizontalGridAlignment=this.verticalGridAlignment=sf.Tight;this.cellItemComparator=null}a.prototype.clear=function(){this.verticalKeys=[];this.verticalKeysHash={};this.horizontalKeys=[];this.horizontalKeysHash={};this.cells={};this.height=this.width=this.longestCellLength=0};a.prototype.arrange=function(){var a=this;this.facetItemsIntoCells();for(var c=this.computeOptimalCellAspectRatio(this.targetGridAspectRatio),
d=Math.min(this.maxCellAspectRatio,Math.max(this.minCellAspectRatio,c)),c=[],e=[],f=0;f<this.verticalKeys.length;f++)for(var g=0;g<this.horizontalKeys.length;g++){var k=this.getOrCreateCell(this.verticalKeys[f],this.horizontalKeys[g]);var l=this.computeCellDimensions(d,k.items.length);k.minWidth=l[0];k.minHeight=l[1];c[f]=Math.max(c[f]||0,k.minHeight);e[g]=Math.max(e[g]||0,k.minWidth)}for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)k=this.getCell(this.verticalKeys[f],
this.horizontalKeys[g]),f<this.verticalKeys.length-1&&(k.siblings.above=this.getCell(this.verticalKeys[f+1],this.horizontalKeys[g])),0<f&&(k.siblings.below=this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g])),0<g&&(k.siblings.left=this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1])),g<this.horizontalKeys.length-1&&(k.siblings.right=this.getCell(this.verticalKeys[f],this.horizontalKeys[g+1]));if(this.verticalGridAlignment===sf.Uniform)for(g=Math.max.apply(Math,c),f=0;f<c.length;f++)c[f]=
g;if(this.horizontalGridAlignment===sf.Uniform)for(f=Math.max.apply(Math,e),g=0;g<e.length;g++)e[g]=f;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)k=this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),k.height=c[f],k.width=e[g],k.innerHeight=k.height-this.cellPadding.top-this.cellPadding.bottom,k.innerWidth=k.width-this.cellPadding.left-this.cellPadding.right;d=this.cellMargin*this.itemAspectRatio;for(f=0;f<this.verticalKeys.length;f++)for(g=0;g<this.horizontalKeys.length;g++)k=
this.getCell(this.verticalKeys[f],this.horizontalKeys[g]),k.y=f?this.getCell(this.verticalKeys[f-1],this.horizontalKeys[g]).y+c[f-1]+d:0,k.contentY=k.y+this.cellPadding.bottom,k.x=g?this.getCell(this.verticalKeys[f],this.horizontalKeys[g-1]).x+e[g-1]+d:0,k.contentX=k.x+this.cellPadding.left;this.eachCell(function(b){a.width=Math.max(a.width,b.x+b.width);a.height=Math.max(a.height,b.y+b.height)});this.positionItems()};a.prototype.positionItems=function(){var a=this;this.eachCell(function(b){var c=
Math.max(0,b.innerWidth-a.itemAspectRatio),e=Math.max(0,b.innerHeight-1),f=b.items.slice(0);a.cellItemComparator&&f.sort(a.cellItemComparator);for(var g=0;g<f.length;g++){var k=a.computeItemPosition(f[g],g,b,a);a.itemPositionSetter(f[g],b.contentX+(!k||isNaN(k.x)?0:Math.max(0,Math.min(1,k.x)))*c,b.contentY+(!k||isNaN(k.y)?0:Math.max(0,Math.min(1,k.y)))*e)}})};a.prototype.facetItemsIntoCells=function(){var a=this;this.clear();this.eachItem(function(b){var c=a.getOrCreateCell(a.verticalFacet(b),a.horizontalFacet(b));
c.items.push(b);a.longestCellLength=Math.max(a.longestCellLength,c.items.length)});for(var c in this.verticalKeysHash)this.verticalKeys.push(this.verticalKeysHash[c]);this.verticalKeys.sort(this.verticalKeyCompare);for(c in this.horizontalKeysHash)this.horizontalKeys.push(this.horizontalKeysHash[c]);this.horizontalKeys.sort(this.horizontalKeyCompare)};a.prototype.eachItem=function(a){if(this.items)for(var b=0;b<this.items.length;b++)a.call(this,this.items[b])};a.prototype.eachCell=function(a){for(var b in this.cells)a.call(this,
this.cells[b])};a.prototype.getCompoundKey=function(a,c){return typeof a+"\u001f"+a+"\u001e"+typeof c+"\u001f"+c};a.prototype.getCell=function(a,c){a=this.getCompoundKey(a,c);return a in this.cells?this.cells[a]:null};a.prototype.getCells=function(){var a=this;return Object.keys(this.cells).map(function(b){return a.cells[b]})};a.prototype.getOrCreateCell=function(a,c){var b=this.getCell(a,c);if(b)return b;this.addVerticalKey(a);this.addHorizontalKey(c);var e=this.getCompoundKey(a,c),b={verticalKey:a,
horizontalKey:c,compoundKey:e,items:[],siblings:{}};return this.cells[e]=b};a.prototype.getRow=function(a){for(var b=[],d=0;d<this.horizontalKeys.length;d++){var e=this.getCell(a,this.horizontalKeys[d]);e&&b.push(e)}return b};a.prototype.getColumn=function(a){for(var b=[],d=0;d<this.verticalKeys.length;d++){var e=this.getCell(this.verticalKeys[d],a);e&&b.push(e)}return b};a.prototype.addVerticalKey=function(a){var b=typeof a+"\u001f"+a;b in this.verticalKeysHash||(this.verticalKeysHash[b]=a)};a.prototype.addHorizontalKey=
function(a){var b=typeof a+"\u001f"+a;b in this.horizontalKeysHash||(this.horizontalKeysHash[b]=a)};a.prototype.computeOptimalCellAspectRatio=function(a){var b=this.verticalKeys.length,d=this.horizontalKeys.length;if(!b||!d)return 1;for(var e=b/d,f=e,g=Infinity,k=0,l=Infinity,b=Math.min(20,Math.max(b,d,this.longestCellLength)),d=0;d<b;){d++;var m=this.computeGridAspectRatio(e),n=Math.abs(1-m/a);n<g&&(f=e,g=n);if(.001>n)break;m>a?(l=e,e-=(l-k)/2):(k=e,e=isFinite(l)?e+(l-k)/2:2*e)}return f};a.prototype.computeGridAspectRatio=
function(a){for(var b=this.verticalKeys.length,d=this.horizontalKeys.length,e=-Infinity,f=-Infinity,g=-Infinity,k=-Infinity,l=[],m=0;m<b;m++){l[m]=[];for(var n=0;n<d;n++){var q=l[m][n]={width:n?l[m][n-1].width:0,height:m?l[m-1][n].height:0},p=this.getCell(this.verticalKeys[m],this.horizontalKeys[n]);if(p&&p.items&&p.items.length){var t=this.computeCellDimensions(a,p.items.length),p=t[0],t=t[1];q.width+=p;q.height+=t;e=Math.max(e,q.width);f=Math.max(f,t);g=Math.max(g,p);k=Math.max(k,q.height)}}}this.verticalGridAlignment===
sf.Uniform&&(k=f*b);this.horizontalGridAlignment===sf.Uniform&&(e=g*d);a=this.cellMargin*this.itemAspectRatio;return(e+a*(d-1))/(k+a*(b-1))};a.prototype.computeCellDimensions=function(a,c){var b=[this.itemAspectRatio*(this.cellPadding.left+this.cellPadding.right),this.itemAspectRatio*(this.cellPadding.top+this.cellPadding.bottom)];if(!c)return b;a=Math.min(c,Math.ceil(Math.sqrt(a*c)/this.itemAspectRatio));b[0]+=this.itemAspectRatio*a;b[1]+=Math.ceil(c/a);return b};return a}(),vf=sf;
</script>

<script>//~~WEBPATH~~/facets-dive/lib/axis.js
var wf=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),xf=function(a){function b(b,d){var c=a.call(this)||this;c.side=b;c.cell=d;switch(b){case kf.Left:c.minScale=30/d.innerHeight;for(b=d.siblings.left;!(!b||b.items.length||b.siblings.above&&
b.siblings.above.items.length);)b=b.siblings.left;b&&(c.minScale=Math.max(c.minScale,39.2/(d.contentX-(b.contentX+b.innerWidth))));break;case kf.Bottom:c.minScale=30/d.innerWidth;for(b=d.siblings.below;!(!b||b.items.length||b.siblings.right&&b.siblings.right.items.length);)b=b.siblings.below;b&&(c.minScale=Math.max(c.minScale,39.2/(d.contentY-(b.contentY+b.innerHeight))));break;default:throw Error("Axes for specified side are not implemented.");}return c}wf(b,a);b.prototype.strokeWidth=function(a){return 1.2/
a};b.prototype.path=function(a){var b=4/a;var c=6/a;if(this.side===kf.Left){var f=this.cell.contentX-b-c;b=this.cell.contentY+.6/a;return"M "+f+","+b+" h "+c+" v "+(this.cell.innerHeight-1.2/a)+" h -"+c}return this.side===kf.Bottom?(f=this.cell.contentX+.6/a,b=this.cell.contentY-b-c,"M "+f+","+b+" v "+c+" h "+(this.cell.innerWidth-1.2/a)+" v -"+c):""};b.prototype.key=function(){return this.cell.compoundKey+"-"+this.side};return b}(jf);
</script>


<script>//~~WEBPATH~~/facets-dive/lib/data-example.js
</script>



<script>//~~WEBPATH~~/facets-dive/lib/label.js
</script>

<script>//~~WEBPATH~~/facets-dive/lib/layout.js
var yf=function(){function a(){this.grid={bottom:0,left:0,right:0,top:0};this.viewport={height:0,width:0};this.padding={bottom:0,left:0,right:0,top:0}}a.prototype.computeScale=function(){var a=this.viewport.width-this.padding.left-this.padding.right,c=this.viewport.height-this.padding.top-this.padding.bottom;if(isNaN(a)||0>=a||isNaN(c)||0>=c)return NaN;var d=this.grid.right-this.grid.left,e=this.grid.top-this.grid.bottom;return isNaN(d)||0>=d||isNaN(e)||0>=e?NaN:a/c>d/e?c/e:a/d};a.prototype.computeCamera=
function(){var a=this.computeScale();if(isNaN(a)||0>=a)return{position:{x:NaN,y:NaN},frustum:{bottom:NaN,left:NaN,right:NaN,top:NaN}};var c=this.viewport.width/a,d=this.viewport.height/a;return{position:{x:this.grid.left-(c-(this.padding.left+this.padding.right)/a-(this.grid.right-this.grid.left))/2-this.padding.left/a,y:this.grid.top+(d-(this.padding.top+this.padding.bottom)/a-(this.grid.top-this.grid.bottom))/2+this.padding.top/a},frustum:{bottom:-d,left:0,right:c,top:0}}};a.prototype.reducePaddingToFitWidth=
function(a){if(200>a)this.padding.left=0,this.padding.right=0;else if(this.padding.left+this.padding.right+200>a){var b=this.padding.left+this.padding.right;a-=200;this.padding.left=this.padding.left/b*a||0;this.padding.right=this.padding.right/b*a||0}};a.prototype.reducePaddingToFitHeight=function(a){if(200>a)this.padding.top=0,this.padding.bottom=0;else if(this.padding.top+this.padding.bottom+200>a){var b=this.padding.top+this.padding.bottom;a-=200;this.padding.top=this.padding.top/b*a||0;this.padding.bottom=
this.padding.bottom/b*a||0}};return a}();
</script>


<script>//~~WEBPATH~~/facets-dive/lib/text.js
var zf,Af=zf||(zf={});Af[Af.Left=0]="Left";Af[Af.Right=1]="Right";Af[Af.Center=2]="Center";var Bf,Cf=Bf||(Bf={});Cf[Cf.Top=0]="Top";Cf[Cf.Bottom=1]="Bottom";Cf[Cf.Middle=2]="Middle";
var Df={x:0,y:0,glyphAspectRatio:.6,lineHeight:1.1,horizontalAlign:zf.Center,verticalAlign:Bf.Middle},Ef=function(){function a(a){this.settings=Object.assign({},Df,a)}a.prototype.fit=function(a){a=a.trim();var b=this.split(a),d=b.segments,e=this.computeCutoff(d,a.length,b.max),f=e.height;a=e.width*this.settings.glyphAspectRatio;a=a/f>this.settings.width/this.settings.height?this.settings.width/a:this.settings.height/f;for(var b=this.settings.horizontalAlign===zf.Left?0:this.settings.horizontalAlign===
zf.Right?1:.5,f=Math.max(0,this.settings.height-f*a)*(this.settings.verticalAlign===Bf.Top?0:this.settings.verticalAlign===Bf.Bottom?1:.5),e=this.wrapLines(d,e.cutoff),g=[],k=0;k<e.length;k++){for(var l=e[k],m=l.endPos,n="",l=l.startPos;l<m;l++)n+=d[l].text;g.push({text:n,x:this.settings.x+b*Math.max(0,this.settings.width-n.length*this.settings.glyphAspectRatio*a),y:this.settings.y+f+k*this.settings.lineHeight*a})}return{lines:g,fontSize:a}};a.prototype.split=function(a){for(var b=[],d=1,e=/\s/.test(a.charAt(0)),
f=0,g=0;d<=a.length;){var k=a.charAt(d),l=/\s/.test(k);k.length&&e===l||(g=Math.max(g,d-f),b.push({text:a.substring(f,d),whitespace:e}),f=d);e=l;d++}return{max:g,segments:b}};a.prototype.computeTextRect=function(a,c){for(var b=0,e=0,f=0,g=1,k=0;k<a.length;k++){var l=a[k],m=l.whitespace,l=l.text.length;if(!m||b)m?b+l<=c?b+=l:(e=b=0,g+=this.settings.lineHeight):b+l<=c?e=b+=l:(e?b=e=l:(f=Math.max(f,l),b=e=0),g+=this.settings.lineHeight),f=Math.max(f,e)}return{width:f,height:g}};a.prototype.computeCutoff=
function(a,c,d){for(var b=this.settings.width/this.settings.height,f=d+(c-d)/2,g=f,k=null,l=Infinity,m=Math.min(20,(a.length+1)/2),n=0;n<m;){n++;var q=this.computeTextRect(a,f),p=q.width/q.height*this.settings.glyphAspectRatio,t=Math.abs(1-p/b);t<l&&(g=f,k=q,l=t);if(.01>t)break;p>b?c=f:d=f;f=d+(c-d)/2}return{cutoff:g,width:k.width,height:k.height}};a.prototype.wrapLines=function(a,c){for(var b=[],e=0,f=0,g=0,k=0,l=0;l<a.length;l++){var m=a[l],n=m.whitespace,m=m.text.length;n&&!g?e=f=l+1:n?g+m<=c?
g+=m:(b.push({startPos:e,endPos:f,textLength:k}),g=k=0,e=f=l+1):g+m<=c?(k=g+=m,f=l+1):k?(b.push({startPos:e,endPos:f,textLength:k}),g=k=m,e=l,f=l+1):(b.push({startPos:l,endPos:l+1,textLength:m}),g=k=0,e=f=l+1)}f>e&&b.push({startPos:e,endPos:f,textLength:k});return b};return a}();
</script>

<script>//~~WEBPATH~~/tf-imports/three.js
var Z={REVISION:"77"};"function"===typeof define&&define.amd?define("three",Z):"undefined"!==typeof exports&&"undefined"!==typeof module&&(module.exports=Z);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});
void 0===Object.assign&&(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b});
Object.assign(Z,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,
MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,
CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,
ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:Z.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,
RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,
RGBADepthPacking:3201});Z.Color=function(a,b,c){void 0===b&&void 0===c?a=this.set(a):(this.r=a,this.g=b,this.b=c,a=this);return a};
Z.Color.prototype={constructor:Z.Color,r:1,g:1,b:1,set:function(a){a instanceof Z.Color?this.copy(a):"number"===typeof a?Ff(this,a):"string"===typeof a&&Gf(this,a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+6*(c-a)*(2/3-d):a}return function(b,c,d){b=Z.Math.euclideanModulo(b,1);c=Z.Math.clamp(c,0,1);d=Z.Math.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5>=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=
a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);b=0<b?1/b:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},convertGammaToLinear:function(){var a=
this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHexString:function(){return("000000"+Hf(this).toString(16)).slice(-6)},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=0,e=0,f=0,d=this.r,e=this.g,g=this.b,k=Math.max(d,e,g),l=Math.min(d,e,g),m,f=(l+k)/2;if(l===k)l=m=0;else{var n=k-
l,l=.5>=f?n/(k+l):n/(2-k-l);switch(k){case d:m=(e-g)/n+(e<g?6:0);break;case e:m=(g-d)/n+2;break;case g:m=(d-e)/n+4}m/=6}d=m+a;e=l+b;f+=c;this.setHSL(d,e,f);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=
a;return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void 0===b&&(b=0);this.r=a[b];this.g=a[b+1];this.b=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a}};function Hf(a){return 255*a.r<<16^255*a.g<<8^255*a.b<<0}
function Gf(a,b){function c(a){void 0!==a&&1>parseFloat(a)&&console.warn("THREE.Color: Alpha component of "+b+" will be ignored.")}var d;if(d=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(b)){var e=d[2];switch(d[1]){case "rgb":case "rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=Math.min(255,parseInt(d[1],10))/255;a.g=Math.min(255,parseInt(d[2],10))/255;a.b=Math.min(255,parseInt(d[3],10))/255;c(d[5]);return}if(d=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){a.r=
Math.min(100,parseInt(d[1],10))/100;a.g=Math.min(100,parseInt(d[2],10))/100;a.b=Math.min(100,parseInt(d[3],10))/100;c(d[5]);return}break;case "hsl":case "hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e)){var e=parseFloat(d[1])/360,f=parseInt(d[2],10)/100,g=parseInt(d[3],10)/100;c(d[5]);a.setHSL(e,f,g);return}}}else if(d=/^\#([A-Fa-f0-9]+)$/.exec(b)){d=d[1];e=d.length;if(3===e){a.r=parseInt(d.charAt(0)+d.charAt(0),16)/255;a.g=parseInt(d.charAt(1)+d.charAt(1),
16)/255;a.b=parseInt(d.charAt(2)+d.charAt(2),16)/255;return}if(6===e){a.r=parseInt(d.charAt(0)+d.charAt(1),16)/255;a.g=parseInt(d.charAt(2)+d.charAt(3),16)/255;a.b=parseInt(d.charAt(4)+d.charAt(5),16)/255;return}}b&&0<b.length&&(d=Z.ColorKeywords[b],void 0!==d?Ff(a,d):console.warn("THREE.Color: Unknown color "+b))}function Ff(a,b){b=Math.floor(b);a.r=(b>>16&255)/255;a.g=(b>>8&255)/255;a.b=(b&255)/255}
Z.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
Z.Quaternion.prototype={constructor:Z.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=
a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],k=b[2],l=b[6],b=b[10],m=c+f+b;0<m?(c=.5/Math.sqrt(m+1),this._w=.25/c,this._x=(l-g)*c,this._y=(d-k)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(l-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+k)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-k)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+l)/c):(c=2*Math.sqrt(1+b-c-f),
this._w=(e-a)/c,this._x=(d+k)/c,this._y=(g+l)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):If(a,c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this.normalize()},dot:function(a){return this._x*a._x+
this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),
Jf(this,a,b)):Jf(this,this,a)},premultiply:function(a){return Jf(this,a,this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;a=Math.sqrt(1-g*g);if(.001>Math.abs(a))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),
this;var k=Math.atan2(a,g),g=Math.sin((1-b)*k)/a;b=Math.sin(b*k)/a;this._w=f*g+this._w*b;this._x=c*g+this._x*b;this._y=d*g+this._y*b;this._z=e*g+this._z*b;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;
a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};function Jf(a,b,c){var d=b._x,e=b._y,f=b._z;b=b._w;var g=c._x,k=c._y,l=c._z;c=c._w;a._x=d*c+b*g+e*l-f*k;a._y=e*c+b*k+f*g-d*l;a._z=f*c+b*l+d*k-e*g;a._w=b*c-d*g-e*k-f*l;a.onChangeCallback();return a}function Kf(a,b,c){c/=2;var d=Math.sin(c);a._x=b.x*d;a._y=b.y*d;a._z=b.z*d;a._w=Math.cos(c);a.onChangeCallback();return a}
function Lf(a,b,c){if(!1===b instanceof Z.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var d=Math.cos(b._x/2),e=Math.cos(b._y/2),f=Math.cos(b._z/2),g=Math.sin(b._x/2),k=Math.sin(b._y/2),l=Math.sin(b._z/2);b=b.order;"XYZ"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l+g*k*f,a._w=d*e*f-g*k*l):"YXZ"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f+g*k*l):"ZXY"===b?(a._x=g*e*f-d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*
l+g*k*f,a._w=d*e*f-g*k*l):"ZYX"===b?(a._x=g*e*f-d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f+g*k*l):"YZX"===b?(a._x=g*e*f+d*k*l,a._y=d*k*f+g*e*l,a._z=d*e*l-g*k*f,a._w=d*e*f-g*k*l):"XZY"===b&&(a._x=g*e*f-d*k*l,a._y=d*k*f-g*e*l,a._z=d*e*l+g*k*f,a._w=d*e*f+g*k*l);if(!1!==c)a.onChangeCallback();return a}
Object.assign(Z.Quaternion,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var k=c[d+0],l=c[d+1],m=c[d+2];c=c[d+3];d=e[f+0];var n=e[f+1],q=e[f+2];e=e[f+3];if(c!==e||k!==d||l!==n||m!==q){f=1-g;var p=k*d+l*n+m*q+c*e,t=0<=p?1:-1,r=1-p*p;r>Number.EPSILON&&(r=Math.sqrt(r),p=Math.atan2(r,p*t),f=Math.sin(f*p)/r,g=Math.sin(g*p)/r);t*=g;k=k*f+d*t;l=l*f+n*t;m=m*f+q*t;c=c*f+e*t;f===1-g&&(g=1/Math.sqrt(k*k+l*l+m*m+c*c),k*=g,l*=g,m*=g,c*=g)}a[b]=k;a[b+1]=l;a[b+2]=m;a[b+
3]=c}});Z.Vector2=function(a,b){this.x=a||0;this.y=b||0};
Z.Vector2.prototype={constructor:Z.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},
addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,
this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===
a&&(a=new Z.Vector2,b=new Z.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);
this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},
distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},
toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},rotateAround:function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=this.x-a.x,e=this.y-a.y;this.x=d*c-e*b+a.x;this.y=d*b+e*c+a.y;return this}};Z.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
Z.Vector3.prototype={constructor:Z.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;
case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},
multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this;this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},applyEuler:function(){var a;return function(b){!1===b instanceof Z.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");
void 0===a&&(a=new Z.Quaternion);return Mf(this,Lf(a,b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new Z.Quaternion);return Mf(this,Kf(a,b,c))}}(),applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},project:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Nf(a,b.projectionMatrix,a.getInverse(b.matrixWorld));return Of(this,
a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Nf(a,b.matrixWorld,a.getInverse(b.projectionMatrix));return Of(this,a)}}(),divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},
clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector3,b=new Z.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);
return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*
a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),If(this,a,b);b=this.x;var c=this.y,d=this.z;this.x=c*a.z-d*a.y;this.y=d*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new Z.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;
return function(b){void 0===a&&(a=new Z.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){return Math.acos(Z.Math.clamp(this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq()),-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+
c*c+a*a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];return this}};
function Pf(a,b,c){if("number"===typeof b){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var d=b;b=c;c=d}return a.fromArray(b.elements,4*c)}function Qf(a,b){return Pf(a,b,3)}function If(a,b,c){var d=b.x,e=b.y;b=b.z;var f=c.x,g=c.y;c=c.z;a.x=e*c-b*g;a.y=b*f-d*c;a.z=d*g-e*f;return a}function Rf(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[4]*d+b[8]*e;a.y=b[1]*c+b[5]*d+b[9]*e;a.z=b[2]*c+b[6]*d+b[10]*e;a.normalize()}
function Mf(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,k=b.z;b=b.w;var l=b*c+g*e-k*d,m=b*d+k*c-f*e,n=b*e+f*d-g*c,c=-f*c-g*d-k*e;a.x=l*b+c*-f+m*-k-n*-g;a.y=m*b+c*-g+n*-f-l*-k;a.z=n*b+c*-k+l*-g-m*-f;return a}function Of(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;var f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*f;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*f;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*f;return a}
function Sf(a,b){var c=a.x,d=a.y,e=a.z;b=b.elements;a.x=b[0]*c+b[3]*d+b[6]*e;a.y=b[1]*c+b[4]*d+b[7]*e;a.z=b[2]*c+b[5]*d+b[8]*e;return a}Z.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
Z.Vector4.prototype={constructor:Z.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+
a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);
this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=
a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=
a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){a=a.elements;var b=a[0];var c=a[4];var d=a[8],e=a[1],f=a[5],g=a[9];var k=a[2];var l=a[6];var m=a[10];if(.01>Math.abs(c-e)&&.01>Math.abs(d-k)&&
.01>Math.abs(g-l)){if(.1>Math.abs(c+e)&&.1>Math.abs(d+k)&&.1>Math.abs(g+l)&&.1>Math.abs(b+f+m-3))return this.set(1,0,0,0),this;a=Math.PI;b=(b+1)/2;f=(f+1)/2;m=(m+1)/2;c=(c+e)/4;d=(d+k)/4;g=(g+l)/4;b>f&&b>m?.01>b?(l=0,c=k=.707106781):(l=Math.sqrt(b),k=c/l,c=d/l):f>m?.01>f?(l=.707106781,k=0,c=.707106781):(k=Math.sqrt(f),l=c/k,c=g/k):.01>m?(k=l=.707106781,c=0):(c=Math.sqrt(m),l=d/c,k=g/c);this.set(l,k,c,a);return this}a=Math.sqrt((l-g)*(l-g)+(d-k)*(d-k)+(e-c)*(e-c));.001>Math.abs(a)&&(a=1);this.x=(l-
g)/a;this.y=(d-k)/a;this.z=(e-c)/a;this.w=Math.acos((b+f+m-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));
this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new Z.Vector4,b=new Z.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);
this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,
b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=
a.array[b+3];return this}};Z.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||Z.Euler.DefaultOrder};Z.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");Z.Euler.DefaultOrder="XYZ";
Z.Euler.prototype={constructor:Z.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,
this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=Z.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],k=e[1],l=e[5],m=e[9],n=e[2],q=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-m,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(q,l),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(m,-1,1)),.99999>Math.abs(m)?(this._y=
Math.atan2(g,e),this._z=Math.atan2(k,l)):(this._y=Math.atan2(-n,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-n,e),this._z=Math.atan2(-f,l)):(this._y=0,this._z=Math.atan2(k,a))):"ZYX"===b?(this._y=Math.asin(-d(n,-1,1)),.99999>Math.abs(n)?(this._x=Math.atan2(q,e),this._z=Math.atan2(k,a)):(this._x=0,this._z=Math.atan2(-f,l))):"YZX"===b?(this._z=Math.asin(d(k,-1,1)),.99999>Math.abs(k)?(this._x=Math.atan2(-m,l),this._y=Math.atan2(-n,a)):(this._x=0,this._y=
Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(q,l),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-m,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);Tf(a,b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,
a.z,b||this._order)},reorder:function(){var a=new Z.Quaternion;return function(b){Lf(a,this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new Z.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};Z.Line3=function(a,b){this.start=void 0!==a?a:new Z.Vector3;this.end=void 0!==b?b:new Z.Vector3};
Z.Line3.prototype={constructor:Z.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new Z.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return Uf(this,b||new Z.Vector3).multiplyScalar(a).add(this.start)},
closestPointToPointParameter:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);c=b.dot(a)/b.dot(b);d&&(c=Z.Math.clamp(c,0,1));return c}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);return Uf(this,c||new Z.Vector3).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&
a.end.equals(this.end)}};function Uf(a,b){return(b||new Z.Vector3).subVectors(a.end,a.start)}Z.Box2=function(a,b){this.min=void 0!==a?a:new Z.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new Z.Vector2(-Infinity,-Infinity)};
Z.Box2.prototype={constructor:Z.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new Z.Vector2;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new Z.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new Z.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new Z.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?
!1:!0},clampPoint:function(a,b){return(b||new Z.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new Z.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};
Z.Box3=function(a,b){this.min=void 0!==a?a:new Z.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new Z.Vector3(-Infinity,-Infinity,-Infinity)};
Z.Box3.prototype={constructor:Z.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new Z.Vector3;return function(b,c){c=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(c);this.max.copy(b).add(c);return this}}(),setFromObject:function(){var a=new Z.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);this.makeEmpty();b.traverse(function(b){var d=
b.geometry;if(void 0!==d)if(d instanceof Z.Geometry)for(var f=d.vertices,d=0,g=f.length;d<g;d++)a.copy(f[d]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a);else if(d instanceof Z.BufferGeometry&&void 0!==d.attributes.position)for(f=d.attributes.position.array,d=0,g=f.length;d<g;d+=3)a.fromArray(f,d),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=
this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new Z.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new Z.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new Z.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},
intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){if(0<a.normal.x){var b=a.normal.x*this.min.x;var c=a.normal.x*this.max.x}else b=a.normal.x*this.max.x,c=a.normal.x*this.min.x;0<a.normal.y?(b+=
a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return b<=a.constant&&c>=a.constant},clampPoint:function(a,b){return(b||new Z.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new Z.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=
new Z.Vector3;return function(b){b=b||new Z.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3,new Z.Vector3];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,
this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);
this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};function Vf(a,b){for(var c=Infinity,d=Infinity,e=Infinity,f=-Infinity,g=-Infinity,k=-Infinity,l=0,m=b.length;l<m;l+=3){var n=b[l],q=b[l+1],p=b[l+2];n<c&&(c=n);q<d&&(d=q);p<e&&(e=p);n>f&&(f=n);q>g&&(g=q);p>k&&(k=p)}a.min.set(c,d,e);a.max.set(f,g,k)}Z.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
Z.Matrix3.prototype={constructor:Z.Matrix3,set:function(a,b,c,d,e,f,g,k,l){var m=this.elements;m[0]=a;m[1]=d;m[2]=g;m[3]=b;m[4]=e;m[5]=k;m[6]=c;m[7]=f;m[8]=l;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===
c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),Sf(a,this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),Sf(a,this),b.setXYZ(a.x,a.y,a.z);return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=
this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],k=a[6],l=a[7],a=a[8];return b*f*a-b*g*l-c*e*a+c*g*k+d*e*l-d*f*k},getInverse:function(a,b){a instanceof Z.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var c=a.elements;a=this.elements;var d=c[0],e=c[1],f=c[2],g=c[3],k=c[4],l=c[5],m=c[6],n=c[7],c=c[8],q=c*k-l*n,p=l*m-c*g,t=n*g-k*m,r=d*q+e*p+f*t;if(0===r){if(b)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/r;a[0]=q*b;a[1]=(f*n-c*e)*b;a[2]=(l*e-f*k)*b;a[3]=p*b;a[4]=(c*d-f*m)*b;a[5]=(f*g-l*d)*b;a[6]=t*b;a[7]=(e*m-n*d)*b;a[8]=(k*d-e*g)*b;return this},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},transposeIntoArray:function(a){var b=this.elements;
a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};function Wf(a,b){b=b.elements;a.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]);return a.getInverse(a).transpose()}
Z.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
Z.Matrix4.prototype={constructor:Z.Matrix4,set:function(a,b,c,d,e,f,g,k,l,m,n,q,p,t,r,v){var w=this.elements;w[0]=a;w[4]=b;w[8]=c;w[12]=d;w[1]=e;w[5]=f;w[9]=g;w[13]=k;w[2]=l;w[6]=m;w[10]=n;w[14]=q;w[3]=p;w[7]=t;w[11]=r;w[15]=v;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new Z.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},extractBasis:function(a,b,c){Pf(a,this,0);Pf(b,this,1);Pf(c,this,
2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new Z.Vector3);var c=this.elements,d=b.elements,e=1/Pf(a,b,0).length(),f=1/Pf(a,b,1).length();b=1/Pf(a,b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof Z.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),k=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){var l=f*k;var m=f*e;var n=c*k;a=c*e;b[0]=g*k;b[4]=-g*e;b[8]=d;b[1]=m+n*d;b[5]=l-a*d;b[9]=-c*g;b[2]=a-l*d;b[6]=n+m*d;b[10]=f*g}else"YXZ"===a.order?(l=g*k,m=g*e,n=d*k,a=d*e,b[0]=l+a*c,b[4]=n*c-m,b[8]=f*d,b[1]=f*e,b[5]=f*k,b[9]=-c,b[2]=m*c-n,b[6]=a+l*c,b[10]=f*g):"ZXY"===a.order?(l=g*k,m=g*e,n=d*k,a=d*e,b[0]=l-a*c,b[4]=-f*e,b[8]=n+m*c,b[1]=m+n*c,b[5]=f*k,b[9]=
a-l*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(l=f*k,m=f*e,n=c*k,a=c*e,b[0]=g*k,b[4]=n*d-m,b[8]=l*d+a,b[1]=g*e,b[5]=a*d+l,b[9]=m*d-n,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(l=f*g,m=f*d,n=c*g,a=c*d,b[0]=g*k,b[4]=a-l*e,b[8]=n*e+m,b[1]=e,b[5]=f*k,b[9]=-c*k,b[2]=-d*k,b[6]=m*e+n,b[10]=l-a*e):"XZY"===a.order&&(l=f*g,m=f*d,n=c*g,a=c*d,b[0]=g*k,b[4]=-e,b[8]=d*k,b[1]=l*e+a,b[5]=f*k,b[9]=m*e-n,b[2]=n*e-m,b[6]=c*k,b[10]=a*e+l);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,
b,c;return function(d,e,f){void 0===a&&(a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);If(a,f,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,If(a,f,c).normalize());If(b,c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),
Nf(this,a,b)):Nf(this,this,a)},premultiply:function(a){return Nf(this,a,this)},multiplyToArray:function(a,b,c){var d=this.elements;Nf(this,a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;
b[15]*=a;return this},applyToVector3Array:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.fromArray(b,c),a.applyMatrix4(this),a.toArray(b,c);return b}}(),applyToBuffer:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Vector3);void 0===c&&(c=0);void 0===d&&(d=b.length/b.itemSize);for(var e=0;e<d;e++,c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(a.x,a.y,a.z);return b}}(),
determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],k=a[9],l=a[13],m=a[2],n=a[6],q=a[10],p=a[14];return a[3]*(+e*k*n-d*l*n-e*g*q+c*l*q+d*g*p-c*k*p)+a[7]*(+b*k*p-b*l*q+e*f*q-d*f*p+d*l*m-e*k*m)+a[11]*(+b*l*n-b*g*p-e*f*n+c*f*p+e*g*m-c*l*m)+a[15]*(-d*g*m-b*k*n+b*g*q+d*f*n-c*f*q+c*k*m)},transpose:function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];
a[14]=b;return this},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new Z.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return Pf(a,this,3)}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,
b){var c=this.elements,d=a.elements;a=d[0];var e=d[1],f=d[2],g=d[3],k=d[4],l=d[5],m=d[6],n=d[7],q=d[8],p=d[9],t=d[10],r=d[11],v=d[12],w=d[13],z=d[14],d=d[15],y=p*z*n-w*t*n+w*m*r-l*z*r-p*m*d+l*t*d,B=v*t*n-q*z*n-v*m*r+k*z*r+q*m*d-k*t*d,A=q*w*n-v*p*n+v*l*r-k*w*r-q*l*d+k*p*d,D=v*p*m-q*w*m-v*l*t+k*w*t+q*l*z-k*p*z,E=a*y+e*B+f*A+g*D;if(0===E){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}b=1/E;c[0]=y*b;c[1]=(w*t*g-p*z*g-w*f*r+e*z*r+p*f*d-e*t*d)*b;c[2]=(l*z*g-w*m*g+w*f*n-e*z*n-l*f*d+e*m*d)*b;c[3]=(p*m*g-l*t*g-p*f*n+e*t*n+l*f*r-e*m*r)*b;c[4]=B*b;c[5]=(q*z*g-v*t*g+v*f*r-a*z*r-q*f*d+a*t*d)*b;c[6]=(v*m*g-k*z*g-v*f*n+a*z*n+k*f*d-a*m*d)*b;c[7]=(k*t*g-q*m*g+q*f*n-a*t*n-k*f*r+a*m*r)*b;c[8]=A*b;c[9]=(v*p*g-q*w*g-v*e*r+a*w*r+q*e*d-a*p*d)*b;c[10]=(k*w*g-v*l*g+v*e*n-a*w*n-k*e*d+a*l*d)*b;c[11]=(q*l*g-k*p*g-q*e*n+a*p*n+k*e*r-a*l*r)*b;c[12]=D*b;c[13]=(q*w*f-v*p*f+v*e*t-a*w*
t-q*e*z+a*p*z)*b;c[14]=(v*l*f-k*w*f-v*e*m+a*w*m+k*e*z-a*l*z)*b;c[15]=(k*p*f-q*l*f+q*e*m-a*p*m-k*e*t+a*l*t)*b;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},decompose:function(){var a,b;return function(c,d,e){void 0===a&&(a=new Z.Vector3,b=new Z.Matrix4);var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),k=a.set(f[4],f[5],f[6]).length(),l=a.set(f[8],f[9],f[10]).length();
0>this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;var f=1/k,m=1/l;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=m;b.elements[9]*=m;b.elements[10]*=m;d.setFromRotationMatrix(b);e.x=g;e.y=k;e.z=l;return this}}(),makePerspective:function(a,b,c,d){a=c*Math.tan(Z.Math.DEG2RAD*a*.5);var e=-a;return Xf(this,e*b,a*b,e,a,c,d)},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>
c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};
function Xf(a,b,c,d,e,f,g){var k=a.elements;k[0]=2*f/(c-b);k[4]=0;k[8]=(c+b)/(c-b);k[12]=0;k[1]=0;k[5]=2*f/(e-d);k[9]=(e+d)/(e-d);k[13]=0;k[2]=0;k[6]=0;k[10]=-(g+f)/(g-f);k[14]=-2*g*f/(g-f);k[3]=0;k[7]=0;k[11]=-1;k[15]=0;return a}function Yf(a,b,c){var d=Math.cos(c);c=Math.sin(c);var e=1-d,f=b.x,g=b.y;b=b.z;var k=e*f,l=e*g;a.set(k*f+d,k*g-c*b,k*b+c*g,0,k*g+c*b,l*g+d,l*b-c*f,0,k*b-c*g,l*b+c*f,e*b*b+d,0,0,0,0,1);return a}
function Zf(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,-b,0,0,b,c,0,0,0,0,1,0,0,0,0,1)}function $f(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(c,0,b,0,0,1,0,0,-b,0,c,0,0,0,0,1)}function ag(a,b){var c=Math.cos(b);b=Math.sin(b);a.set(1,0,0,0,0,c,-b,0,0,b,c,0,0,0,0,1)}
function Nf(a,b,c){var d=b.elements,e=c.elements;c=a.elements;b=d[0];var f=d[4],g=d[8],k=d[12],l=d[1],m=d[5],n=d[9],q=d[13],p=d[2],t=d[6],r=d[10],v=d[14],w=d[3],z=d[7],y=d[11],d=d[15],B=e[0],A=e[4],D=e[8],E=e[12],F=e[1],I=e[5],H=e[9],C=e[13],J=e[2],M=e[6],T=e[10],U=e[14],L=e[3],S=e[7],R=e[11],e=e[15];c[0]=b*B+f*F+g*J+k*L;c[4]=b*A+f*I+g*M+k*S;c[8]=b*D+f*H+g*T+k*R;c[12]=b*E+f*C+g*U+k*e;c[1]=l*B+m*F+n*J+q*L;c[5]=l*A+m*I+n*M+q*S;c[9]=l*D+m*H+n*T+q*R;c[13]=l*E+m*C+n*U+q*e;c[2]=p*B+t*F+r*J+v*L;c[6]=p*A+
t*I+r*M+v*S;c[10]=p*D+t*H+r*T+v*R;c[14]=p*E+t*C+r*U+v*e;c[3]=w*B+z*F+y*J+d*L;c[7]=w*A+z*I+y*M+d*S;c[11]=w*D+z*H+y*T+d*R;c[15]=w*E+z*C+y*U+d*e;return a}function Tf(a,b){var c=a.elements,d=b.x,e=b.y,f=b.z,g=b.w,k=d+d,l=e+e,m=f+f;b=d*k;var n=d*l,d=d*m,q=e*l,e=e*m,f=f*m,k=g*k,l=g*l,g=g*m;c[0]=1-(q+f);c[4]=n-g;c[8]=d+l;c[1]=n+g;c[5]=1-(b+f);c[9]=e-k;c[2]=d-l;c[6]=e+k;c[10]=1-(b+q);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return a}
Z.Ray=function(a,b){this.origin=void 0!==a?a:new Z.Vector3;this.direction=void 0!==b?b:new Z.Vector3};
Z.Ray.prototype={constructor:Z.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new Z.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new Z.Vector3;return function(b){this.origin.copy(this.at(b,
a));return this}}(),closestPointToPoint:function(a,b){b=b||new Z.Vector3;b.subVectors(a,this.origin);a=b.dot(this.direction);return 0>a?b.copy(this.origin):b.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new Z.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);
return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var k=.5*d.distanceTo(e),l=-this.direction.dot(b),m=c.dot(this.direction),n=-c.dot(b),q=c.lengthSq(),p=Math.abs(1-l*l);if(0<p){d=l*n-m;e=l*m-n;var t=k*p;0<=d?e>=-t?e<=t?(k=1/p,d*=k,e*=k,l=d*(d+l*e+2*m)+e*(l*d+e+2*n)+q):(e=k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):
(e=-k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q):e<=-t?(d=Math.max(0,-(-l*k+m)),e=0<d?-k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q):e<=t?(d=0,e=Math.min(Math.max(-k,-n),k),l=e*(e+2*n)+q):(d=Math.max(0,-(l*k+m)),e=0<d?k:Math.min(Math.max(-k,-n),k),l=-d*d+e*(e+2*n)+q)}else e=0<l?-k:k,d=Math.max(0,-(l*e+m)),l=-d*d+e*(e+2*n)+q;f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return l}}(),intersectSphere:function(){var a=new Z.Vector3;return function(b,
c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d;b=b.radius*b.radius;if(e>b)return null;b=Math.sqrt(b-e);e=d-b;d+=b;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectPlane:function(a,b){var c=a.normal.dot(this.direction);0===c?a=0===a.distanceToPoint(this.origin)?0:null:(a=-(this.origin.dot(a.normal)+a.constant)/c,a=0<=a?a:null);return null===a?null:this.at(a,b)},intersectsPlane:function(a){var b=
a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},intersectsBox:function(){var a=new Z.Vector3;return function(b){var c=1/this.direction.x;var d=1/this.direction.y;var e=1/this.direction.z,f=this.origin;if(0<=c){var g=(b.min.x-f.x)*c;c*=b.max.x-f.x}else g=(b.max.x-f.x)*c,c*=b.min.x-f.x;if(0<=d){var k=(b.min.y-f.y)*d;d*=b.max.y-f.y}else k=(b.max.y-f.y)*d,d*=b.min.y-f.y;if(g>d||k>c)g=null;else{if(k>g||g!==g)g=k;if(d<c||c!==c)c=d;0<=e?(k=(b.min.z-f.z)*e,b=(b.max.z-
f.z)*e):(k=(b.max.z-f.z)*e,b=(b.min.z-f.z)*e);if(g>b||k>c)g=null;else{if(k>g||g!==g)g=k;if(b<c||c!==c)c=b;g=0>c?null:this.at(0<=g?g:c,a)}}return null!==g}}(),intersectTriangle:function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3,d=new Z.Vector3;return function(e,f,g,k,l){b.subVectors(f,e);c.subVectors(g,e);If(d,b,c);f=this.direction.dot(d);if(0<f){if(k)return null;k=1}else if(0>f)k=-1,f=-f;else return null;a.subVectors(this.origin,e);e=k*this.direction.dot(If(c,a,c));if(0>e)return null;
g=k*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-k*a.dot(d);return 0>e?null:this.at(e/f,l)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};Z.Sphere=function(a,b){this.center=void 0!==a?a:new Z.Vector3;this.radius=void 0!==b?b:0};
Z.Sphere.prototype={constructor:Z.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new Z.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=c=0,f=b.length;e<f;e++)c=Math.max(c,d.distanceToSquared(b[e]));this.radius=Math.sqrt(c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=
this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);
b=b||new Z.Vector3;b.copy(a);c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center));return b},getBoundingBox:function(a){a=a||new Z.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);a=a.elements;this.radius*=Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]));return this},translate:function(a){this.center.add(a);
return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};Z.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new Z.Plane,void 0!==b?b:new Z.Plane,void 0!==c?c:new Z.Plane,void 0!==d?d:new Z.Plane,void 0!==e?e:new Z.Plane,void 0!==f?f:new Z.Plane]};
Z.Frustum.prototype={constructor:Z.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},intersectsObject:function(){var a=new Z.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);
return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Z.Sphere;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:
c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a),f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};
function bg(a,b){a=a.planes;var c=b.elements;b=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],k=c[5],l=c[6],m=c[7],n=c[8],q=c[9],p=c[10],t=c[11],r=c[12],v=c[13],w=c[14],c=c[15];cg(a[0],f-b,m-g,t-n,c-r).normalize();cg(a[1],f+b,m+g,t+n,c+r).normalize();cg(a[2],f+d,m+k,t+q,c+v).normalize();cg(a[3],f-d,m-k,t-q,c-v).normalize();cg(a[4],f-e,m-l,t-p,c-w).normalize();cg(a[5],f+e,m+l,t+p,c+w).normalize()}Z.Plane=function(a,b){this.normal=void 0!==a?a:new Z.Vector3(1,0,0);this.constant=void 0!==b?b:0};
Z.Plane.prototype={constructor:Z.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setFromCoplanarPoints:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.normal.copy(d);this.constant=-c.dot(this.normal);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();
this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},intersectLine:function(){var a=new Z.Vector3;return function(b,c){c=c||new Z.Vector3;var d=Uf(b,a),e=this.normal.dot(d);if(0===e){if(0===this.distanceToPoint(b.start))return c.copy(b.start)}else if(e=-(b.start.dot(this.normal)+
this.constant)/e,!(0>e||1<e))return c.copy(d).multiplyScalar(e).add(b.start)}}(),intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},applyMatrix4:function(){var a=new Z.Vector3,b=new Z.Matrix3;return function(c,d){var e=(a||new Z.Vector3).copy(this.normal).multiplyScalar(-this.constant).applyMatrix4(c);c=d||Wf(b,c);c=Sf(this.normal,c).normalize();this.constant=-e.dot(c);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);
return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};function cg(a,b,c,d,e){a.normal.set(b,c,d);a.constant=e;return a}Z.Spherical=function(a,b,c){this.radius=void 0!==a?a:1;this.phi=void 0!==b?b:0;this.theta=void 0!==c?c:0;return this};
Z.Spherical.prototype={constructor:Z.Spherical,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);this.phi.copy(a.phi);this.theta.copy(a.theta);return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(Z.Math.clamp(a.y/this.radius,-1,1)));return this}};
Z.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+
(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*
(.5-Math.random())},degToRad:function(a){return a*Z.Math.DEG2RAD},radToDeg:function(a){return a*Z.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
Z.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,k,l,m,n,q,p;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+2;m=
this.points[c[0]];n=this.points[c[1]];q=this.points[c[2]];p=this.points[c[3]];k=g*g;l=g*k;d.x=b(m.x,n.x,q.x,p.x,g,k,l);d.y=b(m.y,n.y,q.y,p.y,g,k,l);d.z=b(m.z,n.z,q.z,p.z,g,k,l);return d};this.getControlPointsArray=function(){var a,b=this.points.length,c=[];for(a=0;a<b;a++){var d=this.points[a];c[a]=[d.x,d.y,d.z]}return c};this.getLength=function(a){var b=0,c=new Z.Vector3,d=new Z.Vector3,e=[],f=0;e[0]=0;a||(a=100);var g=this.points.length*a;c.copy(this.points[0]);for(a=1;a<g;a++){var k=a/g;var l=
this.getPoint(k);d.copy(l);f+=d.distanceTo(c);c.copy(l);k*=this.points.length-1;k=Math.floor(k);k!==b&&(e[k]=f,b=k)}e[e.length]=f;return{chunks:e,total:f}};this.reparametrizeByArcLength=function(a){var b,c=[],d=new Z.Vector3,e=this.getLength();c.push(d.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){var f=e.chunks[b]-e.chunks[b-1];var g=Math.ceil(a*f/e.total);var k=(b-1)/(this.points.length-1);var l=b/(this.points.length-1);for(f=1;f<g-1;f++){var m=k+1/g*f*(l-k);m=this.getPoint(m);
c.push(d.copy(m).clone())}c.push(d.copy(this.points[b]).clone())}this.points=c}};Z.Triangle=function(a,b,c){this.a=void 0!==a?a:new Z.Vector3;this.b=void 0!==b?b:new Z.Vector3;this.c=void 0!==c?c:new Z.Vector3};Z.Triangle.normal=function(){var a=new Z.Vector3;return function(b,c,d,e){e=e||new Z.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
Z.Triangle.barycoordFromPoint=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(d,e,f,g,k){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var l=b.dot(b);g=b.dot(c);var m=d*l-e*e;k=k||new Z.Vector3;if(0===m)return k.set(-2,-1,-1);m=1/m;l=(l*f-e*g)*m;d=(d*g-e*f)*m;return k.set(1-l-d,d,l)}}();
Z.Triangle.containsPoint=function(){var a=new Z.Vector3;return function(b,c,d,e){b=Z.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
Z.Triangle.prototype={constructor:Z.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*
a.cross(b).length()}}(),midpoint:function(a){return(a||new Z.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return Z.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new Z.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return Z.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return Z.Triangle.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,
b,c,d;return function(e,f){void 0===a&&(a=new Z.Plane,b=[new Z.Line3,new Z.Line3,new Z.Line3],c=new Z.Vector3,d=new Z.Vector3);f=f||new Z.Vector3;var g=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);var k=a,l=c,m=k.distanceToPoint(e);(l||new Z.Vector3).copy(k.normal).multiplyScalar(m).sub(e).negate();if(!0===this.containsPoint(c))f.copy(c);else for(b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a),e=0;e<b.length;e++)b[e].closestPointToPoint(c,!0,d),k=c.distanceToSquared(d),
k<g&&(g=k,f.copy(d));return f}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};Z.Interpolant=function(a,b,c,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new b.constructor(c);this.sampleValues=b;this.valueSize=c};
Z.Interpolant.prototype={constructor:Z.Interpolant,evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{c:{d:if(!(a<d)){for(var f=c+2;;){if(void 0===d){if(a<e)break d;this._cachedIndex=c=b.length;return this.afterEnd_(c-1,a,e)}if(c===f)break;e=d;d=b[++c];if(a<d)break b}d=b.length;break c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a>=e)break b}d=c;
c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=c=b.length,this.afterEnd_(c-1,e,a)}this._cachedIndex=c;this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},copySampleValue_:function(a){var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var e=0;e!==d;++e)b[e]=c[a+e];return b},interpolate_:function(){throw Error("call to abstract method");
},intervalChanged_:function(){}};Object.assign(Z.Interpolant.prototype,{beforeStart_:Z.Interpolant.prototype.copySampleValue_,afterEnd_:Z.Interpolant.prototype.copySampleValue_});Z.CubicInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};
Z.CubicInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.CubicInterpolant,DefaultSettings_:{endingStart:Z.ZeroCurvatureEnding,endingEnd:Z.ZeroCurvatureEnding},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],k=d[f];if(void 0===g)switch((this.settings||this.DefaultSettings_).endingStart){case Z.ZeroSlopeEnding:e=a;g=2*b-c;break;case Z.WrapAroundEnding:e=d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void 0===k)switch((this.settings||
this.DefaultSettings_).endingEnd){case Z.ZeroSlopeEnding:f=a;k=2*c-b;break;case Z.WrapAroundEnding:f=1;k=c+d[1]-d[0];break;default:f=a-1,k=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=a/(k-c);this._offsetPrev=e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var k=a-g,l=this._offsetPrev,m=this._offsetNext,n=this._weightPrev,q=this._weightNext,p=(c-b)/(d-b);c=p*p;d=c*p;b=-n*d+2*n*c-n*p;n=(1+n)*d+(-1.5-
2*n)*c+(-.5+n)*p+1;p=(-1-q)*d+(1.5+q)*c+.5*p;q=q*d-q*c;for(c=0;c!==g;++c)e[c]=b*f[l+c]+n*f[k+c]+p*f[a+c]+q*f[m+c];return e}});Z.DiscreteInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};Z.DiscreteInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.DiscreteInterpolant,interpolate_:function(a){return this.copySampleValue_(a-1)}});Z.LinearInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};
Z.LinearInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.LinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;var k=a-g;b=(c-b)/(d-b);c=1-b;for(d=0;d!==g;++d)e[d]=f[k+d]*c+f[a+d]*b;return e}});Z.QuaternionLinearInterpolant=function(a,b,c,d){Z.Interpolant.call(this,a,b,c,d)};
Z.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Z.Interpolant.prototype),{constructor:Z.QuaternionLinearInterpolant,interpolate_:function(a,b,c,d){var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)Z.Quaternion.slerpFlat(e,0,f,a-g,f,a,b);return e}});Z.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
Z.Clock.prototype={constructor:Z.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.autoStart&&!this.running&&this.start();if(this.running){var a=(performance||Date).now();var b=(a-this.oldTime)/1E3;this.oldTime=a;this.elapsedTime+=b}this.running=!1}};Z.EventDispatcher=function(){};
Object.assign(Z.EventDispatcher.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){void 0!==this._listeners&&(a=this._listeners[a],void 0!==a&&(b=a.indexOf(b),-1!==b&&a.splice(b,1)))},dispatchEvent:function(a){if(void 0!==
this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;var c=[],d,e=b.length;for(d=0;d<e;d++)c[d]=b[d];for(d=0;d<e;d++)c[d].call(this,a)}}}});Z.Layers=function(){this.mask=1};Z.Layers.prototype={constructor:Z.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};
(function(a){function b(a,b){return a.distance-b.distance}function c(a,b,f,g){if(!1!==a.visible&&(a.raycast(b,f),!0===g)){a=a.children;g=0;for(var d=a.length;g<d;g++)c(a[g],b,f,!0)}}a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};
a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?(Qf(this.ray.origin,c.matrixWorld),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(this.ray.origin).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),Rf(this.ray.direction.set(0,0,-1),c.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,e){var d=
[];c(a,this,d,e);d.sort(b);return d},intersectObjects:function(a,e){var d=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),d;for(var g=0,k=a.length;g<k;g++)c(a[g],this,d,e);d.sort(b);return d}}})(Z);
Z.Object3D=function(){Object.defineProperty(this,"id",{value:Z.Object3DIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Z.Object3D.DefaultUp.clone();var a=new Z.Vector3,b=new Z.Euler,c=new Z.Quaternion,d=new Z.Vector3(1,1,1);b.onChange(function(){Lf(c,b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,
value:c},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new Z.Matrix4},normalMatrix:{value:new Z.Matrix3}});this.matrix=new Z.Matrix4;this.matrixWorld=new Z.Matrix4;this.matrixAutoUpdate=Z.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new Z.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};Z.Object3D.DefaultUp=new Z.Vector3(0,1,0);Z.Object3D.DefaultMatrixAutoUpdate=!0;
Object.assign(Z.Object3D.prototype,Z.EventDispatcher.prototype,{applyMatrix:function(a){Nf(this.matrix,a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){Kf(this.quaternion,a,b)},setRotationFromEuler:function(a){Lf(this.quaternion,a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new Z.Quaternion;return function(b,
c){Kf(a,b,c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new Z.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new Z.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new Z.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new Z.Vector3;return function(b,c){Mf(a.copy(b),this.quaternion);this.position.add(a.multiplyScalar(c));return this}}(),
translateX:function(){var a=new Z.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new Z.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new Z.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new Z.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new Z.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof Z.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,
b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new Z.Vector3;this.updateMatrixWorld(!0);return Qf(a,this.matrixWorld)},getWorldQuaternion:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){c=c||new Z.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=
new Z.Vector3,b=new Z.Quaternion;return function(c){c=c||new Z.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,b,c);return c}}(),getWorldDirection:function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Vector3;this.getWorldQuaternion(a);return Mf(b.set(0,0,1),a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<
d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){var a=this.matrix,b=this.position,c=this.scale;Tf(a,this.quaternion);a.scale(c);a.setPosition(b);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):Nf(this.matrixWorld,this.parent.matrixWorld,this.matrix),
this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var e={};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);"{}"!==JSON.stringify(this.userData)&&(e.userData=
this.userData);!0===this.castShadow&&(e.castShadow=!0);!0===this.receiveShadow&&(e.receiveShadow=!0);!1===this.visible&&(e.visible=!1);e.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),e.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),e.material=this.material.uuid);if(0<this.children.length){e.children=
[];for(var f=0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){var c=b(a.geometries),f=b(a.materials),g=b(a.textures);a=b(a.images);0<c.length&&(d.geometries=c);0<f.length&&(d.materials=f);0<g.length&&(d.textures=g);0<a.length&&(d.images=a)}d.object=e;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void 0===b&&(b=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});Z.Object3DIdCount=0;
Z.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof Z.Vector3?d:new Z.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=e instanceof Z.Color?e:new Z.Color;this.vertexColors=Array.isArray(e)?e:[];this.materialIndex=void 0!==f?f:0};
Z.Face3.prototype={constructor:Z.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}};
Z.BufferAttribute=function(a,b,c){this.uuid=Z.Math.generateUUID();this.array=a;this.itemSize=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===c};
Z.BufferAttribute.prototype={constructor:Z.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,
b);return this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){this.array[a*this.itemSize]=b;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){this.array[a*this.itemSize+3]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return(new this.constructor).copy(this)}};
function dg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",e),g=new Z.Vector4);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z;c[d++]=g.w}return a}function eg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",e),g=new Z.Vector3);c[d++]=g.x;c[d++]=g.y;c[d++]=g.z}return a}
function fg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",e),g=new Z.Vector2);c[d++]=g.x;c[d++]=g.y}return a}function gg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];c[d++]=g.a;c[d++]=g.b;c[d++]=g.c}return a}
function hg(a,b){for(var c=a.array,d=0,e=0,f=b.length;e<f;e++){var g=b[e];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",e),g=new Z.Color);c[d++]=g.r;c[d++]=g.g;c[d++]=g.b}return a}function ig(a,b){a.array.set(b);return a}Z.Int8Attribute=function(a,b){return new Z.BufferAttribute(new Int8Array(a),b)};Z.Uint8Attribute=function(a,b){return new Z.BufferAttribute(new Uint8Array(a),b)};
Z.Uint8ClampedAttribute=function(a,b){return new Z.BufferAttribute(new Uint8ClampedArray(a),b)};Z.Int16Attribute=function(a,b){return new Z.BufferAttribute(new Int16Array(a),b)};Z.Uint16Attribute=function(a,b){return new Z.BufferAttribute(new Uint16Array(a),b)};Z.Int32Attribute=function(a,b){return new Z.BufferAttribute(new Int32Array(a),b)};Z.Uint32Attribute=function(a,b){return new Z.BufferAttribute(new Uint32Array(a),b)};
Z.Float32Attribute=function(a,b){return new Z.BufferAttribute(new Float32Array(a),b)};Z.Float64Attribute=function(a,b){return new Z.BufferAttribute(new Float64Array(a),b)};Z.DynamicBufferAttribute=function(a,b){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new Z.BufferAttribute(a,b)).setDynamic(!0)};Z.InstancedBufferAttribute=function(a,b,c){Z.BufferAttribute.call(this,a,b);this.meshPerAttribute=c||1};
Z.InstancedBufferAttribute.prototype=Object.create(Z.BufferAttribute.prototype);Z.InstancedBufferAttribute.prototype.constructor=Z.InstancedBufferAttribute;Z.InstancedBufferAttribute.prototype.copy=function(a){Z.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};Z.InterleavedBuffer=function(a,b){this.uuid=Z.Math.generateUUID();this.array=a;this.stride=b;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};
Z.InterleavedBuffer.prototype={constructor:Z.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,b,c){a*=this.stride;c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,
b){void 0===b&&(b=0);this.array.set(a,b);return this},clone:function(){return(new this.constructor).copy(this)}};Z.InstancedInterleavedBuffer=function(a,b,c){Z.InterleavedBuffer.call(this,a,b);this.meshPerAttribute=c||1};Z.InstancedInterleavedBuffer.prototype=Object.create(Z.InterleavedBuffer.prototype);Z.InstancedInterleavedBuffer.prototype.constructor=Z.InstancedInterleavedBuffer;
Z.InstancedInterleavedBuffer.prototype.copy=function(a){Z.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};Z.InterleavedBufferAttribute=function(a,b,c){this.uuid=Z.Math.generateUUID();this.data=a;this.itemSize=b;this.offset=c};
Z.InterleavedBufferAttribute.prototype={constructor:Z.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,b){this.data.array[a*this.data.stride+this.offset]=b;return this},setY:function(a,b){this.data.array[a*this.data.stride+this.offset+1]=b;return this},setZ:function(a,b){this.data.array[a*this.data.stride+this.offset+2]=b;return this},setW:function(a,
b){this.data.array[a*this.data.stride+this.offset+3]=b;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;return this},setXYZ:function(a,b,c,
d){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a=a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return this}};
Z.Geometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=
this.verticesNeedUpdate=!1};
Object.assign(Z.Geometry.prototype,Z.EventDispatcher.prototype,{applyMatrix:function(a){for(var b=Wf(new Z.Matrix3,a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];Sf(a.normal,b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)Sf(a.vertexNormals[e],b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=
!0;return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);ag(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);$f(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);Zf(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);
return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new Z.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,d,e){var f=void 0!==g?[n[a].clone(),n[b].clone(),n[d].clone()]:[],r=void 0!==k?[c.colors[a].clone(),c.colors[b].clone(),c.colors[d].clone()]:[];e=new Z.Face3(a,
b,d,f,r,e);c.faces.push(e);void 0!==l&&c.faceVertexUvs[0].push([q[a].clone(),q[b].clone(),q[d].clone()]);void 0!==m&&c.faceVertexUvs[1].push([p[a].clone(),p[b].clone(),p[d].clone()])}var c=this,d=null!==a.index?a.index.array:void 0,e=a.attributes,f=e.position.array,g=void 0!==e.normal?e.normal.array:void 0,k=void 0!==e.color?e.color.array:void 0,l=void 0!==e.uv?e.uv.array:void 0,m=void 0!==e.uv2?e.uv2.array:void 0;void 0!==m&&(this.faceVertexUvs[1]=[]);for(var n=[],q=[],p=[],t=e=0;e<f.length;e+=3,
t+=2)c.vertices.push(new Z.Vector3(f[e],f[e+1],f[e+2])),void 0!==g&&n.push(new Z.Vector3(g[e],g[e+1],g[e+2])),void 0!==k&&c.colors.push(new Z.Color(k[e],k[e+1],k[e+2])),void 0!==l&&q.push(new Z.Vector2(l[t],l[t+1])),void 0!==m&&p.push(new Z.Vector2(m[t],m[t+1]));if(void 0!==d)if(f=a.groups,0<f.length)for(e=0;e<f.length;e++)for(var r=f[e],v=r.start,w=r.count,t=v,v=v+w;t<v;t+=3)b(d[t],d[t+1],d[t+2],r.materialIndex);else for(e=0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else for(e=0;e<f.length/3;e+=3)b(e,
e+1,e+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius,b=0===b?1:1/b,c=new Z.Matrix4;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);
this.applyMatrix(c);return this},computeFaceNormals:function(){for(var a=new Z.Vector3,b=new Z.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b;var c=Array(this.vertices.length);var d=0;for(b=this.vertices.length;d<b;d++)c[d]=new Z.Vector3;if(a){var e=new Z.Vector3,f=new Z.Vector3;a=0;for(d=
this.faces.length;a<d;a++){b=this.faces[a];var g=this.vertices[b.a];var k=this.vertices[b.b];var l=this.vertices[b.c];e.subVectors(l,k);f.subVectors(g,k);e.cross(f);c[b.a].add(e);c[b.b].add(e);c[b.c].add(e)}}else for(a=0,d=this.faces.length;a<d;a++)b=this.faces[a],c[b.a].add(b.normal),c[b.b].add(b.normal),c[b.c].add(b.normal);d=0;for(b=this.vertices.length;d<b;d++)c[d].normalize();a=0;for(d=this.faces.length;a<d;a++)b=this.faces[a],g=b.vertexNormals,3===g.length?(g[0].copy(c[b.a]),g[1].copy(c[b.b]),
g[2].copy(c[b.c])):(g[0]=c[b.a].clone(),g[1]=c[b.b].clone(),g[2]=c[b.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b;var c=0;for(b=this.faces.length;c<b;c++){var d=this.faces[c];d.__originalFaceNormal?d.__originalFaceNormal.copy(d.normal):d.__originalFaceNormal=d.normal.clone();d.__originalVertexNormals||(d.__originalVertexNormals=[]);var e=0;for(a=d.vertexNormals.length;e<a;e++)d.__originalVertexNormals[e]?d.__originalVertexNormals[e].copy(d.vertexNormals[e]):
d.__originalVertexNormals[e]=d.vertexNormals[e].clone()}var f=new Z.Geometry;f.faces=this.faces;e=0;for(a=this.morphTargets.length;e<a;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];d=this.morphNormals[e].faceNormals;var g=this.morphNormals[e].vertexNormals;c=0;for(b=this.faces.length;c<b;c++){var k=new Z.Vector3;var l={a:new Z.Vector3,b:new Z.Vector3,c:new Z.Vector3};d.push(k);g.push(l)}}g=this.morphNormals[e];f.vertices=
this.morphTargets[e].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],k=g.faceNormals[c],l=g.vertexNormals[c],k.copy(d.normal),l.a.copy(d.vertexNormals[0]),l.b.copy(d.vertexNormals[1]),l.c.copy(d.vertexNormals[2])}c=0;for(b=this.faces.length;c<b;c++)d=this.faces[c],d.normal=d.__originalFaceNormal,d.vertexNormals=d.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=
0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Z.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Z.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof Z.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,k=this.faces,l=a.faces,m=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=Wf(new Z.Matrix3,b));for(var n=0,q=g.length;n<q;n++){var p=g[n].clone();void 0!==b&&p.applyMatrix4(b);f.push(p)}n=0;for(q=l.length;n<q;n++){var g=l[n],t=g.vertexNormals,r=g.vertexColors,p=new Z.Face3(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void 0!==d&&Sf(p.normal,d).normalize();b=0;for(f=t.length;b<f;b++){var v=t[b].clone();void 0!==
d&&Sf(v,d).normalize();p.vertexNormals.push(v)}p.color.copy(g.color);b=0;for(f=r.length;b<f;b++)v=r[b],p.vertexColors.push(v.clone());p.materialIndex=g.materialIndex+c;k.push(p)}n=0;for(q=a.length;n<q;n++)if(c=a[n],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());m.push(d)}}},mergeMesh:function(a){!1===a instanceof Z.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a=
{},b=[],c=[],d=Math.pow(10,4),e;var f=0;for(e=this.vertices.length;f<e;f++){var g=this.vertices[f];g=Math.round(g.x*d)+"_"+Math.round(g.y*d)+"_"+Math.round(g.z*d);void 0===a[g]?(a[g]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[g]]}a=[];f=0;for(e=this.faces.length;f<e;f++)for(d=this.faces[f],d.a=c[d.a],d.b=c[d.b],d.c=c[d.c],d=[d.a,d.b,d.c],g=0;3>g;g++)if(d[g]===d[(g+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(d=a[f],this.faces.splice(d,1),c=0,e=this.faceVertexUvs.length;c<e;c++)this.faceVertexUvs[c].splice(d,
1);f=this.vertices.length-b.length;this.vertices=b;return f},sortFacesByMaterialIndex:function(){for(var a=this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return a.materialIndex-b.materialIndex});var d=this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var k=a[c]._id;f&&f.push(d[k]);g&&g.push(e[k])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}
function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==m[b])return m[b];m[b]=l.length/3;l.push(a.x,a.y,a.z);return m[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=n.length;n.push(Hf(a));return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=p.length/2;p.push(a.x,a.y);return t[b]}var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;
""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var k=this.vertices[g];f.push(k.x,k.y,k.z)}var k=[],l=[],m={},n=[],q={},p=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],v=void 0!==this.faceVertexUvs[0][g],w=0<r.normal.length(),z=0<r.vertexNormals.length,y=1!==r.color.r||1!==r.color.g||1!==r.color.b,B=0<r.vertexColors.length,A=0,A=a(A,0,0),A=a(A,1,!0),A=a(A,
2,!1),A=a(A,3,v),A=a(A,4,w),A=a(A,5,z),A=a(A,6,y),A=a(A,7,B);k.push(A);k.push(r.a,r.b,r.c);k.push(r.materialIndex);v&&(v=this.faceVertexUvs[0][g],k.push(d(v[0]),d(v[1]),d(v[2])));w&&k.push(b(r.normal));z&&(w=r.vertexNormals,k.push(b(w[0]),b(w[1]),b(w[2])));y&&k.push(c(r.color));B&&(r=r.vertexColors,k.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=l;0<n.length&&(e.data.colors=n);0<p.length&&(e.data.uvs=[p]);e.data.faces=k;return e},clone:function(){return(new Z.Geometry).copy(this)},
copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var b=a.vertices,c=0,d=b.length;c<d;c++)this.vertices.push(b[c].clone());b=a.faces;c=0;for(d=b.length;c<d;c++)this.faces.push(b[c].clone());c=0;for(d=a.faceVertexUvs.length;c<d;c++){b=a.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],k=[],l=0,m=g.length;l<m;l++)k.push(g[l].clone());this.faceVertexUvs[c].push(k)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Z.GeometryIdCount=0;Z.DirectGeometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="DirectGeometry";this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};
Object.assign(Z.DirectGeometry.prototype,Z.EventDispatcher.prototype,{computeBoundingBox:Z.Geometry.prototype.computeBoundingBox,computeBoundingSphere:Z.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var b=[];a=a.faces;
for(var c=0;c<a.length;c++){var d=a[c];if(d.materialIndex!==e){var e=d.materialIndex;void 0!==f&&(f.count=3*c-f.start,b.push(f));var f={start:3*c,materialIndex:e}}}void 0!==f&&(f.count=3*c-f.start,b.push(f));this.groups=b},fromGeometry:function(a){var b=a.faces,c=a.vertices,d=a.faceVertexUvs,e=d[0]&&0<d[0].length,f=d[1]&&0<d[1].length,g=a.morphTargets,k=g.length;if(0<k){var l=[];for(var m=0;m<k;m++)l[m]=[];this.morphTargets.position=l}var n=a.morphNormals,q=n.length;if(0<q){var p=[];for(m=0;m<q;m++)p[m]=
[];this.morphTargets.normal=p}for(var t=a.skinIndices,r=a.skinWeights,v=t.length===c.length,w=r.length===c.length,m=0;m<b.length;m++){var z=b[m];this.vertices.push(c[z.a],c[z.b],c[z.c]);var y=z.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(y=z.normal,this.normals.push(y,y,y));y=z.vertexColors;3===y.length?this.colors.push(y[0],y[1],y[2]):(y=z.color,this.colors.push(y,y,y));!0===e&&(y=d[0][m],void 0!==y?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
m),this.uvs.push(new Z.Vector2,new Z.Vector2,new Z.Vector2)));!0===f&&(y=d[1][m],void 0!==y?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",m),this.uvs2.push(new Z.Vector2,new Z.Vector2,new Z.Vector2)));for(y=0;y<k;y++){var B=g[y].vertices;l[y].push(B[z.a],B[z.b],B[z.c])}for(y=0;y<q;y++)B=n[y].vertexNormals[m],p[y].push(B.a,B.b,B.c);v&&this.skinIndices.push(t[z.a],t[z.b],t[z.c]);w&&this.skinWeights.push(r[z.a],r[z.b],r[z.c])}this.computeGroups(a);
this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
Z.BufferGeometry=function(){Object.defineProperty(this,"id",{value:Z.GeometryIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};
Object.assign(Z.BufferGeometry.prototype,Z.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=a},addAttribute:function(a,b,c){if(!1===b instanceof Z.BufferAttribute&&!1===b instanceof Z.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new Z.BufferAttribute(b,c));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),
this.setIndex(b);else return this.attributes[a]=b,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];return this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a;this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;
void 0!==b&&(Wf(new Z.Matrix3,a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);ag(a,b);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);$f(a,b);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(b){void 0===a&&(a=new Z.Matrix4);
Zf(a,b);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(1,0,0,b,0,1,0,c,0,0,1,d,0,0,0,1);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(b,c,d){void 0===a&&(a=new Z.Matrix4);a.set(b,0,0,0,0,c,0,0,0,0,d,0,0,0,0,1);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(b){void 0===a&&(a=new Z.Object3D);a.lookAt(b);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var b=a.geometry;if(a instanceof Z.Points||a instanceof Z.Line){a=new Z.Float32Attribute(3*b.vertices.length,3);var c=new Z.Float32Attribute(3*b.colors.length,3);this.addAttribute("position",eg(a,b.vertices));this.addAttribute("color",hg(c,b.colors));b.lineDistances&&b.lineDistances.length===b.vertices.length&&(a=new Z.Float32Attribute(b.lineDistances.length,1),this.addAttribute("lineDistance",
ig(a,b.lineDistances)));null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a instanceof Z.Mesh&&b instanceof Z.Geometry&&this.fromGeometry(b);return this},updateFromObject:function(a){var b=a.geometry;if(a instanceof Z.Mesh){var c=b.__directGeometry;if(void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;
c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;b.verticesNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void 0!==c&&(eg(c,b.vertices),c.needsUpdate=!0),b.verticesNeedUpdate=!1);!0===b.normalsNeedUpdate&&(c=this.attributes.normal,void 0!==c&&(eg(c,b.normals),c.needsUpdate=!0),b.normalsNeedUpdate=!1);!0===b.colorsNeedUpdate&&(c=this.attributes.color,void 0!==c&&(hg(c,
b.colors),c.needsUpdate=!0),b.colorsNeedUpdate=!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void 0!==c&&(fg(c,b.uvs),c.needsUpdate=!0),b.uvsNeedUpdate=!1);b.lineDistancesNeedUpdate&&(c=this.attributes.lineDistance,void 0!==c&&(ig(c,b.lineDistances),c.needsUpdate=!0),b.lineDistancesNeedUpdate=!1);b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new Z.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},
fromDirectGeometry:function(a){this.addAttribute("position",eg(new Z.BufferAttribute(new Float32Array(3*a.vertices.length),3),a.vertices));0<a.normals.length&&this.addAttribute("normal",eg(new Z.BufferAttribute(new Float32Array(3*a.normals.length),3),a.normals));0<a.colors.length&&this.addAttribute("color",hg(new Z.BufferAttribute(new Float32Array(3*a.colors.length),3),a.colors));0<a.uvs.length&&this.addAttribute("uv",fg(new Z.BufferAttribute(new Float32Array(2*a.uvs.length),2),a.uvs));0<a.uvs2.length&&
this.addAttribute("uv2",fg(new Z.BufferAttribute(new Float32Array(2*a.uvs2.length),2),a.uvs2));0<a.indices.length&&this.setIndex(gg(new Z.BufferAttribute(new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),1),a.indices));this.groups=a.groups;for(var b in a.morphTargets){for(var c=[],d=a.morphTargets[b],e=0,f=d.length;e<f;e++){var g=d[e],k=new Z.Float32Attribute(3*g.length,3);c.push(eg(k,g))}this.morphAttributes[b]=c}0<a.skinIndices.length&&(b=new Z.Float32Attribute(4*a.skinIndices.length,
4),this.addAttribute("skinIndex",dg(b,a.skinIndices)));0<a.skinWeights.length&&(b=new Z.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",dg(b,a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Z.Box3);var a=this.attributes.position.array;void 0!==a?Vf(this.boundingBox,a):this.boundingBox.makeEmpty();
(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new Z.Box3,b=new Z.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new Z.Sphere);var c=this.attributes.position.array;if(c){var d=this.boundingSphere.center;Vf(a,c);a.center(d);for(var e=
0,f=0,g=c.length;f<g;f+=3)b.fromArray(c,f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",
new Z.BufferAttribute(new Float32Array(d.length),3));else for(var e=b.normal.array,f=0,g=e.length;f<g;f++)e[f]=0;var e=b.normal.array,k=new Z.Vector3,l=new Z.Vector3,m=new Z.Vector3,n=new Z.Vector3,q=new Z.Vector3;if(a){a=a.array;0===c.length&&this.addGroup(0,a.length);for(var p=0,t=c.length;p<t;++p){f=c[p];g=f.start;var r=f.count;f=g;for(g+=r;f<g;f+=3){r=3*a[f+0];var v=3*a[f+1];var w=3*a[f+2];k.fromArray(d,r);l.fromArray(d,v);m.fromArray(d,w);n.subVectors(m,l);q.subVectors(k,l);n.cross(q);e[r]+=
n.x;e[r+1]+=n.y;e[r+2]+=n.z;e[v]+=n.x;e[v+1]+=n.y;e[v+2]+=n.z;e[w]+=n.x;e[w+1]+=n.y;e[w+2]+=n.z}}}else for(f=0,g=d.length;f<g;f+=9)k.fromArray(d,f),l.fromArray(d,f+3),m.fromArray(d,f+6),n.subVectors(m,l),q.subVectors(k,l),n.cross(q),e[f]=n.x,e[f+1]=n.y,e[f+2]=n.z,e[f+3]=n.x,e[f+4]=n.y,e[f+5]=n.z,e[f+6]=n.x,e[f+7]=n.y,e[f+8]=n.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===a instanceof Z.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,k=0,f=f.itemSize*b;k<g.length;k++,f++)e[f]=g[k];return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),
this;var a=new Z.BufferGeometry,b=this.index.array,c=this.attributes,d;for(d in c){for(var e=c[d],f=e.array,e=e.itemSize,g=new f.constructor(b.length*e),k,l=0,m=0,n=b.length;m<n;m++){k=b[m]*e;for(var q=0;q<e;q++)g[l++]=f[k++]}a.addAttribute(d,new Z.BufferAttribute(g,e))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var b=this.parameters;
for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(b=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:b});var e=this.attributes;for(c in e)d=e[c],b=Array.prototype.slice.call(d.array),a.data.attributes[c]={itemSize:d.itemSize,type:d.array.constructor.name,array:b,normalized:d.normalized};c=this.groups;0<c.length&&(a.data.groups=JSON.parse(JSON.stringify(c)));c=this.boundingSphere;null!==c&&(a.data.boundingSphere=
{center:c.center.toArray(),radius:c.radius});return a},clone:function(){return(new Z.BufferGeometry).copy(this)},copy:function(a){var b=a.index;null!==b&&this.setIndex(b.clone());var b=a.attributes;for(c in b)this.addAttribute(c,b[c].clone());a=a.groups;var c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Z.BufferGeometry.MaxIndex=65535;
Z.InstancedBufferGeometry=function(){Z.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};Z.InstancedBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.InstancedBufferGeometry.prototype.constructor=Z.InstancedBufferGeometry;Z.InstancedBufferGeometry.prototype.addGroup=function(a,b,c){this.groups.push({start:a,count:b,instances:c})};
Z.InstancedBufferGeometry.prototype.copy=function(a){var b=a.index;null!==b&&this.setIndex(b.clone());var b=a.attributes;for(c in b)this.addAttribute(c,b[c].clone());a=a.groups;var c=0;for(b=a.length;c<b;c++){var d=a[c];this.addGroup(d.start,d.count,d.instances)}return this};Z.Uniform=function(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a;this.dynamic=!1};
Z.Uniform.prototype={constructor:Z.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};Z.AnimationAction=function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};
Z.AnimationAction._new=function(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:Z.ZeroCurvatureEnding,endingEnd:Z.ZeroCurvatureEnding},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=Z.LoopRepeat;this._loopCount=-1;this._startTime=
null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};
Z.AnimationAction._new.prototype={constructor:Z.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return jg(kg(this))},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},
startAt:function(a){this._startTime=a;return this},setLoop:function(a,b){this.loop=a;this.repetitions=b;return this},setEffectiveWeight:function(a){this.weight=a;this._effectiveWeight=this.enabled?a:0;return kg(this)},getEffectiveWeight:function(){return this._effectiveWeight},crossFadeTo:function(a,b,c){lg(this,b,1,0);lg(a,b,0,1);if(c){c=a._clip.duration;var d=this._clip.duration,e=c/d;mg(this,1,d/c,b);mg(a,e,1,b)}return a},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=
this.paused?0:a;return jg(this)},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return jg(this)},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return jg(this)},halt:function(a){return mg(this,this._effectiveTimeScale,0,a)},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){var e=this._startTime;
if(null!==e){b=(a-e)*c;if(0>b||0===c)return;this._startTime=null;b*=c}c=b;b=0;if(!this.paused&&(b=this.timeScale,e=this._timeScaleInterpolant,null!==e)){var f=e.evaluate(a)[0];b*=f;a>e.parameterPositions[1]&&(jg(this),0===b?this.paused=!0:this.timeScale=b)}this._effectiveTimeScale=b;a:if(f=c*b,c=this.time+f,0!==f){b=this._clip.duration;var g=this.loop,e=this._loopCount;if(g===Z.LoopOnce)b:{if(-1===e&&(this.loopCount=0,ng(this,!0,!0,!1)),c>=b)c=b;else if(0>c)c=0;else break b;this.clampWhenFinished?
this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>f?-1:1})}else{g=g===Z.LoopPingPong;-1===e&&(0<=f?(e=0,ng(this,!0,0===this.repetitions,g)):ng(this,0===this.repetitions,!0,g));if(c>=b||0>c){var k=Math.floor(c/b);c-=b*k;var e=e+Math.abs(k),l=this.repetitions-e;0>l?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<f?b:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<f?1:-1})):(0===l?(f=0>f,ng(this,f,!f,g)):ng(this,!1,!1,g),
this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:k}))}if(g&&1===(e&1)){this.time=c;c=b-c;break a}}this.time=c}b=0;this.enabled&&(b=this.weight,e=this._weightInterpolant,null!==e&&(f=e.evaluate(a)[0],b*=f,a>e.parameterPositions[1]&&(kg(this),0===f&&(this.enabled=!1))));a=this._effectiveWeight=b;if(0<a)for(b=this._interpolants,e=this._propertyBindings,f=0,g=b.length;f!==g;++f){b[f].evaluate(c);var k=e[f],l=a,m=k.buffer,n=k.valueSize,q=d*n+n,p=k.cumulativeWeight;if(0===
p){for(p=0;p!==n;++p)m[q+p]=m[p];p=l}else p+=l,k._mixBufferRegion(m,q,0,l/p,n);k.cumulativeWeight=p}}};function lg(a,b,c,d){var e=a._mixer,f=e.time,g=a._weightInterpolant;null===g&&(g=e._lendControlInterpolant(),a._weightInterpolant=g);a=g.parameterPositions;g=g.sampleValues;a[0]=f;g[0]=c;a[1]=f+b;g[1]=d}
function ng(a,b,c,d){var e=a._interpolantSettings;d?(e.endingStart=Z.ZeroSlopeEnding,e.endingEnd=Z.ZeroSlopeEnding):(e.endingStart=b?a.zeroSlopeAtStart?Z.ZeroSlopeEnding:Z.ZeroCurvatureEnding:Z.WrapAroundEnding,e.endingEnd=c?a.zeroSlopeAtEnd?Z.ZeroSlopeEnding:Z.ZeroCurvatureEnding:Z.WrapAroundEnding)}function jg(a){var b=a._timeScaleInterpolant;null!==b&&(a._timeScaleInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
function mg(a,b,c,d){var e=a._mixer,f=e.time,g=a._timeScaleInterpolant,k=a.timeScale;null===g&&(g=e._lendControlInterpolant(),a._timeScaleInterpolant=g);e=g.parameterPositions;g=g.sampleValues;e[0]=f;e[1]=f+d;g[0]=b/k;g[1]=c/k;return a}function kg(a){var b=a._weightInterpolant;null!==b&&(a._weightInterpolant=null,a._mixer._takeBackControlInterpolant(b));return a}
Z.AnimationClip=function(a,b,c){this.name=a;this.tracks=c;this.duration=void 0!==b?b:-1;this.uuid=Z.Math.generateUUID();if(0>this.duration){b=a=0;for(c=this.tracks.length;b!==c;++b){var d=this.tracks[b];a=Math.max(a,d.times[d.times.length-1])}this.duration=a}this.trim();this.optimize()};
Z.AnimationClip.prototype={constructor:Z.AnimationClip,trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};
Object.assign(Z.AnimationClip,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(Z.KeyframeTrack.parse(c[e]).scale(d));return new Z.AnimationClip(a.name,a.duration,b)},toJSON:function(a){var b=[],c=a.tracks;a={name:a.name,duration:a.duration,tracks:b};for(var d=0,e=c.length;d!==e;++d)b.push(Z.KeyframeTrack.toJSON(c[d]));return a},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var k=[],l=[];k.push((g+e-1)%e,g,(g+1)%e);l.push(0,
1,0);var m=Z.AnimationUtils.getKeyframeOrder(k),k=Z.AnimationUtils.sortedArray(k,1,m),l=Z.AnimationUtils.sortedArray(l,1,m);d||0!==k[0]||(k.push(e),l.push(l[0]));f.push((new Z.NumberKeyframeTrack(".morphTargetInfluences["+b[g].name+"]",k,l)).scale(1/c))}return new Z.AnimationClip(a,-1,f)},findByName:function(a,b){var c=a;Array.isArray(a)||(c=a.geometry&&a.geometry.animations||a.animations);for(a=0;a<c.length;a++)if(c[a].name===b)return c[a];return null},CreateClipsFromMorphTargetSequences:function(a,
b,c){for(var d,e,f={},g=/^([\w-]*?)([\d]+)$/,k=0,l=a.length;k<l;k++){var m=a[k];(d=m.name.match(g))&&1<d.length&&(e=d[1],(d=f[e])||(f[e]=d=[]),d.push(m))}a=[];for(e in f)a.push(Z.AnimationClip.CreateFromMorphTargetSequence(e,f[e],b,c));return a},parseAnimation:function(a,b){function c(a,b,c,d,e){if(0!==c.length){var f=[],g=[];Z.AnimationUtils.flattenJSON(c,f,g,d);0!==f.length&&e.push(new a(b,f,g))}}if(!a)return console.error("  no animation in JSONLoader data"),null;var d=[],e=a.name||"default",f=
a.length||-1,g=a.fps||30;a=a.hierarchy||[];for(var k=0;k<a.length;k++){var l=a[k].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var f={},m=0;m<l.length;m++)if(l[m].morphTargets)for(var n=0;n<l[m].morphTargets.length;n++)f[l[m].morphTargets[n]]=-1;for(var q in f){for(var p=[],t=[],n=0;n!==l[m].morphTargets.length;++n){var r=l[m];p.push(r.time);t.push(r.morphTarget===q?1:0)}d.push(new Z.NumberKeyframeTrack(".morphTargetInfluence["+q+"]",p,t))}f=f.length*(g||1)}else m=".bones["+b[k].name+"]",c(Z.VectorKeyframeTrack,
m+".position",l,"pos",d),c(Z.QuaternionKeyframeTrack,m+".quaternion",l,"rot",d),c(Z.VectorKeyframeTrack,m+".scale",l,"scl",d)}return 0===d.length?null:new Z.AnimationClip(e,f,d)}});Z.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};
Object.assign(Z.AnimationMixer.prototype,Z.EventDispatcher.prototype,{clipAction:function(a,b){var c=b||this._root,d=c.uuid,c="string"===typeof a?Z.AnimationClip.findByName(c,a):a;a=null!==c?c.uuid:a;var e=this._actionsByClip[a],f=null;if(void 0!==e){f=e.actionByRoot[d];if(void 0!==f)return f;f=e.knownActions[0];null===c&&(c=f._clip)}if(null===c)return null;b=new Z.AnimationMixer._Action(this,c,b);this._bindAction(b,f);this._addInactiveAction(b,a,d);return b},existingAction:function(a,b){var c=b||
this._root;b=c.uuid;c="string"===typeof a?Z.AnimationClip.findByName(c,a):a;a=this._actionsByClip[c?c.uuid:a];return void 0!==a?a.actionByRoot[b]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),
f=this._accuIndex^=1,g=0;g!==c;++g){var k=b[g];k.enabled&&k._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){for(var d=d.knownActions,e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var k=g._cacheIndex,l=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;l._cacheIndex=k;b[k]=l;b.pop();
this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip;for(d in b){var c=b[d].actionByRoot[a];void 0!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}var d=this._bindingsByRootAndName[a];if(void 0!==d)for(var e in d)a=d[e],a.binding.setValue(a.buffer,3*a.valueSize),this._removeInactiveBinding(a)},uncacheAction:function(a,b){a=this.existingAction(a,b);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}});
Z.AnimationMixer._Action=Z.AnimationAction._new;
Object.assign(Z.AnimationMixer.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings;a=a._interpolants;var g=c.uuid,k=this._bindingsByRootAndName,l=k[g];void 0===l&&(l={},k[g]=l);for(k=0;k!==e;++k){var m=d[k],n=m.name,q=l[n];if(void 0===q){q=f[k];if(void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,g,n));continue}q=new Z.PropertyMixer(Z.PropertyBinding.create(c,n,b&&b._propertyBindings[k].binding.parsedPath),
m.ValueTypeName,og(m));++q.referenceCount;this._addInactiveBinding(q,g,n)}f[k]=q;a[k].resultBuffer=q.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];if(0===e.useCount++){this._lendBinding(e);var f=e.buffer,g=e.valueSize,k=3*g;e.binding.getValue(f,
k);for(var l=g;l!==k;++l)f[l]=f[k+l%g];e.cumulativeWeight=0}}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.binding.setValue(e.buffer,3*e.valueSize),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=
this._actionsByClip,f=e[b];void 0===f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;var c=a._clip.uuid,d=this._actionsByClip,e=d[c],f=e.knownActions,g=f[f.length-1],k=a._byClipCacheIndex;g._byClipCacheIndex=k;f[k]=g;f.pop();a._byClipCacheIndex=
null;delete e.actionByRoot[(b._localRoot||this._root).uuid];0===f.length&&delete d[c];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var b=0,c=a.length;b!==c;++b){var d=a[b];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=
--this._nActiveActions,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e);e[c]=a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid,c=c.path,e=this._bindingsByRootAndName,f=e[d],g=b[b.length-1];a=a._cacheIndex;g._cacheIndex=a;b[a]=g;b.pop();delete f[c];a:{for(var k in f)break a;delete e[d]}},_lendBinding:function(a){var b=
this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void 0===c&&(c=new Z.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=
b,a[b]=c);return c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d;b[d]=a;e.__cacheIndex=c;b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1)});
Z.AnimationObjectGroup=function(a){this.uuid=Z.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}};
Z.AnimationObjectGroup.prototype={constructor:Z.AnimationObjectGroup,add:function(a){for(var b,c,d=this._objects,e=d.length,f=this.nCachedObjects_,g=this._indicesByUUID,k=this._paths,l=this._parsedPaths,m=this._bindings,n=m.length,q=0,p=arguments.length;q!==p;++q){var t=arguments[q],r=t.uuid;b=g[r];if(void 0===b){b=e++;g[r]=b;d.push(t);for(var r=0,v=n;r!==v;++r)m[r].push(new Z.PropertyBinding(t,k[r],l[r]))}else if(b<f){c=d[b];var w=--f,v=d[w];g[v.uuid]=b;d[b]=v;g[r]=w;d[w]=t;r=0;for(v=n;r!==v;++r){var z=
m[r],y=z[b];z[b]=z[w];void 0===y&&(y=new Z.PropertyBinding(t,k[r],l[r]));z[w]=y}}else d[b]!==c&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=f},remove:function(a){for(var b=this._objects,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,k=arguments.length;g!==k;++g){var l=arguments[g],m=l.uuid,n=d[m];if(void 0!==n&&n>=c){var q=c++,p=b[q];d[p.uuid]=n;b[n]=p;d[m]=
q;b[q]=l;l=0;for(m=f;l!==m;++l){var p=e[l],t=p[n];p[n]=p[q];p[q]=t}}}this.nCachedObjects_=c},uncache:function(a){for(var b,c,d=this._objects,e=d.length,f=this.nCachedObjects_,g=this._indicesByUUID,k=this._bindings,l=k.length,m=0,n=arguments.length;m!==n;++m){c=arguments[m].uuid;var q=g[c];if(void 0!==q)if(delete g[c],q<f){var p=--f,t=d[p];c=--e;b=d[c];g[t.uuid]=q;d[q]=t;g[b.uuid]=p;d[p]=b;d.pop();for(var t=0,r=l;t!==r;++t){b=k[t];var v=b[c];b[q]=b[p];b[p]=v;b.pop()}}else for(c=--e,b=d[c],g[b.uuid]=
q,d[q]=b,d.pop(),t=0,r=l;t!==r;++t)b=k[t],b[q]=b[c],b.pop()}this.nCachedObjects_=f},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,k=f[g];b[a[g]]=c;f[c]=k;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};
Z.AnimationUtils={arraySlice:function(a,b,c){return Z.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"===typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var b=a.length,c=Array(b),d=0;d!==b;++d)c[d]=d;c.sort(function(b,c){return a[b]-a[c]});return c},sortedArray:function(a,
b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var k=c[f]*b,l=0;l!==b;++l)e[g++]=a[k+l];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g)){do g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)}else if(void 0!==g.toArray){do g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)}else{do g=f[d],void 0!==g&&(b.push(f.time),
c.push(g)),f=a[e++];while(void 0!==f)}}}};Z.KeyframeTrack=function(a,b,c,d){if(void 0===a)throw Error("track name is undefined");if(void 0===b||0===b.length)throw Error("no keyframes in track named "+a);this.name=a;this.times=Z.AnimationUtils.convertArray(b,this.TimeBufferType);this.values=Z.AnimationUtils.convertArray(c,this.ValueBufferType);pg(this,d||this.DefaultInterpolation);this.validate();this.optimize()};
Z.KeyframeTrack.prototype={constructor:Z.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Z.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new Z.DiscreteInterpolant(this.times,this.values,og(this),a)},InterpolantFactoryMethodLinear:function(a){return new Z.LinearInterpolant(this.times,this.values,og(this),a)},InterpolantFactoryMethodSmooth:function(a){return new Z.CubicInterpolant(this.times,this.values,og(this),a)},shift:function(a){if(0!==
a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),a=og(this),this.times=Z.AnimationUtils.arraySlice(c,e,f),this.values=Z.AnimationUtils.arraySlice(this.values,e*a,f*a);return this},validate:function(){var a=!0,b=og(this);0!==b-Math.floor(b)&&
(console.error("invalid value size in track",this),a=!1);var c=this.times,b=this.values,d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&Z.AnimationUtils.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",
this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=og(this),d=1,e=1,f=a.length-1;e<=f;++e){var g=!1,k=a[e];if(k!==a[e+1]&&(1!==e||k!==k[0]))for(var l=e*c,m=l-c,n=l+c,k=0;k!==c;++k){var q=b[l+k];if(q!==b[m+k]||q!==b[n+k]){g=!0;break}}if(g){if(e!==d)for(a[d]=a[e],g=e*c,l=d*c,k=0;k!==c;++k)b[l+k]=b[g+k];++d}}d!==a.length&&(this.times=Z.AnimationUtils.arraySlice(a,0,d),this.values=Z.AnimationUtils.arraySlice(b,0,d*c));return this}};
function og(a){return a.values.length/a.times.length}
function pg(a,b){switch(b){case Z.InterpolateDiscrete:var c=a.InterpolantFactoryMethodDiscrete;break;case Z.InterpolateLinear:c=a.InterpolantFactoryMethodLinear;break;case Z.InterpolateSmooth:c=a.InterpolantFactoryMethodSmooth}if(void 0===c){c="unsupported interpolation for "+a.ValueTypeName+" keyframe track named "+a.name;if(void 0===a.createInterpolant)if(b!==a.DefaultInterpolation)pg(a,a.DefaultInterpolation);else throw Error(c);console.warn(c)}else a.createInterpolant=c}
Object.assign(Z.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var b=Z.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];Z.AnimationUtils.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b=a.constructor;if(void 0!==b.toJSON)b=b.toJSON(a);else{var b={name:a.name,times:Z.AnimationUtils.convertArray(a.times,
Array),values:Z.AnimationUtils.convertArray(a.values,Array)};a:{switch(a.createInterpolant){case a.InterpolantFactoryMethodDiscrete:var c=Z.InterpolateDiscrete;break a;case a.InterpolantFactoryMethodLinear:c=Z.InterpolateLinear;break a;case a.InterpolantFactoryMethodSmooth:c=Z.InterpolateSmooth;break a}c=void 0}c!==a.DefaultInterpolation&&(b.interpolation=c)}b.type=a.ValueTypeName;return b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return Z.NumberKeyframeTrack;
case "vector":case "vector2":case "vector3":case "vector4":return Z.VectorKeyframeTrack;case "color":return Z.ColorKeyframeTrack;case "quaternion":return Z.QuaternionKeyframeTrack;case "bool":case "boolean":return Z.BooleanKeyframeTrack;case "string":return Z.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});
Z.PropertyBinding=function(a,b,c){this.path=b;this.parsedPath=c||Z.PropertyBinding.parseTrackName(b);this.node=Z.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};
Z.PropertyBinding.prototype={constructor:Z.PropertyBinding,getValue:function(a,b){this.bind();this.getValue(a,b)},setValue:function(a,b){this.bind();this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=Z.PropertyBinding.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var f=b.objectIndex;switch(c){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",
this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void 0===a[c]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[c]}if(void 0!==f){if(void 0===
a[f]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[f]}}if(f=a[d]){b=this.Versioning.None;void 0!==a.needsUpdate?(b=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(b=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);c=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",
this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(c=0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else void 0!==f.fromArray&&void 0!==f.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=f):void 0!==f.length?(c=this.BindingType.EntireArray,this.resolvedProperty=
f):this.propertyName=d;this.getValue=this.GetterByBindingType[c];this.setValue=this.SetterByBindingTypeAndVersioning[c][b]}else console.error("  trying to update property for track: "+b.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};
Object.assign(Z.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Z.PropertyBinding.prototype.getValue,_setValue_unbound:Z.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},
function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,
d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,
b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});
Z.PropertyBinding.Composite=function(a,b,c){c=c||Z.PropertyBinding.parseTrackName(b);this._targetGroup=a;var d=a._bindingsIndicesByPath,e=d[b],f=a._bindings;if(void 0!==e)b=f[e];else{var g=a._paths,k=a._parsedPaths,l=a._objects,m=a.nCachedObjects_;a=Array(l.length);e=f.length;d[b]=e;g.push(b);k.push(c);f.push(a);d=m;for(e=l.length;d!==e;++d)a[d]=new Z.PropertyBinding(l[d],b,c);b=a}this._bindings=b};
Z.PropertyBinding.Composite.prototype={constructor:Z.PropertyBinding.Composite,getValue:function(a,b){this.bind();var c=this._bindings[this._targetGroup.nCachedObjects_];void 0!==c&&c.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,
c=a.length;b!==c;++b)a[b].unbind()}};Z.PropertyBinding.create=function(a,b,c){return a instanceof Z.AnimationObjectGroup?new Z.PropertyBinding.Composite(a,b,c):new Z.PropertyBinding(a,b,c)};
Z.PropertyBinding.parseTrackName=function(a){var b=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,c=b.exec(a);if(!c)throw Error("cannot parse trackName at all: "+a);c.index===b.lastIndex&&b.lastIndex++;b={nodeName:c[3],objectName:c[5],objectIndex:c[7],propertyName:c[9],propertyIndex:c[11]};if(null===b.propertyName||0===b.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return b};
Z.PropertyBinding.findNode=function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=function(a){for(var c=0;c<a.bones.length;c++){var d=a.bones[c];if(d.name===b)return d}return null}(a.skeleton);if(c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b)return e;if(e=d(e.children))return e}return null};if(a=d(a.children))return a}return null};
Z.PropertyMixer=function(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0};
Z.PropertyMixer.prototype={constructor:Z.PropertyMixer,apply:function(a){var b=this.valueSize,c=this.buffer;a=a*b+b;var d=this.cumulativeWeight,e=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(c,a,3*b,1-d,b);for(var d=b,f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d){Z.Quaternion.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var k=b+g;a[k]=a[k]*
f+a[c+g]*d}}};Z.BooleanKeyframeTrack=function(a,b,c){Z.KeyframeTrack.call(this,a,b,c)};Z.BooleanKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Z.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Z.ColorKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.ColorKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.ColorKeyframeTrack,ValueTypeName:"color"});Z.NumberKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};Z.NumberKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.NumberKeyframeTrack,ValueTypeName:"number"});Z.QuaternionKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:Z.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new Z.QuaternionLinearInterpolant(this.times,this.values,og(this),a)},InterpolantFactoryMethodSmooth:void 0});Z.StringKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};
Z.StringKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Z.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});Z.VectorKeyframeTrack=function(a,b,c,d){Z.KeyframeTrack.call(this,a,b,c,d)};Z.VectorKeyframeTrack.prototype=Object.assign(Object.create(Z.KeyframeTrack.prototype),{constructor:Z.VectorKeyframeTrack,ValueTypeName:"vector"});
Z.Audio=function(a){Z.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};
Z.Audio.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});Z.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};
Object.assign(Z.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}});Object.defineProperty(Z,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});
Z.PositionalAudio=function(a){Z.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};
Z.PositionalAudio.prototype=Object.assign(Object.create(Z.Audio.prototype),{constructor:Z.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},
setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new Z.Vector3;return function(b){Z.Object3D.prototype.updateMatrixWorld.call(this,b);Qf(a,this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});Z.AudioListener=function(){Z.Object3D.call(this);this.type="AudioListener";this.context=Z.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};
Z.AudioListener.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):
this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=a},updateMatrixWorld:function(){var a=new Z.Vector3,b=new Z.Quaternion,c=new Z.Vector3,d=new Z.Vector3;return function(e){Z.Object3D.prototype.updateMatrixWorld.call(this,e);e=this.context.listener;var f=this.up;this.matrixWorld.decompose(a,b,c);Mf(d.set(0,
0,-1),b);e.setPosition(a.x,a.y,a.z);e.setOrientation(d.x,d.y,d.z,f.x,f.y,f.z)}}()});Z.Camera=function(){Z.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new Z.Matrix4;this.projectionMatrix=new Z.Matrix4};Z.Camera.prototype=Object.create(Z.Object3D.prototype);h=Z.Camera.prototype;h.constructor=Z.Camera;h.getWorldDirection=function(){var a=new Z.Quaternion;return function(b){b=b||new Z.Vector3;this.getWorldQuaternion(a);return Mf(b.set(0,0,-1),a)}}();
h.lookAt=function(){var a=new Z.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();h.clone=function(){return(new this.constructor).copy(this)};h.copy=function(a){Z.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};
Z.CubeCamera=function(a,b,c){Z.Object3D.call(this);this.type="CubeCamera";var d=new Z.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new Z.Vector3(1,0,0));this.add(d);var e=new Z.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new Z.Vector3(-1,0,0));this.add(e);var f=new Z.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new Z.Vector3(0,1,0));this.add(f);var g=new Z.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new Z.Vector3(0,-1,0));this.add(g);var k=new Z.PerspectiveCamera(90,
1,a,b);k.up.set(0,-1,0);k.lookAt(new Z.Vector3(0,0,1));this.add(k);var l=new Z.PerspectiveCamera(90,1,a,b);l.up.set(0,-1,0);l.lookAt(new Z.Vector3(0,0,-1));this.add(l);this.renderTarget=new Z.WebGLRenderTargetCube(c,c,{format:Z.RGBFormat,magFilter:Z.LinearFilter,minFilter:Z.LinearFilter});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,m=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=
1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,k,c);c.texture.generateMipmaps=m;c.activeCubeFace=5;a.render(b,l,c);a.setRenderTarget(null)}};Z.CubeCamera.prototype=Object.create(Z.Object3D.prototype);Z.CubeCamera.prototype.constructor=Z.CubeCamera;
Z.OrthographicCamera=function(a,b,c,d,e,f){Z.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};
Z.OrthographicCamera.prototype=Object.assign(Object.create(Z.Camera.prototype),{constructor:Z.OrthographicCamera,copy:function(a){Z.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a,a=c+a,c=d+b,b=d-b,d=this.near,
f=this.far,g=this.projectionMatrix.elements,k=1/(a-e),l=1/(c-b),m=1/(f-d);g[0]=2*k;g[4]=0;g[8]=0;g[12]=-((a+e)*k);g[1]=0;g[5]=2*l;g[9]=0;g[13]=-((c+b)*l);g[2]=0;g[6]=0;g[10]=-2*m;g[14]=-((f+d)*m);g[3]=0;g[7]=0;g[11]=0;g[15]=1},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});
Z.PerspectiveCamera=function(a,b,c,d){Z.Camera.call(this);this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==b?b:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};
Z.PerspectiveCamera.prototype=Object.assign(Object.create(Z.Camera.prototype),{constructor:Z.PerspectiveCamera,copy:function(a){Z.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){this.fov=2*Z.Math.RAD2DEG*Math.atan(.5*this.getFilmHeight()/a);this.updateProjectionMatrix()},
getFocalLength:function(){return.5*this.getFilmHeight()/Math.tan(.5*Z.Math.DEG2RAD*this.fov)},getEffectiveFOV:function(){return 2*Z.Math.RAD2DEG*Math.atan(Math.tan(.5*Z.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},
clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*Z.Math.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==f)var g=f.fullWidth,k=f.fullHeight,e=e+f.offsetX*d/g,b=b-f.offsetY*c/k,d=f.width/g*d,c=f.height/k*c;f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());Xf(this.projectionMatrix,e,e+d,b-c,b,a,this.far)},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.fov=
this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return a}});
Z.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new Z.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new Z.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};
Object.assign(Z.StereoCamera.prototype,{update:function(){var a,b,c,d,e,f=new Z.Matrix4,g=new Z.Matrix4;return function(k){if(a!==k.focus||b!==k.fov||c!==k.aspect*this.aspect||d!==k.near||e!==k.far){a=k.focus;b=k.fov;c=k.aspect*this.aspect;d=k.near;e=k.far;var l=k.projectionMatrix.clone(),m=.032*d/a,n=d*Math.tan(Z.Math.DEG2RAD*b*.5);g.elements[12]=-.032;f.elements[12]=.032;var q=-n*c+m;var p=n*c+m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraL.projectionMatrix.copy(l);q=-n*c-m;p=n*
c-m;l.elements[0]=2*d/(p-q);l.elements[8]=(p+q)/(p-q);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(k.matrixWorld).multiply(g);this.cameraR.matrixWorld.copy(k.matrixWorld).multiply(f)}}()});Z.Light=function(a,b){Z.Object3D.call(this);this.type="Light";this.color=new Z.Color(a);this.intensity=void 0!==b?b:1;this.receiveShadow=void 0};
Z.Light.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Light,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.color=Hf(this.color);a.object.intensity=this.intensity;void 0!==this.groundColor&&(a.object.groundColor=Hf(this.groundColor));void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=
this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});Z.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new Z.Vector2(512,512);this.map=null;this.matrix=new Z.Matrix4};Object.assign(Z.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});
Z.AmbientLight=function(a,b){Z.Light.call(this,a,b);this.type="AmbientLight";this.castShadow=void 0};Z.AmbientLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.AmbientLight});Z.DirectionalLight=function(a,b){Z.Light.call(this,a,b);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new Z.Object3D;this.shadow=new Z.DirectionalLightShadow};
Z.DirectionalLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.DirectionalLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Z.DirectionalLightShadow=function(){Z.LightShadow.call(this,new Z.OrthographicCamera(-5,5,5,-5,.5,500))};Z.DirectionalLightShadow.prototype=Object.assign(Object.create(Z.LightShadow.prototype),{constructor:Z.DirectionalLightShadow});
Z.HemisphereLight=function(a,b,c){Z.Light.call(this,a,c);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new Z.Color(b)};Z.HemisphereLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.HemisphereLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});
Z.PointLight=function(a,b,c,d){Z.Light.call(this,a,b);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1;this.shadow=new Z.LightShadow(new Z.PerspectiveCamera(90,1,.5,500))};
Z.PointLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.PointLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});
Z.SpotLight=function(a,b,c,d,e,f){Z.Light.call(this,a,b);this.type="SpotLight";this.position.set(0,1,0);this.updateMatrix();this.target=new Z.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==e?e:0;this.decay=void 0!==f?f:1;this.shadow=new Z.SpotLightShadow};
Z.SpotLight.prototype=Object.assign(Object.create(Z.Light.prototype),{constructor:Z.SpotLight,copy:function(a){Z.Light.prototype.copy.call(this,a);this.distance=a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});Z.SpotLightShadow=function(){Z.LightShadow.call(this,new Z.PerspectiveCamera(50,1,.5,500))};
Z.SpotLightShadow.prototype=Object.assign(Object.create(Z.LightShadow.prototype),{constructor:Z.SpotLightShadow,update:function(a){var b=2*Z.Math.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(b!==d.fov||c!==d.aspect||a!==d.far)d.fov=b,d.aspect=c,d.far=a,d.updateProjectionMatrix()}});Z.AudioLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.AudioLoader.prototype={constructor:Z.AudioLoader,load:function(a,b,c,d){var e=new Z.XHRLoader(this.manager);qg(e);e.load(a,function(a){Z.AudioContext.decodeAudioData(a,function(a){b(a)})},c,d)}};Z.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
Z.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
Z.Loader.prototype={constructor:Z.Loader,crossOrigin:void 0,createMaterial:function(){var a,b,c;return function(d,e,f){function g(a,c,d,g,l){a=e+a;var m=Z.Loader.Handlers.get(a);null!==m?a=m.load(a):(b.setCrossOrigin(f),a=b.load(a));void 0!==c&&(a.repeat.fromArray(c),1!==c[0]&&(a.wrapS=Z.RepeatWrapping),1!==c[1]&&(a.wrapT=Z.RepeatWrapping));void 0!==d&&a.offset.fromArray(d);void 0!==g&&("repeat"===g[0]&&(a.wrapS=Z.RepeatWrapping),"mirror"===g[0]&&(a.wrapS=Z.MirroredRepeatWrapping),"repeat"===g[1]&&
(a.wrapT=Z.RepeatWrapping),"mirror"===g[1]&&(a.wrapT=Z.MirroredRepeatWrapping));void 0!==l&&(a.anisotropy=l);c=Z.Math.generateUUID();k[c]=a;return c}void 0===a&&(a=new Z.Color);void 0===b&&(b=new Z.TextureLoader);void 0===c&&(c=new Z.MaterialLoader);var k={},l={uuid:Z.Math.generateUUID(),type:"MeshLambertMaterial"},m;for(m in d){var n=d[m];switch(m){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":l.name=n;break;case "blending":l.blending=Z[n];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",
m,"is no longer supported.");break;case "colorDiffuse":l.color=Hf(a.fromArray(n));break;case "colorSpecular":l.specular=Hf(a.fromArray(n));break;case "colorEmissive":l.emissive=Hf(a.fromArray(n));break;case "specularCoef":l.shininess=n;break;case "shading":"basic"===n.toLowerCase()&&(l.type="MeshBasicMaterial");"phong"===n.toLowerCase()&&(l.type="MeshPhongMaterial");break;case "mapDiffuse":l.map=g(n,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":l.lightMap=g(n,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":l.aoMap=g(n,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":l.bumpMap=g(n,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":l.bumpScale=
n;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":l.normalMap=g(n,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":l.normalScale=[n,n];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":l.specularMap=g(n,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":l.alphaMap=g(n,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":l.side=Z.BackSide;break;case "doubleSided":l.side=Z.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");l.opacity=n;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":l[m]=
n;break;case "vertexColors":!0===n&&(l.vertexColors=Z.VertexColors);"face"===n&&(l.vertexColors=Z.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",m,n)}}"MeshBasicMaterial"===l.type&&delete l.emissive;"MeshPhongMaterial"!==l.type&&delete l.specular;1>l.opacity&&(l.transparent=!0);c.textures=k;return c.parse(l)}}()};function rg(a,b,c){for(var d=Z.Loader.prototype,e=[],f=0;f<a.length;++f)e[f]=d.createMaterial(a[f],b,c);return e}
function sg(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"}Z.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c+1];if(b[c].test(a))return e}return null}};Z.XHRLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.XHRLoader.prototype={constructor:Z.XHRLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=Z.Cache.get(a);if(void 0!==f)return b&&setTimeout(function(){b(f)},0),f;var g=new XMLHttpRequest;g.overrideMimeType("text/plain");g.open("GET",a,!0);g.addEventListener("load",function(c){var f=c.target.response;Z.Cache.add(a,f);200===this.status?(b&&b(f),e.manager.itemEnd(a)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),b&&b(f),e.manager.itemEnd(a)):(d&&
d(c),e.manager.itemError(a))},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},!1);void 0!==this.responseType&&(g.responseType=this.responseType);void 0!==this.withCredentials&&(g.withCredentials=this.withCredentials);g.send(null);e.manager.itemStart(a);return g},setPath:function(a){this.path=a}};function qg(a){a.responseType="arraybuffer"}Z.FontLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.FontLoader.prototype={constructor:Z.FontLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(this.manager)).load(a,function(a){try{var c=JSON.parse(a)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),c=JSON.parse(a.substring(65,a.length-2))}a=e.parse(c);b&&b(a)},c,d)},parse:function(a){return new Z.Font(a)}};Z.ImageLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.ImageLoader.prototype={constructor:Z.ImageLoader,load:function(a,b,c,d){void 0!==this.path&&(a=this.path+a);var e=this,f=Z.Cache.get(a);if(void 0!==f)return e.manager.itemStart(a),b?setTimeout(function(){b(f);e.manager.itemEnd(a)},0):e.manager.itemEnd(a),f;var g=document.createElement("img");g.addEventListener("load",function(){Z.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);void 0!==c&&g.addEventListener("progress",function(a){c(a)},!1);g.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},
!1);void 0!==this.crossOrigin&&(g.crossOrigin=this.crossOrigin);e.manager.itemStart(a);g.src=a;return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};Z.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.withCredentials=!1};
Z.JSONLoader.prototype={constructor:Z.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:sg(a),g=new Z.XHRLoader(this.manager);g.withCredentials=this.withCredentials;g.load(a,function(c){c=JSON.parse(c);var d=c.metadata;if(void 0!==
d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}c=e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var c=new Z.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(b){var d,e,k,l=a.faces;var m=a.vertices;var n=
a.normals,q=a.colors,p=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&p++;for(d=0;d<p;d++)c.faceVertexUvs[d]=[]}var t=0;for(k=m.length;t<k;)d=new Z.Vector3,d.x=m[t++]*b,d.y=m[t++]*b,d.z=m[t++]*b,c.vertices.push(d);t=0;for(k=l.length;t<k;){b=l[t++];var r=b&1;var v=b&2;d=b&8;var w=b&16;var z=b&32;m=b&64;b&=128;if(r){r=new Z.Face3;r.a=l[t];r.b=l[t+1];r.c=l[t+3];var y=new Z.Face3;y.a=l[t+1];y.b=l[t+2];y.c=l[t+3];t+=4;v&&(v=l[t++],r.materialIndex=v,y.materialIndex=v);v=c.faces.length;
if(d)for(d=0;d<p;d++){var B=a.uvs[d];c.faceVertexUvs[d][v]=[];c.faceVertexUvs[d][v+1]=[];for(e=0;4>e;e++){var A=l[t++];var D=B[2*A];A=B[2*A+1];D=new Z.Vector2(D,A);2!==e&&c.faceVertexUvs[d][v].push(D);0!==e&&c.faceVertexUvs[d][v+1].push(D)}}w&&(w=3*l[t++],r.normal.set(n[w++],n[w++],n[w]),y.normal.copy(r.normal));if(z)for(d=0;4>d;d++)w=3*l[t++],z=new Z.Vector3(n[w++],n[w++],n[w]),2!==d&&r.vertexNormals.push(z),0!==d&&y.vertexNormals.push(z);m&&(m=l[t++],m=q[m],Ff(r.color,m),Ff(y.color,m));if(b)for(d=
0;4>d;d++)m=l[t++],m=q[m],2!==d&&r.vertexColors.push(new Z.Color(m)),0!==d&&y.vertexColors.push(new Z.Color(m));c.faces.push(r);c.faces.push(y)}else{r=new Z.Face3;r.a=l[t++];r.b=l[t++];r.c=l[t++];v&&(v=l[t++],r.materialIndex=v);v=c.faces.length;if(d)for(d=0;d<p;d++)for(B=a.uvs[d],c.faceVertexUvs[d][v]=[],e=0;3>e;e++)A=l[t++],D=B[2*A],A=B[2*A+1],D=new Z.Vector2(D,A),c.faceVertexUvs[d][v].push(D);w&&(w=3*l[t++],r.normal.set(n[w++],n[w++],n[w]));if(z)for(d=0;3>d;d++)w=3*l[t++],z=new Z.Vector3(n[w++],
n[w++],n[w]),r.vertexNormals.push(z);m&&(m=l[t++],Ff(r.color,q[m]));if(b)for(d=0;3>d;d++)m=l[t++],r.vertexColors.push(new Z.Color(q[m]));c.faces.push(r)}}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new Z.Vector4(a.skinWeights[d],1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new Z.Vector4(a.skinIndices[d],
1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.")})();(function(b){if(void 0!==a.morphTargets)for(var d=0,e=a.morphTargets.length;d<e;d++){c.morphTargets[d]={};c.morphTargets[d].name=
a.morphTargets[d].name;c.morphTargets[d].vertices=[];for(var k=c.morphTargets[d].vertices,l=a.morphTargets[d].vertices,m=0,n=l.length;m<n;m+=3){var q=new Z.Vector3;q.x=l[m]*b;q.y=l[m+1]*b;q.z=l[m+2]*b;k.push(q)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),b=c.faces,k=a.morphColors[0].colors,d=0,e=b.length;d<e;d++)b[d].color.fromArray(k,3*d)})(d);(function(){var b=[],d=[];void 0!==a.animation&&
d.push(a.animation);void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var g=0;g<d.length;g++){var k=Z.AnimationClip.parseAnimation(d[g],c.bones);k&&b.push(k)}c.morphTargets&&(d=Z.AnimationClip.CreateClipsFromMorphTargetSequences(c.morphTargets,10),b=b.concat(d));0<b.length&&(c.animations=b)})();c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};b=rg(a.materials,b,this.crossOrigin);return{geometry:c,
materials:b}}};Z.LoadingManager=function(a){var b=this,c=!1,d=0,e=0;this.onStart=void 0;this.onLoad=a;this.onError=this.onProgress=void 0;this.itemStart=function(a){e++;if(!1===c&&void 0!==b.onStart)b.onStart(a,d,e);c=!0};this.itemEnd=function(a){d++;if(void 0!==b.onProgress)b.onProgress(a,d,e);if(d===e&&(c=!1,void 0!==b.onLoad))b.onLoad()};this.itemError=function(a){if(void 0!==b.onError)b.onError(a)}};Z.DefaultLoadingManager=new Z.LoadingManager;
Z.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.BufferGeometryLoader.prototype={constructor:Z.BufferGeometryLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new Z.BufferGeometry;var c=a.data.index;var d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==c){var e=new d[c.type](c.array);
b.setIndex(new Z.BufferAttribute(e,1))}var f=a.data.attributes;for(g in f)c=f[g],e=new d[c.type](c.array),b.addAttribute(g,new Z.BufferAttribute(e,c.itemSize,c.normalized));d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d){var g=0;for(c=d.length;g!==c;++g)e=d[g],b.addGroup(e.start,e.count,e.materialIndex)}a=a.data.boundingSphere;void 0!==a&&(d=new Z.Vector3,void 0!==a.center&&d.fromArray(a.center),b.boundingSphere=new Z.Sphere(d,a.radius));return b}};
Z.MaterialLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.textures={}};
Z.MaterialLoader.prototype={constructor:Z.MaterialLoader,load:function(a,b,c,d){var e=this;(new Z.XHRLoader(e.manager)).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new Z[a.type];void 0!==a.uuid&&(b.uuid=a.uuid);void 0!==a.name&&(b.name=a.name);void 0!==a.color&&Ff(b.color,a.color);void 0!==a.roughness&&(b.roughness=a.roughness);void 0!==a.metalness&&(b.metalness=a.metalness);void 0!==a.emissive&&Ff(b.emissive,a.emissive);void 0!==a.specular&&Ff(b.specular,a.specular);
void 0!==a.shininess&&(b.shininess=a.shininess);void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.alphaTest&&
(b.alphaTest=a.alphaTest);void 0!==a.depthTest&&(b.depthTest=a.depthTest);void 0!==a.depthWrite&&(b.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(b.colorWrite=a.colorWrite);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(b.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(b.map=tg(this,a.map));void 0!==a.alphaMap&&(b.alphaMap=tg(this,a.alphaMap),b.transparent=
!0);void 0!==a.bumpMap&&(b.bumpMap=tg(this,a.bumpMap));void 0!==a.bumpScale&&(b.bumpScale=a.bumpScale);void 0!==a.normalMap&&(b.normalMap=tg(this,a.normalMap));if(void 0!==a.normalScale){var c=a.normalScale;!1===Array.isArray(c)&&(c=[c,c]);b.normalScale=(new Z.Vector2).fromArray(c)}void 0!==a.displacementMap&&(b.displacementMap=tg(this,a.displacementMap));void 0!==a.displacementScale&&(b.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(b.displacementBias=a.displacementBias);void 0!==
a.roughnessMap&&(b.roughnessMap=tg(this,a.roughnessMap));void 0!==a.metalnessMap&&(b.metalnessMap=tg(this,a.metalnessMap));void 0!==a.emissiveMap&&(b.emissiveMap=tg(this,a.emissiveMap));void 0!==a.emissiveIntensity&&(b.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(b.specularMap=tg(this,a.specularMap));void 0!==a.envMap&&(b.envMap=tg(this,a.envMap),b.combine=Z.MultiplyOperation);a.reflectivity&&(b.reflectivity=a.reflectivity);void 0!==a.lightMap&&(b.lightMap=tg(this,a.lightMap));
void 0!==a.lightMapIntensity&&(b.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(b.aoMap=tg(this,a.aoMap));void 0!==a.aoMapIntensity&&(b.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials)for(var c=0,d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]));return b}};function tg(a,b){a=a.textures;void 0===a[b]&&console.warn("THREE.MaterialLoader: Undefined texture",b);return a[b]}
Z.ObjectLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this.texturePath=""};
Z.ObjectLoader.prototype={constructor:Z.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;(new Z.XHRLoader(e.manager)).load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=ug(this,a.geometries),d=vg(this,a.images,function(){void 0!==b&&b(e)}),d=wg(a.textures,d),d=xg(a.materials,d),e=this.parseObject(a.object,
c,d);a.animations&&(e.animations=yg(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseObject:function(){var a=new Z.Matrix4;return function(b,c,d){function e(a){void 0===c[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]}function f(a){if(void 0!==a)return void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),d[a]}switch(b.type){case "Scene":var g=new Z.Scene;break;case "PerspectiveCamera":g=new Z.PerspectiveCamera(b.fov,
b.aspect,b.near,b.far);void 0!==b.focus&&(g.focus=b.focus);void 0!==b.zoom&&(g.zoom=b.zoom);void 0!==b.filmGauge&&(g.filmGauge=b.filmGauge);void 0!==b.filmOffset&&(g.filmOffset=b.filmOffset);void 0!==b.view&&(g.view=Object.assign({},b.view));break;case "OrthographicCamera":g=new Z.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":g=new Z.AmbientLight(b.color,b.intensity);break;case "DirectionalLight":g=new Z.DirectionalLight(b.color,b.intensity);break;case "PointLight":g=
new Z.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":g=new Z.SpotLight(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "HemisphereLight":g=new Z.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":g=e(b.geometry);var k=f(b.material);g=g.bones&&0<g.bones.length?new Z.SkinnedMesh(g,k):new Z.Mesh(g,k);break;case "LOD":g=new Z.LOD;break;case "Line":g=new Z.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":case "Points":g=
new Z.Points(e(b.geometry),f(b.material));break;case "Sprite":g=new Z.Sprite(f(b.material));break;case "Group":g=new Z.Group;break;default:g=new Z.Object3D}g.uuid=b.uuid;void 0!==b.name&&(g.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(g.position,g.quaternion,g.scale)):(void 0!==b.position&&g.position.fromArray(b.position),void 0!==b.rotation&&g.rotation.fromArray(b.rotation),void 0!==b.scale&&g.scale.fromArray(b.scale));void 0!==b.castShadow&&(g.castShadow=b.castShadow);void 0!==
b.receiveShadow&&(g.receiveShadow=b.receiveShadow);void 0!==b.visible&&(g.visible=b.visible);void 0!==b.userData&&(g.userData=b.userData);if(void 0!==b.children)for(m in b.children)g.add(this.parseObject(b.children[m],c,d));if("LOD"===b.type){b=b.levels;for(var l=0;l<b.length;l++){k=b[l];var m=g.getObjectByProperty("uuid",k.object);void 0!==m&&g.addLevel(m,k.distance)}}return g}}()};
function wg(a,b){function c(a){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return Z[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];void 0===g.image&&console.warn('THREE.ObjectLoader: No "image" specified for',g.uuid);void 0===b[g.image]&&console.warn("THREE.ObjectLoader: Undefined image",g.image);var k=new Z.Texture(b[g.image]);k.needsUpdate=!0;k.uuid=g.uuid;void 0!==g.name&&(k.name=g.name);void 0!==g.mapping&&
(k.mapping=c(g.mapping));void 0!==g.offset&&(k.offset=new Z.Vector2(g.offset[0],g.offset[1]));void 0!==g.repeat&&(k.repeat=new Z.Vector2(g.repeat[0],g.repeat[1]));void 0!==g.minFilter&&(k.minFilter=c(g.minFilter));void 0!==g.magFilter&&(k.magFilter=c(g.magFilter));void 0!==g.anisotropy&&(k.anisotropy=g.anisotropy);Array.isArray(g.wrap)&&(k.wrapS=c(g.wrap[0]),k.wrapT=c(g.wrap[1]));d[g.uuid]=k}return d}
function vg(a,b,c){function d(a){e.manager.itemStart(a);return g.load(a,function(){e.manager.itemEnd(a)})}var e=a,f={};if(void 0!==b&&0<b.length){c=new Z.LoadingManager(c);var g=new Z.ImageLoader(c);g.setCrossOrigin(a.crossOrigin);a=0;for(c=b.length;a<c;a++){var k=b[a],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:e.texturePath+k.url;f[k.uuid]=d(l)}}return f}function yg(a){for(var b=[],c=0;c<a.length;c++){var d=Z.AnimationClip.parse(a[c]);b.push(d)}return b}
function xg(a,b){var c={};if(void 0!==a){var d=new Z.MaterialLoader;d.textures=b;b=0;for(var e=a.length;b<e;b++){var f=d.parse(a[b]);c[f.uuid]=f}}return c}
function ug(a,b){var c={};if(void 0!==b)for(var d=new Z.JSONLoader,e=new Z.BufferGeometryLoader,f=0,g=b.length;f<g;f++){var k=b[f];switch(k.type){case "PlaneGeometry":case "PlaneBufferGeometry":var l=new Z[k.type](k.width,k.height,k.widthSegments,k.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":l=new Z[k.type](k.width,k.height,k.depth,k.widthSegments,k.heightSegments,k.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":l=new Z[k.type](k.radius,
k.segments,k.thetaStart,k.thetaLength);break;case "CylinderGeometry":case "CylinderBufferGeometry":l=new Z[k.type](k.radiusTop,k.radiusBottom,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":l=new Z[k.type](k.radius,k.height,k.radialSegments,k.heightSegments,k.openEnded,k.thetaStart,k.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":l=new Z[k.type](k.radius,k.widthSegments,k.heightSegments,k.phiStart,
k.phiLength,k.thetaStart,k.thetaLength);break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":l=new Z[k.type](k.radius,k.detail);break;case "RingGeometry":case "RingBufferGeometry":l=new Z[k.type](k.innerRadius,k.outerRadius,k.thetaSegments,k.phiSegments,k.thetaStart,k.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":l=new Z[k.type](k.radius,k.tube,k.radialSegments,k.tubularSegments,k.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":l=
new Z[k.type](k.radius,k.tube,k.tubularSegments,k.radialSegments,k.p,k.q);break;case "LatheGeometry":case "LatheBufferGeometry":l=new Z[k.type](k.points,k.segments,k.phiStart,k.phiLength);break;case "BufferGeometry":l=e.parse(k);break;case "Geometry":l=d.parse(k.data,a.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+k.type+'"');continue}l.uuid=k.uuid;void 0!==k.name&&(l.name=k.name);c[k.uuid]=l}return c}
Z.TextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};Z.TextureLoader.prototype={constructor:Z.TextureLoader,load:function(a,b,c,d){var e=new Z.Texture,f=new Z.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);f.load(a,function(a){e.image=a;e.needsUpdate=!0;void 0!==b&&b(e)},c,d);return e},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};Z.CubeTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager};
Z.CubeTextureLoader.prototype={constructor:Z.CubeTextureLoader,load:function(a,b,c,d){function e(c){g.load(a[c],function(a){f.images[c]=a;k++;6===k&&(f.needsUpdate=!0,b&&b(f))},void 0,d)}var f=new Z.CubeTexture,g=new Z.ImageLoader(this.manager);g.setCrossOrigin(this.crossOrigin);g.setPath(this.path);var k=0;for(c=0;c<a.length;++c)e(c);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};
Z.DataTextureLoader=Z.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this._parser=null};
Z.BinaryTextureLoader.prototype={constructor:Z.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new Z.DataTexture,g=new Z.XHRLoader(this.manager);qg(g);g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:Z.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:Z.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:Z.LinearFilter,f.minFilter=void 0!==
a.minFilter?a.minFilter:Z.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=Z.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};Z.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:Z.DefaultLoadingManager;this._parser=null};
Z.CompressedTextureLoader.prototype={constructor:Z.CompressedTextureLoader,load:function(a,b,c,d){function e(e){m.load(a[e],function(a){a=g._parser(a,!0);k[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};f+=1;6===f&&(1===a.mipmapCount&&(l.minFilter=Z.LinearFilter),l.format=a.format,l.needsUpdate=!0,b&&b(l))},c,d)}var f,g=this,k=[],l=new Z.CompressedTexture;l.image=k;var m=new Z.XHRLoader(this.manager);m.setPath(this.path);qg(m);if(Array.isArray(a))for(var n=f=0,q=a.length;n<q;++n)e(n);
else m.load(a,function(a){a=g._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){k[d]={mipmaps:[]};for(var e=0;e<a.mipmapCount;e++)k[d].mipmaps.push(a.mipmaps[d*a.mipmapCount+e]),k[d].format=a.format,k[d].width=a.width,k[d].height=a.height}else l.image.width=a.width,l.image.height=a.height,l.mipmaps=a.mipmaps;1===a.mipmapCount&&(l.minFilter=Z.LinearFilter);l.format=a.format;l.needsUpdate=!0;b&&b(l)},c,d);return l},setPath:function(a){this.path=a}};
Z.Material=function(){Object.defineProperty(this,"id",{value:Z.MaterialIdCount++});this.uuid=Z.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=Z.NormalBlending;this.side=Z.FrontSide;this.shading=Z.SmoothShading;this.vertexColors=Z.NoColors;this.opacity=1;this.transparent=!1;this.blendSrc=Z.SrcAlphaFactor;this.blendDst=Z.OneMinusSrcAlphaFactor;this.blendEquation=Z.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=
Z.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0};
Z.Material.prototype={constructor:Z.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof Z.Color&&(d.color=Hf(this.color));
.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof Z.Color&&(d.emissive=Hf(this.emissive));this.specular instanceof Z.Color&&(d.specular=Hf(this.specular));void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof Z.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof Z.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof Z.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);
this.bumpMap instanceof Z.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof Z.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof Z.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof Z.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof
Z.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof Z.Texture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof Z.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof Z.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==Z.NormalBlending&&(d.blending=this.blending);
this.shading!==Z.SmoothShading&&(d.shading=this.shading);this.side!==Z.FrontSide&&(d.side=this.side);this.vertexColors!==Z.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);
c&&(c=b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;
this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==
a)for(var c=a.length,b=Array(c),d=0;d!==c;++d)b[d]=a[d].clone();this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};
function zg(a,b){if(void 0!==b)for(var c in b){var d=b[c];if(void 0===d)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var e=a[c];void 0===e?console.warn("THREE."+a.type+": '"+c+"' is not a property of this material."):e instanceof Z.Color?e.set(d):e instanceof Z.Vector3&&d instanceof Z.Vector3?e.copy(d):a[c]="overdraw"===c?Number(d):d}}}Object.assign(Z.Material.prototype,Z.EventDispatcher.prototype);Z.MaterialIdCount=0;
Z.LineBasicMaterial=function(a){Z.Material.call(this);this.type="LineBasicMaterial";this.color=new Z.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;zg(this,a)};Z.LineBasicMaterial.prototype=Object.create(Z.Material.prototype);Z.LineBasicMaterial.prototype.constructor=Z.LineBasicMaterial;
Z.LineBasicMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};Z.LineDashedMaterial=function(a){Z.Material.call(this);this.type="LineDashedMaterial";this.color=new Z.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;zg(this,a)};Z.LineDashedMaterial.prototype=Object.create(Z.Material.prototype);
Z.LineDashedMaterial.prototype.constructor=Z.LineDashedMaterial;Z.LineDashedMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};
Z.MeshBasicMaterial=function(a){Z.Material.call(this);this.type="MeshBasicMaterial";this.color=new Z.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;zg(this,a)};Z.MeshBasicMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshBasicMaterial.prototype.constructor=Z.MeshBasicMaterial;
Z.MeshBasicMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};Z.MeshDepthMaterial=function(a){Z.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=Z.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;zg(this,a)};Z.MeshDepthMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshDepthMaterial.prototype.constructor=Z.MeshDepthMaterial;Z.MeshDepthMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
Z.MeshLambertMaterial=function(a){Z.Material.call(this);this.type="MeshLambertMaterial";this.color=new Z.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";
this.morphNormals=this.morphTargets=this.skinning=!1;zg(this,a)};Z.MeshLambertMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshLambertMaterial.prototype.constructor=Z.MeshLambertMaterial;
Z.MeshLambertMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=
a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Z.MeshNormalMaterial=function(a){Z.Material.call(this);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;zg(this,a)};Z.MeshNormalMaterial.prototype=Object.create(Z.Material.prototype);
Z.MeshNormalMaterial.prototype.constructor=Z.MeshNormalMaterial;Z.MeshNormalMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};
Z.MeshPhongMaterial=function(a){Z.Material.call(this);this.type="MeshPhongMaterial";this.color=new Z.Color(16777215);this.specular=new Z.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Z.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=
this.alphaMap=this.specularMap=null;this.combine=Z.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;zg(this,a)};Z.MeshPhongMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshPhongMaterial.prototype.constructor=Z.MeshPhongMaterial;
Z.MeshPhongMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};
Z.MeshStandardMaterial=function(a){Z.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new Z.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new Z.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Z.Vector2(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=
0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;zg(this,a)};Z.MeshStandardMaterial.prototype=Object.create(Z.Material.prototype);Z.MeshStandardMaterial.prototype.constructor=Z.MeshStandardMaterial;
Z.MeshStandardMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=
a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;
this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};Z.MeshPhysicalMaterial=function(a){Z.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;zg(this,a)};Z.MeshPhysicalMaterial.prototype=Object.create(Z.MeshStandardMaterial.prototype);Z.MeshPhysicalMaterial.prototype.constructor=Z.MeshPhysicalMaterial;
Z.MeshPhysicalMaterial.prototype.copy=function(a){Z.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;return this};Z.MultiMaterial=function(a){this.uuid=Z.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};
Z.MultiMaterial.prototype={constructor:Z.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var f=c[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};
Z.PointsMaterial=function(a){Z.Material.call(this);this.type="PointsMaterial";this.color=new Z.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;zg(this,a)};Z.PointsMaterial.prototype=Object.create(Z.Material.prototype);Z.PointsMaterial.prototype.constructor=Z.PointsMaterial;Z.PointsMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};
Z.ShaderMaterial=function(a){Z.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position \x3d projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor \x3d vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,
drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),zg(this,a))};Z.ShaderMaterial.prototype=Object.create(Z.Material.prototype);Z.ShaderMaterial.prototype.constructor=Z.ShaderMaterial;
Z.ShaderMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=Z.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return this};
Z.ShaderMaterial.prototype.toJSON=function(a){a=Z.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};Z.RawShaderMaterial=function(a){Z.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};Z.RawShaderMaterial.prototype=Object.create(Z.ShaderMaterial.prototype);Z.RawShaderMaterial.prototype.constructor=Z.RawShaderMaterial;
Z.SpriteMaterial=function(a){Z.Material.call(this);this.type="SpriteMaterial";this.color=new Z.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;zg(this,a)};Z.SpriteMaterial.prototype=Object.create(Z.Material.prototype);Z.SpriteMaterial.prototype.constructor=Z.SpriteMaterial;Z.SpriteMaterial.prototype.copy=function(a){Z.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};
Z.ShadowMaterial=function(){Z.ShaderMaterial.call(this,{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:Z.ShaderChunk.shadow_vert,fragmentShader:Z.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};Z.ShadowMaterial.prototype=Object.create(Z.ShaderMaterial.prototype);
Z.ShadowMaterial.prototype.constructor=Z.ShadowMaterial;
Z.Texture=function(a,b,c,d,e,f,g,k,l,m){Object.defineProperty(this,"id",{value:Z.TextureIdCount++});this.uuid=Z.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:Z.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:Z.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:Z.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:Z.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:Z.LinearFilter;this.minFilter=void 0!==f?f:Z.LinearMipMapLinearFilter;this.anisotropy=void 0!==l?l:1;this.format=
void 0!==g?g:Z.RGBAFormat;this.type=void 0!==k?k:Z.UnsignedByteType;this.offset=new Z.Vector2(0,0);this.repeat=new Z.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==m?m:Z.LinearEncoding;this.version=0;this.onUpdate=null};Z.Texture.DEFAULT_IMAGE=void 0;Z.Texture.DEFAULT_MAPPING=Z.UVMapping;
Z.Texture.prototype={constructor:Z.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=
a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};
if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=Z.Math.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid;if(void 0!==c.toDataURL)var g=c;else g=document.createElement("canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height);g=2048<g.width||2048<g.height?g.toDataURL("image/jpeg",.6):g.toDataURL("image/png");d[e]={uuid:f,url:g}}b.image=c.uuid}return a.textures[this.uuid]=b},dispose:function(){this.dispatchEvent({type:"dispose"})},
transformUv:function(a){if(this.mapping===Z.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case Z.RepeatWrapping:a.x-=Math.floor(a.x);break;case Z.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case Z.MirroredRepeatWrapping:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case Z.RepeatWrapping:a.y-=Math.floor(a.y);break;case Z.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case Z.MirroredRepeatWrapping:a.y=1===
Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(Z.Texture.prototype,Z.EventDispatcher.prototype);Z.TextureIdCount=0;Z.DepthTexture=function(a,b,c,d,e,f,g,k,l){Z.Texture.call(this,null,d,e,f,g,k,Z.DepthFormat,c,l);this.image={width:a,height:b};this.type=void 0!==c?c:Z.UnsignedShortType;this.magFilter=void 0!==g?g:Z.NearestFilter;this.minFilter=void 0!==k?k:Z.NearestFilter;this.generateMipmaps=this.flipY=!1};Z.DepthTexture.prototype=Object.create(Z.Texture.prototype);
Z.DepthTexture.prototype.constructor=Z.DepthTexture;Z.CanvasTexture=function(a,b,c,d,e,f,g,k,l){Z.Texture.call(this,a,b,c,d,e,f,g,k,l);this.needsUpdate=!0};Z.CanvasTexture.prototype=Object.create(Z.Texture.prototype);Z.CanvasTexture.prototype.constructor=Z.CanvasTexture;Z.CubeTexture=function(a,b,c,d,e,f,g,k,l,m){a=void 0!==a?a:[];b=void 0!==b?b:Z.CubeReflectionMapping;Z.Texture.call(this,a,b,c,d,e,f,g,k,l,m);this.flipY=!1};Z.CubeTexture.prototype=Object.create(Z.Texture.prototype);
Z.CubeTexture.prototype.constructor=Z.CubeTexture;Object.defineProperty(Z.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});Z.CompressedTexture=function(a,b,c,d,e,f,g,k,l,m,n,q){Z.Texture.call(this,null,f,g,k,l,m,d,e,n,q);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};Z.CompressedTexture.prototype=Object.create(Z.Texture.prototype);Z.CompressedTexture.prototype.constructor=Z.CompressedTexture;
Z.DataTexture=function(a,b,c,d,e,f,g,k,l,m,n,q){Z.Texture.call(this,null,f,g,k,l,m,d,e,n,q);this.image={data:a,width:b,height:c};this.magFilter=void 0!==l?l:Z.NearestFilter;this.minFilter=void 0!==m?m:Z.NearestFilter;this.generateMipmaps=this.flipY=!1};Z.DataTexture.prototype=Object.create(Z.Texture.prototype);Z.DataTexture.prototype.constructor=Z.DataTexture;
Z.VideoTexture=function(a,b,c,d,e,f,g,k,l){function m(){requestAnimationFrame(m);a.readyState>=a.HAVE_CURRENT_DATA&&(n.needsUpdate=!0)}Z.Texture.call(this,a,b,c,d,e,f,g,k,l);this.generateMipmaps=!1;var n=this;m()};Z.VideoTexture.prototype=Object.create(Z.Texture.prototype);Z.VideoTexture.prototype.constructor=Z.VideoTexture;Z.Group=function(){Z.Object3D.call(this);this.type="Group"};Z.Group.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Group});
Z.Points=function(a,b){Z.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.PointsMaterial({color:16777215*Math.random()})};
Z.Points.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Points,raycast:function(){var a=new Z.Matrix4,b=new Z.Ray,c=new Z.Sphere;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<n){a=b.closestPointToPoint(a);a.applyMatrix4(l);var k=d.ray.origin.distanceTo(a);k<d.near||k>d.far||e.push({distance:k,distanceToRay:Math.sqrt(f),point:a.clone(),index:c,face:null,object:g})}}var g=this,k=this.geometry,l=this.matrixWorld,m=d.params.Points.threshold;null===
k.boundingSphere&&k.computeBoundingSphere();c.copy(k.boundingSphere);c.applyMatrix4(l);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(l);b.copy(d.ray).applyMatrix4(a);var m=m/((this.scale.x+this.scale.y+this.scale.z)/3),n=m*m,m=new Z.Vector3;if(k instanceof Z.BufferGeometry){var q=k.index,k=k.attributes.position.array;if(null!==q)for(var p=q.array,q=0,t=p.length;q<t;q++){var r=p[q];m.fromArray(k,3*r);f(m,r)}else for(q=0,p=k.length/3;q<p;q++)m.fromArray(k,3*q),f(m,q)}else for(m=k.vertices,q=0,p=m.length;q<
p;q++)f(m[q],q)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.Line=function(a,b,c){if(1===c)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Z.LineSegments(a,b);Z.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.LineBasicMaterial({color:16777215*Math.random()})};
Z.Line.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Line,raycast:function(){var a=new Z.Matrix4,b=new Z.Ray,c=new Z.Sphere;return function(d,e){var f=d.linePrecision,f=f*f,g=this.geometry,k=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(k);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(k);b.copy(d.ray).applyMatrix4(a);var l=new Z.Vector3;var m=new Z.Vector3,k=new Z.Vector3,n=new Z.Vector3,q=this instanceof
Z.LineSegments?2:1;if(g instanceof Z.BufferGeometry){var p=g.index;var t=g.attributes.position.array;if(null!==p)for(var r=p.array,g=0,v=r.length-1;g<v;g+=q)p=r[g+1],l.fromArray(t,3*r[g]),m.fromArray(t,3*p),p=b.distanceSqToSegment(l,m,n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}));else for(g=0,v=t.length/3-1;g<v;g+=q)l.fromArray(t,3*g),m.fromArray(t,
3*g+3),p=b.distanceSqToSegment(l,m,n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof Z.Geometry)for(l=g.vertices,m=l.length,g=0;g<m-1;g+=q)p=b.distanceSqToSegment(l[g],l[g+1],n,k),p>f||(n.applyMatrix4(this.matrixWorld),p=d.ray.origin.distanceTo(n),p<d.near||p>d.far||e.push({distance:p,point:k.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.LineSegments=function(a,b){Z.Line.call(this,a,b);this.type="LineSegments"};Z.LineSegments.prototype=Object.assign(Object.create(Z.Line.prototype),{constructor:Z.LineSegments});
Z.Mesh=function(a,b){Z.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new Z.BufferGeometry;this.material=void 0!==b?b:new Z.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=Z.TrianglesDrawMode;this.updateMorphTargets()};
Z.Mesh.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==
this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(a,b,c,d,e,f,g){Z.Triangle.barycoordFromPoint(a,b,c,d,v);e.multiplyScalar(v.x);f.multiplyScalar(v.y);g.multiplyScalar(v.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g){var k=a.material;if(null===(k.side===Z.BackSide?c.intersectTriangle(f,e,d,!0,g):c.intersectTriangle(d,e,f,k.side!==
Z.DoubleSide,g)))return null;z.copy(g);z.applyMatrix4(a.matrixWorld);c=b.ray.origin.distanceTo(z);return c<b.near||c>b.far?null:{distance:c,point:z.clone(),object:a}}function c(c,d,e,f,m,n,q,v){g.fromArray(f,3*n);k.fromArray(f,3*q);l.fromArray(f,3*v);if(c=b(c,d,e,g,k,l,w))m&&(p.fromArray(m,2*n),t.fromArray(m,2*q),r.fromArray(m,2*v),c.uv=a(w,g,k,l,p,t,r)),c.face=new Z.Face3(n,q,v,Z.Triangle.normal(g,k,l)),c.faceIndex=n;return c}var d=new Z.Matrix4,e=new Z.Ray,f=new Z.Sphere,g=new Z.Vector3,k=new Z.Vector3,
l=new Z.Vector3,m=new Z.Vector3,n=new Z.Vector3,q=new Z.Vector3,p=new Z.Vector2,t=new Z.Vector2,r=new Z.Vector2,v=new Z.Vector3,w=new Z.Vector3,z=new Z.Vector3;return function(v,z){var y=this.geometry,B=this.material,E=this.matrixWorld;if(void 0!==B&&(null===y.boundingSphere&&y.computeBoundingSphere(),f.copy(y.boundingSphere),f.applyMatrix4(E),!1!==v.ray.intersectsSphere(f)&&(d.getInverse(E),e.copy(v.ray).applyMatrix4(d),null===y.boundingBox||!1!==e.intersectsBox(y.boundingBox)))){var F;if(y instanceof
Z.BufferGeometry){var B=y.index,E=y.attributes,y=E.position.array;if(void 0!==E.uv)var I=E.uv.array;if(null!==B)for(var E=B.array,H=0,C=E.length;H<C;H+=3){B=E[H];var J=E[H+1];var M=E[H+2];if(F=c(this,v,e,y,I,B,J,M))F.faceIndex=Math.floor(H/3),z.push(F)}else for(H=0,C=y.length;H<C;H+=9)if(B=H/3,J=B+1,M=B+2,F=c(this,v,e,y,I,B,J,M))F.index=B,z.push(F)}else if(y instanceof Z.Geometry){var E=B instanceof Z.MultiMaterial,H=!0===E?B.materials:null,C=y.vertices;J=y.faces;M=y.faceVertexUvs[0];0<M.length&&
(I=M);for(var T=0,U=J.length;T<U;T++){var L=J[T];F=!0===E?H[L.materialIndex]:B;if(void 0!==F){M=C[L.a];var S=C[L.b];var R=C[L.c];if(!0===F.morphTargets){F=y.morphTargets;var K=this.morphTargetInfluences;g.set(0,0,0);k.set(0,0,0);l.set(0,0,0);for(var N=0,Q=F.length;N<Q;N++){var la=K[N];if(0!==la){var sa=F[N].vertices;g.addScaledVector(m.subVectors(sa[L.a],M),la);k.addScaledVector(n.subVectors(sa[L.b],S),la);l.addScaledVector(q.subVectors(sa[L.c],R),la)}}g.add(M);k.add(S);l.add(R);M=g;S=k;R=l}if(F=
b(this,v,e,M,S,R,w))I&&(K=I[T],p.copy(K[0]),t.copy(K[1]),r.copy(K[2]),F.uv=a(w,M,S,R,p,t,r)),F.face=L,F.faceIndex=T,z.push(F)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});Z.Bone=function(a){Z.Object3D.call(this);this.type="Bone";this.skin=a};Z.Bone.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Bone,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});
Z.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new Z.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=Z.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Z.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Z.RGBAFormat,Z.FloatType)):this.boneMatrices=
new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new Z.Matrix4)};
Object.assign(Z.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new Z.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}},pose:function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),
a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var a=new Z.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)Nf(a,this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new Z.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});
Z.SkinnedMesh=function(a,b,c){Z.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Z.Matrix4;this.bindMatrixInverse=new Z.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e=0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new Z.Bone(this),a.push(b),b.name=d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void 0!==d.scl&&b.scale.fromArray(d.scl);e=0;for(f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],
-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[e]):this.add(a[e])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new Z.Skeleton(a,void 0,c),this.matrixWorld)};
Z.SkinnedMesh.prototype=Object.assign(Object.create(Z.Mesh.prototype),{constructor:Z.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof Z.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var b=this.geometry.skinWeights[a];var c=1/b.lengthManhattan();
Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0)}else if(this.geometry instanceof Z.BufferGeometry){b=new Z.Vector4;for(var d=this.geometry.attributes.skinWeight,a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a),b.z=d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)}},updateMatrixWorld:function(){Z.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===
this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});Z.LOD=function(){Z.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};
Z.LOD.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.LOD,copy:function(a){Z.Object3D.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var d=a[b];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);
return b[c-1].object},raycast:function(){var a=new Z.Vector3;return function(b,c){Qf(a,this.matrixWorld);this.getObjectForDistance(b.ray.origin.distanceTo(a)).raycast(b,c)}}(),update:function(){var a=new Z.Vector3,b=new Z.Vector3;return function(c){var d=this.levels;if(1<d.length){Qf(a,c.matrixWorld);Qf(b,this.matrixWorld);c=a.distanceTo(b);d[0].object.visible=!0;for(var e=1,f=d.length;e<f;e++)if(c>=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=
!1}}}(),toJSON:function(a){a=Z.Object3D.prototype.toJSON.call(this,a);a.object.levels=[];for(var b=this.levels,c=0,d=b.length;c<d;c++){var e=b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return a}});Z.Sprite=function(a){Z.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new Z.SpriteMaterial};
Z.Sprite.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.Sprite,raycast:function(){var a=new Z.Vector3;return function(b,c){Qf(a,this.matrixWorld);b=b.ray.distanceSqToPoint(a);b>this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(b),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});
Z.LensFlare=function(a,b,c,d,e){Z.Object3D.call(this);this.lensFlares=[];this.positionScreen=new Z.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};
Z.LensFlare.prototype=Object.assign(Object.create(Z.Object3D.prototype),{constructor:Z.LensFlare,copy:function(a){Z.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var b=0,c=a.lensFlares.length;b<c;b++)this.lensFlares.push(a.lensFlares[b]);return this},add:function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new Z.Color(16777215));void 0===d&&(d=Z.NormalBlending);c=Math.min(c,
Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:e,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,c=2*-this.positionScreen.x,d=2*-this.positionScreen.y;for(a=0;a<b;a++){var e=this.lensFlares[a];e.x=this.positionScreen.x+c*e.distance;e.y=this.positionScreen.y+d*e.distance;e.wantedRotation=e.x*Math.PI*.25;e.rotation+=.25*(e.wantedRotation-e.rotation)}}});
Z.Scene=function(){Z.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};Z.Scene.prototype=Object.create(Z.Object3D.prototype);Z.Scene.prototype.constructor=Z.Scene;Z.Scene.prototype.copy=function(a,b){Z.Object3D.prototype.copy.call(this,a,b);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};
Z.Fog=function(a,b,c){this.name="";this.color=new Z.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};Z.Fog.prototype.clone=function(){return new Z.Fog(Hf(this.color),this.near,this.far)};Z.FogExp2=function(a,b){this.name="";this.color=new Z.Color(a);this.density=void 0!==b?b:2.5E-4};Z.FogExp2.prototype.clone=function(){return new Z.FogExp2(Hf(this.color),this.density)};Z.ShaderChunk={};Z.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *\x3d texture2D( alphaMap, vUv ).g;\n#endif\n";
Z.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";Z.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a \x3c ALPHATEST ) discard;\n#endif\n";Z.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion \x3d ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *\x3d ambientOcclusion;\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\t\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *\x3d computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
Z.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";Z.ShaderChunk.begin_vertex="\nvec3 transformed \x3d vec3( position );\n";Z.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal \x3d vec3( normal );\n";Z.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance \x3d\x3d 0.0, lightDistance \x3c cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent \x3e 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff \x3d 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor \x3d pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel \x3d exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gl \x3d dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv \x3d dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat gv \x3d dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl \x3d dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 \x3d pow2( alpha );\n\tfloat denom \x3d pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha \x3d pow2( roughness );\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL \x3d saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D \x3d D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV \x3d saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 \x3d vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 \x3d vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r \x3d roughness * c0 + c1;\n\tfloat a004 \x3d min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB \x3d vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir \x3d normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH \x3d saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH \x3d saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F \x3d F_Schlick( specularColor, dotLH );\n\tfloat G \x3d G_BlinnPhong_Implicit( );\n\tfloat D \x3d D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
Z.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx \x3d dFdx( vUv );\n\t\tvec2 dSTdy \x3d dFdy( vUv );\n\t\tfloat Hll \x3d bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx \x3d bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy \x3d bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX \x3d dFdx( surf_pos );\n\t\tvec3 vSigmaY \x3d dFdy( surf_pos );\n\t\tvec3 vN \x3d surf_norm;\n\t\tvec3 R1 \x3d cross( vSigmaY, vN );\n\t\tvec3 R2 \x3d cross( vN, vSigmaX );\n\t\tfloat fDet \x3d dot( vSigmaX, R1 );\n\t\tvec3 vGrad \x3d sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
Z.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane \x3d clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) \x3e plane.w ) discard;\n\t}\n#endif\n";Z.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES \x3e 0\n\t#if ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";
Z.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";Z.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES \x3e 0 \x26\x26 ! defined( PHYSICAL ) \x26\x26 ! defined( PHONG )\n\tvViewPosition \x3d - mvPosition.xyz;\n#endif\n";Z.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *\x3d vColor;\n#endif";Z.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";
Z.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";Z.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz \x3d color.xyz;\n#endif";Z.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 \x3d x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a \x3d 12.9898, b \x3d 78.233, c \x3d 43758.5453;\n\thighp float dt \x3d dot( uv.xy, vec2( a,b ) ), sn \x3d mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance \x3d dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
Z.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection \x3d abs(direction);\n\tint face \x3d -1;\n\tif( absDirection.x \x3e absDirection.z ) {\n\t\tif(absDirection.x \x3e absDirection.y )\n\t\t\tface \x3d direction.x \x3e 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z \x3e absDirection.y )\n\t\t\tface \x3d direction.z \x3e 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface \x3d direction.y \x3e 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale \x3d exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness \x3d dFdx(roughness);\n\tfloat dyRoughness \x3d dFdy(roughness);\n\tvec3 dx \x3d dFdx( vec * scale * dxRoughness );\n\tvec3 dy \x3d dFdy( vec * scale * dyRoughness );\n\tfloat d \x3d max( dot( dx, dx ), dot( dy, dy ) );\n\td \x3d clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel \x3d 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel \x3d roughnessLevel \x3e cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a \x3d 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed \x3d exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed \x3d vec2( 1.0 ) / exp2_packed;\n\tfloat powScale \x3d exp2_packed.x * exp2_packed.y;\n\tfloat scale \x3d rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset \x3d 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes \x3d mipLevel \x3d\x3d 0.0;\n\tscale \x3d  bRes \x26\x26 (scale \x3c a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face \x3d getFaceFromDirection(direction);\n\tfloat rcpPowScale \x3d 1.0 / powScale;\n\tif( face \x3d\x3d 0) {\n\t\tr \x3d vec3(direction.x, -direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 1) {\n\t\tr \x3d vec3(direction.y, direction.x, direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 2) {\n\t\tr \x3d vec3(direction.z, direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face \x3d\x3d 3) {\n\t\tr \x3d vec3(direction.x, direction.z, direction.y);\n\t\toffset \x3d vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face \x3d\x3d 4) {\n\t\tr \x3d vec3(direction.y, direction.x, -direction.z);\n\t\toffset \x3d vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr \x3d vec3(direction.z, -direction.x, direction.y);\n\t\toffset \x3d vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y \x3d bRes \x26\x26 (offset.y \x3c 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr \x3d normalize(r);\n\tfloat texelOffset \x3d 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s \x3d ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base \x3d offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal \x3d roughness* cubeUV_maxLods3;\n\tfloat r1 \x3d floor(roughnessVal);\n\tfloat r2 \x3d r1 + 1.0;\n\tfloat t \x3d fract(roughnessVal);\n\tvec2 mipInfo \x3d MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s \x3d mipInfo.y;\n\tfloat level0 \x3d mipInfo.x;\n\tfloat level1 \x3d level0 + 1.0;\n\tlevel1 \x3d level1 \x3e 5.0 ? 5.0 : level1;\n\tlevel0 +\x3d min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 \x3d getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 \x3d envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 \x3d getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 \x3d envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result \x3d mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
Z.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal \x3d -objectNormal;\n#endif\nvec3 transformedNormal \x3d normalMatrix * objectNormal;\n";Z.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed +\x3d normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";Z.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
Z.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor \x3d texture2D( emissiveMap, vUv );\n\temissiveColor.rgb \x3d emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *\x3d emissiveColor.rgb;\n#endif\n";Z.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";Z.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent \x3d max( max( value.r, value.g ), value.b );\n  float fExp \x3d clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n  float M      \x3d clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            \x3d ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB \x3d max( value.x, max( value.g, value.b ) );\n    float D      \x3d max( maxRange / maxRGB, 1.0 );\n    D            \x3d min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM \x3d mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp \x3d value.rgb * cLogLuvM;\n  Xp_Y_XYZp \x3d max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy \x3d Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le \x3d 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w \x3d fract(Le);\n  vResult.z \x3d (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM \x3d mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le \x3d value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y \x3d exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z \x3d Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x \x3d value.x * Xp_Y_XYZp.z;\n  vec3 vRGB \x3d Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
Z.ShaderChunk.encodings_fragment="  gl_FragColor \x3d linearToOutputTexel( gl_FragColor );\n";Z.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex \x3d normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec \x3d vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal \x3d 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor \x3d textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor \x3d texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor \x3d envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight \x3d mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight \x3d mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight +\x3d envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
Z.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) \x26\x26 ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
Z.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";Z.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition \x3d worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex \x3d normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal \x3d inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect \x3d reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect \x3d refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
Z.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth \x3d gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor \x3d whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor \x3d smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb \x3d mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";
Z.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";Z.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse +\x3d PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";Z.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";
Z.ShaderChunk.lights_lambert_vertex="vec3 diffuse \x3d vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position \x3d mvPosition.xyz;\ngeometry.normal \x3d normalize( transformedNormal );\ngeometry.viewDir \x3d normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position \x3d geometry.position;\nbackGeometry.normal \x3d -geometry.normal;\nbackGeometry.viewDir \x3d geometry.viewDir;\nvLightFront \x3d vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack \x3d vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL \x3d dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse \x3d PI * directLight.color;\n\t\tvLightFront +\x3d saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
Z.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance \x3d ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS \x3e 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color \x3d directionalLight.color;\n\t\tdirectLight.direction \x3d directionalLight.direction;\n\t\tdirectLight.visible \x3d true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS \x3e 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector \x3d pointLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color \x3d pointLight.color;\n\t\t\tdirectLight.color *\x3d punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS \x3e 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector \x3d spotLight.position - geometry.position;\n\t\tdirectLight.direction \x3d normalize( lVector );\n\t\tfloat lightDistance \x3d length( lVector );\n\t\tfloat angleCos \x3d dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos \x3e spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect \x3d smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color \x3d spotLight.color;\n\t\t\tdirectLight.color *\x3d spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible \x3d true;\n\t\t} else {\n\t\t\tdirectLight.color \x3d vec3( 0.0 );\n\t\t\tdirectLight.visible \x3d false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS \x3e 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL \x3d dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight \x3d 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance \x3d mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *\x3d PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\tvec3 worldNormal \x3d inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec \x3d flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor \x3d vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar \x3d float( maxMIPLevel );\n\t\tfloat desiredMIPLevel \x3d maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec \x3d reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec \x3d refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal \x3d ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal \x3d 1.0;\n\t\t#endif\n\t\treflectVec \x3d inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel \x3d getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec \x3d flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor \x3d textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y \x3d saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x \x3d atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView \x3d flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor \x3d texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor \x3d texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb \x3d envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
Z.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb;\nmaterial.specularColor \x3d specular;\nmaterial.specularShininess \x3d shininess;\nmaterial.specularStrength \x3d specularStrength;\n";Z.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
Z.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor \x3d diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness \x3d clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor \x3d mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor \x3d mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";Z.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL \x3d saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance \x3d dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *\x3d PI;\n\t#endif\n\treflectedLight.directDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular +\x3d irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse +\x3d irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular +\x3d radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
Z.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position \x3d - vViewPosition;\ngeometry.normal \x3d normal;\ngeometry.viewDir \x3d normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS \x3e 0 ) \x26\x26 defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *\x3d all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance \x3d texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *\x3d PI;\n\t\t#endif\n\t\tirradiance +\x3d lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS \x3e 0 )\n\t\tfor ( int i \x3d 0; i \x3c NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance +\x3d getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) \x26\x26 defined( PHYSICAL ) \x26\x26 defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance +\x3d getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) \x26\x26 defined( RE_IndirectSpecular )\n\tvec3 radiance \x3d getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
Z.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) \x26\x26 defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT \x3d log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";Z.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";Z.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
Z.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z \x3d log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth \x3d 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z \x3d (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";Z.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor \x3d texture2D( map, vUv );\n\ttexelColor \x3d mapTexelToLinear( texelColor );\n\tdiffuseColor *\x3d texelColor;\n#endif\n";
Z.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";Z.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel \x3d texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *\x3d mapTexelToLinear( mapTexel );\n#endif\n";Z.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";Z.ShaderChunk.metalnessmap_fragment="float metalnessFactor \x3d metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness \x3d texture2D( metalnessMap, vUv );\n\tmetalnessFactor *\x3d texelMetalness.r;\n#endif\n";
Z.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";Z.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal +\x3d ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal +\x3d ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal +\x3d ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal +\x3d ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";
Z.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";Z.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed +\x3d ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed +\x3d ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed +\x3d ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed +\x3d ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed +\x3d ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed +\x3d ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed +\x3d ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed +\x3d ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
Z.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx \x3d vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy \x3d vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal \x3d normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal \x3d normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal \x3d normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal \x3d perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal \x3d perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
Z.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 \x3d dFdx( eye_pos.xyz );\n\t\tvec3 q1 \x3d dFdy( eye_pos.xyz );\n\t\tvec2 st0 \x3d dFdx( vUv.st );\n\t\tvec2 st1 \x3d dFdy( vUv.st );\n\t\tvec3 S \x3d normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T \x3d normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N \x3d normalize( surf_norm );\n\t\tvec3 mapN \x3d texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy \x3d normalScale * mapN.xy;\n\t\tmat3 tsn \x3d mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
Z.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale \x3d 256. / 255.;const float UnpackDownscale \x3d 255. / 256.;\nconst vec3 PackFactors \x3d vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors \x3d UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 \x3d 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r \x3d vec4( fract( v * PackFactors ), v );\n\tr.yzw -\x3d r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
Z.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *\x3d gl_FragColor.a;\n#endif\n";Z.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition \x3d modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position \x3d projectionMatrix * mvPosition;\n";Z.ShaderChunk.roughnessmap_fragment="float roughnessFactor \x3d roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness \x3d texture2D( roughnessMap, vUv );\n\troughnessFactor *\x3d texelRoughness.r;\n#endif\n";
Z.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";Z.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset \x3d vec2( 0.0, 1.0 );\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / size;\n\t\tvec2 centroidUV \x3d floor( uv * size + 0.5 ) / size;\n\t\tfloat lb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt \x3d texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f \x3d fract( uv * size + 0.5 );\n\t\tfloat a \x3d mix( lb, lt, f.y );\n\t\tfloat b \x3d mix( rb, rt, f.y );\n\t\tfloat c \x3d mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /\x3d shadowCoord.w;\n\t\tshadowCoord.z +\x3d shadowBias;\n\t\tbvec4 inFrustumVec \x3d bvec4 ( shadowCoord.x \x3e\x3d 0.0, shadowCoord.x \x3c\x3d 1.0, shadowCoord.y \x3e\x3d 0.0, shadowCoord.y \x3c\x3d 1.0 );\n\t\tbool inFrustum \x3d all( inFrustumVec );\n\t\tbvec2 frustumTestVec \x3d bvec2( inFrustum, shadowCoord.z \x3c\x3d 1.0 );\n\t\tbool frustumTest \x3d all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize \x3d vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 \x3d - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 \x3d - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 \x3d + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 \x3d + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV \x3d abs( v );\n\t\tfloat scaleToCube \x3d 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *\x3d scaleToCube;\n\t\tv *\x3d scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar \x3d v.xy;\n\t\tfloat almostATexel \x3d 1.5 * texelSizeY;\n\t\tfloat almostOne \x3d 1.0 - almostATexel;\n\t\tif ( absV.z \x3e\x3d almostOne ) {\n\t\t\tif ( v.z \x3e 0.0 )\n\t\t\t\tplanar.x \x3d 4.0 - v.x;\n\t\t} else if ( absV.x \x3e\x3d almostOne ) {\n\t\t\tfloat signX \x3d sign( v.x );\n\t\t\tplanar.x \x3d v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y \x3e\x3d almostOne ) {\n\t\t\tfloat signY \x3d sign( v.y );\n\t\t\tplanar.x \x3d v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y \x3d v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize \x3d vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition \x3d shadowCoord.xyz;\n\t\tvec3 bd3D \x3d normalize( lightToPosition );\n\t\tfloat dp \x3d ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset \x3d vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
Z.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
Z.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] \x3d directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] \x3d spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] \x3d pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
Z.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow \x3d 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS \x3e 0\n\tDirectionalLight directionalLight;\n\tfor ( int i \x3d 0; i \x3c NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight \x3d directionalLights[ i ];\n\t\tshadow *\x3d bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS \x3e 0\n\tSpotLight spotLight;\n\tfor ( int i \x3d 0; i \x3c NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight \x3d spotLights[ i ];\n\t\tshadow *\x3d bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS \x3e 0\n\tPointLight pointLight;\n\tfor ( int i \x3d 0; i \x3c NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight \x3d pointLights[ i ];\n\t\tshadow *\x3d bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
Z.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX \x3d getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY \x3d getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ \x3d getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW \x3d getBoneMatrix( skinIndex.w );\n#endif";Z.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j \x3d i * 4.0;\n\t\t\tfloat x \x3d mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y \x3d floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx \x3d 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy \x3d 1.0 / float( boneTextureHeight );\n\t\t\ty \x3d dy * ( y + 0.5 );\n\t\t\tvec4 v1 \x3d texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 \x3d texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 \x3d texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 \x3d texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone \x3d mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone \x3d boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
Z.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex \x3d bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned \x3d vec4( 0.0 );\n\tskinned +\x3d boneMatX * skinVertex * skinWeight.x;\n\tskinned +\x3d boneMatY * skinVertex * skinWeight.y;\n\tskinned +\x3d boneMatZ * skinVertex * skinWeight.z;\n\tskinned +\x3d boneMatW * skinVertex * skinWeight.w;\n\tskinned  \x3d bindMatrixInverse * skinned;\n#endif\n";Z.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix \x3d mat4( 0.0 );\n\tskinMatrix +\x3d skinWeight.x * boneMatX;\n\tskinMatrix +\x3d skinWeight.y * boneMatY;\n\tskinMatrix +\x3d skinWeight.z * boneMatZ;\n\tskinMatrix +\x3d skinWeight.w * boneMatW;\n\tskinMatrix  \x3d bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal \x3d vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
Z.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular \x3d texture2D( specularMap, vUv );\n\tspecularStrength \x3d texelSpecular.r;\n#else\n\tspecularStrength \x3d 1.0;\n#endif";Z.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";Z.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb \x3d toneMapping( gl_FragColor.rgb );\n#endif\n";
Z.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *\x3d toneMappingExposure;\n  color \x3d max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
Z.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";Z.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";Z.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 \x3d uv2;\n#endif";Z.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
Z.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";Z.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv \x3d uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
Z.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition \x3d modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition \x3d modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";
Z.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof Z.Color||e instanceof Z.Vector2||e instanceof Z.Vector3||e instanceof Z.Vector4||e instanceof Z.Matrix3||e instanceof Z.Matrix4||e instanceof Z.Texture?e.clone():Array.isArray(e)?e.slice():e}}return b}};
Z.UniformsLib={common:{diffuse:{type:"c",value:new Z.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Z.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",
value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new Z.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",
value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new Z.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},
distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},
pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new Z.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Z.Vector4(0,0,1,1)}}};Z.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
Z.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";Z.ShaderChunk.depth_frag="#if DEPTH_PACKING \x3d\x3d 3200\n\tuniform float opacity;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( 1.0 );\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tdiffuseColor.a \x3d opacity;\n\t#endif\n\t#include \x3cmap_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#if DEPTH_PACKING \x3d\x3d 3200\n\t\tgl_FragColor \x3d vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING \x3d\x3d 3201\n\t\tgl_FragColor \x3d packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
Z.ShaderChunk.depth_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main () {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";Z.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvWorldPosition \x3d worldPosition;\n}\n";
Z.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 direction \x3d normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y \x3d saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x \x3d atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor \x3d texture2D( tEquirect, sampleUV );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";
Z.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include \x3ccommon\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvWorldPosition \x3d transformDirection( position, modelMatrix );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";Z.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tif ( mod( vLineDistance, totalSize ) \x3e dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\tvLineDistance \x3d scale * lineDistance;\n\tvec4 mvPosition \x3d modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position \x3d projectionMatrix * mvPosition;\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse \x3d vec3( 0.0 );\n\treflectedLight.directSpecular \x3d vec3( 0.0 );\n\treflectedLight.indirectDiffuse \x3d diffuseColor.rgb;\n\treflectedLight.indirectSpecular \x3d vec3( 0.0 );\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.indirectDiffuse;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshbasic_vert="#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#ifdef USE_ENVMAP\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\treflectedLight.indirectDiffuse \x3d getAmbientLightIrradiance( ambientLightColor );\n\t#include \x3clightmap_fragment\x3e\n\treflectedLight.indirectDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse \x3d ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse \x3d vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *\x3d BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3clights_lambert_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_phong_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_phong_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include \x3cenvmap_fragment\x3e\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3cenvmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cenvmap_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cuv_pars_fragment\x3e\n#include \x3cuv2_pars_fragment\x3e\n#include \x3cmap_pars_fragment\x3e\n#include \x3calphamap_pars_fragment\x3e\n#include \x3caomap_pars_fragment\x3e\n#include \x3clightmap_pars_fragment\x3e\n#include \x3cemissivemap_pars_fragment\x3e\n#include \x3cenvmap_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cbsdfs\x3e\n#include \x3ccube_uv_reflection_fragment\x3e\n#include \x3clights_pars\x3e\n#include \x3clights_physical_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cbumpmap_pars_fragment\x3e\n#include \x3cnormalmap_pars_fragment\x3e\n#include \x3croughnessmap_pars_fragment\x3e\n#include \x3cmetalnessmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\tReflectedLight reflectedLight \x3d ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance \x3d emissive;\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphamap_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\t#include \x3cspecularmap_fragment\x3e\n\t#include \x3croughnessmap_fragment\x3e\n\t#include \x3cmetalnessmap_fragment\x3e\n\t#include \x3cnormal_fragment\x3e\n\t#include \x3cemissivemap_fragment\x3e\n\t#include \x3clights_physical_fragment\x3e\n\t#include \x3clights_template\x3e\n\t#include \x3caomap_fragment\x3e\n\tvec3 outgoingLight \x3d reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include \x3ccommon\x3e\n#include \x3cuv_pars_vertex\x3e\n#include \x3cuv2_pars_vertex\x3e\n#include \x3cdisplacementmap_pars_vertex\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3cskinning_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3cspecularmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3cuv_vertex\x3e\n\t#include \x3cuv2_vertex\x3e\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbeginnormal_vertex\x3e\n\t#include \x3cmorphnormal_vertex\x3e\n\t#include \x3cskinbase_vertex\x3e\n\t#include \x3cskinnormal_vertex\x3e\n\t#include \x3cdefaultnormal_vertex\x3e\n#ifndef FLAT_SHADED\n\tvNormal \x3d normalize( transformedNormal );\n#endif\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cdisplacementmap_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cskinning_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\tvViewPosition \x3d - mvPosition.xyz;\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tgl_FragColor \x3d vec4( packNormalToRGB( vNormal ), opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n}\n";Z.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include \x3ccommon\x3e\n#include \x3cmorphtarget_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\tvNormal \x3d normalize( normalMatrix * normal );\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cmorphtarget_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n}\n";
Z.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_fragment\x3e\n#include \x3cmap_particle_pars_fragment\x3e\n#include \x3cfog_pars_fragment\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3clogdepthbuf_pars_fragment\x3e\n#include \x3cclipping_planes_pars_fragment\x3e\nvoid main() {\n\t#include \x3cclipping_planes_fragment\x3e\n\tvec3 outgoingLight \x3d vec3( 0.0 );\n\tvec4 diffuseColor \x3d vec4( diffuse, opacity );\n\t#include \x3clogdepthbuf_fragment\x3e\n\t#include \x3cmap_particle_fragment\x3e\n\t#include \x3ccolor_fragment\x3e\n\t#include \x3calphatest_fragment\x3e\n\toutgoingLight \x3d diffuseColor.rgb;\n\tgl_FragColor \x3d vec4( outgoingLight, diffuseColor.a );\n\t#include \x3cpremultiplied_alpha_fragment\x3e\n\t#include \x3ctonemapping_fragment\x3e\n\t#include \x3cencodings_fragment\x3e\n\t#include \x3cfog_fragment\x3e\n}\n";
Z.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include \x3ccommon\x3e\n#include \x3ccolor_pars_vertex\x3e\n#include \x3cshadowmap_pars_vertex\x3e\n#include \x3clogdepthbuf_pars_vertex\x3e\n#include \x3cclipping_planes_pars_vertex\x3e\nvoid main() {\n\t#include \x3ccolor_vertex\x3e\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize \x3d size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize \x3d size;\n\t#endif\n\t#include \x3clogdepthbuf_vertex\x3e\n\t#include \x3cclipping_planes_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderChunk.shadow_frag="uniform float opacity;\n#include \x3ccommon\x3e\n#include \x3cpacking\x3e\n#include \x3cbsdfs\x3e\n#include \x3clights_pars\x3e\n#include \x3cshadowmap_pars_fragment\x3e\n#include \x3cshadowmask_pars_fragment\x3e\nvoid main() {\n\tgl_FragColor \x3d vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";Z.ShaderChunk.shadow_vert="#include \x3cshadowmap_pars_vertex\x3e\nvoid main() {\n\t#include \x3cbegin_vertex\x3e\n\t#include \x3cproject_vertex\x3e\n\t#include \x3cworldpos_vertex\x3e\n\t#include \x3cshadowmap_vertex\x3e\n}\n";
Z.ShaderLib={basic:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.fog]),vertexShader:Z.ShaderChunk.meshbasic_vert,fragmentShader:Z.ShaderChunk.meshbasic_frag},lambert:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)}}]),vertexShader:Z.ShaderChunk.meshlambert_vert,fragmentShader:Z.ShaderChunk.meshlambert_frag},
phong:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.bumpmap,Z.UniformsLib.normalmap,Z.UniformsLib.displacementmap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)},specular:{type:"c",value:new Z.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:Z.ShaderChunk.meshphong_vert,fragmentShader:Z.ShaderChunk.meshphong_frag},standard:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,
Z.UniformsLib.aomap,Z.UniformsLib.lightmap,Z.UniformsLib.emissivemap,Z.UniformsLib.bumpmap,Z.UniformsLib.normalmap,Z.UniformsLib.displacementmap,Z.UniformsLib.roughnessmap,Z.UniformsLib.metalnessmap,Z.UniformsLib.fog,Z.UniformsLib.lights,{emissive:{type:"c",value:new Z.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:Z.ShaderChunk.meshphysical_vert,fragmentShader:Z.ShaderChunk.meshphysical_frag},points:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.points,
Z.UniformsLib.fog]),vertexShader:Z.ShaderChunk.points_vert,fragmentShader:Z.ShaderChunk.points_frag},dashed:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:Z.ShaderChunk.linedashed_vert,fragmentShader:Z.ShaderChunk.linedashed_frag},depth:{uniforms:Z.UniformsUtils.merge([Z.UniformsLib.common,Z.UniformsLib.displacementmap]),vertexShader:Z.ShaderChunk.depth_vert,fragmentShader:Z.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:Z.ShaderChunk.normal_vert,fragmentShader:Z.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Z.ShaderChunk.cube_vert,fragmentShader:Z.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Z.ShaderChunk.equirect_vert,fragmentShader:Z.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new Z.Vector3}},
vertexShader:Z.ShaderChunk.distanceRGBA_vert,fragmentShader:Z.ShaderChunk.distanceRGBA_frag}};Z.ShaderLib.physical={uniforms:Z.UniformsUtils.merge([Z.ShaderLib.standard.uniforms,{}]),vertexShader:Z.ShaderChunk.meshphysical_vert,fragmentShader:Z.ShaderChunk.meshphysical_frag};
Z.WebGLRenderer=function(a){function b(a,b,c,d){!0===S&&(a*=d,b*=d,c*=d);P.clearColor(a,b,c,d)}function c(){P.init();P.scissor(Vc.copy(Hd).multiplyScalar($a));P.viewport(Ac.copy(Bc).multiplyScalar($a));b(ab.r,ab.g,ab.b,bc)}function d(){Kb=Cc=null;Dc="";Va=-1;P.reset()}function e(a){a.preventDefault();d();c();ca.clear()}function f(a){a=a.target;a.removeEventListener("dispose",f);a:{var b=ca.get(a);if(a.image&&b.__image__webglTextureCube)x.deleteTexture(b.__image__webglTextureCube);else{if(void 0===
b.__webglInit)break a;x.deleteTexture(b.__webglTexture)}ca.delete(a)}cc.textures--}function g(a){a=a.target;a.removeEventListener("dispose",g);var b=ca.get(a),c=ca.get(a.texture);if(a){void 0!==c.__webglTexture&&x.deleteTexture(c.__webglTexture);a.depthTexture&&a.depthTexture.dispose();if(a instanceof Z.WebGLRenderTargetCube)for(c=0;6>c;c++)x.deleteFramebuffer(b.__webglFramebuffer[c]),b.__webglDepthbuffer&&x.deleteRenderbuffer(b.__webglDepthbuffer[c]);else x.deleteFramebuffer(b.__webglFramebuffer),
b.__webglDepthbuffer&&x.deleteRenderbuffer(b.__webglDepthbuffer);ca.delete(a.texture);ca.delete(a)}cc.textures--}function k(a){a=a.target;a.removeEventListener("dispose",k);l(a);ca.delete(a)}function l(a){var b=ca.get(a).program;a.program=void 0;void 0!==b&&Ec.releaseProgram(b)}function m(a,b){return Math.abs(b[0])-Math.abs(a[0])}function n(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==
b.z?a.z-b.z:a.id-b.id}function q(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function p(a,b,c,d){if(c.transparent){var e=la;var f=++sa}else e=N,f=++Q;f=e[f];void 0!==f?(f.id=a.id,f.object=a,f.geometry=b,f.material=c,f.z=Qa.z,f.group=d):(f={id:a.id,object:a,geometry:b,material:c,z:Qa.z,group:d},e.push(f))}function t(a){if(!df.intersectsSphere(a))return!1;var b=ob.numPlanes;if(0===b)return!0;var c=oa.clippingPlanes,d=
a.center;a=-a.radius;var e=0;do if(c[e].distanceToPoint(d)<a)return!1;while(++e!==b);return!0}function r(a,b){if(!1!==a.visible){if(a.layers.test(b.layers))if(a instanceof Z.Light)K.push(a);else if(a instanceof Z.Sprite){var c;if(c=!1!==a.frustumCulled)dc.center.set(0,0,0),dc.radius=.7071067811865476,dc.applyMatrix4(a.matrixWorld),c=!0!==t(dc);c||La.push(a)}else if(a instanceof Z.LensFlare)Id.push(a);else if(a instanceof Z.ImmediateRenderObject)!0===oa.sortObjects&&(Qf(Qa,a.matrixWorld),Of(Qa,Wc)),
p(a,null,a.material,null);else if(a instanceof Z.Mesh||a instanceof Z.Line||a instanceof Z.Points)if(a instanceof Z.SkinnedMesh&&a.skeleton.update(),(c=!1===a.frustumCulled)||(c=a.geometry,null===c.boundingSphere&&c.computeBoundingSphere(),dc.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),c=!0===t(dc)),c){var d=a.material;if(!0===d.visible)if(!0===oa.sortObjects&&(Qf(Qa,a.matrixWorld),Of(Qa,Wc)),c=Fc.update(a),d instanceof Z.MultiMaterial)for(var e=c.groups,f=d.materials,d=0,g=e.length;d<g;d++){var k=
e[d],l=f[k.materialIndex];!0===l.visible&&p(a,c,l,k)}else p(a,c,d,null)}a=a.children;d=0;for(g=a.length;d<g;d++)r(a[d],b)}}function v(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],k=g.object,l=g.geometry,m=void 0===d?g.material:d,g=g.group;Nf(k.modelViewMatrix,b.matrixWorldInverse,k.matrixWorld);Wf(k.normalMatrix,k.modelViewMatrix);if(k instanceof Z.ImmediateRenderObject){w(m);var n=z(b,c,m,k);Dc="";k.render(function(a){oa.renderBufferImmediate(a,n,m)})}else oa.renderBufferDirect(b,c,l,m,k,
g)}}function w(a){a.side!==Z.DoubleSide?P.enable(x.CULL_FACE):P.disable(x.CULL_FACE);P.setFlipSided(a.side===Z.BackSide);!0===a.transparent?P.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):P.setBlending(Z.NoBlending);P.setDepthFunc(a.depthFunc);P.setDepthTest(a.depthTest);P.setDepthWrite(a.depthWrite);P.setColorWrite(a.colorWrite);P.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}
function z(a,b,c,d){Jd=0;var e=ca.get(c);Xc&&((Kd||a!==Kb)&&ob.setState(c.clippingPlanes,c.clipShadows,a,e,a===Kb&&c.id===Va),void 0!==e.numClippingPlanes&&e.numClippingPlanes!==ob.numPlanes&&(c.needsUpdate=!0));void 0===e.program&&(c.needsUpdate=!0);void 0!==e.lightsHash&&e.lightsHash!==X.hash&&(c.needsUpdate=!0);if(c.needsUpdate){a:{var f=ca.get(c),g=Ec.getParameters(c,X,b,ob.numPlanes,d),m=Ec.getProgramCode(c,g),n=f.program,p=!0;if(void 0===n)c.addEventListener("dispose",k);else if(n.code!==m)l(c);
else{if(void 0!==g.shaderID)break a;p=!1}p&&(g.shaderID?(n=Z.ShaderLib[g.shaderID],f.__webglShader={name:c.type,uniforms:Z.UniformsUtils.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}):f.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=f.__webglShader,n=Ec.acquireProgram(c,g,m),f.program=n,c.program=n);g=n.getAttributes();if(c.morphTargets)for(m=c.numSupportedMorphTargets=0;m<oa.maxMorphTargets;m++)0<=
g["morphTarget"+m]&&c.numSupportedMorphTargets++;if(c.morphNormals)for(m=c.numSupportedMorphNormals=0;m<oa.maxMorphNormals;m++)0<=g["morphNormal"+m]&&c.numSupportedMorphNormals++;g=f.__webglShader.uniforms;(c instanceof Z.ShaderMaterial||c instanceof Z.RawShaderMaterial)&&!0!==c.clipping||(f.numClippingPlanes=ob.numPlanes,g.clippingPlanes=ob.uniform);c.lights&&(f.lightsHash=X.hash,g.ambientLightColor.value=X.ambient,g.directionalLights.value=X.directional,g.spotLights.value=X.spot,g.pointLights.value=
X.point,g.hemisphereLights.value=X.hemi,g.directionalShadowMap.value=X.directionalShadowMap,g.directionalShadowMatrix.value=X.directionalShadowMatrix,g.spotShadowMap.value=X.spotShadowMap,g.spotShadowMatrix.value=X.spotShadowMatrix,g.pointShadowMap.value=X.pointShadowMap,g.pointShadowMatrix.value=X.pointShadowMatrix);m=f.program.getUniforms();m=Z.WebGLUniforms.seqWithValue(m.seq,g);f.uniformsList=m;f.dynamicUniforms=Z.WebGLUniforms.splitDynamic(m,g)}c.needsUpdate=!1}var q=!1,p=n=!1,f=e.program,m=
f.getUniforms(),g=e.__webglShader.uniforms;f.id!==Cc&&(x.useProgram(f.program),Cc=f.id,p=n=q=!0);c.id!==Va&&(Va=c.id,n=!0);if(q||a!==Kb){m.set(x,a,"projectionMatrix");pb.logarithmicDepthBuffer&&m.setValue(x,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));a!==Kb&&(Kb=a,p=n=!0);if(c instanceof Z.ShaderMaterial||c instanceof Z.MeshPhongMaterial||c instanceof Z.MeshStandardMaterial||c.envMap)q=m.map.cameraPosition,void 0!==q&&q.setValue(x,Qf(Qa,a.matrixWorld));(c instanceof Z.MeshPhongMaterial||c instanceof
Z.MeshLambertMaterial||c instanceof Z.MeshBasicMaterial||c instanceof Z.MeshStandardMaterial||c instanceof Z.ShaderMaterial||c.skinning)&&m.setValue(x,"viewMatrix",a.matrixWorldInverse);m.set(x,oa,"toneMappingExposure");m.set(x,oa,"toneMappingWhitePoint")}c.skinning&&(m.setOptional(x,d,"bindMatrix"),m.setOptional(x,d,"bindMatrixInverse"),q=d.skeleton)&&(pb.floatVertexTextures&&q.useVertexTexture?(m.set(x,q,"boneTexture"),m.set(x,q,"boneTextureWidth"),m.set(x,q,"boneTextureHeight")):m.setOptional(x,
q,"boneMatrices"));if(n){c.lights&&(n=p,g.ambientLightColor.needsUpdate=n,g.directionalLights.needsUpdate=n,g.pointLights.needsUpdate=n,g.spotLights.needsUpdate=n,g.hemisphereLights.needsUpdate=n);b&&c.fog&&(g.fogColor.value=b.color,b instanceof Z.Fog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b instanceof Z.FogExp2&&(g.fogDensity.value=b.density));if(c instanceof Z.MeshBasicMaterial||c instanceof Z.MeshLambertMaterial||c instanceof Z.MeshPhongMaterial||c instanceof Z.MeshStandardMaterial||c instanceof
Z.MeshDepthMaterial){g.opacity.value=c.opacity;g.diffuse.value=c.color;c.emissive&&g.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);g.map.value=c.map;g.specularMap.value=c.specularMap;g.alphaMap.value=c.alphaMap;c.aoMap&&(g.aoMap.value=c.aoMap,g.aoMapIntensity.value=c.aoMapIntensity);if(c.map)var r=c.map;else c.specularMap?r=c.specularMap:c.displacementMap?r=c.displacementMap:c.normalMap?r=c.normalMap:c.bumpMap?r=c.bumpMap:c.roughnessMap?r=c.roughnessMap:c.metalnessMap?r=c.metalnessMap:
c.alphaMap?r=c.alphaMap:c.emissiveMap&&(r=c.emissiveMap);void 0!==r&&(r instanceof Z.WebGLRenderTarget&&(r=r.texture),b=r.offset,r=r.repeat,g.offsetRepeat.value.set(b.x,b.y,r.x,r.y));g.envMap.value=c.envMap;g.flipEnvMap.value=c.envMap instanceof Z.CubeTexture?-1:1;g.reflectivity.value=c.reflectivity;g.refractionRatio.value=c.refractionRatio}c instanceof Z.LineBasicMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity):c instanceof Z.LineDashedMaterial?(g.diffuse.value=c.color,g.opacity.value=
c.opacity,g.dashSize.value=c.dashSize,g.totalSize.value=c.dashSize+c.gapSize,g.scale.value=c.scale):c instanceof Z.PointsMaterial?(g.diffuse.value=c.color,g.opacity.value=c.opacity,g.size.value=c.size*$a,g.scale.value=.5*C.clientHeight,g.map.value=c.map,null!==c.map&&(r=c.map.offset,c=c.map.repeat,g.offsetRepeat.value.set(r.x,r.y,c.x,c.y))):c instanceof Z.MeshLambertMaterial?(c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=
c.emissiveMap)):c instanceof Z.MeshPhongMaterial?(g.specular.value=c.specular,g.shininess.value=Math.max(c.shininess,1E-4),c.lightMap&&(g.lightMap.value=c.lightMap,g.lightMapIntensity.value=c.lightMapIntensity),c.emissiveMap&&(g.emissiveMap.value=c.emissiveMap),c.bumpMap&&(g.bumpMap.value=c.bumpMap,g.bumpScale.value=c.bumpScale),c.normalMap&&(g.normalMap.value=c.normalMap,g.normalScale.value.copy(c.normalScale)),c.displacementMap&&(g.displacementMap.value=c.displacementMap,g.displacementScale.value=
c.displacementScale,g.displacementBias.value=c.displacementBias)):c instanceof Z.MeshPhysicalMaterial?y(g,c):c instanceof Z.MeshStandardMaterial?y(g,c):c instanceof Z.MeshDepthMaterial?c.displacementMap&&(g.displacementMap.value=c.displacementMap,g.displacementScale.value=c.displacementScale,g.displacementBias.value=c.displacementBias):c instanceof Z.MeshNormalMaterial&&(g.opacity.value=c.opacity);Z.WebGLUniforms.upload(x,e.uniformsList,g,oa)}m.set(x,d,"modelViewMatrix");m.set(x,d,"normalMatrix");
m.setValue(x,"modelMatrix",d.matrixWorld);e=e.dynamicUniforms;null!==e&&(Z.WebGLUniforms.evalDynamic(e,g,d,a),Z.WebGLUniforms.upload(x,e,g,oa));return f}function y(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=
b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function B(a,b,c){c?(x.texParameteri(a,x.TEXTURE_WRAP_S,H(b.wrapS)),x.texParameteri(a,x.TEXTURE_WRAP_T,H(b.wrapT)),x.texParameteri(a,x.TEXTURE_MAG_FILTER,H(b.magFilter)),
x.texParameteri(a,x.TEXTURE_MIN_FILTER,H(b.minFilter))):(x.texParameteri(a,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(a,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),b.wrapS===Z.ClampToEdgeWrapping&&b.wrapT===Z.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",b),x.texParameteri(a,x.TEXTURE_MAG_FILTER,I(b.magFilter)),x.texParameteri(a,x.TEXTURE_MIN_FILTER,I(b.minFilter)),b.minFilter!==Z.NearestFilter&&
b.minFilter!==Z.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",b));!(c=ja.get("EXT_texture_filter_anisotropic"))||b.type===Z.FloatType&&null===ja.get("OES_texture_float_linear")||b.type===Z.HalfFloatType&&null===ja.get("OES_texture_half_float_linear")||!(1<b.anisotropy||ca.get(b).__currentAnisotropy)||(x.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,oa.getMaxAnisotropy())),
ca.get(b).__currentAnisotropy=b.anisotropy)}function A(a,b){if(a.width>b||a.height>b){b/=Math.max(a.width,a.height);var c=document.createElement("canvas");c.width=Math.floor(a.width*b);c.height=Math.floor(a.height*b);c.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+c.width+"x"+c.height,a);return c}return a}function D(a){return Z.Math.isPowerOfTwo(a.width)&&Z.Math.isPowerOfTwo(a.height)}
function E(a,b,c,d){var e=H(b.texture.format),f=H(b.texture.type);P.texImage2D(d,0,e,b.width,b.height,0,e,f,null);x.bindFramebuffer(x.FRAMEBUFFER,a);x.framebufferTexture2D(x.FRAMEBUFFER,c,d,ca.get(b.texture).__webglTexture,0);x.bindFramebuffer(x.FRAMEBUFFER,null)}function F(a,b){x.bindRenderbuffer(x.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,b.width,b.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.RENDERBUFFER,a)):
b.depthBuffer&&b.stencilBuffer?(x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,b.width,b.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,x.RENDERBUFFER,a)):x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,b.width,b.height);x.bindRenderbuffer(x.RENDERBUFFER,null)}function I(a){return a===Z.NearestFilter||a===Z.NearestMipMapNearestFilter||a===Z.NearestMipMapLinearFilter?x.NEAREST:x.LINEAR}function H(a){if(a===Z.RepeatWrapping)return x.REPEAT;if(a===Z.ClampToEdgeWrapping)return x.CLAMP_TO_EDGE;
if(a===Z.MirroredRepeatWrapping)return x.MIRRORED_REPEAT;if(a===Z.NearestFilter)return x.NEAREST;if(a===Z.NearestMipMapNearestFilter)return x.NEAREST_MIPMAP_NEAREST;if(a===Z.NearestMipMapLinearFilter)return x.NEAREST_MIPMAP_LINEAR;if(a===Z.LinearFilter)return x.LINEAR;if(a===Z.LinearMipMapNearestFilter)return x.LINEAR_MIPMAP_NEAREST;if(a===Z.LinearMipMapLinearFilter)return x.LINEAR_MIPMAP_LINEAR;if(a===Z.UnsignedByteType)return x.UNSIGNED_BYTE;if(a===Z.UnsignedShort4444Type)return x.UNSIGNED_SHORT_4_4_4_4;
if(a===Z.UnsignedShort5551Type)return x.UNSIGNED_SHORT_5_5_5_1;if(a===Z.UnsignedShort565Type)return x.UNSIGNED_SHORT_5_6_5;if(a===Z.ByteType)return x.BYTE;if(a===Z.ShortType)return x.SHORT;if(a===Z.UnsignedShortType)return x.UNSIGNED_SHORT;if(a===Z.IntType)return x.INT;if(a===Z.UnsignedIntType)return x.UNSIGNED_INT;if(a===Z.FloatType)return x.FLOAT;var b=ja.get("OES_texture_half_float");if(null!==b&&a===Z.HalfFloatType)return b.HALF_FLOAT_OES;if(a===Z.AlphaFormat)return x.ALPHA;if(a===Z.RGBFormat)return x.RGB;
if(a===Z.RGBAFormat)return x.RGBA;if(a===Z.LuminanceFormat)return x.LUMINANCE;if(a===Z.LuminanceAlphaFormat)return x.LUMINANCE_ALPHA;if(a===Z.DepthFormat)return x.DEPTH_COMPONENT;if(a===Z.AddEquation)return x.FUNC_ADD;if(a===Z.SubtractEquation)return x.FUNC_SUBTRACT;if(a===Z.ReverseSubtractEquation)return x.FUNC_REVERSE_SUBTRACT;if(a===Z.ZeroFactor)return x.ZERO;if(a===Z.OneFactor)return x.ONE;if(a===Z.SrcColorFactor)return x.SRC_COLOR;if(a===Z.OneMinusSrcColorFactor)return x.ONE_MINUS_SRC_COLOR;
if(a===Z.SrcAlphaFactor)return x.SRC_ALPHA;if(a===Z.OneMinusSrcAlphaFactor)return x.ONE_MINUS_SRC_ALPHA;if(a===Z.DstAlphaFactor)return x.DST_ALPHA;if(a===Z.OneMinusDstAlphaFactor)return x.ONE_MINUS_DST_ALPHA;if(a===Z.DstColorFactor)return x.DST_COLOR;if(a===Z.OneMinusDstColorFactor)return x.ONE_MINUS_DST_COLOR;if(a===Z.SrcAlphaSaturateFactor)return x.SRC_ALPHA_SATURATE;b=ja.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===Z.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===
Z.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Z.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Z.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=ja.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===Z.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===Z.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===Z.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===Z.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=
ja.get("WEBGL_compressed_texture_etc1");if(null!==b&&a===Z.RGB_ETC1_Format)return b.COMPRESSED_RGB_ETC1_WEBGL;b=ja.get("EXT_blend_minmax");if(null!==b){if(a===Z.MinEquation)return b.MIN_EXT;if(a===Z.MaxEquation)return b.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",Z.REVISION);a=a||{};var C=void 0!==a.canvas?a.canvas:document.createElement("canvas"),J=void 0!==a.context?a.context:null,M=void 0!==a.alpha?a.alpha:!1,T=void 0!==a.depth?a.depth:!0,U=void 0!==a.stencil?a.stencil:!0,L=void 0!==a.antialias?
a.antialias:!1,S=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,R=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,K=[],N=[],Q=-1,la=[],sa=-1,fa=new Float32Array(8),La=[],Id=[];this.domElement=C;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=Z.LinearToneMapping;
this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var oa=this,Cc=null,Db=null,ec=null,Va=-1,Dc="",Kb=null,Vc=new Z.Vector4,Ld=null,Ac=new Z.Vector4,Jd=0,ab=new Z.Color(0),bc=0,Yc=C.width,Zc=C.height,$a=1,Hd=new Z.Vector4(0,0,Yc,Zc),ef=!1,Bc=new Z.Vector4(0,0,Yc,Zc),df=new Z.Frustum,ob=new Z.WebGLClipping,Xc=!1,Kd=!1,dc=new Z.Sphere,Wc=new Z.Matrix4,Qa=new Z.Vector3,X={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],
directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},cc={geometries:0,textures:0},Lb={calls:0,vertices:0,faces:0,points:0};this.info={render:Lb,memory:cc,programs:null};try{M={alpha:M,depth:T,stencil:U,antialias:L,premultipliedAlpha:S,preserveDrawingBuffer:R};var x=J||C.getContext("webgl",M)||C.getContext("experimental-webgl",M);if(null===x){if(null!==C.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}void 0===x.getShaderPrecisionFormat&&(x.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});C.addEventListener("webglcontextlost",e,!1)}catch(Ng){console.error("THREE.WebGLRenderer: "+Ng)}var ff="undefined"!==typeof WebGL2RenderingContext&&x instanceof WebGL2RenderingContext,ja=new Z.WebGLExtensions(x);ja.get("WEBGL_depth_texture");ja.get("OES_texture_float");ja.get("OES_texture_float_linear");ja.get("OES_texture_half_float");ja.get("OES_texture_half_float_linear");
ja.get("OES_standard_derivatives");ja.get("ANGLE_instanced_arrays");ja.get("OES_element_index_uint")&&(Z.BufferGeometry.MaxIndex=4294967296);var pb=new Z.WebGLCapabilities(x,ja,a),P=new Z.WebGLState(x,ja,H),ca=new Z.WebGLProperties,Fc=new Z.WebGLObjects(x,ca,this.info),Ec=new Z.WebGLPrograms(this,pb),$c=new Z.WebGLLights;this.info.programs=Ec.programs;var Og=new Z.WebGLBufferRenderer(x,ja,Lb),Pg=new Z.WebGLIndexedBufferRenderer(x,ja,Lb);c();this.context=x;this.capabilities=pb;this.extensions=ja;this.properties=
ca;this.state=P;var gf=new Z.WebGLShadowMap(this,X,Fc);this.shadowMap=gf;var Qg=new Z.SpritePlugin(this,La),Rg=new Z.LensFlarePlugin(this,Id);this.getContext=function(){return x};this.getContextAttributes=function(){return x.getContextAttributes()};this.forceContextLoss=function(){ja.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=ja.get("EXT_texture_filter_anisotropic");return a=null!==b?x.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0}}();this.getPrecision=function(){return pb.precision};this.getPixelRatio=function(){return $a};this.setPixelRatio=function(){var a=window.devicePixelRatio;void 0!==a&&($a=a,this.setSize(Bc.z,Bc.w,!1))};this.getSize=function(){return{width:Yc,height:Zc}};this.setSize=function(a,b,c){Yc=a;Zc=b;C.width=a*$a;C.height=b*$a;!1!==c&&(C.style.width=a+"px",C.style.height=b+"px");this.setViewport(a,b)};this.setViewport=function(a,b){P.viewport(Bc.set(0,0,a,b))};this.setScissor=function(a,b,c,d){P.scissor(Hd.set(a,
b,c,d))};this.setScissorTest=function(a){P.setScissorTest(ef=a)};this.getClearColor=function(){return ab};this.setClearColor=function(a,c){ab.set(a);bc=void 0!==c?c:1;b(ab.r,ab.g,ab.b,bc)};this.getClearAlpha=function(){return bc};this.setClearAlpha=function(a){bc=a;b(ab.r,ab.g,ab.b,bc)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=x.COLOR_BUFFER_BIT;if(void 0===b||b)d|=x.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=x.STENCIL_BUFFER_BIT;x.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};
this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=d;this.dispose=function(){C.removeEventListener("webglcontextlost",e,!1)};this.renderBufferImmediate=function(a,b,c){P.initAttributes();var d=ca.get(a);a.hasPositions&&!d.position&&(d.position=x.createBuffer());a.hasNormals&&!d.normal&&(d.normal=x.createBuffer());a.hasUvs&&!d.uv&&(d.uv=x.createBuffer());
a.hasColors&&!d.color&&(d.color=x.createBuffer());b=b.getAttributes();a.hasPositions&&(x.bindBuffer(x.ARRAY_BUFFER,d.position),x.bufferData(x.ARRAY_BUFFER,a.positionArray,x.DYNAMIC_DRAW),P.enableAttribute(b.position),x.vertexAttribPointer(b.position,3,x.FLOAT,!1,0,0));if(a.hasNormals){x.bindBuffer(x.ARRAY_BUFFER,d.normal);if("MeshPhongMaterial"!==c.type&&"MeshStandardMaterial"!==c.type&&"MeshPhysicalMaterial"!==c.type&&c.shading===Z.FlatShading)for(var e=0,f=3*a.count;e<f;e+=9){var g=a.normalArray,
k=(g[e+0]+g[e+3]+g[e+6])/3,l=(g[e+1]+g[e+4]+g[e+7])/3,m=(g[e+2]+g[e+5]+g[e+8])/3;g[e+0]=k;g[e+1]=l;g[e+2]=m;g[e+3]=k;g[e+4]=l;g[e+5]=m;g[e+6]=k;g[e+7]=l;g[e+8]=m}x.bufferData(x.ARRAY_BUFFER,a.normalArray,x.DYNAMIC_DRAW);P.enableAttribute(b.normal);x.vertexAttribPointer(b.normal,3,x.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(x.bindBuffer(x.ARRAY_BUFFER,d.uv),x.bufferData(x.ARRAY_BUFFER,a.uvArray,x.DYNAMIC_DRAW),P.enableAttribute(b.uv),x.vertexAttribPointer(b.uv,2,x.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==
Z.NoColors&&(x.bindBuffer(x.ARRAY_BUFFER,d.color),x.bufferData(x.ARRAY_BUFFER,a.colorArray,x.DYNAMIC_DRAW),P.enableAttribute(b.color),x.vertexAttribPointer(b.color,3,x.FLOAT,!1,0,0));P.disableUnusedAttributes();x.drawArrays(x.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){w(d);var g=z(a,b,d,e),k=!1;a=c.id+"_"+g.id+"_"+d.wireframe;a!==Dc&&(Dc=a,k=!0);var l=e.morphTargetInfluences;if(void 0!==l){a=[];for(var n=0,k=l.length;n<k;n++)b=l[n],a.push([b,n]);a.sort(m);8<a.length&&
(a.length=8);l=c.morphAttributes;n=0;for(k=a.length;n<k;n++)b=a[n],fa[n]=b[0],0!==b[0]?(b=b[1],!0===d.morphTargets&&l.position&&c.addAttribute("morphTarget"+n,l.position[b]),!0===d.morphNormals&&l.normal&&c.addAttribute("morphNormal"+n,l.normal[b])):(!0===d.morphTargets&&c.removeAttribute("morphTarget"+n),!0===d.morphNormals&&c.removeAttribute("morphNormal"+n));g.getUniforms().setValue(x,"morphTargetInfluences",fa);k=!0}b=c.index;n=c.attributes.position;!0===d.wireframe&&(b=Fc.getWireframeAttribute(c));
null!==b?(a=Pg,a.setIndex(b)):a=Og;if(k){a:{var p;if(c instanceof Z.InstancedBufferGeometry){var q=ja.get("ANGLE_instanced_arrays");if(null===q){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break a}}void 0===p&&(p=0);P.initAttributes();var k=c.attributes,g=g.getAttributes(),l=d.defaultAttributeValues;for(N in g){var r=g[N];if(0<=r){var t=k[N];if(void 0!==t){var v=x.FLOAT,y=t.array,A=
t.normalized;y instanceof Float32Array?v=x.FLOAT:y instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):y instanceof Uint16Array?v=x.UNSIGNED_SHORT:y instanceof Int16Array?v=x.SHORT:y instanceof Uint32Array?v=x.UNSIGNED_INT:y instanceof Int32Array?v=x.INT:y instanceof Int8Array?v=x.BYTE:y instanceof Uint8Array&&(v=x.UNSIGNED_BYTE);var y=t.itemSize,L=Fc.getAttributeBuffer(t);if(t instanceof Z.InterleavedBufferAttribute){var B=t.data,K=B.stride,t=t.offset;B instanceof
Z.InstancedInterleavedBuffer?(P.enableAttributeAndDivisor(r,B.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=B.meshPerAttribute*B.count)):P.enableAttribute(r);x.bindBuffer(x.ARRAY_BUFFER,L);x.vertexAttribPointer(r,y,v,A,K*B.array.BYTES_PER_ELEMENT,(p*K+t)*B.array.BYTES_PER_ELEMENT)}else t instanceof Z.InstancedBufferAttribute?(P.enableAttributeAndDivisor(r,t.meshPerAttribute,q),void 0===c.maxInstancedCount&&(c.maxInstancedCount=t.meshPerAttribute*t.count)):P.enableAttribute(r),
x.bindBuffer(x.ARRAY_BUFFER,L),x.vertexAttribPointer(r,y,v,A,0,p*y*t.array.BYTES_PER_ELEMENT)}else if(void 0!==l&&(v=l[N],void 0!==v))switch(v.length){case 2:x.vertexAttrib2fv(r,v);break;case 3:x.vertexAttrib3fv(r,v);break;case 4:x.vertexAttrib4fv(r,v);break;default:x.vertexAttrib1fv(r,v)}}}P.disableUnusedAttributes()}null!==b&&x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,Fc.getAttributeBuffer(b))}p=Infinity;null!==b?p=b.count:void 0!==n&&(p=n.count);var N=c.drawRange.start;b=null!==f?f.start:0;q=Math.max(0,
N,b);f=Math.max(0,Math.min(0+p,N+c.drawRange.count,b+(null!==f?f.count:Infinity))-1-q+1);if(e instanceof Z.Mesh)if(!0===d.wireframe)P.setLineWidth(d.wireframeLinewidth*(null===Db?$a:1)),a.setMode(x.LINES);else switch(e.drawMode){case Z.TrianglesDrawMode:a.setMode(x.TRIANGLES);break;case Z.TriangleStripDrawMode:a.setMode(x.TRIANGLE_STRIP);break;case Z.TriangleFanDrawMode:a.setMode(x.TRIANGLE_FAN)}else e instanceof Z.Line?(d=d.linewidth,void 0===d&&(d=1),P.setLineWidth(d*(null===Db?$a:1)),e instanceof
Z.LineSegments?a.setMode(x.LINES):a.setMode(x.LINE_STRIP)):e instanceof Z.Points&&a.setMode(x.POINTS);c instanceof Z.InstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,q,f):a.render(q,f)};this.render=function(a,b,c,d){if(!1===b instanceof Z.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var e=a.fog;Dc="";Va=-1;Kb=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);
Nf(Wc,b.projectionMatrix,b.matrixWorldInverse);bg(df,Wc);K.length=0;sa=Q=-1;La.length=0;Id.length=0;Kd=this.localClippingEnabled;Xc=ob.init(this.clippingPlanes,Kd,b);r(a,b);N.length=Q+1;la.length=sa+1;!0===oa.sortObjects&&(N.sort(n),la.sort(q));Xc&&ob.beginShadows();for(var f=K,g=0,k=0,l=f.length;k<l;k++){var m=f[k];m.castShadow&&(X.shadows[g++]=m)}X.shadows.length=g;gf.render(a,b);for(var f=K,p=0,t=0,w=0,y,z,A,L,B=b.matrixWorldInverse,E=0,F=0,C=0,J=0,k=0,l=f.length;k<l;k++)if(m=f[k],y=m.color,z=
m.intensity,A=m.distance,L=m.shadow&&m.shadow.map?m.shadow.map.texture:null,m instanceof Z.AmbientLight)p+=y.r*z,t+=y.g*z,w+=y.b*z;else if(m instanceof Z.DirectionalLight){g=$c.get(m);g.color.copy(m.color).multiplyScalar(m.intensity);Qf(g.direction,m.matrixWorld);Qf(Qa,m.target.matrixWorld);g.direction.sub(Qa);Rf(g.direction,B);if(g.shadow=m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;X.directionalShadowMap[E]=L;X.directionalShadowMatrix[E]=
m.shadow.matrix;X.directional[E++]=g}else if(m instanceof Z.SpotLight){g=$c.get(m);Qf(g.position,m.matrixWorld);g.position.applyMatrix4(B);g.color.copy(y).multiplyScalar(z);g.distance=A;Qf(g.direction,m.matrixWorld);Qf(Qa,m.target.matrixWorld);g.direction.sub(Qa);Rf(g.direction,B);g.coneCos=Math.cos(m.angle);g.penumbraCos=Math.cos(m.angle*(1-m.penumbra));g.decay=0===m.distance?0:m.decay;if(g.shadow=m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;
X.spotShadowMap[C]=L;X.spotShadowMatrix[C]=m.shadow.matrix;X.spot[C++]=g}else if(m instanceof Z.PointLight){g=$c.get(m);Qf(g.position,m.matrixWorld);g.position.applyMatrix4(B);g.color.copy(m.color).multiplyScalar(m.intensity);g.distance=m.distance;g.decay=0===m.distance?0:m.decay;if(g.shadow=m.castShadow)g.shadowBias=m.shadow.bias,g.shadowRadius=m.shadow.radius,g.shadowMapSize=m.shadow.mapSize;X.pointShadowMap[F]=L;void 0===X.pointShadowMatrix[F]&&(X.pointShadowMatrix[F]=new Z.Matrix4);Qf(Qa,m.matrixWorld).negate();
X.pointShadowMatrix[F].identity().setPosition(Qa);X.point[F++]=g}else m instanceof Z.HemisphereLight&&(g=$c.get(m),Qf(g.direction,m.matrixWorld),Rf(g.direction,B),g.direction.normalize(),g.skyColor.copy(m.color).multiplyScalar(z),g.groundColor.copy(m.groundColor).multiplyScalar(z),X.hemi[J++]=g);X.ambient[0]=p;X.ambient[1]=t;X.ambient[2]=w;X.directional.length=E;X.spot.length=C;X.point.length=F;X.hemi.length=J;X.hash=E+","+F+","+C+","+J+","+X.shadows.length;Xc&&ob.endShadows();Lb.calls=0;Lb.vertices=
0;Lb.faces=0;Lb.points=0;void 0===c&&(c=null);this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);a.overrideMaterial?(d=a.overrideMaterial,v(N,b,e,d),v(la,b,e,d)):(P.setBlending(Z.NoBlending),v(N,b,e),v(la,b,e));Qg.render(a,b);Rg.render(a,b,Ac);c&&(a=c.texture,a.generateMipmaps&&D(c)&&a.minFilter!==Z.NearestFilter&&a.minFilter!==Z.LinearFilter&&(a=c instanceof Z.WebGLRenderTargetCube?x.TEXTURE_CUBE_MAP:x.TEXTURE_2D,c=ca.get(c.texture).__webglTexture,
P.bindTexture(a,c),x.generateMipmap(a),P.bindTexture(a,null)));P.setDepthTest(!0);P.setDepthWrite(!0);P.setColorWrite(!0)}};this.setFaceCulling=function(a,b){P.setCullFace(a);P.setFlipSided(b===Z.FrontFaceDirectionCW)};this.allocTextureUnit=function(){var a=Jd;a>=pb.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+pb.maxTextures);Jd+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b instanceof Z.WebGLRenderTarget&&(a||
(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);var d=ca.get(b);if(0<b.version&&d.__version!==b.version){var e=b.image;if(void 0===e)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);else if(!1===e.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",b);else{void 0===d.__webglInit&&(d.__webglInit=!0,b.addEventListener("dispose",
f),d.__webglTexture=x.createTexture(),cc.textures++);P.activeTexture(x.TEXTURE0+c);P.bindTexture(x.TEXTURE_2D,d.__webglTexture);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,b.flipY);x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);x.pixelStorei(x.UNPACK_ALIGNMENT,b.unpackAlignment);var g=A(b.image,pb.maxTextureSize);(b.wrapS!==Z.ClampToEdgeWrapping||b.wrapT!==Z.ClampToEdgeWrapping||b.minFilter!==Z.NearestFilter&&b.minFilter!==Z.LinearFilter)&&!1===D(g)&&(c=g,c instanceof HTMLImageElement||
c instanceof HTMLCanvasElement?(e=document.createElement("canvas"),e.width=Z.Math.nearestPowerOfTwo(c.width),e.height=Z.Math.nearestPowerOfTwo(c.height),e.getContext("2d").drawImage(c,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+c.width+"x"+c.height+"). Resized to "+e.width+"x"+e.height,c),g=e):g=c);c=D(g);var e=H(b.format),k=H(b.type);B(x.TEXTURE_2D,b,c);var l=b.mipmaps;if(b instanceof Z.DepthTexture){l=x.DEPTH_COMPONENT;if(b.type===Z.FloatType){if(!ff)throw Error("Float Depth Texture only supported in WebGL2.0");
l=x.DEPTH_COMPONENT32F}else ff&&(l=x.DEPTH_COMPONENT16);P.texImage2D(x.TEXTURE_2D,0,l,g.width,g.height,0,e,k,null)}else if(b instanceof Z.DataTexture)if(0<l.length&&c){for(var m=0,n=l.length;m<n;m++)g=l[m],P.texImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,e,k,g.data);b.generateMipmaps=!1}else P.texImage2D(x.TEXTURE_2D,0,e,g.width,g.height,0,e,k,g.data);else if(b instanceof Z.CompressedTexture)for(m=0,n=l.length;m<n;m++)g=l[m],b.format!==Z.RGBAFormat&&b.format!==Z.RGBFormat?-1<P.getCompressedTextureFormats().indexOf(e)?
P.compressedTexImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,g.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):P.texImage2D(x.TEXTURE_2D,m,e,g.width,g.height,0,e,k,g.data);else if(0<l.length&&c){m=0;for(n=l.length;m<n;m++)g=l[m],P.texImage2D(x.TEXTURE_2D,m,e,e,k,g);b.generateMipmaps=!1}else P.texImage2D(x.TEXTURE_2D,0,e,e,k,g);b.generateMipmaps&&c&&x.generateMipmap(x.TEXTURE_2D);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}}else P.activeTexture(x.TEXTURE0+
c),P.bindTexture(x.TEXTURE_2D,d.__webglTexture)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);oa.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b instanceof Z.WebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);if(b instanceof
Z.CubeTexture||Array.isArray(b.image)&&6===b.image.length){var d=ca.get(b);if(6===b.image.length)if(0<b.version&&d.__version!==b.version){d.__image__webglTextureCube||(b.addEventListener("dispose",f),d.__image__webglTextureCube=x.createTexture(),cc.textures++);P.activeTexture(x.TEXTURE0+c);P.bindTexture(x.TEXTURE_CUBE_MAP,d.__image__webglTextureCube);x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,b.flipY);c=b instanceof Z.CompressedTexture;for(var e=b.image[0]instanceof Z.DataTexture,g=[],k=0;6>k;k++)g[k]=!oa.autoScaleCubemaps||
c||e?e?b.image[k].image:b.image[k]:A(b.image[k],pb.maxCubemapSize);var l=D(g[0]),m=H(b.format),n=H(b.type);B(x.TEXTURE_CUBE_MAP,b,l);for(k=0;6>k;k++)if(c)for(var p,q=g[k].mipmaps,r=0,t=q.length;r<t;r++)p=q[r],b.format!==Z.RGBAFormat&&b.format!==Z.RGBFormat?-1<P.getCompressedTextureFormats().indexOf(m)?P.compressedTexImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,r,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):
P.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,r,m,p.width,p.height,0,m,n,p.data);else e?P.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,m,g[k].width,g[k].height,0,m,n,g[k].data):P.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,m,m,n,g[k]);b.generateMipmaps&&l&&x.generateMipmap(x.TEXTURE_CUBE_MAP);d.__version=b.version;if(b.onUpdate)b.onUpdate(b)}else P.activeTexture(x.TEXTURE0+c),P.bindTexture(x.TEXTURE_CUBE_MAP,d.__image__webglTextureCube)}else P.activeTexture(x.TEXTURE0+c),P.bindTexture(x.TEXTURE_CUBE_MAP,
ca.get(b).__webglTexture)}}();this.getCurrentRenderTarget=function(){return Db};this.setRenderTarget=function(a){if((Db=a)&&void 0===ca.get(a).__webglFramebuffer){var b=ca.get(a),c=ca.get(a.texture);a.addEventListener("dispose",g);c.__webglTexture=x.createTexture();cc.textures++;var d=a instanceof Z.WebGLRenderTargetCube,e=Z.Math.isPowerOfTwo(a.width)&&Z.Math.isPowerOfTwo(a.height);if(d){b.__webglFramebuffer=[];for(var f=0;6>f;f++)b.__webglFramebuffer[f]=x.createFramebuffer()}else b.__webglFramebuffer=
x.createFramebuffer();if(d){P.bindTexture(x.TEXTURE_CUBE_MAP,c.__webglTexture);B(x.TEXTURE_CUBE_MAP,a.texture,e);for(f=0;6>f;f++)E(b.__webglFramebuffer[f],a,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+f);a.texture.generateMipmaps&&e&&x.generateMipmap(x.TEXTURE_CUBE_MAP);P.bindTexture(x.TEXTURE_CUBE_MAP,null)}else P.bindTexture(x.TEXTURE_2D,c.__webglTexture),B(x.TEXTURE_2D,a.texture,e),E(b.__webglFramebuffer,a,x.COLOR_ATTACHMENT0,x.TEXTURE_2D),a.texture.generateMipmaps&&e&&x.generateMipmap(x.TEXTURE_2D),
P.bindTexture(x.TEXTURE_2D,null);if(a.depthBuffer){b=ca.get(a);c=a instanceof Z.WebGLRenderTargetCube;if(a.depthTexture){if(c)throw Error("target.depthTexture not supported in Cube render targets");if(a instanceof Z.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer);if(!(a.depthTexture instanceof Z.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");ca.get(a.depthTexture).__webglTexture&&
a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0);oa.setTexture2D(a.depthTexture,0);b=ca.get(a.depthTexture).__webglTexture;x.framebufferTexture2D(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.TEXTURE_2D,b,0)}else if(c)for(b.__webglDepthbuffer=[],c=0;6>c;c++)x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer[c]),b.__webglDepthbuffer[c]=x.createRenderbuffer(),F(b.__webglDepthbuffer[c],
a);else x.bindFramebuffer(x.FRAMEBUFFER,b.__webglFramebuffer),b.__webglDepthbuffer=x.createRenderbuffer(),F(b.__webglDepthbuffer,a);x.bindFramebuffer(x.FRAMEBUFFER,null)}}b=a instanceof Z.WebGLRenderTargetCube;a?(c=ca.get(a),c=b?c.__webglFramebuffer[a.activeCubeFace]:c.__webglFramebuffer,Vc.copy(a.scissor),Ld=a.scissorTest,Ac.copy(a.viewport)):(c=null,Vc.copy(Hd).multiplyScalar($a),Ld=ef,Ac.copy(Bc).multiplyScalar($a));ec!==c&&(x.bindFramebuffer(x.FRAMEBUFFER,c),ec=c);P.scissor(Vc);P.setScissorTest(Ld);
P.viewport(Ac);b&&(b=ca.get(a.texture),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,b.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!1===a instanceof Z.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var g=ca.get(a).__webglFramebuffer;if(g){var k=!1;g!==ec&&(x.bindFramebuffer(x.FRAMEBUFFER,g),k=!0);try{var l=a.texture;
l.format!==Z.RGBAFormat&&H(l.format)!==x.getParameter(x.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):l.type===Z.UnsignedByteType||H(l.type)===x.getParameter(x.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===Z.FloatType&&ja.get("WEBGL_color_buffer_float")||l.type===Z.HalfFloatType&&ja.get("EXT_color_buffer_half_float")?x.checkFramebufferStatus(x.FRAMEBUFFER)===x.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-
d&&0<=c&&c<=a.height-e&&x.readPixels(b,c,d,e,H(l.format),H(l.type),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{k&&x.bindFramebuffer(x.FRAMEBUFFER,ec)}}}}};
Z.WebGLRenderTarget=function(a,b,c){this.uuid=Z.Math.generateUUID();this.width=a;this.height=b;this.scissor=new Z.Vector4(0,0,a,b);this.scissorTest=!1;this.viewport=new Z.Vector4(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=Z.LinearFilter);this.texture=new Z.Texture(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=
null};
Object.assign(Z.WebGLRenderTarget.prototype,Z.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});Z.WebGLRenderTargetCube=function(a,b,c){Z.WebGLRenderTarget.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0};Z.WebGLRenderTargetCube.prototype=Object.create(Z.WebGLRenderTarget.prototype);Z.WebGLRenderTargetCube.prototype.constructor=Z.WebGLRenderTargetCube;
Z.WebGLBufferRenderer=function(a,b,c){var d;this.setMode=function(a){d=a};this.render=function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)};this.renderInstances=function(e){var f=b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var g=e.attributes.position,g=g instanceof Z.InterleavedBufferAttribute?g.data.count:g.count;
f.drawArraysInstancedANGLE(d,0,g,e.maxInstancedCount);c.calls++;c.vertices+=g*e.maxInstancedCount;d===a.TRIANGLES&&(c.faces+=e.maxInstancedCount*g/3)}}};
Z.WebGLClipping=function(){function a(){m.value!==d&&(m.value=d,m.needsUpdate=0<e);c.numPlanes=e}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){g=m.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;Wf(l,b);if(null===g||g.length<e)g=new Float32Array(e);for(e=0;e!==f;++e,d+=4)k.copy(a[e]).applyMatrix4(b,l),k.normal.toArray(g,d),g[d+3]=k.constant}m.value=g;m.needsUpdate=!0}c.numPlanes=f;return g}var c=this,d=null,e=0,f=!1,g=!1,k=new Z.Plane,l=new Z.Matrix3,m={value:null,needsUpdate:!1};
this.uniform=m;this.numPlanes=0;this.init=function(a,c,g){var k=0!==a.length||c||0!==e||f;f=c;d=b(a,g,0);e=a.length;return k};this.beginShadows=function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,k,l,t,r){if(!f||null===c||0===c.length||g&&!k)g?b(null):a();else{k=g?0:e;var n=4*k,p=t.clippingState||null;m.value=p;p=b(c,l,n,r);for(c=0;c!==n;++c)p[c]=d[c];t.clippingState=p;this.numPlanes+=k}}};
Z.WebGLIndexedBufferRenderer=function(a,b,c){var d,e,f;this.setMode=function(a){d=a};this.setIndex=function(c){c.array instanceof Uint32Array&&b.get("OES_element_index_uint")?(e=a.UNSIGNED_INT,f=4):(e=a.UNSIGNED_SHORT,f=2)};this.render=function(b,k){a.drawElements(d,k,e,b*f);c.calls++;c.vertices+=k;d===a.TRIANGLES&&(c.faces+=k/3)};this.renderInstances=function(g,k,l){var m=b.get("ANGLE_instanced_arrays");null===m?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):
(m.drawElementsInstancedANGLE(d,l,e,k*f,g.maxInstancedCount),c.calls++,c.vertices+=l*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*l/3))}};
Z.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];switch(c){case "WEBGL_depth_texture":var d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=
a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer: "+c+" extension not supported.");
return b[c]=d}};
Z.WebGLCapabilities=function(a,b,c){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=void 0!==c.precision?c.precision:"highp";this.logarithmicDepthBuffer=
void 0!==c.logarithmicDepthBuffer?c.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=
a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;c=d(this.precision);c!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",c,"instead."),this.precision=c);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!b.get("EXT_frag_depth"))};
Z.WebGLGeometries=function(a,b,c){function d(a){var g=a.target;a=f[g.id];null!==a.index&&e(a.index);var l=a.attributes;for(m in l)e(l[m]);g.removeEventListener("dispose",d);delete f[g.id];var m=b.get(g);m.wireframe&&e(m.wireframe);b.delete(g);g=b.get(a);g.wireframe&&e(g.wireframe);b.delete(a);c.memory.geometries--}function e(c){var d=c instanceof Z.InterleavedBufferAttribute?b.get(c.data).__webglBuffer:b.get(c).__webglBuffer;void 0!==d&&(a.deleteBuffer(d),c instanceof Z.InterleavedBufferAttribute?
b.delete(c.data):b.delete(c))}var f={};this.get=function(a){var b=a.geometry;if(void 0!==f[b.id])return f[b.id];b.addEventListener("dispose",d);if(b instanceof Z.BufferGeometry)var e=b;else b instanceof Z.Geometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new Z.BufferGeometry).setFromObject(a)),e=b._bufferGeometry);f[b.id]=e;c.memory.geometries++;return e}};
Z.WebGLLights=function(){var a={};this.get=function(b){if(void 0!==a[b.id])return a[b.id];switch(b.type){case "DirectionalLight":var c={direction:new Z.Vector3,color:new Z.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "SpotLight":c={position:new Z.Vector3,direction:new Z.Vector3,color:new Z.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "PointLight":c={position:new Z.Vector3,color:new Z.Color,
distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Z.Vector2};break;case "HemisphereLight":c={direction:new Z.Vector3,skyColor:new Z.Color,groundColor:new Z.Color}}return a[b.id]=c}};
Z.WebGLObjects=function(a,b,c){function d(c,d){c=c instanceof Z.InterleavedBufferAttribute?c.data:c;var e=b.get(c);void 0===e.__webglBuffer?(e.__webglBuffer=a.createBuffer(),a.bindBuffer(d,e.__webglBuffer),a.bufferData(d,c.array,c.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),e.version=c.version):e.version!==c.version&&(a.bindBuffer(d,e.__webglBuffer),!1===c.dynamic||-1===c.updateRange.count?a.bufferSubData(d,0,c.array):0===c.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):
(a.bufferSubData(d,c.updateRange.offset*c.array.BYTES_PER_ELEMENT,c.array.subarray(c.updateRange.offset,c.updateRange.offset+c.updateRange.count)),c.updateRange.count=0),e.version=c.version)}function e(a,b,c){if(b>c){var d=b;b=c;c=d}d=a[b];return void 0===d?(a[b]=[c],!0):-1===d.indexOf(c)?(d.push(c),!0):!1}var f=new Z.WebGLGeometries(a,b,c);this.getAttributeBuffer=function(a){return a instanceof Z.InterleavedBufferAttribute?b.get(a.data).__webglBuffer:b.get(a).__webglBuffer};this.getWireframeAttribute=
function(c){var f=b.get(c);if(void 0!==f.wireframe)return f.wireframe;var g=[];var m=c.index;var n=c.attributes;c=n.position;if(null!==m){n={};var q=m.array;for(var p=0,t=q.length;p<t;p+=3){var r=q[p+0];var v=q[p+1];m=q[p+2];e(n,r,v)&&g.push(r,v);e(n,v,m)&&g.push(v,m);e(n,m,r)&&g.push(m,r)}}else for(q=n.position.array,p=0,t=q.length/3-1;p<t;p+=3)r=p+0,v=p+1,m=p+2,g.push(r,v,v,m,m,r);g=new Z.BufferAttribute(new (65535<c.count?Uint32Array:Uint16Array)(g),1);d(g,a.ELEMENT_ARRAY_BUFFER);return f.wireframe=
g};this.update=function(b){var c=f.get(b);b.geometry instanceof Z.Geometry&&c.updateFromObject(b);b=c.index;var e=c.attributes;null!==b&&d(b,a.ELEMENT_ARRAY_BUFFER);for(var g in e)d(e[g],a.ARRAY_BUFFER);b=c.morphAttributes;for(g in b)for(var e=b[g],n=0,q=e.length;n<q;n++)d(e[n],a.ARRAY_BUFFER);return c}};
Z.WebGLProgram=function(){function a(a){switch(a){case Z.LinearEncoding:return["Linear","( value )"];case Z.sRGBEncoding:return["sRGB","( value )"];case Z.RGBEEncoding:return["RGBE","( value )"];case Z.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case Z.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case Z.RGBDEncoding:return["RGBD","( value, 256.0 )"];case Z.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function b(b,c){c=a(c);
return"vec4 "+b+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function c(b){b=a(b);return"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"}function d(a){switch(a){case Z.LinearToneMapping:a="Linear";break;case Z.ReinhardToneMapping:a="Reinhard";break;case Z.Uncharted2ToneMapping:a="Uncharted2";break;case Z.CineonToneMapping:a="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+a);}return"vec3 toneMapping( vec3 color ) { return "+a+"ToneMapping( color ); }"}
function e(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(g).join("\n")}function f(a){var b=
[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function g(a){return""!==a}function k(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function l(a){return a.replace(/#include +<([\w\d.]+)>/g,function(a,b){a=Z.ShaderChunk[b];if(void 0===a)throw Error("Can not resolve #include \x3c"+b+"\x3e");return l(a)})}function m(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
function(a,b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[ i \]/g,"[ "+b+" ]");return a})}var n=0;return function(a,p,t,r){var q=a.context,w=t.extensions,z=t.defines,y=t.__webglShader.vertexShader,B=t.__webglShader.fragmentShader,A="SHADOWMAP_TYPE_BASIC";r.shadowMapType===Z.PCFShadowMap?A="SHADOWMAP_TYPE_PCF":r.shadowMapType===Z.PCFSoftShadowMap&&(A="SHADOWMAP_TYPE_PCF_SOFT");var D="ENVMAP_TYPE_CUBE",E="ENVMAP_MODE_REFLECTION",F="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(t.envMap.mapping){case Z.CubeReflectionMapping:case Z.CubeRefractionMapping:D=
"ENVMAP_TYPE_CUBE";break;case Z.CubeUVReflectionMapping:case Z.CubeUVRefractionMapping:D="ENVMAP_TYPE_CUBE_UV";break;case Z.EquirectangularReflectionMapping:case Z.EquirectangularRefractionMapping:D="ENVMAP_TYPE_EQUIREC";break;case Z.SphericalReflectionMapping:D="ENVMAP_TYPE_SPHERE"}switch(t.envMap.mapping){case Z.CubeRefractionMapping:case Z.EquirectangularRefractionMapping:E="ENVMAP_MODE_REFRACTION"}switch(t.combine){case Z.MultiplyOperation:F="ENVMAP_BLENDING_MULTIPLY";break;case Z.MixOperation:F=
"ENVMAP_BLENDING_MIX";break;case Z.AddOperation:F="ENVMAP_BLENDING_ADD"}}var I=0<a.gammaFactor?a.gammaFactor:1,w=e(w,r,a.extensions),H=f(z),C=q.createProgram();t instanceof Z.RawShaderMaterial?A=z="":(z=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,H,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+I,"#define MAX_BONES "+r.maxBones,r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+
E:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":
"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+A:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(g).join("\n"),A=[w,"precision "+
r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+t.__webglShader.name,H,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+I,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+D:"",r.envMap?"#define "+E:"",r.envMap?"#define "+F:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?
"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?
"#define "+A:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&a.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==Z.NoToneMapping?"#define TONE_MAPPING":"",r.toneMapping!==Z.NoToneMapping?
Z.ShaderChunk.tonemapping_pars_fragment:"",r.toneMapping!==Z.NoToneMapping?d(r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?Z.ShaderChunk.encodings_pars_fragment:"",r.mapEncoding?b("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?b("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?b("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?c(r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(g).join("\n"));
y=l(y);y=k(y,r);B=l(B);B=k(B,r);!1===t instanceof Z.ShaderMaterial&&(y=m(y),B=m(B));B=A+B;y=Z.WebGLShader(q,q.VERTEX_SHADER,z+y);B=Z.WebGLShader(q,q.FRAGMENT_SHADER,B);q.attachShader(C,y);q.attachShader(C,B);void 0!==t.index0AttributeName?q.bindAttribLocation(C,0,t.index0AttributeName):!0===r.morphTargets&&q.bindAttribLocation(C,0,"position");q.linkProgram(C);r=q.getProgramInfoLog(C);D=q.getShaderInfoLog(y);E=q.getShaderInfoLog(B);I=F=!0;if(!1===q.getProgramParameter(C,q.LINK_STATUS))F=!1,console.error("THREE.WebGLProgram: shader error: ",
q.getError(),"gl.VALIDATE_STATUS",q.getProgramParameter(C,q.VALIDATE_STATUS),"gl.getProgramInfoLog",r,D,E);else if(""!==r)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r);else if(""===D||""===E)I=!1;I&&(this.diagnostics={runnable:F,material:t,programLog:r,vertexShader:{log:D,prefix:z},fragmentShader:{log:E,prefix:A}});q.deleteShader(y);q.deleteShader(B);var J;this.getUniforms=function(){void 0===J&&(J=new Z.WebGLUniforms(q,C,a));return J};var M;this.getAttributes=function(){if(void 0===
M){for(var a={},b=q.getProgramParameter(C,q.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=q.getActiveAttrib(C,c).name;a[d]=q.getAttribLocation(C,d)}M=a}return M};this.destroy=function(){q.deleteProgram(C);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});
this.id=n++;this.code=p;this.usedTimes=1;this.program=C;this.vertexShader=y;this.fragmentShader=B;return this}}();
Z.WebGLPrograms=function(a,b){function c(a,b){if(a)a instanceof Z.Texture?c=a.encoding:a instanceof Z.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),c=a.texture.encoding);else var c=Z.LinearEncoding;c===Z.LinearEncoding&&b&&(c=Z.GammaEncoding);return c}var d=[],e={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",
MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(d,f,l,m,n){var g=e[d.type];if(b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture)var k=1024;else k=Math.floor((b.maxVertexUniforms-20)/4),void 0!==n&&n instanceof Z.SkinnedMesh&&(k=Math.min(n.skeleton.bones.length,k),k<n.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+n.skeleton.bones.length+", this GPU supports just "+k+" (try OpenGL instead of ANGLE)"));var t=a.getPrecision();null!==d.precision&&(t=b.getMaxPrecision(d.precision),
t!==d.precision&&console.warn("THREE.WebGLProgram.getParameters:",d.precision,"not supported, using",t,"instead."));var r=a.getCurrentRenderTarget();return{shaderID:g,precision:t,supportsVertexTextures:b.vertexTextures,outputEncoding:c(r?r.texture:null,a.gammaOutput),map:!!d.map,mapEncoding:c(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:c(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(d.envMap.mapping===Z.CubeUVReflectionMapping||d.envMap.mapping===
Z.CubeUVRefractionMapping),lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:c(d.emissiveMap,a.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:l,useFog:d.fog,fogExp:l instanceof Z.FogExp2,flatShading:d.shading===Z.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,
skinning:d.skinning,maxBones:k,useVertexTexture:b.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,numClippingPlanes:m,shadowMapEnabled:a.shadowMap.enabled&&n.receiveShadow&&0<f.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===Z.DoubleSide,flipSided:d.side===Z.BackSide,depthPacking:void 0!==d.depthPacking?d.depthPacking:!1}};this.getProgramCode=function(a,b){var c=[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void 0!==a.defines)for(var d in a.defines)c.push(d),c.push(a.defines[d]);for(a=0;a<f.length;a++)c.push(b[f[a]]);return c.join()};this.acquireProgram=
function(b,c,e){for(var f,g=0,k=d.length;g<k;g++){var l=d[g];if(l.code===e){f=l;++f.usedTimes;break}}void 0===f&&(f=new Z.WebGLProgram(a,e,b,c),d.push(f));return f};this.releaseProgram=function(a){0===--a.usedTimes&&(d[d.indexOf(a)]=d[d.length-1],d.pop(),a.destroy())};this.programs=d};Z.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c};this.delete=function(b){delete a[b.uuid]};this.clear=function(){a={}}};
Z.WebGLShader=function(){function a(a){a=a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}return function(b,c,d){var e=b.createShader(c);b.shaderSource(e,d);b.compileShader(e);!1===b.getShaderParameter(e,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(e)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",c===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(e),a(d));return e}}();
Z.WebGLShadowMap=function(a,b,c){function d(b,c,d,e){var f=b.geometry,g=r,k=b.customDepthMaterial;d&&(g=v,k=b.customDistanceMaterial);k?f=k:(b=b instanceof Z.SkinnedMesh&&c.skinning,k=0,void 0!==f.morphTargets&&0<f.morphTargets.length&&c.morphTargets&&(k|=1),b&&(k|=2),f=g[k]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(k=f.uuid,g=c.uuid,b=w[k],void 0===b&&(b={},w[k]=b),k=b[g],void 0===k&&(k=f.clone(),b[g]=k),f=k);f.visible=c.visible;f.wireframe=c.wireframe;g=c.side;C.renderSingleSided&&
g==Z.DoubleSide&&(g=Z.FrontSide);C.renderReverseSided&&(g===Z.FrontSide?g=Z.BackSide:g===Z.BackSide&&(g=Z.FrontSide));f.side=g;f.clipShadows=c.clipShadows;f.clippingPlanes=c.clippingPlanes;f.wireframeLinewidth=c.wireframeLinewidth;f.linewidth=c.linewidth;d&&void 0!==f.uniforms.lightPos&&f.uniforms.lightPos.value.copy(e);return f}function e(a,b,c){if(!1!==a.visible){a.layers.test(b.layers)&&(a instanceof Z.Mesh||a instanceof Z.Line||a instanceof Z.Points)&&a.castShadow&&(!1===a.frustumCulled||!0===
k.intersectsObject(a))&&!0===a.material.visible&&(Nf(a.modelViewMatrix,c.matrixWorldInverse,a.matrixWorld),t.push(a));a=a.children;for(var d=0,f=a.length;d<f;d++)e(a[d],b,c)}}var f=a.context,g=a.state,k=new Z.Frustum,l=new Z.Matrix4,m=b.shadows,n=new Z.Vector2,q=new Z.Vector3,p=new Z.Vector3,t=[],r=Array(4),v=Array(4),w={},z=[new Z.Vector3(1,0,0),new Z.Vector3(-1,0,0),new Z.Vector3(0,0,1),new Z.Vector3(0,0,-1),new Z.Vector3(0,1,0),new Z.Vector3(0,-1,0)],y=[new Z.Vector3(0,1,0),new Z.Vector3(0,1,0),
new Z.Vector3(0,1,0),new Z.Vector3(0,1,0),new Z.Vector3(0,0,1),new Z.Vector3(0,0,-1)],B=[new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4,new Z.Vector4];b=new Z.MeshDepthMaterial;b.depthPacking=Z.RGBADepthPacking;b.clipping=!0;for(var A=Z.ShaderLib.distanceRGBA,D=Z.UniformsUtils.clone(A.uniforms),E=0;4!==E;++E){var F=0!==(E&1),I=0!==(E&2),H=b.clone();H.morphTargets=F;H.skinning=I;r[E]=H;F=new Z.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:D,vertexShader:A.vertexShader,
fragmentShader:A.fragmentShader,morphTargets:F,skinning:I,clipping:!0});v[E]=F}var C=this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=Z.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(b,r){if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)&&0!==m.length){g.clearColor(1,1,1,1);g.disable(f.BLEND);g.setDepthTest(!0);g.setScissorTest(!1);for(var v,w,A=0,E=m.length;A<E;A++){var D=m[A],K=D.shadow;if(void 0===K)console.warn("THREE.WebGLShadowMap:",
D,"has no shadow.");else{var N=K.camera;n.copy(K.mapSize);if(D instanceof Z.PointLight){v=6;w=!0;var F=n.x;var H=n.y;B[0].set(2*F,H,F,H);B[1].set(0,H,F,H);B[2].set(3*F,H,F,H);B[3].set(F,H,F,H);B[4].set(3*F,0,F,H);B[5].set(F,0,F,H);n.x*=4;n.y*=2}else v=1,w=!1;null===K.map&&(K.map=new Z.WebGLRenderTarget(n.x,n.y,{minFilter:Z.NearestFilter,magFilter:Z.NearestFilter,format:Z.RGBAFormat}),N.updateProjectionMatrix());K instanceof Z.SpotLightShadow&&K.update(D);F=K.map;K=K.matrix;Qf(p,D.matrixWorld);N.position.copy(p);
a.setRenderTarget(F);a.clear();for(var sa=0;sa<v;sa++){w?(q.copy(N.position),q.add(z[sa]),N.up.copy(y[sa]),N.lookAt(q),g.viewport(B[sa])):(Qf(q,D.target.matrixWorld),N.lookAt(q));N.updateMatrixWorld();N.matrixWorldInverse.getInverse(N.matrixWorld);K.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);K.multiply(N.projectionMatrix);K.multiply(N.matrixWorldInverse);Nf(l,N.projectionMatrix,N.matrixWorldInverse);bg(k,l);t.length=0;e(b,r,N);for(var I=0,J=t.length;I<J;I++){H=t[I];var M=c.update(H);var oa=H.material;
if(oa instanceof Z.MultiMaterial){F=M.groups;var Cc=oa.materials;for(var Db=0,ec=F.length;Db<ec;Db++){oa=F[Db];var Va=Cc[oa.materialIndex];!0===Va.visible&&(Va=d(H,Va,w,p),a.renderBufferDirect(N,null,M,Va,H,oa))}}else Va=d(H,oa,w,p),a.renderBufferDirect(N,null,M,Va,H,null)}}}}a.setClearColor(a.getClearColor(),a.getClearAlpha());C.needsUpdate=!1}}};
Z.WebGLState=function(a,b,c){function d(b,c,d){var e=new Uint8Array(3),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++)a.texImage2D(c+b,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,e);return f}var e=this;this.buffers={color:new Z.WebGLColorBuffer(a),depth:new Z.WebGLDepthBuffer(a,this),stencil:new Z.WebGLStencilBuffer(a,this)};var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),g=new Uint8Array(f),k=new Uint8Array(f),
l=new Uint8Array(f),m={},n=null,q=null,p=null,t=null,r=null,v=null,w=null,z=null,y=!1,B=null,A=null,D=null,E=null,F=null,I=null,H=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),C=null,J={},M=new Z.Vector4,T=new Z.Vector4,U={};U[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);U[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(Z.LessEqualDepth);this.setFlipSided(!1);
this.setCullFace(Z.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(Z.NormalBlending)};this.initAttributes=function(){for(var a=0,b=g.length;a<b;a++)g[a]=0};this.enableAttribute=function(c){g[c]=1;0===k[c]&&(a.enableVertexAttribArray(c),k[c]=1);0!==l[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),l[c]=0)};this.enableAttributeAndDivisor=function(b,c,d){g[b]=1;0===k[b]&&(a.enableVertexAttribArray(b),k[b]=1);l[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),l[b]=
c)};this.disableUnusedAttributes=function(){for(var b=0,c=k.length;b!==c;++b)k[b]!==g[b]&&(a.disableVertexAttribArray(b),k[b]=0)};this.enable=function(b){!0!==m[b]&&(a.enable(b),m[b]=!0)};this.disable=function(b){!1!==m[b]&&(a.disable(b),m[b]=!1)};this.getCompressedTextureFormats=function(){if(null===n&&(n=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)n.push(c[d]);
return n};this.setBlending=function(b,d,e,f,g,k,l,m){if(b!==Z.NoBlending){this.enable(a.BLEND);if(b!==q||m!==y)b===Z.AdditiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):b===Z.SubtractiveBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):
b===Z.MultiplyBlending?m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):m?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),q=b,y=m;if(b===Z.CustomBlending){g=g||d;k=k||e;
l=l||f;if(d!==p||g!==v)a.blendEquationSeparate(c(d),c(g)),p=d,v=g;if(e!==t||f!==r||k!==w||l!==z)a.blendFuncSeparate(c(e),c(f),c(k),c(l)),t=e,r=f,w=k,z=l}else z=w=v=r=t=p=null}else this.disable(a.BLEND),q=b};this.setColorWrite=function(a){this.buffers.color.setMask(a)};this.setDepthTest=function(a){this.buffers.depth.setTest(a)};this.setDepthWrite=function(a){this.buffers.depth.setMask(a)};this.setDepthFunc=function(a){this.buffers.depth.setFunc(a)};this.setStencilTest=function(a){this.buffers.stencil.setTest(a)};
this.setStencilWrite=function(a){this.buffers.stencil.setMask(a)};this.setStencilFunc=function(a,b,c){this.buffers.stencil.setFunc(a,b,c)};this.setStencilOp=function(a,b,c){this.buffers.stencil.setOp(a,b,c)};this.setFlipSided=function(b){B!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),B=b)};this.setCullFace=function(b){b!==Z.CullFaceNone?(this.enable(a.CULL_FACE),b!==A&&(b===Z.CullFaceBack?a.cullFace(a.BACK):b===Z.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);
A=b};this.setLineWidth=function(b){b!==D&&(a.lineWidth(b),D=b)};this.setPolygonOffset=function(b,c,d){if(b){if(this.enable(a.POLYGON_OFFSET_FILL),E!==c||F!==d)a.polygonOffset(c,d),E=c,F=d}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return I};this.setScissorTest=function(b){(I=b)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(b){void 0===b&&(b=a.TEXTURE0+H-1);C!==b&&(a.activeTexture(b),C=b)};this.bindTexture=function(b,c){null===C&&
e.activeTexture();var d=J[C];void 0===d&&(d={type:void 0,texture:void 0},J[C]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||U[b]),d.type=b,d.texture=c};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(L){console.error(L)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(L){console.error(L)}};this.clearColor=function(a,b,c,d){this.buffers.color.setClear(a,b,c,d)};this.clearDepth=function(a){this.buffers.depth.setClear(a)};this.clearStencil=
function(a){this.buffers.stencil.setClear(a)};this.scissor=function(b){!1===M.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),M.copy(b))};this.viewport=function(b){!1===T.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),T.copy(b))};this.reset=function(){for(var b=0;b<k.length;b++)1===k[b]&&(a.disableVertexAttribArray(b),k[b]=0);m={};C=n=null;J={};A=B=q=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};
Z.WebGLColorBuffer=function(a){var b=!1,c=new Z.Vector4,d=null,e=new Z.Vector4;this.setMask=function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)};this.setLocked=function(a){b=a};this.setClear=function(b,d,k,l){c.set(b,d,k,l);!1===e.equals(c)&&(a.clearColor(b,d,k,l),e.copy(c))};this.reset=function(){b=!1;d=null;e=new Z.Vector4}};
Z.WebGLDepthBuffer=function(a,b){var c=!1,d=null,e=null,f=null;this.setTest=function(c){c?b.enable(a.DEPTH_TEST):b.disable(a.DEPTH_TEST)};this.setMask=function(b){d===b||c||(a.depthMask(b),d=b)};this.setFunc=function(b){if(e!==b){if(b)switch(b){case Z.NeverDepth:a.depthFunc(a.NEVER);break;case Z.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case Z.LessDepth:a.depthFunc(a.LESS);break;case Z.LessEqualDepth:a.depthFunc(a.LEQUAL);break;case Z.EqualDepth:a.depthFunc(a.EQUAL);break;case Z.GreaterEqualDepth:a.depthFunc(a.GEQUAL);
break;case Z.GreaterDepth:a.depthFunc(a.GREATER);break;case Z.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);e=b}};this.setLocked=function(a){c=a};this.setClear=function(b){f!==b&&(a.clearDepth(b),f=b)};this.reset=function(){c=!1;f=e=d=null}};
Z.WebGLStencilBuffer=function(a,b){var c=!1,d=null,e=null,f=null,g=null,k=null,l=null,m=null,n=null;this.setTest=function(c){c?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(b){d===b||c||(a.stencilMask(b),d=b)};this.setFunc=function(b,c,d){if(e!==b||f!==c||g!==d)a.stencilFunc(b,c,d),e=b,f=c,g=d};this.setOp=function(b,c,d){if(k!==b||l!==c||m!==d)a.stencilOp(b,c,d),k=b,l=c,m=d};this.setLocked=function(a){c=a};this.setClear=function(b){n!==b&&(a.clearStencil(b),n=b)};this.reset=
function(){c=!1;n=m=l=k=g=f=e=d=null}};
Z.WebGLUniforms=function(){function a(a,e,f){this.seq=[];this.map={};this.renderer=f;f=a.getProgramParameter(e,a.ACTIVE_UNIFORMS);for(var g=0;g!==f;++g){var k=a.getActiveUniform(e,g),l=k,k=a.getUniformLocation(e,k.name),m=this,n=l.name,p=n.length;for(R.lastIndex=0;;){var q=R.exec(n),r=R.lastIndex,t=q[1],v=q[3];"]"===q[2]&&(t|=0);if(void 0===v||"["===v&&r+2===p){n=m;l=void 0===v?new d(t,l,k):new c(t,l,k);n.seq.push(l);n.map[l.id]=l;break}else v=m.map[t],void 0===v&&(v=new b(t),t=m,m=v,t.seq.push(m),
t.map[m.id]=m),m=v}}}function b(a){this.id=a;this.seq=[];this.map={}}function c(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=e(b.type)}function d(a,b,c){this.id=a;this.addr=c;this.setValue=v(b.type)}function e(a){switch(a){case 5126:return r;case 35664:return p;case 35665:return q;case 35666:return n;case 35674:return m;case 35675:return l;case 35676:return k;case 35678:return g;case 35680:return f;case 5124:case 35670:return t;case 35667:case 35671:return y;case 35668:case 35672:return z;
case 35669:case 35673:return w}}function f(a,b,c){var d=b.length,e=T(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTextureCube(f,e[a])}}function g(a,b,c){var d=b.length,e=T(c,d);a.uniform1iv(this.addr,e);for(a=0;a!==d;++a){var f=b[a];f&&c.setTexture2D(f,e[a])}}function k(a,b){a.uniformMatrix4fv(this.addr,!1,U(b,this.size,16))}function l(a,b){a.uniformMatrix3fv(this.addr,!1,U(b,this.size,9))}function m(a,b){a.uniformMatrix2fv(this.addr,!1,U(b,this.size,4))}function n(a,b){a.uniform4fv(this.addr,
U(b,this.size,4))}function q(a,b){a.uniform3fv(this.addr,U(b,this.size,3))}function p(a,b){a.uniform2fv(this.addr,U(b,this.size,2))}function t(a,b){a.uniform1iv(this.addr,b)}function r(a,b){a.uniform1fv(this.addr,b)}function v(a){switch(a){case 5126:return M;case 35664:return C;case 35665:return H;case 35666:return I;case 35674:return F;case 35675:return E;case 35676:return D;case 35678:return A;case 35680:return B;case 5124:case 35670:return J;case 35667:case 35671:return y;case 35668:case 35672:return z;
case 35669:case 35673:return w}}function w(a,b){a.uniform4iv(this.addr,b)}function z(a,b){a.uniform3iv(this.addr,b)}function y(a,b){a.uniform2iv(this.addr,b)}function B(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTextureCube(b,d)}function A(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTexture2D(b,d)}function D(a,b){a.uniformMatrix4fv(this.addr,!1,b.elements||b)}function E(a,b){a.uniformMatrix3fv(this.addr,!1,b.elements||b)}function F(a,b){a.uniformMatrix2fv(this.addr,
!1,b.elements||b)}function I(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)}function H(a,b){void 0!==b.x?a.uniform3f(this.addr,b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,b)}function C(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,b.x,b.y)}function J(a,b){a.uniform1i(this.addr,b)}function M(a,b){a.uniform1f(this.addr,b)}function T(a,b){var c=S[b];void 0===c&&(c=new Int32Array(b),S[b]=c);for(var d=0;d!==
b;++d)c[d]=a.allocTextureUnit();return c}function U(a,b,c){var d=a[0];if(0>=d||0<d)return a;var e=b*c,f=L[e];void 0===f&&(f=new Float32Array(e),L[e]=f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return f}var L=[],S=[];b.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var R=/([\w\d_]+)(\])?(\[|\.)?/g;a.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};a.prototype.set=
function(a,b,c){var d=this.map[c];void 0!==d&&d.setValue(a,b[c],this.renderer)};a.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};a.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],k=c[g.id];!1!==k.needsUpdate&&g.setValue(a,k.value,d)}};a.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};a.splitDynamic=function(a,b){for(var c=null,d=a.length,e=0,f=0;f!==d;++f){var g=a[f],k=b[g.id];k&&!0===
k.dynamic?(null===c&&(c=[]),c.push(g)):(e<f&&(a[e]=g),++e)}e<d&&(a.length=e);return c};a.evalDynamic=function(a,b,c,d){for(var e=0,f=a.length;e!==f;++e){var g=b[a[e].id],k=g.onUpdateCallback;void 0!==k&&k.call(g,c,d)}};return a}();
Z.LensFlarePlugin=function(a,b){var c,d,e,f,g,k,l,m,n,q,p=a.context,t=a.state,r,v,w,z,y,B;this.render=function(A,D,E){if(0!==b.length){A=new Z.Vector3;var F=E.w/E.z,I=.5*E.z,H=.5*E.w,C=16/E.w,J=new Z.Vector2(C*F,C),M=new Z.Vector3(1,1,0),T=new Z.Vector2(1,1),U=new Z.Box2;U.min.set(0,0);U.max.set(E.z-16,E.w-16);if(void 0===z){var C=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),L=new Uint16Array([0,1,2,0,2,3]);r=p.createBuffer();v=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,r);p.bufferData(p.ARRAY_BUFFER,
C,p.STATIC_DRAW);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);p.bufferData(p.ELEMENT_ARRAY_BUFFER,L,p.STATIC_DRAW);y=p.createTexture();B=p.createTexture();t.bindTexture(p.TEXTURE_2D,y);p.texImage2D(p.TEXTURE_2D,0,p.RGB,16,16,0,p.RGB,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);t.bindTexture(p.TEXTURE_2D,
B);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,16,16,0,p.RGBA,p.UNSIGNED_BYTE,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);var C=w={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV \x3d uv;\nvec2 pos \x3d position;\nif ( renderType \x3d\x3d 2 ) {\nvec4 visibility \x3d texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility +\x3d texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility \x3d        visibility.r / 9.0;\nvVisibility *\x3d 1.0 - visibility.g / 9.0;\nvVisibility *\x3d       visibility.b / 9.0;\nvVisibility *\x3d 1.0 - visibility.a / 9.0;\npos.x \x3d cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y \x3d sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position \x3d vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType \x3d\x3d 0 ) {\ngl_FragColor \x3d vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType \x3d\x3d 1 ) {\ngl_FragColor \x3d texture2D( map, vUV );\n} else {\nvec4 texture \x3d texture2D( map, vUV );\ntexture.a *\x3d opacity * vVisibility;\ngl_FragColor \x3d texture;\ngl_FragColor.rgb *\x3d color;\n}\n}"},L=p.createProgram(),
S=p.createShader(p.FRAGMENT_SHADER),R=p.createShader(p.VERTEX_SHADER),K="precision "+a.getPrecision()+" float;\n";p.shaderSource(S,K+C.fragmentShader);p.shaderSource(R,K+C.vertexShader);p.compileShader(S);p.compileShader(R);p.attachShader(L,S);p.attachShader(L,R);p.linkProgram(L);z=L;n=p.getAttribLocation(z,"position");q=p.getAttribLocation(z,"uv");c=p.getUniformLocation(z,"renderType");d=p.getUniformLocation(z,"map");e=p.getUniformLocation(z,"occlusionMap");f=p.getUniformLocation(z,"opacity");g=
p.getUniformLocation(z,"color");k=p.getUniformLocation(z,"scale");l=p.getUniformLocation(z,"rotation");m=p.getUniformLocation(z,"screenPosition")}p.useProgram(z);t.initAttributes();t.enableAttribute(n);t.enableAttribute(q);t.disableUnusedAttributes();p.uniform1i(e,0);p.uniform1i(d,1);p.bindBuffer(p.ARRAY_BUFFER,r);p.vertexAttribPointer(n,2,p.FLOAT,!1,16,0);p.vertexAttribPointer(q,2,p.FLOAT,!1,16,8);p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,v);t.disable(p.CULL_FACE);t.setDepthWrite(!1);L=0;for(S=b.length;L<
S;L++)if(C=16/E.w,J.set(C*F,C),R=b[L],A.set(R.matrixWorld.elements[12],R.matrixWorld.elements[13],R.matrixWorld.elements[14]),A.applyMatrix4(D.matrixWorldInverse),Of(A,D.projectionMatrix),M.copy(A),T.x=E.x+M.x*I+I-8,T.y=E.y+M.y*H+H-8,!0===U.containsPoint(T)){t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,null);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,y);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGB,T.x,T.y,16,16,0);p.uniform1i(c,0);p.uniform2f(k,J.x,J.y);p.uniform3f(m,M.x,M.y,M.z);t.disable(p.BLEND);
t.enable(p.DEPTH_TEST);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);t.activeTexture(p.TEXTURE0);t.bindTexture(p.TEXTURE_2D,B);p.copyTexImage2D(p.TEXTURE_2D,0,p.RGBA,T.x,T.y,16,16,0);p.uniform1i(c,1);t.disable(p.DEPTH_TEST);t.activeTexture(p.TEXTURE1);t.bindTexture(p.TEXTURE_2D,y);p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0);R.positionScreen.copy(M);R.customUpdateCallback?R.customUpdateCallback(R):R.updateLensFlares();p.uniform1i(c,2);t.enable(p.BLEND);for(var K=0,N=R.lensFlares.length;K<N;K++){var Q=
R.lensFlares[K];.001<Q.opacity&&.001<Q.scale&&(M.x=Q.x,M.y=Q.y,M.z=Q.z,C=Q.size*Q.scale/E.w,J.x=C*F,J.y=C,p.uniform3f(m,M.x,M.y,M.z),p.uniform2f(k,J.x,J.y),p.uniform1f(l,Q.rotation),p.uniform1f(f,Q.opacity),p.uniform3f(g,Q.color.r,Q.color.g,Q.color.b),t.setBlending(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst),a.setTexture2D(Q.texture,1),p.drawElements(p.TRIANGLES,6,p.UNSIGNED_SHORT,0))}}t.enable(p.CULL_FACE);t.enable(p.DEPTH_TEST);t.setDepthWrite(!0);a.resetGLState()}}};
Z.SpritePlugin=function(a,b){var c,d,e,f,g,k,l,m,n,q,p,t,r,v,w,z,y;function B(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var A=a.context,D=a.state,E,F,I,H,C=new Z.Vector3,J=new Z.Quaternion,M=new Z.Vector3;this.render=function(T,U){if(0!==b.length){if(void 0===I){var L=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),S=new Uint16Array([0,1,2,0,2,3]);E=A.createBuffer();F=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,E);A.bufferData(A.ARRAY_BUFFER,
L,A.STATIC_DRAW);A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,F);A.bufferData(A.ELEMENT_ARRAY_BUFFER,S,A.STATIC_DRAW);var L=A.createProgram(),S=A.createShader(A.VERTEX_SHADER),R=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(S,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV \x3d uvOffset + uv * uvScale;\nvec2 alignedPosition \x3d position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x \x3d cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y \x3d sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition \x3d modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +\x3d rotatedPosition;\nfinalPosition \x3d projectionMatrix * finalPosition;\ngl_Position \x3d finalPosition;\n}"].join("\n"));
A.shaderSource(R,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture \x3d texture2D( map, vUV );\nif ( texture.a \x3c alphaTest ) discard;\ngl_FragColor \x3d vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType \x3e 0 ) {\nfloat depth \x3d gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor \x3d 0.0;\nif ( fogType \x3d\x3d 1 ) {\nfogFactor \x3d smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 \x3d 1.442695;\nfogFactor \x3d exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor \x3d 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor \x3d mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
A.compileShader(S);A.compileShader(R);A.attachShader(L,S);A.attachShader(L,R);A.linkProgram(L);I=L;z=A.getAttribLocation(I,"position");y=A.getAttribLocation(I,"uv");c=A.getUniformLocation(I,"uvOffset");d=A.getUniformLocation(I,"uvScale");e=A.getUniformLocation(I,"rotation");f=A.getUniformLocation(I,"scale");g=A.getUniformLocation(I,"color");k=A.getUniformLocation(I,"map");l=A.getUniformLocation(I,"opacity");m=A.getUniformLocation(I,"modelViewMatrix");n=A.getUniformLocation(I,"projectionMatrix");q=
A.getUniformLocation(I,"fogType");p=A.getUniformLocation(I,"fogDensity");t=A.getUniformLocation(I,"fogNear");r=A.getUniformLocation(I,"fogFar");v=A.getUniformLocation(I,"fogColor");w=A.getUniformLocation(I,"alphaTest");L=document.createElement("canvas");L.width=8;L.height=8;S=L.getContext("2d");S.fillStyle="white";S.fillRect(0,0,8,8);H=new Z.Texture(L);H.needsUpdate=!0}A.useProgram(I);D.initAttributes();D.enableAttribute(z);D.enableAttribute(y);D.disableUnusedAttributes();D.disable(A.CULL_FACE);D.enable(A.BLEND);
A.bindBuffer(A.ARRAY_BUFFER,E);A.vertexAttribPointer(z,2,A.FLOAT,!1,16,0);A.vertexAttribPointer(y,2,A.FLOAT,!1,16,8);A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,F);A.uniformMatrix4fv(n,!1,U.projectionMatrix.elements);D.activeTexture(A.TEXTURE0);A.uniform1i(k,0);S=L=0;(R=T.fog)?(A.uniform3f(v,R.color.r,R.color.g,R.color.b),R instanceof Z.Fog?(A.uniform1f(t,R.near),A.uniform1f(r,R.far),A.uniform1i(q,1),S=L=1):R instanceof Z.FogExp2&&(A.uniform1f(p,R.density),A.uniform1i(q,2),S=L=2)):(A.uniform1i(q,0),S=L=0);
for(var R=0,K=b.length;R<K;R++){var N=b[R];Nf(N.modelViewMatrix,U.matrixWorldInverse,N.matrixWorld);N.z=-N.modelViewMatrix.elements[14]}b.sort(B);U=[];R=0;for(K=b.length;R<K;R++){N=b[R];var Q=N.material;A.uniform1f(w,Q.alphaTest);A.uniformMatrix4fv(m,!1,N.modelViewMatrix.elements);N.matrixWorld.decompose(C,J,M);U[0]=M.x;U[1]=M.y;N=0;T.fog&&Q.fog&&(N=S);L!==N&&(A.uniform1i(q,N),L=N);null!==Q.map?(A.uniform2f(c,Q.map.offset.x,Q.map.offset.y),A.uniform2f(d,Q.map.repeat.x,Q.map.repeat.y)):(A.uniform2f(c,
0,0),A.uniform2f(d,1,1));A.uniform1f(l,Q.opacity);A.uniform3f(g,Q.color.r,Q.color.g,Q.color.b);A.uniform1f(e,Q.rotation);A.uniform2fv(f,U);D.setBlending(Q.blending,Q.blendEquation,Q.blendSrc,Q.blendDst);D.setDepthTest(Q.depthTest);D.setDepthWrite(Q.depthWrite);Q.map?a.setTexture2D(Q.map,0):a.setTexture2D(H,0);A.drawElements(A.TRIANGLES,6,A.UNSIGNED_SHORT,0)}D.enable(A.CULL_FACE);a.resetGLState()}}};
Object.assign(Z,{Face4:function(a,b,c,d,e,f,g){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new Z.Face3(a,b,c,e,f,g)},LineStrip:0,LinePieces:1,MeshFaceMaterial:Z.MultiMaterial,PointCloud:function(a,b){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new Z.Points(a,b)},Particle:Z.Sprite,ParticleSystem:function(a,b){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new Z.Points(a,b)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");
return new Z.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");return new Z.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new Z.PointsMaterial(a)},Vertex:function(a,b,c){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new Z.Vector3(a,b,c)}});
Object.assign(Z.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)}});
Object.assign(Z.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Z.Matrix3.prototype,{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return Sf(a,this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});
Object.assign(Z.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return Tf(this,a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");
return Of(a,this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");
Rf(a,this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});
Object.assign(Z.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b}});Object.assign(Z.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return Mf(a,this)}});
Object.assign(Z.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});
Object.assign(Z.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return Qf(this,a)},
getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");var b=Pf(this,a,0).length(),c=Pf(this,a,1).length();a=Pf(this,a,2).length();this.x=b;this.y=c;this.z=a;return this},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return Pf(this,b,a)}});
Object.assign(Z.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});
Object.defineProperties(Z.Object3D.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(Z.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Z.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};
Object.defineProperties(Z.Light.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");
this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");
this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");
this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(Z.BufferAttribute.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});
Object.assign(Z.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},
computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(Z.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});
Object.defineProperties(Z.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new Z.Color}}});
Object.defineProperties(Z.MeshPhongMaterial.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});
Object.defineProperties(Z.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});
Z.EventDispatcher.prototype=Object.assign(Object.create({constructor:Z.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),Z.EventDispatcher.prototype);
Object.assign(Z.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");
return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},
supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");
this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});
Object.defineProperties(Z.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");
this.shadowMap.cullFace=a}}});Object.defineProperties(Z.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?Z.CullFaceFront:Z.CullFaceBack},set:function(a){a=a!==Z.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});
Object.defineProperties(Z.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=
a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=
a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=
a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});
Object.assign(Z.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var b=this;(new Z.AudioLoader).load(a,function(a){b.setBuffer(a)});return this}});Object.assign(Z.AudioAnalyser.prototype,{getData:function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});
Z.GeometryUtils={merge:function(a,b,c){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");if(b instanceof Z.Mesh){b.matrixAutoUpdate&&b.updateMatrix();var d=b.matrix;b=b.geometry}a.merge(b,d,c)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
Z.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var e=new Z.TextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,d);b&&(a.mapping=b);return a},loadTextureCube:function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var e=new Z.CubeTextureLoader;e.setCrossOrigin(this.crossOrigin);a=e.load(a,c,void 0,
d);b&&(a.mapping=b);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};
Z.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
Z.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};
Z.CurveUtils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
Z.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new Z.Group,d=0,e=b.length;d<e;d++)c.add(new Z.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new Z.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
Z.ShapeUtils={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(a,b){var c=a.length;if(3>c)return null;var d=[],e=[],f=[],g;if(0<Z.ShapeUtils.area(a))for(g=0;g<c;g++)e[g]=g;else for(g=0;g<c;g++)e[g]=c-1-g;var k=2*c;for(g=c-1;2<c;){if(0>=k--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var l=g;c<=l&&(l=0);g=l+1;c<=g&&(g=0);var m=g+1;c<=m&&(m=0);a:{var n;var q=a[e[l]].x;var p=a[e[l]].y;
var t=a[e[g]].x;var r=a[e[g]].y;var v=a[e[m]].x;var w=a[e[m]].y;if(Number.EPSILON>(t-q)*(w-p)-(r-p)*(v-q))var z=!1;else{var y=v-t;var B=w-r;var A=q-v;var D=p-w;var E=t-q;z=r-p;for(n=0;n<c;n++){var F=a[e[n]].x;var I=a[e[n]].y;if(!(F===q&&I===p||F===t&&I===r||F===v&&I===w)){var H=F-q;var C=I-p;var J=F-t;var M=I-r;F-=v;I-=w;M=y*M-B*J;C=E*C-z*H;F=A*I-D*F;if(M>=-Number.EPSILON&&F>=-Number.EPSILON&&C>=-Number.EPSILON){z=!1;break a}}}z=!0}}if(z){d.push([a[e[l]],a[e[g]],a[e[m]]]);f.push([e[l],e[g],e[m]]);
l=g;for(m=g+1;m<c;l++,m++)e[l]=e[m];c--;k=2*c}}return b?f:d},triangulateShape:function(a,b){function c(a,b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e){var f=b.x-a.x,g=b.y-a.y,k=e.x-d.x,l=e.y-d.y,m=a.x-d.x,n=a.y-d.y,p=g*k-f*l,q=g*m-f*n;if(Math.abs(p)>Number.EPSILON){if(0<p){if(0>q||q>p)return[];k=l*m-k*n;if(0>k||k>p)return[]}else{if(0<q||q<p)return[];k=l*m-k*n;if(0<k||k<p)return[]}if(0===k)return 0!==q&&q!==p?[a]:
[];if(k===p)return 0!==q&&q!==p?[b]:[];if(0===q)return[d];if(q===p)return[e];d=k/p;return[{x:a.x+d*f,y:a.y+d*g}]}if(0!==q||l*m!==k*n)return[];g=0===f&&0===g;k=0===k&&0===l;if(g&&k)return a.x!==d.x||a.y!==d.y?[]:[a];if(g)return c(d,e,a)?[a]:[];if(k)return c(a,b,d)?[d]:[];0!==f?(a.x<b.x?(f=a,k=a.x,g=b,a=b.x):(f=b,k=b.x,g=a,a=a.x),d.x<e.x?(b=d,p=d.x,l=e,d=e.x):(b=e,p=e.x,l=d,d=d.x)):(a.y<b.y?(f=a,k=a.y,g=b,a=b.y):(f=b,k=b.y,g=a,a=a.y),d.y<e.y?(b=d,p=d.y,l=e,d=e.y):(b=e,p=e.y,l=d,d=d.y));return k<=p?
a<p?[]:a===p?[]:a<=d?[b,g]:[b,l]:k>d?[]:k===d?[]:a<=d?[f,g]:[f,l]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return Math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g={},k=a.concat();var l=0;for(f=b.length;l<f;l++)Array.prototype.push.apply(k,b[l]);l=0;for(f=k.length;l<f;l++){var m=k[l].x+":"+k[l].y;void 0!==g[m]&&console.warn("THREE.Shape: Duplicate point",m);g[m]=l}l=function(a,b){function c(a,b){var c=k.length-
1,d=a-1;0>d&&(d=c);var f=a+1;f>c&&(f=0);c=e(k[a],k[d],k[f],C[b]);if(!c)return!1;c=C.length-1;d=b-1;0>d&&(d=c);f=b+1;f>c&&(f=0);return(c=e(C[b],C[d],C[f],k[a]))?!0:!1}function f(a,b){var c;for(c=0;c<k.length;c++){var e=c+1;e%=k.length;e=d(a,b,k[c],k[e]);if(0<e.length)return!0}return!1}function g(a,c){var e,f;for(e=0;e<l.length;e++){var g=b[l[e]];for(f=0;f<g.length;f++){var k=f+1;k%=g.length;k=d(a,c,g[f],g[k]);if(0<k.length)return!0}}return!1}var k=a.concat(),l=[],m,n;a=[];var q,A=0;for(m=b.length;A<
m;A++)l.push(A);var D=0;for(var E=2*l.length;0<l.length;){E--;if(0>E){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(n=D;n<k.length;n++){var F=k[n];m=-1;for(A=0;A<l.length;A++){var I=l[A];var H=F.x+":"+F.y+":"+I;if(void 0===a[H]){var C=b[I];for(q=0;q<C.length;q++)if(I=C[q],c(n,q)&&!f(F,I)&&!g(F,I)){m=q;l.splice(A,1);D=k.slice(0,n+1);I=k.slice(n);q=C.slice(m);var J=C.slice(0,m+1);k=D.concat(q).concat(J).concat(I);D=n;break}if(0<=m)break;a[H]=!0}}if(0<=
m)break}}return k}(a,b);k=Z.ShapeUtils.triangulate(l,!1);l=0;for(f=k.length;l<f;l++)for(b=k[l],a=0;3>a;a++)m=b[a].x+":"+b[a].y,m=g[m],void 0!==m&&(b[a]=m);return k.concat()},isClockWise:function(a){return 0>Z.ShapeUtils.area(a)},b2:function(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d},b3:function(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}};Z.Curve=function(){};
Z.Curve.prototype={constructor:Z.Curve,getPoint:function(){console.warn("THREE.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(a){a=Ag(this,a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c},getSpacedPoints:function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c},getLength:function(){var a=Bg(this);return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=
!0;Bg(this)},getTangent:function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()}};function Ag(a,b){a=Bg(a);var c=a.length;var d=b*a[c-1];for(var e=0,f=c-1,g;e<=f;)if(b=Math.floor(e+(f-e)/2),g=a[b]-d,0>g)e=b+1;else if(0<g)f=b-1;else{f=b;break}b=f;if(a[b]===d)return b/(c-1);e=a[b];return(b+(d-e)/(a[b+1]-e))/(c-1)}
function Bg(a){var b;b||(b=a.__arcLengthDivisions?a.__arcLengthDivisions:200);if(a.cacheArcLengths&&a.cacheArcLengths.length===b+1&&!a.needsUpdate)return a.cacheArcLengths;a.needsUpdate=!1;var c=[],d=a.getPoint(0),e,f=0;c.push(0);for(e=1;e<=b;e++){var g=a.getPoint(e/b);f+=g.distanceTo(d);c.push(f);d=g}return a.cacheArcLengths=c}Z.Curve.create=function(a,b){a.prototype=Object.create(Z.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};
Z.CurvePath=function(){this.curves=[];this.autoClose=!1};
Z.CurvePath.prototype=Object.assign(Object.create(Z.Curve.prototype),{constructor:Z.CurvePath,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Z.LineCurve(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b)return a=this.curves[d],b=1-(c[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();
return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var b=new Z.Geometry,c=0,d=a.length;c<
d;c++){var e=a[c];b.vertices.push(new Z.Vector3(e.x,e.y,e.z||0))}return b}});Z.Font=function(a){this.data=a};
Object.assign(Z.Font.prototype,{generateShapes:function(a,b,c){void 0===b&&(b=100);void 0===c&&(c=4);var d=this.data;a=String(a).split("");var e=b/d.resolution,f=0;b=[];for(var g=0;g<a.length;g++){var k;var l=e;var m=f,n=d.glyphs[a[g]]||d.glyphs["?"];if(n){var q=new Z.Path,p=[],t=Z.ShapeUtils.b2,r=Z.ShapeUtils.b3;if(n.o)for(var v=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),w=0,z=v.length;w<z;)switch(v[w++]){case "m":var y=v[w++]*l+m;var B=v[w++]*l;q.moveTo(y,B);break;case "l":y=v[w++]*l+m;
B=v[w++]*l;q.lineTo(y,B);break;case "q":var A=v[w++]*l+m;var D=v[w++]*l;var E=v[w++]*l+m;var F=v[w++]*l;q.quadraticCurveTo(E,F,A,D);if(k=p[p.length-1]){var I=k.x;k=k.y;for(var H=1;H<=c;H++){var C=H/c;t(C,I,E,A);t(C,k,F,D)}}break;case "b":if(A=v[w++]*l+m,D=v[w++]*l,E=v[w++]*l+m,F=v[w++]*l,y=v[w++]*l+m,B=v[w++]*l,q.bezierCurveTo(E,F,y,B,A,D),k=p[p.length-1])for(I=k.x,k=k.y,H=1;H<=c;H++)C=H/c,r(C,I,E,y,A),r(C,k,F,B,D)}l={offset:n.ha*l,path:q}}else l=void 0;f+=l.offset;b.push(l.path)}c=[];d=0;for(a=b.length;d<
a;d++)Array.prototype.push.apply(c,b[d].toShapes());return c}});Z.Path=function(a){Z.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};
Z.Path.prototype=Object.assign(Object.create(Z.CurvePath.prototype),{constructor:Z.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,b){var c=this.actions[this.actions.length-1].args;this.curves.push(new Z.LineCurve(new Z.Vector2(c[c.length-2],c[c.length-1]),new Z.Vector2(a,b)));this.actions.push({action:"lineTo",args:[a,b]})},quadraticCurveTo:function(a,
b,c,d){var e=this.actions[this.actions.length-1].args;this.curves.push(new Z.QuadraticBezierCurve(new Z.Vector2(e[e.length-2],e[e.length-1]),new Z.Vector2(a,b),new Z.Vector2(c,d)));this.actions.push({action:"quadraticCurveTo",args:[a,b,c,d]})},bezierCurveTo:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.curves.push(new Z.CubicBezierCurve(new Z.Vector2(g[g.length-2],g[g.length-1]),new Z.Vector2(a,b),new Z.Vector2(c,d),new Z.Vector2(e,f)));this.actions.push({action:"bezierCurveTo",
args:[a,b,c,d,e,f]})},splineThru:function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,c=[new Z.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new Z.SplineCurve(c));this.actions.push({action:"splineThru",args:b})},arc:function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,
b,c,d,e,f,g,k){var l=this.actions[this.actions.length-1].args;this.absellipse(a+l[l.length-2],b+l[l.length-1],c,d,e,f,g,k)},absellipse:function(a,b,c,d,e,f,g,k){var l=[a,b,c,d,e,f,g,k||0];a=new Z.EllipseCurve(a,b,c,d,e,f,g,k);this.curves.push(a);a=a.getPoint(1);l.push(a.x);l.push(a.y);this.actions.push({action:"ellipse",args:l})},getSpacedPoints:function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var b=
Z.ShapeUtils.b2,c=Z.ShapeUtils.b3,d=[],e,f,g,k,l,m,n,q,p=0,t=this.actions.length;p<t;p++){q=this.actions[p];var r=q.args;switch(q.action){case "moveTo":d.push(new Z.Vector2(r[0],r[1]));break;case "lineTo":d.push(new Z.Vector2(r[0],r[1]));break;case "quadraticCurveTo":e=r[2];f=r[3];l=r[0];m=r[1];if(0<d.length){q=d[d.length-1];var v=q.x;n=q.y}else q=this.actions[p-1].args,v=q[q.length-2],n=q[q.length-1];for(r=1;r<=a;r++){var w=r/a;q=b(w,v,l,e);w=b(w,n,m,f);d.push(new Z.Vector2(q,w))}break;case "bezierCurveTo":e=
r[4];f=r[5];l=r[0];m=r[1];g=r[2];k=r[3];0<d.length?(q=d[d.length-1],v=q.x,n=q.y):(q=this.actions[p-1].args,v=q[q.length-2],n=q[q.length-1]);for(r=1;r<=a;r++)w=r/a,q=c(w,v,l,g,e),w=c(w,n,m,k,f),d.push(new Z.Vector2(q,w));break;case "splineThru":q=this.actions[p-1].args;w=[new Z.Vector2(q[q.length-2],q[q.length-1])];q=a*r[0].length;w=w.concat(r[0]);w=new Z.SplineCurve(w);for(r=1;r<=q;r++)d.push(w.getPointAt(r/q));break;case "arc":e=r[0];f=r[1];m=r[2];g=r[3];q=r[4];l=!!r[5];n=q-g;v=2*a;for(r=1;r<=v;r++)w=
r/v,l||(w=1-w),w=g+w*n,q=e+m*Math.cos(w),w=f+m*Math.sin(w),d.push(new Z.Vector2(q,w));break;case "ellipse":e=r[0];f=r[1];m=r[2];k=r[3];g=r[4];q=r[5];l=!!r[6];var z=r[7];n=q-g;v=2*a;if(0!==z){var y=Math.cos(z);var B=Math.sin(z)}for(r=1;r<=v;r++){w=r/v;l||(w=1-w);w=g+w*n;q=e+m*Math.cos(w);w=f+k*Math.sin(w);if(0!==z){var A=q;q=(A-e)*y-(w-f)*B+e;w=(A-e)*B+(w-f)*y+f}d.push(new Z.Vector2(q,w))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-
1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new Z.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],k=b[f],l=k.x-g.x,m=k.y-g.y;if(Math.abs(m)>Number.EPSILON){if(0>m&&(g=b[f],l=-l,k=b[e],m=-m),!(a.y<g.y||a.y>k.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-l*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&
(k.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=k.x))return!0}return d}var e=Z.ShapeUtils.isClockWise,f=function(a){for(var b=[],c=new Z.Path,d=0,e=a.length;d<e;d++){var f=a[d],g=f.args,f=f.action;"moveTo"===f&&0!==c.actions.length&&(b.push(c),c=new Z.Path);c[f].apply(c,g)}0!==c.actions.length&&b.push(c);return b}(this.actions);if(0===f.length)return[];if(!0===b)return c(f);b=[];if(1===f.length){var g=f[0];var k=new Z.Shape;k.actions=g.actions;k.curves=g.curves;b.push(k);return b}var l=!e(f[0].getPoints()),l=
a?!l:l;k=[];var m=[],n=[],q=0;m[q]=void 0;n[q]=[];for(var p=0,t=f.length;p<t;p++){g=f[p];var r=g.getPoints();var v=e(r);(v=a?!v:v)?(!l&&m[q]&&q++,m[q]={s:new Z.Shape,p:r},m[q].s.actions=g.actions,m[q].s.curves=g.curves,l&&q++,n[q]=[]):n[q].push({h:g,p:r[0]})}if(!m[0])return c(f);if(1<m.length){p=!1;a=[];e=0;for(f=m.length;e<f;e++)k[e]=[];e=0;for(f=m.length;e<f;e++)for(g=n[e],v=0;v<g.length;v++){l=g[v];q=!0;for(r=0;r<m.length;r++)d(l.p,m[r].p)&&(e!==r&&a.push({froms:e,tos:r,hole:v}),q?(q=!1,k[r].push(l)):
p=!0);q&&k[e].push(l)}0<a.length&&(p||(n=k))}p=0;for(e=m.length;p<e;p++)for(k=m[p].s,b.push(k),a=n[p],f=0,g=a.length;f<g;f++)k.holes.push(a[f].h);return b}});Z.Shape=function(){Z.Path.apply(this,arguments);this.holes=[]};
Z.Shape.prototype=Object.assign(Object.create(Z.Path.prototype),{constructor:Z.Shape,extrude:function(a){return new Z.ExtrudeGeometry(this,a)},makeGeometry:function(a){return new Z.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});
Z.LineCurve=function(a,b){this.v1=a;this.v2=b};Z.LineCurve.prototype=Object.create(Z.Curve.prototype);Z.LineCurve.prototype.constructor=Z.LineCurve;Z.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};Z.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};Z.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};Z.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};
Z.QuadraticBezierCurve.prototype=Object.create(Z.Curve.prototype);Z.QuadraticBezierCurve.prototype.constructor=Z.QuadraticBezierCurve;Z.QuadraticBezierCurve.prototype.getPoint=function(a){var b=Z.ShapeUtils.b2;return new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))};Z.QuadraticBezierCurve.prototype.getTangent=function(a){var b=Z.CurveUtils.tangentQuadraticBezier;return(new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};
Z.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};Z.CubicBezierCurve.prototype=Object.create(Z.Curve.prototype);Z.CubicBezierCurve.prototype.constructor=Z.CubicBezierCurve;Z.CubicBezierCurve.prototype.getPoint=function(a){var b=Z.ShapeUtils.b3;return new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};
Z.CubicBezierCurve.prototype.getTangent=function(a){var b=Z.CurveUtils.tangentCubicBezier;return(new Z.Vector2(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};Z.SplineCurve=function(a){this.points=void 0==a?[]:a};Z.SplineCurve.prototype=Object.create(Z.Curve.prototype);Z.SplineCurve.prototype.constructor=Z.SplineCurve;
Z.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0===c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=Z.CurveUtils.interpolate;return new Z.Vector2(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a))};Z.EllipseCurve=function(a,b,c,d,e,f,g,k){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=k||0};Z.EllipseCurve.prototype=Object.create(Z.Curve.prototype);
Z.EllipseCurve.prototype.constructor=Z.EllipseCurve;
Z.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);b=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;a=this.aX+this.xRadius*Math.cos(b);var c=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){var b=Math.cos(this.aRotation),d=Math.sin(this.aRotation),e=a;a=(e-this.aX)*b-(c-this.aY)*d+this.aX;c=(e-this.aX)*d+(c-this.aY)*b+this.aY}return new Z.Vector2(a,c)};
Z.ArcCurve=function(a,b,c,d,e,f){Z.EllipseCurve.call(this,a,b,c,c,d,e,f)};Z.ArcCurve.prototype=Object.create(Z.EllipseCurve.prototype);Z.ArcCurve.prototype.constructor=Z.ArcCurve;Z.LineCurve3=Z.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new Z.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
Z.QuadraticBezierCurve3=Z.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=Z.ShapeUtils.b2;return new Z.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x),b(a,this.v0.y,this.v1.y,this.v2.y),b(a,this.v0.z,this.v1.z,this.v2.z))});
Z.CubicBezierCurve3=Z.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=Z.ShapeUtils.b3;return new Z.Vector3(b(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),b(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});
Z.SplineCurve3=Z.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=Z.CurveUtils.interpolate;return new Z.Vector3(c(d.x,e.x,f.x,b.x,a),c(d.y,e.y,f.y,b.y,a),c(d.z,e.z,f.z,b.z,a))});
Z.CatmullRomCurve3=function(){function a(){}var b=new Z.Vector3,c=new a,d=new a,e=new a;a.prototype.init=function(a,b,c,d){this.c0=a;this.c1=c;this.c2=-3*a+3*b-2*c-d;this.c3=2*a-2*b+c+d};a.prototype.initNonuniformCatmullRom=function(a,b,c,d,e,n,q){this.init(b,c,((b-a)/e-(c-a)/(e+n)+(c-b)/n)*n,((c-b)/n-(d-b)/(n+q)+(d-c)/q)*n)};a.prototype.initCatmullRom=function(a,b,c,d,e){this.init(b,c,e*(c-a),e*(d-b))};a.prototype.calc=function(a){var b=a*a;return this.c0+this.c1*a+this.c2*b+this.c3*b*a};return Z.Curve.create(function(a){this.points=
a||[];this.closed=!1},function(a){var f=this.points;var k=f.length;2>k&&console.log("duh, you need at least 2 points");a*=k-(this.closed?0:1);var l=Math.floor(a);a-=l;this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/f.length)+1)*f.length:0===a&&l===k-1&&(l=k-2,a=1);if(this.closed||0<l)var m=f[(l-1)%k];else b.subVectors(f[0],f[1]).add(f[0]),m=b;var n=f[l%k];var q=f[(l+1)%k];this.closed||l+2<k?f=f[(l+2)%k]:(b.subVectors(f[k-1],f[k-2]).add(f[k-1]),f=b);if(void 0===this.type||"centripetal"===this.type||"chordal"===
this.type){var p="chordal"===this.type?.5:.25;k=Math.pow(m.distanceToSquared(n),p);l=Math.pow(n.distanceToSquared(q),p);p=Math.pow(q.distanceToSquared(f),p);1E-4>l&&(l=1);1E-4>k&&(k=l);1E-4>p&&(p=l);c.initNonuniformCatmullRom(m.x,n.x,q.x,f.x,k,l,p);d.initNonuniformCatmullRom(m.y,n.y,q.y,f.y,k,l,p);e.initNonuniformCatmullRom(m.z,n.z,q.z,f.z,k,l,p)}else"catmullrom"===this.type&&(k=void 0!==this.tension?this.tension:.5,c.initCatmullRom(m.x,n.x,q.x,f.x,k),d.initCatmullRom(m.y,n.y,q.y,f.y,k),e.initCatmullRom(m.z,
n.z,q.z,f.z,k));return new Z.Vector3(c.calc(a),d.calc(a),e.calc(a))})}();Z.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");Z.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};Z.ClosedSplineCurve3.prototype=Object.create(Z.CatmullRomCurve3.prototype);
Z.BoxGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new Z.BoxBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};Z.BoxGeometry.prototype=Object.create(Z.Geometry.prototype);Z.BoxGeometry.prototype.constructor=Z.BoxGeometry;Z.CubeGeometry=Z.BoxGeometry;
Z.BoxBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,m,M,T){var A=f/m,B=g/M,F=f/2,E=g/2,C=l/2;g=m+1;for(var D=M+1,H=f=0,I=new Z.Vector3,J=0;J<D;J++)for(var fa=J*B-E,La=0;La<g;La++)I[a]=(La*A-F)*d,I[b]=fa*e,I[c]=C,q[r]=I.x,q[r+1]=I.y,q[r+2]=I.z,I[a]=0,I[b]=0,I[c]=0<l?1:-1,p[r]=I.x,p[r+1]=I.y,p[r+2]=I.z,t[v]=La/m,t[v+1]=1-J/M,r+=3,v+=2,f+=1;for(J=0;J<M;J++)for(La=0;La<m;La++)a=z+La+g*(J+1),b=z+(La+1)+g*(J+1),c=z+(La+1)+g*J,n[w]=z+La+g*J,n[w+1]=a,n[w+2]=c,n[w+3]=a,n[w+4]=b,n[w+5]=c,w+=
6,H+=6;k.addGroup(y,H,T);y+=H;z+=f}Z.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var k=this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var l=function(a,b,c){return a=0+(a+1)*(b+1)*2+(a+1)*(c+1)*2+(c+1)*(b+1)*2}(d,e,f),m=function(a,b,c){a=0+a*b*2+a*c*2+c*b*2;return 6*a}(d,e,f),n=new (65535<m?Uint32Array:Uint16Array)(m),q=new Float32Array(3*l),p=new Float32Array(3*l),t=new Float32Array(2*
l),r=0,v=0,w=0,z=0,y=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z",1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setIndex(new Z.BufferAttribute(n,1));this.addAttribute("position",new Z.BufferAttribute(q,3));this.addAttribute("normal",new Z.BufferAttribute(p,3));this.addAttribute("uv",new Z.BufferAttribute(t,2))};Z.BoxBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);
Z.BoxBufferGeometry.prototype.constructor=Z.BoxBufferGeometry;Z.CircleGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};this.fromBufferGeometry(new Z.CircleBufferGeometry(a,b,c,d))};Z.CircleGeometry.prototype=Object.create(Z.Geometry.prototype);Z.CircleGeometry.prototype.constructor=Z.CircleGeometry;
Z.CircleBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e=b+2,f=new Float32Array(3*e),g=new Float32Array(3*e),e=new Float32Array(2*e);g[2]=1;e[0]=.5;e[1]=.5;for(var k=0,l=3,m=2;k<=b;k++,l+=3,m+=2){var n=c+k/b*d;f[l]=a*Math.cos(n);f[l+1]=a*Math.sin(n);g[l+2]=1;e[m]=(f[l]/a+1)/2;e[m+1]=(f[l+1]/a+1)/2}c=[];for(l=
1;l<=b;l++)c.push(l,l+1,0);this.setIndex(new Z.BufferAttribute(new Uint16Array(c),1));this.addAttribute("position",new Z.BufferAttribute(f,3));this.addAttribute("normal",new Z.BufferAttribute(g,3));this.addAttribute("uv",new Z.BufferAttribute(e,2));this.boundingSphere=new Z.Sphere(new Z.Vector3,a)};Z.CircleBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.CircleBufferGeometry.prototype.constructor=Z.CircleBufferGeometry;
Z.CylinderBufferGeometry=function(a,b,c,d,e,f,g,k){function l(c){var e,f=new Z.Vector2,l=new Z.Vector3,n=0,p=!0===c?a:b,q=!0===c?1:-1;var B=z;for(e=1;e<=d;e++)r.setXYZ(z,0,A*q,0),v.setXYZ(z,0,q,0),f.x=.5,f.y=.5,w.setXY(z,f.x,f.y),z++;var E=z;for(e=0;e<=d;e++){var L=e/d*k+g,S=Math.cos(L),L=Math.sin(L);l.x=p*L;l.y=A*q;l.z=p*S;r.setXYZ(z,l.x,l.y,l.z);v.setXYZ(z,0,q,0);f.x=.5*S+.5;f.y=.5*L*q+.5;w.setXY(z,f.x,f.y);z++}for(e=0;e<d;e++)f=B+e,l=E+e,!0===c?(t.setX(y,l),y++,t.setX(y,l+1)):(t.setX(y,l+1),y++,
t.setX(y,l)),y++,t.setX(y,f),y++,n+=3;m.addGroup(D,n,!0===c?1:2);D+=n}Z.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:k};var m=this;a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=Math.floor(d)||8;e=Math.floor(e)||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;k=void 0!==k?k:2*Math.PI;var n=0;!1===f&&(0<a&&n++,0<b&&n++);var q=function(){var a=(d+1)*(e+1);!1===f&&
(a+=(d+1)*n+d*n);return a}(),p=function(){var a=d*e*6;!1===f&&(a+=d*n*3);return a}(),t=new Z.BufferAttribute(new (65535<p?Uint32Array:Uint16Array)(p),1),r=new Z.BufferAttribute(new Float32Array(3*q),3),v=new Z.BufferAttribute(new Float32Array(3*q),3),w=new Z.BufferAttribute(new Float32Array(2*q),2),z=0,y=0,B=[],A=c/2,D=0;(function(){var f,l,n=new Z.Vector3,p=new Z.Vector3,q=0,J=(b-a)/c;for(l=0;l<=e;l++){var M=[],T=l/e,U=T*(b-a)+a;for(f=0;f<=d;f++){var L=f/d;p.x=U*Math.sin(L*k+g);p.y=-T*c+A;p.z=U*
Math.cos(L*k+g);r.setXYZ(z,p.x,p.y,p.z);n.copy(p);if(0===a&&0===l||0===b&&l===e)n.x=Math.sin(L*k+g),n.z=Math.cos(L*k+g);n.setY(Math.sqrt(n.x*n.x+n.z*n.z)*J).normalize();v.setXYZ(z,n.x,n.y,n.z);w.setXY(z,L,1-T);M.push(z);z++}B.push(M)}for(f=0;f<d;f++)for(l=0;l<e;l++)n=B[l+1][f],p=B[l+1][f+1],J=B[l][f+1],t.setX(y,B[l][f]),y++,t.setX(y,n),y++,t.setX(y,J),y++,t.setX(y,n),y++,t.setX(y,p),y++,t.setX(y,J),y++,q+=6;m.addGroup(D,q,0);D+=q})();!1===f&&(0<a&&l(!0),0<b&&l(!1));this.setIndex(t);this.addAttribute("position",
r);this.addAttribute("normal",v);this.addAttribute("uv",w)};Z.CylinderBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.CylinderBufferGeometry.prototype.constructor=Z.CylinderBufferGeometry;
Z.CylinderGeometry=function(a,b,c,d,e,f,g,k){Z.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:k};this.fromBufferGeometry(new Z.CylinderBufferGeometry(a,b,c,d,e,f,g,k));this.mergeVertices()};Z.CylinderGeometry.prototype=Object.create(Z.Geometry.prototype);Z.CylinderGeometry.prototype.constructor=Z.CylinderGeometry;
Z.ConeBufferGeometry=function(a,b,c,d,e,f,g){Z.CylinderBufferGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,thetaStart:f,thetaLength:g}};Z.ConeBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.ConeBufferGeometry.prototype.constructor=Z.ConeBufferGeometry;
Z.ConeGeometry=function(a,b,c,d,e,f,g){Z.CylinderGeometry.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry";this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}};Z.ConeGeometry.prototype=Object.create(Z.CylinderGeometry.prototype);Z.ConeGeometry.prototype.constructor=Z.ConeGeometry;
Z.EdgesGeometry=function(a,b){function c(a,b){return a-b}Z.BufferGeometry.call(this);b=Math.cos(Z.Math.DEG2RAD*(void 0!==b?b:1));var d=[0,0],e={},f=["a","b","c"];if(a instanceof Z.BufferGeometry){var g=new Z.Geometry;g.fromBufferGeometry(a)}else g=a.clone();g.mergeVertices();g.computeFaceNormals();a=g.vertices;g=g.faces;for(var k=0,l=g.length;k<l;k++)for(var m=g[k],n=0;3>n;n++){d[0]=m[f[n]];d[1]=m[f[(n+1)%3]];d.sort(c);var q=d.toString();void 0===e[q]?e[q]={vert1:d[0],vert2:d[1],face1:k,face2:void 0}:
e[q].face2=k}d=[];for(q in e)if(f=e[q],void 0===f.face2||g[f.face1].normal.dot(g[f.face2].normal)<=b)k=a[f.vert1],d.push(k.x),d.push(k.y),d.push(k.z),k=a[f.vert2],d.push(k.x),d.push(k.y),d.push(k.z);this.addAttribute("position",new Z.BufferAttribute(new Float32Array(d),3))};Z.EdgesGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.EdgesGeometry.prototype.constructor=Z.EdgesGeometry;
Z.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(Z.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};Z.ExtrudeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ExtrudeGeometry.prototype.constructor=Z.ExtrudeGeometry;Z.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
Z.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=a.x-b.x;var e=a.y-b.y;var f=c.x-a.x;var g=c.y-a.y,k=d*d+e*e;if(Math.abs(d*g-e*f)>Number.EPSILON){var l=Math.sqrt(k),m=Math.sqrt(f*f+g*g),k=b.x-e/l;b=b.y+d/l;g=((c.x-g/m-k)*g-(c.y+f/m-b)*f)/(d*g-e*f);f=k+d*g-a.x;d=b+e*g-a.y;e=f*f+d*d;if(2>=e)return new Z.Vector2(f,d);e=Math.sqrt(e/2)}else a=!1,d>Number.EPSILON?
f>Number.EPSILON&&(a=!0):d<-Number.EPSILON?f<-Number.EPSILON&&(a=!0):Math.sign(e)===Math.sign(g)&&(a=!0),a?(f=-e,e=Math.sqrt(k)):(f=d,d=e,e=Math.sqrt(k/2));return new Z.Vector2(f/e,d/e)}function e(a,b){for(K=a.length;0<=--K;){var c=K;var d=K-1;0>d&&(d=a.length-1);var e,f=t+2*n;for(e=0;e<f;e++){var g=L*e,k=L*(e+1),l=b+c+g,g=b+d+g,m=b+d+k,k=b+c+k,l=l+I,g=g+I,m=m+I,k=k+I;F.faces.push(new Z.Face3(l,g,k,null,null,1));F.faces.push(new Z.Face3(g,m,k,null,null,1));l=w.generateSideWallUV(F,l,g,m,k);F.faceVertexUvs[0].push([l[0],
l[1],l[3]]);F.faceVertexUvs[0].push([l[1],l[2],l[3]])}}}function f(a,b,c){F.vertices.push(new Z.Vector3(a,b,c))}function g(a,b,c){a+=I;b+=I;c+=I;F.faces.push(new Z.Face3(a,b,c,null,null,0));F.faceVertexUvs[0].push(w.generateTopUV(F,a,b,c))}var k=void 0!==b.amount?b.amount:100,l=void 0!==b.bevelThickness?b.bevelThickness:6,m=void 0!==b.bevelSize?b.bevelSize:l-2,n=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,p=void 0!==b.curveSegments?b.curveSegments:12,t=void 0!==
b.steps?b.steps:1,r=b.extrudePath,v=!1,w=void 0!==b.UVGenerator?b.UVGenerator:Z.ExtrudeGeometry.WorldUVGenerator;if(r){var z=r.getSpacedPoints(t);v=!0;q=!1;var y=void 0!==b.frames?b.frames:new Z.TubeGeometry.FrenetFrames(r,t,!1);var B=new Z.Vector3;var A=new Z.Vector3;var D=new Z.Vector3}q||(m=l=n=0);var E,F=this,I=this.vertices.length;b=a.extractPoints(p);a=b.shape;var H=b.holes;if(b=!Z.ShapeUtils.isClockWise(a)){a=a.reverse();var C=0;for(E=H.length;C<E;C++){var J=H[C];Z.ShapeUtils.isClockWise(J)&&
(H[C]=J.reverse())}b=!1}var M=Z.ShapeUtils.triangulateShape(a,H),T=a;C=0;for(E=H.length;C<E;C++)J=H[C],a=a.concat(J);var U,L=a.length,S,R=M.length;b=[];var K=0;var N=T.length;var Q=N-1;for(U=K+1;K<N;K++,Q++,U++)Q===N&&(Q=0),U===N&&(U=0),b[K]=d(T[K],T[Q],T[U]);var p=[],r=b.concat();C=0;for(E=H.length;C<E;C++){J=H[C];var la=[];K=0;N=J.length;Q=N-1;for(U=K+1;K<N;K++,Q++,U++)Q===N&&(Q=0),U===N&&(U=0),la[K]=d(J[K],J[Q],J[U]);p.push(la);r=r.concat(la)}for(Q=0;Q<n;Q++){N=Q/n;var sa=l*(1-N);U=m*Math.sin(N*
Math.PI/2);K=0;for(N=T.length;K<N;K++){var fa=c(T[K],b[K],U);f(fa.x,fa.y,-sa)}C=0;for(E=H.length;C<E;C++)for(J=H[C],la=p[C],K=0,N=J.length;K<N;K++)fa=c(J[K],la[K],U),f(fa.x,fa.y,-sa)}U=m;for(K=0;K<L;K++)fa=q?c(a[K],r[K],U):a[K],v?(A.copy(y.normals[0]).multiplyScalar(fa.x),B.copy(y.binormals[0]).multiplyScalar(fa.y),D.copy(z[0]).add(A).add(B),f(D.x,D.y,D.z)):f(fa.x,fa.y,0);for(N=1;N<=t;N++)for(K=0;K<L;K++)fa=q?c(a[K],r[K],U):a[K],v?(A.copy(y.normals[N]).multiplyScalar(fa.x),B.copy(y.binormals[N]).multiplyScalar(fa.y),
D.copy(z[N]).add(A).add(B),f(D.x,D.y,D.z)):f(fa.x,fa.y,k/t*N);for(Q=n-1;0<=Q;Q--){N=Q/n;sa=l*(1-N);U=m*Math.sin(N*Math.PI/2);K=0;for(N=T.length;K<N;K++)fa=c(T[K],b[K],U),f(fa.x,fa.y,k+sa);C=0;for(E=H.length;C<E;C++)for(J=H[C],la=p[C],K=0,N=J.length;K<N;K++)fa=c(J[K],la[K],U),v?f(fa.x,fa.y+z[t-1].y,z[t-1].x+sa):f(fa.x,fa.y,k+sa)}(function(){if(q){var a=0*L;for(K=0;K<R;K++)S=M[K],g(S[2]+a,S[1]+a,S[0]+a);a=L*(t+2*n);for(K=0;K<R;K++)S=M[K],g(S[0]+a,S[1]+a,S[2]+a)}else{for(K=0;K<R;K++)S=M[K],g(S[2],S[1],
S[0]);for(K=0;K<R;K++)S=M[K],g(S[0]+L*t,S[1]+L*t,S[2]+L*t)}})();(function(){var a=0;e(T,a);a+=T.length;C=0;for(E=H.length;C<E;C++)J=H[C],e(J,a),a+=J.length})()};
Z.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new Z.Vector2(b.x,b.y),new Z.Vector2(c.x,c.y),new Z.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new Z.Vector2(b.x,1-b.z),new Z.Vector2(c.x,1-c.z),new Z.Vector2(d.x,1-d.z),new Z.Vector2(e.x,1-e.z)]:[new Z.Vector2(b.y,1-b.z),new Z.Vector2(c.y,1-c.z),new Z.Vector2(d.y,1-d.z),new Z.Vector2(e.y,1-e.z)]}};
Z.ShapeGeometry=function(a,b){Z.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};Z.ShapeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ShapeGeometry.prototype.constructor=Z.ShapeGeometry;Z.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b);return this};
Z.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?Z.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f=this.vertices.length;a=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var g=a.shape,k=a.holes;if(!Z.ShapeUtils.isClockWise(g))for(g=g.reverse(),a=0,e=k.length;a<e;a++){var l=k[a];Z.ShapeUtils.isClockWise(l)&&(k[a]=l.reverse())}b=Z.ShapeUtils.triangulateShape(g,k);a=0;for(e=k.length;a<e;a++)l=k[a],g=g.concat(l);k=g.length;e=
b.length;for(a=0;a<k;a++)l=g[a],this.vertices.push(new Z.Vector3(l.x,l.y,0));for(a=0;a<e;a++)k=b[a],g=k[0]+f,l=k[1]+f,k=k[2]+f,this.faces.push(new Z.Face3(g,l,k,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,g,l,k))};
Z.LatheBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=Z.Math.clamp(d,0,2*Math.PI);for(var e=(b+1)*a.length,f=b*a.length*6,g=new Z.BufferAttribute(new (65535<f?Uint32Array:Uint16Array)(f),1),k=new Z.BufferAttribute(new Float32Array(3*e),3),l=new Z.BufferAttribute(new Float32Array(2*e),2),m=0,n=0,q=1/b,p=new Z.Vector3,t=new Z.Vector2,e=0;e<=b;e++)for(var f=
c+e*q*d,r=Math.sin(f),v=Math.cos(f),f=0;f<=a.length-1;f++)p.x=a[f].x*r,p.y=a[f].y,p.z=a[f].x*v,k.setXYZ(m,p.x,p.y,p.z),t.x=e/b,t.y=f/(a.length-1),l.setXY(m,t.x,t.y),m++;for(e=0;e<b;e++)for(f=0;f<a.length-1;f++)c=f+e*a.length,m=c+a.length,q=c+a.length+1,p=c+1,g.setX(n,c),n++,g.setX(n,m),n++,g.setX(n,p),n++,g.setX(n,m),n++,g.setX(n,q),n++,g.setX(n,p),n++;this.setIndex(g);this.addAttribute("position",k);this.addAttribute("uv",l);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,
g=new Z.Vector3,k=new Z.Vector3,l=new Z.Vector3,c=b*a.length*3,f=e=0;e<a.length;e++,f+=3)g.x=d[f+0],g.y=d[f+1],g.z=d[f+2],k.x=d[c+f+0],k.y=d[c+f+1],k.z=d[c+f+2],l.addVectors(g,k).normalize(),d[f+0]=d[c+f+0]=l.x,d[f+1]=d[c+f+1]=l.y,d[f+2]=d[c+f+2]=l.z};Z.LatheBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.LatheBufferGeometry.prototype.constructor=Z.LatheBufferGeometry;
Z.LatheGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};this.fromBufferGeometry(new Z.LatheBufferGeometry(a,b,c,d));this.mergeVertices()};Z.LatheGeometry.prototype=Object.create(Z.Geometry.prototype);Z.LatheGeometry.prototype.constructor=Z.LatheGeometry;
Z.PlaneGeometry=function(a,b,c,d){Z.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new Z.PlaneBufferGeometry(a,b,c,d))};Z.PlaneGeometry.prototype=Object.create(Z.Geometry.prototype);Z.PlaneGeometry.prototype.constructor=Z.PlaneGeometry;
Z.PlaneBufferGeometry=function(a,b,c,d){Z.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=Math.floor(c)||1;d=Math.floor(d)||1;var g=c+1,k=d+1,l=a/c,m=b/d;b=new Float32Array(g*k*3);a=new Float32Array(g*k*3);for(var n=new Float32Array(g*k*2),q=0,p=0,t=0;t<k;t++)for(var r=t*m-f,v=0;v<g;v++)b[q]=v*l-e,b[q+1]=-r,a[q+2]=1,n[p]=v/c,n[p+1]=1-t/d,q+=3,p+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*
d*6);for(t=0;t<d;t++)for(v=0;v<c;v++)f=v+g*(t+1),k=v+1+g*(t+1),l=v+1+g*t,e[q]=v+g*t,e[q+1]=f,e[q+2]=l,e[q+3]=f,e[q+4]=k,e[q+5]=l,q+=6;this.setIndex(new Z.BufferAttribute(e,1));this.addAttribute("position",new Z.BufferAttribute(b,3));this.addAttribute("normal",new Z.BufferAttribute(a,3));this.addAttribute("uv",new Z.BufferAttribute(n,2))};Z.PlaneBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.PlaneBufferGeometry.prototype.constructor=Z.PlaneBufferGeometry;
Z.RingBufferGeometry=function(a,b,c,d,e,f){Z.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||20;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):1;var g=(c+1)*(d+1),k=c*d*6,k=new Z.BufferAttribute(new (65535<k?Uint32Array:Uint16Array)(k),1),l=new Z.BufferAttribute(new Float32Array(3*g),3),m=new Z.BufferAttribute(new Float32Array(3*
g),3),g=new Z.BufferAttribute(new Float32Array(2*g),2),n=0,q=0,p=a,t=(b-a)/d,r=new Z.Vector3,v=new Z.Vector2,w;for(a=0;a<=d;a++){for(w=0;w<=c;w++){var z=e+w/c*f;r.x=p*Math.cos(z);r.y=p*Math.sin(z);l.setXYZ(n,r.x,r.y,r.z);m.setXYZ(n,0,0,1);v.x=(r.x/b+1)/2;v.y=(r.y/b+1)/2;g.setXY(n,v.x,v.y);n++}p+=t}for(a=0;a<d;a++)for(b=a*(c+1),w=0;w<c;w++)e=z=w+b,f=z+c+1,n=z+c+2,z+=1,k.setX(q,e),q++,k.setX(q,f),q++,k.setX(q,n),q++,k.setX(q,e),q++,k.setX(q,n),q++,k.setX(q,z),q++;this.setIndex(k);this.addAttribute("position",
l);this.addAttribute("normal",m);this.addAttribute("uv",g)};Z.RingBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.RingBufferGeometry.prototype.constructor=Z.RingBufferGeometry;Z.RingGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};this.fromBufferGeometry(new Z.RingBufferGeometry(a,b,c,d,e,f))};Z.RingGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.RingGeometry.prototype.constructor=Z.RingGeometry;Z.SphereGeometry=function(a,b,c,d,e,f,g){Z.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};this.fromBufferGeometry(new Z.SphereBufferGeometry(a,b,c,d,e,f,g))};Z.SphereGeometry.prototype=Object.create(Z.Geometry.prototype);Z.SphereGeometry.prototype.constructor=Z.SphereGeometry;
Z.SphereBufferGeometry=function(a,b,c,d,e,f,g){Z.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;for(var k=f+g,l=(b+1)*(c+1),m=new Z.BufferAttribute(new Float32Array(3*l),3),n=new Z.BufferAttribute(new Float32Array(3*l),3),l=new Z.BufferAttribute(new Float32Array(2*
l),2),q=0,p=[],t=new Z.Vector3,r=0;r<=c;r++){for(var v=[],w=r/c,z=0;z<=b;z++){var y=z/b,B=-a*Math.cos(d+y*e)*Math.sin(f+w*g),A=a*Math.cos(f+w*g),D=a*Math.sin(d+y*e)*Math.sin(f+w*g);t.set(B,A,D).normalize();m.setXYZ(q,B,A,D);n.setXYZ(q,t.x,t.y,t.z);l.setXY(q,y,1-w);v.push(q);q++}p.push(v)}d=[];for(r=0;r<c;r++)for(z=0;z<b;z++)e=p[r][z+1],g=p[r][z],q=p[r+1][z],t=p[r+1][z+1],(0!==r||0<f)&&d.push(e,g,t),(r!==c-1||k<Math.PI)&&d.push(g,q,t);this.setIndex(new (65535<m.count?Z.Uint32Attribute:Z.Uint16Attribute)(d,
1));this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",l);this.boundingSphere=new Z.Sphere(new Z.Vector3,a)};Z.SphereBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.SphereBufferGeometry.prototype.constructor=Z.SphereBufferGeometry;
Z.TextGeometry=function(a,b){b=b||{};var c=b.font;if(!1===c instanceof Z.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Z.Geometry;a=c.generateShapes(a,b.size,b.curveSegments);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);Z.ExtrudeGeometry.call(this,a,b);this.type="TextGeometry"};Z.TextGeometry.prototype=Object.create(Z.ExtrudeGeometry.prototype);
Z.TextGeometry.prototype.constructor=Z.TextGeometry;
Z.TorusBufferGeometry=function(a,b,c,d,e){Z.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=Math.floor(c)||8;d=Math.floor(d)||6;e=e||2*Math.PI;var f=(c+1)*(d+1),g=c*d*6,g=new (65535<g?Uint32Array:Uint16Array)(g),k=new Float32Array(3*f),l=new Float32Array(3*f),f=new Float32Array(2*f),m=0,n=0,q=0,p=new Z.Vector3,t=new Z.Vector3,r=new Z.Vector3,v,w;for(v=0;v<=c;v++)for(w=0;w<=d;w++){var z=w/d*e,y=
v/c*Math.PI*2;t.x=(a+b*Math.cos(y))*Math.cos(z);t.y=(a+b*Math.cos(y))*Math.sin(z);t.z=b*Math.sin(y);k[m]=t.x;k[m+1]=t.y;k[m+2]=t.z;p.x=a*Math.cos(z);p.y=a*Math.sin(z);r.subVectors(t,p).normalize();l[m]=r.x;l[m+1]=r.y;l[m+2]=r.z;f[n]=w/d;f[n+1]=v/c;m+=3;n+=2}for(v=1;v<=c;v++)for(w=1;w<=d;w++)a=(d+1)*(v-1)+w-1,b=(d+1)*(v-1)+w,e=(d+1)*v+w,g[q]=(d+1)*v+w-1,g[q+1]=a,g[q+2]=e,g[q+3]=a,g[q+4]=b,g[q+5]=e,q+=6;this.setIndex(new Z.BufferAttribute(g,1));this.addAttribute("position",new Z.BufferAttribute(k,3));
this.addAttribute("normal",new Z.BufferAttribute(l,3));this.addAttribute("uv",new Z.BufferAttribute(f,2))};Z.TorusBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.TorusBufferGeometry.prototype.constructor=Z.TorusBufferGeometry;Z.TorusGeometry=function(a,b,c,d,e){Z.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};this.fromBufferGeometry(new Z.TorusBufferGeometry(a,b,c,d,e))};Z.TorusGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.TorusGeometry.prototype.constructor=Z.TorusGeometry;
Z.TorusKnotBufferGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}Z.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var k=(d+1)*(c+1),l=d*c*6,l=new Z.BufferAttribute(new (65535<l?Uint32Array:Uint16Array)(l),1),m=new Z.BufferAttribute(new Float32Array(3*
k),3),n=new Z.BufferAttribute(new Float32Array(3*k),3),k=new Z.BufferAttribute(new Float32Array(2*k),2),q,p=0,t=0,r=new Z.Vector3,v=new Z.Vector3,w=new Z.Vector2,z=new Z.Vector3,y=new Z.Vector3,B=new Z.Vector3,A=new Z.Vector3,D=new Z.Vector3;for(q=0;q<=c;++q){var E=q/c*e*Math.PI*2;g(E,e,f,a,z);g(E+.01,e,f,a,y);A.subVectors(y,z);D.addVectors(y,z);If(B,A,D);If(D,B,A);B.normalize();D.normalize();for(E=0;E<=d;++E){var F=E/d*Math.PI*2,I=-b*Math.cos(F),F=b*Math.sin(F);r.x=z.x+(I*D.x+F*B.x);r.y=z.y+(I*D.y+
F*B.y);r.z=z.z+(I*D.z+F*B.z);m.setXYZ(p,r.x,r.y,r.z);v.subVectors(r,z).normalize();n.setXYZ(p,v.x,v.y,v.z);w.x=q/c;w.y=E/d;k.setXY(p,w.x,w.y);p++}}for(E=1;E<=c;E++)for(q=1;q<=d;q++)a=(d+1)*E+(q-1),b=(d+1)*E+q,e=(d+1)*(E-1)+q,l.setX(t,(d+1)*(E-1)+(q-1)),t++,l.setX(t,a),t++,l.setX(t,e),t++,l.setX(t,a),t++,l.setX(t,b),t++,l.setX(t,e),t++;this.setIndex(l);this.addAttribute("position",m);this.addAttribute("normal",n);this.addAttribute("uv",k)};Z.TorusKnotBufferGeometry.prototype=Object.create(Z.BufferGeometry.prototype);
Z.TorusKnotBufferGeometry.prototype.constructor=Z.TorusKnotBufferGeometry;Z.TorusKnotGeometry=function(a,b,c,d,e,f,g){Z.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void 0!==g&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new Z.TorusKnotBufferGeometry(a,b,c,d,e,f));this.mergeVertices()};Z.TorusKnotGeometry.prototype=Object.create(Z.Geometry.prototype);
Z.TorusKnotGeometry.prototype.constructor=Z.TorusKnotGeometry;
Z.TubeGeometry=function(a,b,c,d,e,f){Z.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e,taper:f};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||Z.TubeGeometry.NoTaper;var g=[],k=b+1,l=new Z.Vector3;var m=new Z.TubeGeometry.FrenetFrames(a,b,e);var n=m.normals;var q=m.binormals;this.tangents=m.tangents;this.normals=n;this.binormals=q;for(m=0;m<k;m++){g[m]=[];var p=m/(k-1);var t=a.getPointAt(p);var r=n[m];var v=q[m];var w=c*f(p);for(p=0;p<d;p++){var z=
p/d*2*Math.PI;var y=-w*Math.cos(z);z=w*Math.sin(z);l.copy(t);l.x+=y*r.x+z*v.x;l.y+=y*r.y+z*v.y;l.z+=y*r.z+z*v.z;g[m][p]=this.vertices.push(new Z.Vector3(l.x,l.y,l.z))-1}}for(m=0;m<b;m++)for(p=0;p<d;p++)f=e?(m+1)%b:m+1,k=(p+1)%d,a=g[m][p],c=g[f][p],f=g[f][k],k=g[m][k],l=new Z.Vector2(m/b,p/d),n=new Z.Vector2((m+1)/b,p/d),q=new Z.Vector2((m+1)/b,(p+1)/d),r=new Z.Vector2(m/b,(p+1)/d),this.faces.push(new Z.Face3(a,c,k)),this.faceVertexUvs[0].push([l,n,r]),this.faces.push(new Z.Face3(c,f,k)),this.faceVertexUvs[0].push([n.clone(),
q,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};Z.TubeGeometry.prototype=Object.create(Z.Geometry.prototype);Z.TubeGeometry.prototype.constructor=Z.TubeGeometry;Z.TubeGeometry.NoTaper=function(){return 1};Z.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
Z.TubeGeometry.FrenetFrames=function(a,b,c){var d=new Z.Vector3,e=[],f=[],g=[],k=new Z.Vector3,l=new Z.Matrix4;b+=1;var m;this.tangents=e;this.normals=f;this.binormals=g;for(m=0;m<b;m++){var n=m/(b-1);var q=m;var p=a;n=Ag(p,n);p=p.getTangent(n);e[q]=p;e[m].normalize()}f[0]=new Z.Vector3;g[0]=new Z.Vector3;a=Number.MAX_VALUE;m=Math.abs(e[0].x);q=Math.abs(e[0].y);p=Math.abs(e[0].z);m<=a&&(a=m,d.set(1,0,0));q<=a&&(a=q,d.set(0,1,0));p<=a&&d.set(0,0,1);If(k,e[0],d).normalize();If(f[0],e[0],k);If(g[0],
e[0],f[0]);for(m=1;m<b;m++)f[m]=f[m-1].clone(),g[m]=g[m-1].clone(),If(k,e[m-1],e[m]),k.length()>Number.EPSILON&&(k.normalize(),d=Math.acos(Z.Math.clamp(e[m-1].dot(e[m]),-1,1)),f[m].applyMatrix4(Yf(l,k,d))),If(g[m],e[m],f[m]);if(c)for(d=Math.acos(Z.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(If(k,f[0],f[b-1]))&&(d=-d),m=1;m<b;m++)f[m].applyMatrix4(Yf(l,e[m],d*m)),If(g[m],e[m],f[m])};
Z.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=l.vertices.push(b)-1;b.uv=new Z.Vector2(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));return b}function f(a,b,c,d){d=new Z.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()],void 0,d);l.faces.push(d);w.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(w.z,-w.x);l.faceVertexUvs[0].push([k(a.uv,a,d),k(b.uv,b,d),k(c.uv,c,d)])}function g(a,b){b=Math.pow(2,
b);var c=e(l.vertices[a.a]),d=e(l.vertices[a.b]),g=e(l.vertices[a.c]),k=[];a=a.materialIndex;for(var m=0;m<=b;m++){k[m]=[];for(var n=e(c.clone().lerp(g,m/b)),p=e(d.clone().lerp(g,m/b)),q=b-m,r=0;r<=q;r++)k[m][r]=0===r&&m===b?n:e(n.clone().lerp(p,r/q))}for(m=0;m<b;m++)for(r=0;r<2*(b-m)-1;r++)c=Math.floor(r/2),0===r%2?f(k[m][c+1],k[m+1][c],k[m][c],a):f(k[m][c+1],k[m+1][c+1],k[m+1][c],a)}function k(a,b,c){0>c&&1===a.x&&(a=new Z.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new Z.Vector2(c/2/Math.PI+.5,a.y));
return a.clone()}Z.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var l=this,m=0,n=a.length;m<n;m+=3)e(new Z.Vector3(a[m],a[m+1],a[m+2]));a=this.vertices;for(var q=[],p=m=0,n=b.length;m<n;m+=3,p++){var t=a[b[m]],r=a[b[m+1]],v=a[b[m+2]];q[p]=new Z.Face3(t.index,r.index,v.index,[t.clone(),r.clone(),v.clone()],void 0,p)}for(var w=new Z.Vector3,m=0,n=q.length;m<n;m++)g(q[m],d);m=0;for(n=this.faceVertexUvs[0].length;m<n;m++)b=
this.faceVertexUvs[0][m],d=b[0].x,a=b[1].x,q=b[2].x,p=Math.min(d,a,q),.9<Math.max(d,a,q)&&.1>p&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));m=0;for(n=this.vertices.length;m<n;m++)this.vertices[m].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new Z.Sphere(new Z.Vector3,c)};Z.PolyhedronGeometry.prototype=Object.create(Z.Geometry.prototype);Z.PolyhedronGeometry.prototype.constructor=Z.PolyhedronGeometry;
Z.DodecahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;Z.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,
14,5,1,5,9],a,b);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b}};Z.DodecahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.DodecahedronGeometry.prototype.constructor=Z.DodecahedronGeometry;
Z.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;Z.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};Z.IcosahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);
Z.IcosahedronGeometry.prototype.constructor=Z.IcosahedronGeometry;Z.OctahedronGeometry=function(a,b){Z.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};Z.OctahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.OctahedronGeometry.prototype.constructor=Z.OctahedronGeometry;
Z.TetrahedronGeometry=function(a,b){Z.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};Z.TetrahedronGeometry.prototype=Object.create(Z.PolyhedronGeometry.prototype);Z.TetrahedronGeometry.prototype.constructor=Z.TetrahedronGeometry;
Z.ParametricGeometry=function(a,b,c){Z.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,k,l=b+1;for(g=0;g<=c;g++){var m=g/c;for(k=0;k<=b;k++){var n=k/b;n=a(n,m);d.push(n)}}for(g=0;g<c;g++)for(k=0;k<b;k++){a=g*l+k;d=g*l+k+1;m=(g+1)*l+k+1;n=(g+1)*l+k;var q=new Z.Vector2(k/b,g/c);var p=new Z.Vector2((k+1)/b,g/c);var t=new Z.Vector2((k+1)/b,(g+1)/c);var r=new Z.Vector2(k/b,(g+1)/c);e.push(new Z.Face3(a,
d,n));f.push([q,p,r]);e.push(new Z.Face3(d,m,n));f.push([p.clone(),t,r.clone()])}this.computeFaceNormals();this.computeVertexNormals()};Z.ParametricGeometry.prototype=Object.create(Z.Geometry.prototype);Z.ParametricGeometry.prototype.constructor=Z.ParametricGeometry;
Z.WireframeGeometry=function(a){function b(a,b){return a-b}var c;Z.BufferGeometry.call(this);var d=[0,0];var e={};var f=["a","b","c"];if(a instanceof Z.Geometry){var g=a.vertices;var k=a.faces;var l=0;a=new Uint32Array(6*k.length);var m=0;for(c=k.length;m<c;m++)for(var n=k[m],q=0;3>q;q++){d[0]=n[f[q]];d[1]=n[f[(q+1)%3]];d.sort(b);var p=d.toString();void 0===e[p]&&(a[2*l]=d[0],a[2*l+1]=d[1],e[p]=!0,l++)}d=new Float32Array(6*l);m=0;for(c=l;m<c;m++)for(q=0;2>q;q++)e=g[a[2*m+q]],l=6*m+3*q,d[l+0]=e.x,
d[l+1]=e.y,d[l+2]=e.z;this.addAttribute("position",new Z.BufferAttribute(d,3))}else if(a instanceof Z.BufferGeometry){if(null!==a.index){c=a.index.array;g=a.attributes.position;f=a.groups;l=0;0===f.length&&a.addGroup(0,c.length);a=new Uint32Array(2*c.length);k=0;for(n=f.length;k<n;++k){m=f[k];q=m.start;p=m.count;for(var m=q,t=q+p;m<t;m+=3)for(q=0;3>q;q++)d[0]=c[m+q],d[1]=c[m+(q+1)%3],d.sort(b),p=d.toString(),void 0===e[p]&&(a[2*l]=d[0],a[2*l+1]=d[1],e[p]=!0,l++)}d=new Float32Array(6*l);m=0;for(c=
l;m<c;m++)for(q=0;2>q;q++)l=6*m+3*q,e=a[2*m+q],d[l+0]=g.getX(e),d[l+1]=g.getY(e),d[l+2]=g.getZ(e)}else for(g=a.attributes.position.array,l=g.length/3,d=new Float32Array(6*l),m=0,c=l/3;m<c;m++)for(q=0;3>q;q++)l=18*m+6*q,a=9*m+3*q,d[l+0]=g[a],d[l+1]=g[a+1],d[l+2]=g[a+2],e=9*m+(q+1)%3*3,d[l+3]=g[e],d[l+4]=g[e+1],d[l+5]=g[e+2];this.addAttribute("position",new Z.BufferAttribute(d,3))}};Z.WireframeGeometry.prototype=Object.create(Z.BufferGeometry.prototype);Z.WireframeGeometry.prototype.constructor=Z.WireframeGeometry;
Z.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new Z.BufferGeometry;a.addAttribute("position",new Z.BufferAttribute(b,3));a.addAttribute("color",new Z.BufferAttribute(c,3));b=new Z.LineBasicMaterial({vertexColors:Z.VertexColors});Z.LineSegments.call(this,a,b)};Z.AxisHelper.prototype=Object.create(Z.LineSegments.prototype);Z.AxisHelper.prototype.constructor=Z.AxisHelper;
Z.ArrowHelper=function(){var a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([0,0,0,0,1,0],3));var b=new Z.CylinderBufferGeometry(0,.5,1,5,1);b.translate(0,-.5,0);return function(c,d,e,f,g,k){Z.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===k&&(k=.2*g);this.position.copy(d);this.line=new Z.Line(a,new Z.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new Z.Mesh(b,new Z.MeshBasicMaterial({color:f}));
this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,k)}}();Z.ArrowHelper.prototype=Object.create(Z.Object3D.prototype);Z.ArrowHelper.prototype.constructor=Z.ArrowHelper;Z.ArrowHelper.prototype.setDirection=function(){var a=new Z.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),Kf(this.quaternion,a,b))}}();
Z.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Z.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};
Z.BoxHelper=function(a){var b=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(24),d=new Z.BufferGeometry;d.setIndex(new Z.BufferAttribute(b,1));d.addAttribute("position",new Z.BufferAttribute(c,3));Z.LineSegments.call(this,d,new Z.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};Z.BoxHelper.prototype=Object.create(Z.LineSegments.prototype);Z.BoxHelper.prototype.constructor=Z.BoxHelper;
Z.BoxHelper.prototype.update=function(){var a=new Z.Box3;return function(b){b instanceof Z.Box3?a.copy(b):a.setFromObject(b);if(!a.isEmpty()){b=a.min;var c=a.max,d=this.geometry.attributes.position,e=d.array;e[0]=c.x;e[1]=c.y;e[2]=c.z;e[3]=b.x;e[4]=c.y;e[5]=c.z;e[6]=b.x;e[7]=b.y;e[8]=c.z;e[9]=c.x;e[10]=b.y;e[11]=c.z;e[12]=c.x;e[13]=c.y;e[14]=b.z;e[15]=b.x;e[16]=c.y;e[17]=b.z;e[18]=b.x;e[19]=b.y;e[20]=b.z;e[21]=c.x;e[22]=b.y;e[23]=b.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();
Z.BoundingBoxHelper=function(a,b){b=void 0!==b?b:8947848;this.object=a;this.box=new Z.Box3;Z.Mesh.call(this,new Z.BoxGeometry(1,1,1),new Z.MeshBasicMaterial({color:b,wireframe:!0}))};Z.BoundingBoxHelper.prototype=Object.create(Z.Mesh.prototype);Z.BoundingBoxHelper.prototype.constructor=Z.BoundingBoxHelper;Z.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
Z.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new Z.Vector3);d.colors.push(new Z.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new Z.Geometry,e=new Z.LineBasicMaterial({color:16777215,vertexColors:Z.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);
b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);Z.LineSegments.call(this,d,e);this.camera=a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
Z.CameraHelper.prototype=Object.create(Z.LineSegments.prototype);Z.CameraHelper.prototype.constructor=Z.CameraHelper;
Z.CameraHelper.prototype.update=function(){function a(a,g,k,l){d.set(g,k,l).unproject(e);a=c[a];if(void 0!==a)for(g=0,k=a.length;g<k;g++)b.vertices[a[g]].copy(d)}var b,c,d=new Z.Vector3,e=new Z.Camera;return function(){b=this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,
2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.verticesNeedUpdate=!0}}();
Z.DirectionalLightHelper=function(a,b){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void 0===b&&(b=1);a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));b=new Z.LineBasicMaterial({fog:!1});this.add(new Z.Line(a,b));a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute([0,0,0,0,0,1],3));this.add(new Z.Line(a,b));this.update()};
Z.DirectionalLightHelper.prototype=Object.create(Z.Object3D.prototype);Z.DirectionalLightHelper.prototype.constructor=Z.DirectionalLightHelper;Z.DirectionalLightHelper.prototype.dispose=function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};
Z.DirectionalLightHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Vector3;return function(){Qf(a,this.light.matrixWorld);Qf(b,this.light.target.matrixWorld);c.subVectors(b,a);var d=this.children[0],e=this.children[1];d.lookAt(c);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);e.lookAt(c);e.scale.z=c.length()}}();
Z.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;Z.LineSegments.call(this,new Z.EdgesGeometry(a.geometry,c),new Z.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};Z.EdgesHelper.prototype=Object.create(Z.LineSegments.prototype);Z.EdgesHelper.prototype.constructor=Z.EdgesHelper;
Z.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof Z.Geometry?b=c.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");c=new Z.BufferGeometry;b=new Z.Float32Attribute(6*b,3);c.addAttribute("position",b);Z.LineSegments.call(this,c,new Z.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};
Z.FaceNormalsHelper.prototype=Object.create(Z.LineSegments.prototype);Z.FaceNormalsHelper.prototype.constructor=Z.FaceNormalsHelper;
Z.FaceNormalsHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Matrix3;return function(){this.object.updateMatrixWorld(!0);Wf(c,this.object.matrixWorld);for(var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices,f=f.faces,k=0,l=0,m=f.length;l<m;l++){var n=f[l],q=n.normal;a.copy(g[n.a]).add(g[n.b]).add(g[n.c]).divideScalar(3).applyMatrix4(d);Sf(b.copy(q),c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(k,a.x,a.y,a.z);
k+=1;e.setXYZ(k,b.x,b.y,b.z);k+=1}e.needsUpdate=!0;return this}}();
Z.GridHelper=function(a,b,c,d){c=new Z.Color(void 0!==c?c:4473924);d=new Z.Color(void 0!==d?d:8947848);for(var e=[],f=[],g=-a,k=0;g<=a;g+=b){e.push(-a,0,g,a,0,g);e.push(g,0,-a,g,0,a);var l=0===g?c:d;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3;l.toArray(f,k);k+=3}a=new Z.BufferGeometry;a.addAttribute("position",new Z.Float32Attribute(e,3));a.addAttribute("color",new Z.Float32Attribute(f,3));e=new Z.LineBasicMaterial({vertexColors:Z.VertexColors});Z.LineSegments.call(this,a,e)};
Z.GridHelper.prototype=Object.create(Z.LineSegments.prototype);Z.GridHelper.prototype.constructor=Z.GridHelper;Z.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};
Z.HemisphereLightHelper=function(a,b){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new Z.Color,new Z.Color];a=new Z.SphereGeometry(b,4,2);a.rotateX(-Math.PI/2);for(b=0;8>b;b++)a.faces[b].color=this.colors[4>b?0:1];b=new Z.MeshBasicMaterial({vertexColors:Z.FaceColors,wireframe:!0});this.lightSphere=new Z.Mesh(a,b);this.add(this.lightSphere);this.update()};Z.HemisphereLightHelper.prototype=Object.create(Z.Object3D.prototype);
Z.HemisphereLightHelper.prototype.constructor=Z.HemisphereLightHelper;Z.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
Z.HemisphereLightHelper.prototype.update=function(){var a=new Z.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(Qf(a,this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
Z.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();a=new Z.SphereBufferGeometry(b,4,2);b=new Z.MeshBasicMaterial({wireframe:!0,fog:!1});b.color.copy(this.light.color).multiplyScalar(this.light.intensity);Z.Mesh.call(this,a,b);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};Z.PointLightHelper.prototype=Object.create(Z.Mesh.prototype);Z.PointLightHelper.prototype.constructor=Z.PointLightHelper;
Z.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};Z.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
Z.SkeletonHelper=function(a){this.bones=Cg(this,a);for(var b=new Z.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof Z.Bone&&(b.vertices.push(new Z.Vector3),b.vertices.push(new Z.Vector3),b.colors.push(new Z.Color(0,0,1)),b.colors.push(new Z.Color(0,1,0)));b.dynamic=!0;c=new Z.LineBasicMaterial({vertexColors:Z.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});Z.LineSegments.call(this,b,c);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};
Z.SkeletonHelper.prototype=Object.create(Z.LineSegments.prototype);Z.SkeletonHelper.prototype.constructor=Z.SkeletonHelper;function Cg(a,b){var c=[];b instanceof Z.Bone&&c.push(b);for(var d=0;d<b.children.length;d++)c.push.apply(c,Cg(a,b.children[d]));return c}
Z.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new Z.Matrix4).getInverse(this.root.matrixWorld),c=new Z.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof Z.Bone&&(Nf(c,b,f.matrixWorld),Qf(a.vertices[d],c),Nf(c,b,f.parent.matrixWorld),Qf(a.vertices[d+1],c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
Z.SpotLightHelper=function(a){Z.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new Z.BufferGeometry;for(var b=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32>c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new Z.Float32Attribute(b,3));b=new Z.LineBasicMaterial({fog:!1});this.cone=new Z.LineSegments(a,b);this.add(this.cone);
this.update()};Z.SpotLightHelper.prototype=Object.create(Z.Object3D.prototype);Z.SpotLightHelper.prototype.constructor=Z.SpotLightHelper;Z.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
Z.SpotLightHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3;return function(){var c=this.light.distance?this.light.distance:1E3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);Qf(a,this.light.matrixWorld);Qf(b,this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
Z.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16711680;d=void 0!==d?d:1;b=0;c=this.object.geometry;c instanceof Z.Geometry?b=3*c.faces.length:c instanceof Z.BufferGeometry&&(b=c.attributes.normal.count);c=new Z.BufferGeometry;b=new Z.Float32Attribute(6*b,3);c.addAttribute("position",b);Z.LineSegments.call(this,c,new Z.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};Z.VertexNormalsHelper.prototype=Object.create(Z.LineSegments.prototype);
Z.VertexNormalsHelper.prototype.constructor=Z.VertexNormalsHelper;
Z.VertexNormalsHelper.prototype.update=function(){var a=new Z.Vector3,b=new Z.Vector3,c=new Z.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);Wf(c,this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position;var g=this.object.geometry;if(g instanceof Z.Geometry)for(var k=g.vertices,l=g.faces,m=g=0,n=l.length;m<n;m++)for(var q=l[m],p=0,t=q.vertexNormals.length;p<t;p++){var r=q.vertexNormals[p];a.copy(k[q[d[p]]]).applyMatrix4(e);Sf(b.copy(r),
c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else if(g instanceof Z.BufferGeometry)for(d=g.attributes.position,k=g.attributes.normal,p=g=0,t=d.count;p<t;p++)a.set(d.getX(p),d.getY(p),d.getZ(p)).applyMatrix4(e),b.set(k.getX(p),k.getY(p),k.getZ(p)),Sf(b,c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(g,a.x,a.y,a.z),g+=1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return this}}();
Z.WireframeHelper=function(a,b){b=void 0!==b?b:16777215;Z.LineSegments.call(this,new Z.WireframeGeometry(a.geometry),new Z.LineBasicMaterial({color:b}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};Z.WireframeHelper.prototype=Object.create(Z.LineSegments.prototype);Z.WireframeHelper.prototype.constructor=Z.WireframeHelper;Z.ImmediateRenderObject=function(a){Z.Object3D.call(this);this.material=a;this.render=function(){}};Z.ImmediateRenderObject.prototype=Object.create(Z.Object3D.prototype);
Z.ImmediateRenderObject.prototype.constructor=Z.ImmediateRenderObject;Z.MorphBlendMesh=function(a,b){Z.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];a=this.geometry.morphTargets.length;Dg(this,"__default",0,a-1,a/1);if(a=this.animationsMap.__default)a.weight=1};Z.MorphBlendMesh.prototype=Object.create(Z.Mesh.prototype);h=Z.MorphBlendMesh.prototype;h.constructor=Z.MorphBlendMesh;
function Dg(a,b,c,d,e){c={start:c,end:d,length:d-c+1,fps:e,duration:(d-c)/e,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};a.animationsMap[b]=c;a.animationsList.push(c)}
h.autoCreateAnimations=function(a){for(var b,c,d=/([a-z]+)_?(\d+)/i,e,f={},g=this.geometry,k=0,l=g.morphTargets.length;k<l;k++)(b=g.morphTargets[k].name.match(d))&&1<b.length&&(c=b[1],f[c]||(f[c]={start:Infinity,end:-Infinity}),b=f[c],k<b.start&&(b.start=k),k>b.end&&(b.end=k),e||(e=c));for(c in f)b=f[c],Dg(this,c,b.start,b.end,a);this.firstAnimation=e};h.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};
h.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};h.setAnimationFPS=function(a,b){if(a=this.animationsMap[a])a.fps=b,a.duration=(a.end-a.start)/a.fps};h.setAnimationDuration=function(a,b){if(a=this.animationsMap[a])a.duration=b,a.fps=(a.end-a.start)/a.duration};h.setAnimationTime=function(a,b){if(a=this.animationsMap[a])a.time=b};h.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
h.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};h.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};h.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
h.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+Z.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=
0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};
</script>
<script>//~~WEBPATH~~/tf-imports/OrbitControls.js
Z.OrbitControls=function(a,b){function c(){return Math.pow(.95,r.zoomSpeed)}function d(a){r.object instanceof Z.PerspectiveCamera?F/=a:r.object instanceof Z.OrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*a)),r.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function e(a){r.object instanceof Z.PerspectiveCamera?F*=a:r.object instanceof Z.OrthographicCamera?
(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/a)),r.object.updateProjectionMatrix(),H=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function f(a){if(!1!==r.enabled){a.preventDefault();if(a.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;C.set(a.clientX,a.clientY);B=y.ROTATE}else if(a.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;S.set(a.clientX,a.clientY);B=y.DOLLY}else if(a.button===
r.mouseButtons.PAN){if(!1===r.enablePan)return;T.set(a.clientX,a.clientY);B=y.PAN}B!==y.NONE&&(document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",k,!1),document.addEventListener("mouseout",k,!1),r.dispatchEvent(w))}}function g(a){!1!==r.enabled&&(a.preventDefault(),B===y.ROTATE?!1!==r.enableRotate&&(J.set(a.clientX,a.clientY),M.subVectors(J,C),a=r.domElement===document?r.domElement.body:r.domElement,E.theta-=2*Math.PI*M.x/a.clientWidth*r.rotateSpeed,E.phi-=2*Math.PI*M.y/
a.clientHeight*r.rotateSpeed,C.copy(J),r.update()):B===y.DOLLY?!1!==r.enableZoom&&(R.set(a.clientX,a.clientY),K.subVectors(R,S),0<K.y?d(c()):0>K.y&&e(c()),S.copy(R),r.update()):B===y.PAN&&!1!==r.enablePan&&(U.set(a.clientX,a.clientY),L.subVectors(U,T),la(L.x,L.y),T.copy(U),r.update()))}function k(){!1!==r.enabled&&(document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",k,!1),document.removeEventListener("mouseout",k,!1),r.dispatchEvent(z),B=y.NONE)}function l(a){if(!1!==
r.enabled&&!1!==r.enableZoom&&(B===y.NONE||B===y.ROTATE)){a.preventDefault();a.stopPropagation();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?e(c()):0>b&&d(c());r.update();r.dispatchEvent(w);r.dispatchEvent(z)}}function m(a){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(a.keyCode){case r.keys.UP:la(0,r.keyPanSpeed);r.update();break;case r.keys.BOTTOM:la(0,-r.keyPanSpeed);r.update();break;case r.keys.LEFT:la(r.keyPanSpeed,0);r.update();break;case r.keys.RIGHT:la(-r.keyPanSpeed,
0),r.update()}}function n(a){if(!1!==r.enabled){switch(a.touches.length){case 1:if(!1===r.enableRotate)return;C.set(a.touches[0].pageX,a.touches[0].pageY);B=y.TOUCH_ROTATE;break;case 2:if(!1===r.enableZoom)return;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;S.set(0,Math.sqrt(b*b+a*a));B=y.TOUCH_DOLLY;break;case 3:if(!1===r.enablePan)return;T.set(a.touches[0].pageX,a.touches[0].pageY);B=y.TOUCH_PAN;break;default:B=y.NONE}B!==y.NONE&&r.dispatchEvent(w)}}function q(a){if(!1!==
r.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:if(!1===r.enableRotate)break;if(B!==y.TOUCH_ROTATE)break;J.set(a.touches[0].pageX,a.touches[0].pageY);M.subVectors(J,C);var b=r.domElement===document?r.domElement.body:r.domElement;E.theta-=2*Math.PI*M.x/b.clientWidth*r.rotateSpeed;E.phi-=2*Math.PI*M.y/b.clientHeight*r.rotateSpeed;C.copy(J);r.update();break;case 2:if(!1===r.enableZoom)break;if(B!==y.TOUCH_DOLLY)break;b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-
a.touches[1].pageY;R.set(0,Math.sqrt(b*b+a*a));K.subVectors(R,S);0<K.y?e(c()):0>K.y&&d(c());S.copy(R);r.update();break;case 3:if(!1===r.enablePan)break;if(B!==y.TOUCH_PAN)break;U.set(a.touches[0].pageX,a.touches[0].pageY);L.subVectors(U,T);la(L.x,L.y);T.copy(U);r.update();break;default:B=y.NONE}}function p(){!1!==r.enabled&&(r.dispatchEvent(z),B=y.NONE)}function t(a){a.preventDefault()}this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.target=new Z.Vector3;this.minDistance=0;
this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=.25;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.enableKeys=!0;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={ORBIT:Z.MOUSE.LEFT,ZOOM:Z.MOUSE.MIDDLE,PAN:Z.MOUSE.RIGHT};
this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return D.phi};this.getAzimuthalAngle=function(){return D.theta};this.reset=function(){r.target.copy(r.target0);r.object.position.copy(r.position0);r.object.zoom=r.zoom0;r.object.updateProjectionMatrix();r.dispatchEvent(v);r.update();B=y.NONE};this.update=function(){var b=new Z.Vector3,c=(new Z.Quaternion).setFromUnitVectors(a.up,new Z.Vector3(0,1,0)),d=c.clone().inverse(),
e=new Z.Vector3,f=new Z.Quaternion;return function(){var a=r.object.position;b.copy(a).sub(r.target);Mf(b,c);D.setFromVector3(b);r.autoRotate&&B===y.NONE&&(E.theta-=2*Math.PI/60/60*r.autoRotateSpeed);D.theta+=E.theta;D.phi+=E.phi;D.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,D.theta));D.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,D.phi));D.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,D.phi));D.radius*=F;D.radius=Math.max(r.minDistance,Math.min(r.maxDistance,D.radius));r.target.add(I);
var g=D,k=Math.sin(g.phi)*g.radius;b.x=k*Math.sin(g.theta);b.y=Math.cos(g.phi)*g.radius;b.z=k*Math.cos(g.theta);Mf(b,d);a.copy(r.target).add(b);r.object.lookAt(r.target);!0===r.enableDamping?(E.theta*=1-r.dampingFactor,E.phi*=1-r.dampingFactor):E.set(0,0,0);F=1;I.set(0,0,0);return H||e.distanceToSquared(r.object.position)>A||8*(1-f.dot(r.object.quaternion))>A?(r.dispatchEvent(v),e.copy(r.object.position),f.copy(r.object.quaternion),H=!1,!0):!1}}();this.dispose=function(){r.domElement.removeEventListener("contextmenu",
t,!1);r.domElement.removeEventListener("mousedown",f,!1);r.domElement.removeEventListener("mousewheel",l,!1);r.domElement.removeEventListener("MozMousePixelScroll",l,!1);r.domElement.removeEventListener("touchstart",n,!1);r.domElement.removeEventListener("touchend",p,!1);r.domElement.removeEventListener("touchmove",q,!1);document.removeEventListener("mousemove",g,!1);document.removeEventListener("mouseup",k,!1);document.removeEventListener("mouseout",k,!1);window.removeEventListener("keydown",m,!1)};
var r=this,v={type:"change"},w={type:"start"},z={type:"end"},y={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},B=y.NONE,A=1E-6,D=new Z.Spherical,E=new Z.Spherical,F=1,I=new Z.Vector3,H=!1,C=new Z.Vector2,J=new Z.Vector2,M=new Z.Vector2,T=new Z.Vector2,U=new Z.Vector2,L=new Z.Vector2,S=new Z.Vector2,R=new Z.Vector2,K=new Z.Vector2,N=function(){var a=new Z.Vector3;return function(b,c){Pf(a,c,0);a.multiplyScalar(-b);I.add(a)}}(),Q=function(){var a=new Z.Vector3;return function(b,
c){Pf(a,c,1);a.multiplyScalar(b);I.add(a)}}(),la=function(){var a=new Z.Vector3;return function(b,c){var d=r.domElement===document?r.domElement.body:r.domElement;if(r.object instanceof Z.PerspectiveCamera){a.copy(r.object.position).sub(r.target);var e=a.length(),e=e*Math.tan(r.object.fov/2*Math.PI/180);N(2*b*e/d.clientHeight,r.object.matrix);Q(2*c*e/d.clientHeight,r.object.matrix)}else r.object instanceof Z.OrthographicCamera?(N(b*(r.object.right-r.object.left)/r.object.zoom/d.clientWidth,r.object.matrix),
Q(c*(r.object.top-r.object.bottom)/r.object.zoom/d.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();r.domElement.addEventListener("contextmenu",t,!1);r.domElement.addEventListener("mousedown",f,!1);r.domElement.addEventListener("mousewheel",l,!1);r.domElement.addEventListener("MozMousePixelScroll",l,!1);r.domElement.addEventListener("touchstart",n,!1);r.domElement.addEventListener("touchend",p,!1);r.domElement.addEventListener("touchmove",
q,!1);window.addEventListener("keydown",m,!1);this.update()};Z.OrbitControls.prototype=Object.create(Z.EventDispatcher.prototype);Z.OrbitControls.prototype.constructor=Z.OrbitControls;
Object.defineProperties(Z.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(a){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!a}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");
return!this.enableRotate},set:function(a){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!a}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(a){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!a}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");
return!this.enableKeys},set:function(a){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!a}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(a){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!a}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");
return this.dampingFactor},set:function(a){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=a}}});
</script>

<script>//~~WEBPATH~~/facets-dive/lib/sprite-atlas.js
var Eg=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Fg=function(a){function b(b,d,e){var c=Math.ceil(Math.sqrt(b)),g=Math.ceil(b/c),k=document.createElement("canvas");k.width=d*c;k.height=e*g;var l=k.getContext("2d");var m=a.call(this,
k)||this;m.capacity=b;m.imageWidth=d;m.imageHeight=e;m.spriteColumns=c;m.spriteRows=g;m.canvas=k;m.context=l;m.minFilter=Z.LinearFilter;m.magFilter=Z.LinearFilter;m.drawTimeout=50;m.waitTimeout=1;m.drawQueue=[];m.isDrawQueued=!1;m.lastClearTimestamp=0;m.callbackQueue=[];m.pendingImageCount=0;m.fitter=new Ef({x:.125*d,y:.125*e,width:.75*d,height:.75*e});return m}Eg(b,a);b.prototype.clearQueues=function(){this.drawQueue=[];this.callbackQueue=[];this.pendingImageCount=0;return this.lastClearTimestamp=
Date.now()};b.prototype.setSpriteImageData=function(a,b,e){this.drawQueue.push({spriteIndex:a,timestamp:Date.now(),imageData:b,callback:e});this.queueDraw()};b.prototype.setAtlasUrl=function(a,b,e){var c=this,d=this.clearQueues(),k=new Image;void 0!==b&&(k.crossOrigin=b);this.pendingImageCount++;k.onerror=function(){c.lastClearTimestamp>d||c.pendingImageCount--};k.onload=function(){if(!(c.lastClearTimestamp>d)&&(c.pendingImageCount--,c.updatePropertiesToMatchImageDimensions(k.width,k.height),c.context.drawImage(k,
0,0,c.canvas.width,c.canvas.height),c.needsUpdate=!0,e&&c.callbackQueue.push({callback:e,args:[k]}),c.onDrawFinished))c.onDrawFinished()};k.src=a};b.prototype.updatePropertiesToMatchImageDimensions=function(a,b){if(a!==this.imageWidth*this.spriteColumns||b!==this.imageHeight*this.spriteRows){var c=a/this.imageWidth,d=b/this.imageHeight;if(c*d<this.capacity)throw Error("Atlas image too small to accommodate atlas capacity.");if(c!==Math.round(c)||d!==Math.round(d))throw Error("Atlas image dimensions do not fit sprite image dimensions.");
this.spriteColumns=c;this.spriteRows=d;this.canvas.width=a;this.canvas.height=b}};b.prototype.postRender=function(){if(!(this.drawQueue.length||0<this.pendingImageCount))for(;this.callbackQueue.length;){var a=this.callbackQueue.shift();a.callback.apply(null,a.args)}};b.prototype.queueDraw=function(){var a=this;this.isDrawQueued||(this.isDrawQueued=!0,setTimeout(function(){a.isDrawQueued&&a.workOnDrawJobs()},this.waitTimeout))};b.prototype.workOnDrawJobs=function(){function a(){var a=g.drawQueue.shift(),
c=a.spriteIndex,d=a.timestamp,f=a.imageData,q=a.image,p=a.callback;if(q){var a=g.imageWidth,t=g.imageHeight,r=c%g.spriteColumns*a,v=t*Math.floor(c/g.spriteColumns);g.context.clearRect(r,v,a,t);g.context.drawImage(q,r,v,a,t);"function"===typeof p&&g.callbackQueue.push({callback:p,args:[c]})}else if(f&&"text"===f.type){var q=c%g.spriteColumns*g.imageWidth,a=g.imageHeight*Math.floor(c/g.spriteColumns),v=q+g.imageWidth/2,w=a+g.imageHeight/2,t=g.fitter.fit(f.data+""),r=g.context;r.clearRect(q,a,g.imageWidth,
g.imageHeight);r.save();r.translate(v,w);r.scale(g.imageWidth,g.imageHeight);r.beginPath();r.arc(0,0,.5,0,2*Math.PI);r.restore();r.fillStyle="#555555";r.fill();r.fillStyle="white";r.textBaseline="hanging";r.font=(f.special?"italic":"bold")+" "+t.fontSize+"px 'Roboto Mono', 'Consolas', 'Menlo', monospace";v=t.lines;for(w=0;w<v.length;w++){var z=v[w];r.fillText(z.text,q+z.x,a+z.y,z.text.length*g.fitter.settings.glyphAspectRatio*t.fontSize)}"function"===typeof p&&g.callbackQueue.push({callback:p,args:[c]})}else if(f){var y=
new Image;g.pendingImageCount++;y.onload=function(){e<b.lastClearTimestamp||(b.pendingImageCount--,b.drawQueue.unshift({spriteIndex:c,timestamp:d,image:y,callback:p}),b.queueDraw())};y.onerror=function(){e<b.lastClearTimestamp||(b.pendingImageCount--,b.drawQueue.push({spriteIndex:c,timestamp:d,imageData:f,callback:p}),b.queueDraw())};y.src="svg"===f.type?URL.createObjectURL(new Blob([f.data],{type:"image/svg+xml;charset\x3dutf-8"})):"data:"+f.type+";base64,"+f.data}}var b=this;this.isDrawQueued=!1;
for(var e=Date.now(),f=e+(this.drawTimeout||Infinity),g=this;this.drawQueue.length&&Date.now()<f;)a();if(this.drawQueue.length||0<this.pendingImageCount)this.queueDraw();else if(this.needsUpdate=!0,this.onDrawFinished)this.onDrawFinished()};return b}(Z.Texture);
</script>



<script>//~~WEBPATH~~/facets-dive/lib/sprite-material.js
var Gg=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Jg=function(a){function b(b,d){return a.call(this,{vertexShader:Hg,fragmentShader:Ig,uniforms:{time:{type:"f",value:0},defaultTexture:{type:"t",value:b},spriteAtlas:{type:"t",
value:d},spriteColumns:{type:"f",value:d?d.spriteColumns:1},spriteRows:{type:"f",value:d?d.spriteRows:1}},transparent:!0})||this}Gg(b,a);Object.defineProperty(b.prototype,"time",{get:function(){return this.uniforms.time.value},set:function(a){this.uniforms.time.value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"defaultTexture",{get:function(){return this.uniforms.defaultTexture.value},set:function(a){this.uniforms.defaultTexture.value=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"spriteAtlas",{get:function(){return this.uniforms.spriteAtlas.value},set:function(a){this.uniforms.spriteAtlas.value=a},enumerable:!0,configurable:!0});b.prototype.updateAtlasUniforms=function(){this.uniforms.spriteColumns.value=this.spriteAtlas.spriteColumns;this.uniforms.spriteRows.value=this.spriteAtlas.spriteRows};b.prototype.applyEasing=function(a){return.5>a?4*a*a*a:4*(a-1)*(a-1)*(a-1)+1};return b}(Z.RawShaderMaterial),Hg="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Standard uniforms provided by THREE.js for projecting through the camera.\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n\n  uniform float time;\n\n  uniform float spriteColumns;\n  uniform float spriteRows;\n\n  attribute vec3 position;\n  attribute vec3 basePosition;\n\n  attribute vec4 color;\n  attribute vec4 baseColor;\n\n  attribute float opacity;\n  attribute float baseOpacity;\n\n  attribute float timestamp;\n  attribute float baseTimestamp;\n\n  attribute float vertexIndex;\n\n  attribute float textureIndex;\n  attribute float baseTextureIndex;\n\n  attribute float textureTimestamp;\n  attribute float baseTextureTimestamp;\n\n  // Computed UV coordinates into the defaultTexture based on the vertexIndex.\n  varying vec2 vDefaultUv;\n\n  // Computed UV coordinates into the sprite texture atlas.\n  varying vec2 vSpriteUv;\n\n  // Interpolated color used by the fragment shader.\n  varying vec4 vColor;\n\n  // Interpolated opacity used by the fragment shader.\n  varying float vOpacity;\n\n  // Degree of mixing between base and current texture.\n  varying float vTextureMix;\n\n  float applyEasing(float t) {\n    return t \x3c 0.5 ? 4.0 * t * t * t :\n      4.0 * (t - 1.0) * (t - 1.0) * (t - 1.0) + 1.0;\n  }\n\n  void main() {\n\n    // Compute default UVs. A \x3d\x3e (0,0), B \x3d\x3e (1,0), etc.\n    vDefaultUv.x \x3d mod(floor((vertexIndex + 1.0) / 2.0), 2.0);\n    vDefaultUv.y \x3d mod(floor(vertexIndex / 2.0), 2.0);\n\n    // Determine the row and column indices for this sprite.\n    float spriteIndex \x3d floor(vertexIndex / 4.0) + 0.5;\n    float columnIndex \x3d floor(mod(spriteIndex, spriteColumns));\n    float rowIndex \x3d spriteRows - 1.0 - floor(spriteIndex / spriteColumns);\n\n    // Compute sprite UVs from row and column indices.\n    vSpriteUv.x \x3d (columnIndex + vDefaultUv.x) / spriteColumns;\n    vSpriteUv.y \x3d (rowIndex + vDefaultUv.y) / spriteRows;\n\n    float blend \x3d applyEasing(smoothstep(baseTimestamp, timestamp, time));\n\n    vTextureMix \x3d mix(baseTextureIndex, textureIndex,\n        smoothstep(baseTextureTimestamp, textureTimestamp, time));\n\n    vColor \x3d mix(baseColor, color, blend);\n\n    vOpacity \x3d mix(baseOpacity, opacity, blend);\n\n    gl_Position \x3d projectionMatrix * modelViewMatrix *\n        vec4(mix(basePosition, position, vec3(blend)), 1.0);\n\n  }\n\n",
Ig="\n\n  precision highp float;\n  precision highp int;\n\n  #define SHADER_NAME SpriteMaterial\n\n  // Lightness that should ideally exactly match the vColor.\n  #define TARGET_LIGHTNESS 0.6\n\n  uniform float time;\n\n  uniform sampler2D defaultTexture;\n  uniform sampler2D spriteAtlas;\n\n  varying vec2 vDefaultUv;\n  varying vec2 vSpriteUv;\n  varying vec4 vColor;\n  varying float vOpacity;\n  varying float vTextureMix;\n\n  // Compute relative luminance from RGB.\n  float rgbToL(vec3 rgb) {\n    return dot(rgb, vec3(0.3, 0.59, 0.11));\n  }\n\n  // Apply luminance easing.\n  float easeL(float l) {\n    return 1.0 - (1.0 - l) * (1.0 - l) * (1.0 - l);\n  }\n\n  void main() {\n    if (vOpacity \x3c\x3d 0.05) {\n      discard;\n    }\n\n    // Interpolate between default texture and sprite texture.\n    vec4 defaultColor \x3d\n      vTextureMix \x3c 1.0 ? texture2D(defaultTexture, vDefaultUv) : vec4(0.0);\n    vec4 spriteColor \x3d\n      vTextureMix \x3e 0.0 ? texture2D(spriteAtlas, vSpriteUv) : vec4(0.0);\n    vec4 mixedColor \x3d mix(defaultColor, spriteColor, vTextureMix);\n\n    // Lightness of the mixed pixel.\n    float mixedL \x3d rgbToL(mixedColor.rgb);\n\n    // Using the mixed and target lightness, determine the color that's between\n    // black, vColor and white.\n    vec3 color \x3d mixedL \x3c TARGET_LIGHTNESS ?\n        mix(vec3(0.0), vColor.rgb, easeL(mixedL / TARGET_LIGHTNESS)) :\n        mix(vec3(1.0), vColor.rgb,\n            easeL((1.0 - mixedL) / (1.0 - TARGET_LIGHTNESS)));\n\n    vec3 finalColor \x3d mix(mixedColor.rgb, color, vColor.a);\n\n    // Apply opacity.\n    gl_FragColor \x3d vec4(finalColor, mixedColor.a * vOpacity);\n  }\n";
</script>


<script>//~~WEBPATH~~/facets-dive/lib/sprite-mesh.js
var Kg=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Lg=function(){function a(a,c){this._spriteMesh=a;this._spriteIndex=c}Object.defineProperty(a.prototype,"spriteMesh",{get:function(){return this._spriteMesh},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"spriteIndex",{get:function(){return this._spriteIndex},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"x",{get:function(){return this._spriteMesh.getX(this._spriteIndex)},set:function(a){this._spriteMesh.setX(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"y",{get:function(){return this._spriteMesh.getY(this._spriteIndex)},set:function(a){this._spriteMesh.setY(this._spriteIndex,a)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"z",{get:function(){return this._spriteMesh.getZ(this._spriteIndex)},set:function(a){this._spriteMesh.setZ(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"r",{get:function(){return this._spriteMesh.getR(this._spriteIndex)},set:function(a){this._spriteMesh.setR(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"g",{get:function(){return this._spriteMesh.getG(this._spriteIndex)},set:function(a){this._spriteMesh.setG(this._spriteIndex,
a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"b",{get:function(){return this._spriteMesh.getB(this._spriteIndex)},set:function(a){this._spriteMesh.setB(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"a",{get:function(){return this._spriteMesh.getA(this._spriteIndex)},set:function(a){this._spriteMesh.setA(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"opacity",{get:function(){return this._spriteMesh.getOpacity(this._spriteIndex)},
set:function(a){this._spriteMesh.setOpacity(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"timestamp",{get:function(){return this._spriteMesh.getTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseX",{get:function(){return this._spriteMesh.getBaseX(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseX(this._spriteIndex,a)},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"baseY",{get:function(){return this._spriteMesh.getBaseY(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseY(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseZ",{get:function(){return this._spriteMesh.getBaseZ(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseZ(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseR",{get:function(){return this._spriteMesh.getBaseR(this._spriteIndex)},
set:function(a){this._spriteMesh.setBaseR(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseG",{get:function(){return this._spriteMesh.getBaseG(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseG(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseB",{get:function(){return this._spriteMesh.getBaseB(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseB(this._spriteIndex,a)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"baseA",{get:function(){return this._spriteMesh.getBaseA(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseA(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseOpacity",{get:function(){return this._spriteMesh.getBaseOpacity(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseOpacity(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTimestamp",{get:function(){return this._spriteMesh.getBaseTimestamp(this._spriteIndex)},
set:function(a){this._spriteMesh.setBaseTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureIndex",{get:function(){return this._spriteMesh.getTextureIndex(this._spriteIndex)},set:function(a){this._spriteMesh.setTextureIndex(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureIndex",{get:function(){return this._spriteMesh.getBaseTextureIndex(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseTextureIndex(this._spriteIndex,
a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureTimestamp",{get:function(){return this._spriteMesh.getTextureTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setTextureTimestamp(this._spriteIndex,a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseTextureTimestamp",{get:function(){return this._spriteMesh.getBaseTextureTimestamp(this._spriteIndex)},set:function(a){this._spriteMesh.setBaseTextureTimestamp(this._spriteIndex,a)},enumerable:!0,
configurable:!0});a.prototype.rebase=function(a){this._spriteMesh.rebase(this._spriteIndex,a)};a.prototype.setSpriteImageData=function(a,c){this._spriteMesh.setSpriteImageData(this._spriteIndex,a,c)};a.prototype.switchTextures=function(a,c){this._spriteMesh.switchTextures(this._spriteIndex,a,c)};return a}(),Sg=function(a){function b(b,d,e){void 0===d&&(d=32);void 0===e&&(e=32);var c=a.call(this)||this;c.capacity=b;c.imageWidth=d;c.imageHeight=e;c.nextIndex=0;c.spriteWidth=c.imageWidth/c.imageHeight;
c.spriteHeight=1;c.geometry=new Z.BufferGeometry;c.positionData=new Float32Array(12*b);c.positionAttribute=new Z.BufferAttribute(c.positionData,3);c.positionAttribute.setDynamic(!0);c.geometry.addAttribute("position",c.positionAttribute);c.basePositionData=new Float32Array(12*b);c.basePositionAttribute=new Z.BufferAttribute(c.basePositionData,3);c.basePositionAttribute.setDynamic(!0);c.geometry.addAttribute("basePosition",c.basePositionAttribute);c.colorData=new Uint8Array(16*b);c.colorAttribute=
new Z.BufferAttribute(c.colorData,4);c.colorAttribute.normalized=!0;c.colorAttribute.setDynamic(!0);c.geometry.addAttribute("color",c.colorAttribute);c.baseColorData=new Uint8Array(16*b);c.baseColorAttribute=new Z.BufferAttribute(c.baseColorData,4);c.baseColorAttribute.normalized=!0;c.baseColorAttribute.setDynamic(!0);c.geometry.addAttribute("baseColor",c.baseColorAttribute);c.opacityData=new Float32Array(4*b);c.opacityAttribute=new Z.BufferAttribute(c.opacityData,1);c.opacityAttribute.setDynamic(!0);
c.geometry.addAttribute("opacity",c.opacityAttribute);c.baseOpacityData=new Float32Array(4*b);c.baseOpacityAttribute=new Z.BufferAttribute(c.baseOpacityData,1);c.baseOpacityAttribute.setDynamic(!0);c.geometry.addAttribute("baseOpacity",c.baseOpacityAttribute);c.timestampData=new Float32Array(4*b);c.timestampAttribute=new Z.BufferAttribute(c.timestampData,1);c.timestampAttribute.setDynamic(!0);c.geometry.addAttribute("timestamp",c.timestampAttribute);c.baseTimestampData=new Float32Array(4*b);c.baseTimestampAttribute=
new Z.BufferAttribute(c.baseTimestampData,1);c.baseTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("baseTimestamp",c.baseTimestampAttribute);c.faceIndexData=new Uint32Array(6*b);for(var g=0;g<b;g++){var k=6*g,l=4*g;c.faceIndexData[k+0]=l+0;c.faceIndexData[k+1]=l+1;c.faceIndexData[k+2]=l+2;c.faceIndexData[k+3]=l+0;c.faceIndexData[k+4]=l+2;c.faceIndexData[k+5]=l+3}c.faceIndexAttribute=new Z.BufferAttribute(c.faceIndexData,1);c.geometry.setIndex(c.faceIndexAttribute);c.textureIndexData=new Float32Array(4*
b);c.textureIndexAttribute=new Z.BufferAttribute(c.textureIndexData,1);c.textureIndexAttribute.setDynamic(!0);c.geometry.addAttribute("textureIndex",c.textureIndexAttribute);c.baseTextureIndexData=new Float32Array(4*b);c.baseTextureIndexAttribute=new Z.BufferAttribute(c.baseTextureIndexData,1);c.baseTextureIndexAttribute.setDynamic(!0);c.geometry.addAttribute("baseTextureIndex",c.baseTextureIndexAttribute);c.textureTimestampData=new Float32Array(4*b);c.textureTimestampAttribute=new Z.BufferAttribute(c.textureTimestampData,
1);c.textureTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("textureTimestamp",c.textureTimestampAttribute);c.baseTextureTimestampData=new Float32Array(4*b);c.baseTextureTimestampAttribute=new Z.BufferAttribute(c.baseTextureTimestampData,1);c.baseTextureTimestampAttribute.setDynamic(!0);c.geometry.addAttribute("baseTextureTimestamp",c.baseTextureTimestampAttribute);k=4*b;c.vertexIndexData=new Float32Array(k);for(g=0;g<k;g++)c.vertexIndexData[g]=g;c.vertexIndexAttribute=new Z.BufferAttribute(c.vertexIndexData,
1);c.geometry.addAttribute("vertexIndex",c.vertexIndexAttribute);c.defaultTextureCanvas=c.createDefaultTextureCanvas();c.defaultTexture=new Z.Texture(c.defaultTextureCanvas);c.defaultTexture.minFilter=Z.LinearFilter;c.defaultTexture.magFilter=Z.NearestFilter;c.defaultTexture.needsUpdate=!0;c.spriteAtlas=new Fg(b,d,e);c.material=new Jg(c.defaultTexture,c.spriteAtlas);c.onBeforeRender=function(){c.material.updateAtlasUniforms()};c.constructionTimestamp=Date.now();c.time=c.constructionTimestamp;c.frustumCulled=
!1;return c}Kg(b,a);b.prototype.createSprite=function(){return new Lg(this,this.nextIndex++)};Object.defineProperty(b.prototype,"time",{get:function(){return this.material.time+this.constructionTimestamp},set:function(a){this.material.time=a-this.constructionTimestamp},enumerable:!0,configurable:!0});b.prototype.createDefaultTextureCanvas=function(){var a=this,b=this.defaultTextureCanvas=document.createElement("canvas"),e=b.width=this.imageWidth,f=b.height=this.imageHeight,g=b.getContext("2d"),k=
new Image;k.onload=function(){g.drawImage(k,0,0,e,f);a.defaultTexture.needsUpdate=!0};k.src=URL.createObjectURL(new Blob([Mg],{type:"image/svg+xml;charset\x3dutf-8"}));return b};b.prototype.getX=function(a){return this.positionData[12*a+0]};b.prototype.setX=function(a,b){a*=12;this.positionData[a+0]=b;this.positionData[a+3]=b+this.spriteWidth;this.positionData[a+6]=b+this.spriteWidth;this.positionData[a+9]=b;this.positionAttribute.needsUpdate=!0};b.prototype.getY=function(a){return this.positionData[12*
a+1]};b.prototype.setY=function(a,b){a*=12;this.positionData[a+1]=b;this.positionData[a+4]=b;this.positionData[a+7]=b+this.spriteHeight;this.positionData[a+10]=b+this.spriteHeight;this.positionAttribute.needsUpdate=!0};b.prototype.getZ=function(a){return this.positionData[12*a+2]};b.prototype.setZ=function(a,b){a*=12;this.positionData[a+2]=b;this.positionData[a+5]=b;this.positionData[a+8]=b;this.positionData[a+11]=b;this.positionAttribute.needsUpdate=!0};b.prototype.getR=function(a){return this.colorData[16*
a+0]};b.prototype.setR=function(a,b){a*=16;this.colorData[a+0]=b;this.colorData[a+4]=b;this.colorData[a+8]=b;this.colorData[a+12]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getG=function(a){return this.colorData[16*a+1]};b.prototype.setG=function(a,b){a*=16;this.colorData[a+1]=b;this.colorData[a+5]=b;this.colorData[a+9]=b;this.colorData[a+13]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getB=function(a){return this.colorData[16*a+2]};b.prototype.setB=function(a,b){a*=16;this.colorData[a+
2]=b;this.colorData[a+6]=b;this.colorData[a+10]=b;this.colorData[a+14]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getA=function(a){return this.colorData[16*a+3]};b.prototype.setA=function(a,b){a*=16;this.colorData[a+3]=b;this.colorData[a+7]=b;this.colorData[a+11]=b;this.colorData[a+15]=b;this.colorAttribute.needsUpdate=!0};b.prototype.getBaseX=function(a){return this.basePositionData[12*a+0]};b.prototype.setBaseX=function(a,b){a*=12;this.basePositionData[a+0]=b;this.basePositionData[a+3]=b+
this.spriteWidth;this.basePositionData[a+6]=b+this.spriteWidth;this.basePositionData[a+9]=b;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseY=function(a){return this.basePositionData[12*a+1]};b.prototype.setBaseY=function(a,b){a*=12;this.basePositionData[a+1]=b;this.basePositionData[a+4]=b;this.basePositionData[a+7]=b+this.spriteHeight;this.basePositionData[a+10]=b+this.spriteHeight;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseZ=function(a){return this.basePositionData[12*
a+2]};b.prototype.setBaseZ=function(a,b){a*=12;this.basePositionData[a+2]=b;this.basePositionData[a+5]=b;this.basePositionData[a+8]=b;this.basePositionData[a+11]=b;this.basePositionAttribute.needsUpdate=!0};b.prototype.getBaseR=function(a){return this.baseColorData[16*a+0]};b.prototype.setBaseR=function(a,b){a*=16;this.baseColorData[a+0]=b;this.baseColorData[a+4]=b;this.baseColorData[a+8]=b;this.baseColorData[a+12]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseG=function(a){return this.baseColorData[16*
a+1]};b.prototype.setBaseG=function(a,b){a*=16;this.baseColorData[a+1]=b;this.baseColorData[a+5]=b;this.baseColorData[a+9]=b;this.baseColorData[a+13]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseB=function(a){return this.baseColorData[16*a+2]};b.prototype.setBaseB=function(a,b){a*=16;this.baseColorData[a+2]=b;this.baseColorData[a+6]=b;this.baseColorData[a+10]=b;this.baseColorData[a+14]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getBaseA=function(a){return this.baseColorData[16*
a+3]};b.prototype.setBaseA=function(a,b){a*=16;this.baseColorData[a+3]=b;this.baseColorData[a+7]=b;this.baseColorData[a+11]=b;this.baseColorData[a+15]=b;this.baseColorAttribute.needsUpdate=!0};b.prototype.getOpacity=function(a){return this.opacityData[4*a+0]};b.prototype.setOpacity=function(a,b){a*=4;this.opacityData[a+0]=b;this.opacityData[a+1]=b;this.opacityData[a+2]=b;this.opacityData[a+3]=b;this.opacityAttribute.needsUpdate=!0};b.prototype.getBaseOpacity=function(a){return this.baseOpacityData[4*
a+0]};b.prototype.setBaseOpacity=function(a,b){a*=4;this.baseOpacityData[a+0]=b;this.baseOpacityData[a+1]=b;this.baseOpacityData[a+2]=b;this.baseOpacityData[a+3]=b;this.baseOpacityAttribute.needsUpdate=!0};b.prototype.getTimestamp=function(a){return this.timestampData[4*a+0]+this.constructionTimestamp};b.prototype.setTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.timestampData[a+0]=b;this.timestampData[a+1]=b;this.timestampData[a+2]=b;this.timestampData[a+3]=b;this.timestampAttribute.needsUpdate=
!0};b.prototype.getBaseTimestamp=function(a){return this.baseTimestampData[4*a+0]+this.constructionTimestamp};b.prototype.setBaseTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.baseTimestampData[a+0]=b;this.baseTimestampData[a+1]=b;this.baseTimestampData[a+2]=b;this.baseTimestampData[a+3]=b;this.baseTimestampAttribute.needsUpdate=!0};b.prototype.getTextureIndex=function(a){return this.textureIndexData[4*a+0]};b.prototype.setTextureIndex=function(a,b){a*=4;this.textureIndexData[a+0]=
b;this.textureIndexData[a+1]=b;this.textureIndexData[a+2]=b;this.textureIndexData[a+3]=b;this.textureIndexAttribute.needsUpdate=!0};b.prototype.getBaseTextureIndex=function(a){return this.baseTextureIndexData[4*a+0]};b.prototype.setBaseTextureIndex=function(a,b){a*=4;this.baseTextureIndexData[a+0]=b;this.baseTextureIndexData[a+1]=b;this.baseTextureIndexData[a+2]=b;this.baseTextureIndexData[a+3]=b;this.baseTextureIndexAttribute.needsUpdate=!0};b.prototype.getTextureTimestamp=function(a){return this.textureTimestampData[4*
a+0]+this.constructionTimestamp};b.prototype.setTextureTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.textureTimestampData[a+0]=b;this.textureTimestampData[a+1]=b;this.textureTimestampData[a+2]=b;this.textureTimestampData[a+3]=b;this.textureTimestampAttribute.needsUpdate=!0};b.prototype.getBaseTextureTimestamp=function(a){return this.baseTextureTimestampData[4*a+0]+this.constructionTimestamp};b.prototype.setBaseTextureTimestamp=function(a,b){a*=4;b-=this.constructionTimestamp;this.baseTextureTimestampData[a+
0]=b;this.baseTextureTimestampData[a+1]=b;this.baseTextureTimestampData[a+2]=b;this.baseTextureTimestampData[a+3]=b;this.baseTextureTimestampAttribute.needsUpdate=!0};b.prototype.rebase=function(a,b){function c(a,b){return a*k+b*(1-k)}b=void 0===b?this.time:b;var d=this.getBaseTimestamp(a),g=this.getTimestamp(a),k=b>=g?1:b<=d?0:this.material.applyEasing((b-d)/(g-d));this.setBaseX(a,c(this.getX(a),this.getBaseX(a)));this.setBaseY(a,c(this.getY(a),this.getBaseY(a)));this.setBaseZ(a,c(this.getZ(a),this.getBaseZ(a)));
this.setBaseR(a,c(this.getR(a),this.getBaseR(a)));this.setBaseG(a,c(this.getG(a),this.getBaseG(a)));this.setBaseB(a,c(this.getB(a),this.getBaseB(a)));this.setBaseA(a,c(this.getA(a),this.getBaseA(a)));this.setBaseOpacity(a,c(this.getOpacity(a),this.getBaseOpacity(a)));this.setBaseTimestamp(a,b>=g?b:c(g,d))};b.prototype.setSpriteImageData=function(a,b,e){this.spriteAtlas.setSpriteImageData(a,b,e)};b.prototype.switchTextures=function(a,b,e){var c=this.getTextureIndex(a);this.setBaseTextureIndex(a,c);
this.setTextureIndex(a,0===c?1:0);this.setBaseTextureTimestamp(a,b);this.setTextureTimestamp(a,e)};b.prototype.findSprites=function(a,b){for(var c=[],d=0;d<this.capacity;d++){var g=12*d;a>=this.positionData[g+0]&&a<=this.positionData[g+6]&&b>=this.positionData[g+1]&&b<=this.positionData[g+7]&&c.push(d)}return c};return b}(Z.Mesh),Mg='\n\x3csvg version\x3d"1.1"\n     baseProfile\x3d"full"\n     width\x3d"128" height\x3d"128"\n     xmlns\x3d"http://www.w3.org/2000/svg"\n     xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\n  \x3cdefs\x3e\n    \x3clinearGradient id\x3d"linearGradient3774"\x3e\n      \x3cstop\n         style\x3d"stop-color:#808080;stop-opacity:1;"\n         offset\x3d"0" /\x3e\n      \x3cstop\n         style\x3d"stop-color:#555555;stop-opacity:1;"\n         offset\x3d"1" /\x3e\n    \x3c/linearGradient\x3e\n    \x3cradialGradient\n       xlink:href\x3d"#linearGradient3774"\n       id\x3d"radialGradient3780"\n       cx\x3d"80"\n       cy\x3d"40"\n       fx\x3d"80"\n       fy\x3d"40"\n       r\x3d"80"\n       gradientUnits\x3d"userSpaceOnUse"\n       spreadMethod\x3d"pad" /\x3e\n  \x3c/defs\x3e\n  \x3ccircle cx\x3d"50%" cy\x3d"50%" r\x3d"50%" fill\x3d"url(#radialGradient3780)" /\x3e\n\x3c/svg\x3e\n';
</script>

<script>//~~WEBPATH~~/facets-dive/lib/wordtree.js
var Tg=/\b[-'\w]+\b/g;function Ug(a){return typeof a+"\u001f"+a}
function Vg(a){function b(a,b){for(var c=0;c<a.length;c++)b[a[c]]=!0}if(2>a.valueCount)return null;for(var c={},d=a;d;)b(d.commonWords,c),d=d.parent;for(d=0;d<a.children.length;d++)b(a.children[d].commonWords,c);var d={},e;for(e in a.valueHash){var f=a.valueHash[e],g=f.count,f=f.words,k;for(k in f)k in c||(d[k]=(d[k]||0)+g,d[k]===a.totalCount&&(a.commonWords.push(k),c[k]=!0,delete d[k]))}a=null;c=0;for(k in d)d[k]>c&&(a=k,c=d[k]);return a}
function Wg(a){function b(a){a.order=++p;for(var c=0;c<a.children.length;c++)b(a.children[c])}function c(a){return a.valueCount+a.nonValueCount}var d={parent:null,commonWords:[],level:1,order:0,totalCount:0,valueHash:{},valueCount:0,nonValueCount:0,children:[]},e={root:d,nodeHash:{},highestLevel:1,levelHash:{1:d}},f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];var k=g.value;var l=g.count;var m=g.words;"string"===typeof k?(d.valueHash[f]={value:k,count:l,words:m},d.valueCount+=l):d.nonValueCount+=
l;d.totalCount+=l;e.nodeHash[f]=d}a=d.level;if(d.nonValueCount){a++;var n={parent:d,commonWords:[],level:a,order:0,totalCount:d.nonValueCount,valueHash:{},valueCount:0,nonValueCount:d.nonValueCount,children:[]};d.nonValueCount=0;d.children.push(n);e.highestLevel=a;e.levelHash[a]=n;for(f in e.nodeHash)f in d.valueHash||(e.nodeHash[f]=n)}for(d=[d];100>a&&d.length;){l=0;k=c(d[l]);for(g=1;g<d.length;g++){var q=c(d[g]);q>k&&(l=g,k=q)}q=d[l];if(g=Vg(q))for(f in a++,n={parent:q,commonWords:[g],level:a,order:0,
totalCount:0,valueHash:{},valueCount:0,nonValueCount:0,children:[]},q.children.push(n),d.push(n),q.valueHash)q.valueHash.hasOwnProperty(f)&&(m=q.valueHash[f],k=m.value,l=m.count,(m=m.words)&&g in m&&(n.valueHash[f]={value:k,count:l,words:m},n.valueCount+=l,n.totalCount+=l,delete q.valueHash[f],q.valueCount-=l,e.nodeHash[f]=n,e.highestLevel=a,e.levelHash[a]=n));else d.splice(l,1)}var p=0;b(e.root);return e};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/stats.js
var Xg=function(){function a(){this.uniqueCount=this.totalCount=0;this.valueHash={};this.otherCount=this.stringCount=this.integerCount=this.numberCount=0;this.stringLengthsCount=this.stringMeanLength=this.stringMaxLength=this.stringMinLength=this.numberMax=this.numberMin=null;this.stringLengthsHash={};this.totalWordCount=this.multiwordCount=0;this.wordCounts={};this.uniqueWordCount=0;this.wordTree=null}a.prototype.isNumeric=function(){return 0<this.numberCount&&null!==this.numberMin&&null!==this.numberMax&&
this.numberMax>this.numberMin};a.prototype.isInteger=function(){return 0<this.numberCount&&this.integerCount===this.numberCount};a.prototype.addValue=function(a){this.totalCount++;var b=Ug(a);b in this.valueHash||(this.valueHash[b]={value:a,count:0},this.uniqueCount++);this.valueHash[b].count++;switch(typeof a){case "number":this.incorporateNumberValue(a);break;case "string":this.incorporateStringValue(b,a);break;default:this.otherCount++}};a.prototype.incorporateNumberValue=function(a){this.numberCount++;
"number"===typeof a&&a>>0===a&&this.integerCount++;isNaN(a)||(this.numberMin=null===this.numberMin?a:Math.min(this.numberMin,a),this.numberMax=null===this.numberMax?a:Math.max(this.numberMax,a))};a.prototype.incorporateStringValue=function(a,c){this.stringCount++;var b=c.length;b in this.stringLengthsHash||(this.stringLengthsCount=(this.stringLengthsCount||0)+1);this.stringLengthsHash[b]=(this.stringLengthsHash[b]||0)+1;this.stringMinLength=null===this.stringMinLength?b:Math.min(this.stringMinLength,
b);this.stringMaxLength=null===this.stringMaxLength?b:Math.max(this.stringMaxLength,b);this.stringMeanLength=(this.stringMeanLength||0)*(this.stringCount-1)/this.stringCount+b/this.stringCount;if(!this.valueHash[a].words){c=c.toLowerCase().toLowerCase().match(Tg)||[];1<c.length&&(this.multiwordCount++,this.totalWordCount+=c.length);for(var b=this.valueHash[a].words={},e=0;e<c.length;e++){var f=c[e];b[f]=(b[f]||0)+1;f in this.wordCounts||(this.wordCounts[f]=0,this.uniqueWordCount++)}}a=this.valueHash[a].words;
for(f in a)this.wordCounts[f]=(this.wordCounts[f]||0)+1};return a}();function Yg(a){if(!a||!a.length)return{};for(var b={},c=0;c<a.length;c++){var d=a[c];if(null!=d)for(var e=Object.keys(d),f=0;f<e.length;f++){var g=e[f],k=d[g];g in b||(b[g]=new Xg);b[g].addValue(k)}}for(var l in b)a=b[l],a.multiwordCount&&(a.wordTree=Wg(a.valueHash));return b};
</script>

<script>//~~WEBPATH~~/facets-dive/lib/string-format.js
function Zg(a){return 65>a.length?a:a.substr(0,30)+"..."+a.substr(-30)};
</script>




<dom-module id="facets-dive-vis">
  <template>
    <style>
      :host {
        box-sizing: border-box;
        display: block;
        height: 100%;
        width: 100%;
      }
      ::content .labels {
        @apply(--paper-font-common-base);
        @apply(--paper-font-headline);
      }
    </style>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-vis/facets-dive-vis.js
var $g=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ah={bottom:6,left:6,right:6,top:6},bh={"\ufffcOTHER\ufffc":"other","\ufffcNO_WORDS\ufffc":"non-words","\ufffcALL_WORDS\ufffc":"other"};
function ch(a){return null!==a&&a in bh?{label:bh[a],special:!0}:"number"!==typeof a&&"string"!==typeof a?{label:""+a,special:!0}:{label:Zg(""+a),special:!1}}
var dh="#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),eh="#4285F4 #0F9D58 #00ACC1 #9E9D24 #5C6BC0 #00796B #607D8B".split(" "),fh="#DB4437 #F4B400 #AB47BC #F06292 #AB47BC #795548 #FF7043 #C2185B".split(" "),gh="#4285F4 #C53929 #F7CB4D #0B8043 #5E35B1 #80DEEA #FF7043 #C0CA33".split(" "),hh={"alignment-baseline":"middle",fill:"#444444","font-size":18,"font-style":"normal","text-anchor":"middle",x:0,y:0},ih=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}$g(b,a);return b}(jf),jh=function(){function a(a){this.elem=a;this.endTimestamp=0;this.renderQueued=!1;this.labels=[];this.autoColorBy=!1;this.horizontalFacetInfo=this.verticalFacetInfo=null}a.prototype.ready=function(){this.layout=new yf;this.cellBackgroundSVG=d3.select(this.elem).append("svg").style("left",0).style("position","absolute").style("top",0);this.cellBackgroundSVGRoot=this.cellBackgroundSVG.append("g").attr("class","root");this.cellBackgroundLayer=this.cellBackgroundSVGRoot.append("g").attr("class",
"labels");this.scene=new Z.Scene;this.camera=new Z.OrthographicCamera(0,100,0,100,.1,1E3);try{this.renderer=new Z.WebGLRenderer({alpha:!0}),this.renderer.setPixelRatio(),d3.select(this.renderer.domElement).style("left",0).style("pointer-events","none").style("position","absolute").style("top",0),this.elem.appendChild(this.renderer.domElement)}catch(b){}this.zoom=d3.zoom().scaleExtent([.01,1E3]).on("zoom",this.zoomed.bind(this));d3.select(this.elem).call(this.zoom);this.labelsAndAxesSVG=d3.select(this.elem).append("svg").style("left",
0).style("position","absolute").style("top",0);this.labelsAndAxesSVGRoot=this.labelsAndAxesSVG.append("g").attr("class","root");this.labelsLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","labels");this.axesLayer=this.labelsAndAxesSVGRoot.append("g").attr("class","axes");this.labelsAndAxesSVG.on("click",this.clicked.bind(this));this.renderer||(this.labelsAndAxesSVG.style("display","none"),this.cellBackgroundSVG.style("display","none"),d3.select(this.elem).append("p").attr("class","error").style("color",
"darkred").html('\n            \x3cstrong\x3eERROR\x3c/strong\x3e: Facets Dive requires WebGL, and it is not\n            enabled in your browser. See\n            \x3ca rel\x3d"noreferrer" href\x3d"http://webglreport.com/"\x3e\n            WebGL Report\x3c/a\x3e for details.\n          '))};a.prototype.zoomed=function(){var a=d3.event.transform,c=a.x,d=a.y,a=a.k,e=this.scale/a;this.camera.top*=e;this.camera.left*=e;this.camera.right*=e;this.camera.bottom*=e;this.camera.position.set(-c/a,d/a,this.camera.position.z);
this.camera.updateProjectionMatrix();this.scale=a;this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()};a.prototype.clicked=function(){for(var a=this.elem.getBoundingClientRect(),c=d3.event,a=this.spriteMesh.findSprites(this.camera.position.x+(c.clientX-a.left)/this.scale,this.camera.position.y-(c.clientY-a.top)/this.scale),c=Array(a.length),d=0;d<a.length;d++)c[d]=this.elem.data[a[d]];this.elem.set("selectedData",c)};a.prototype.fitToViewport=function(){var a=this,c=this.elem.getBoundingClientRect();
if(c.width&&c.height){this.layout.viewport.width=c.width;this.layout.viewport.height=c.height;this.layout.padding.bottom=this.elem.scenePadding;this.layout.padding.left=this.elem.scenePadding;this.layout.padding.right=this.elem.scenePadding;this.layout.padding.top=this.elem.scenePadding;this.layout.grid={bottom:0,left:0,right:this.grid.width,top:this.grid.height};if(this.labels.length){var d=0,e=0,f=0,g=0;this.labelsLayer.selectAll(".label").each(function(a){var b=d3.select(this).select(".current").node().getBoundingClientRect(),
c=a.elementMargin||{bottom:0,left:0,right:0,top:0},k=b.height+c.top+c.bottom,b=b.width+c.left+c.right;switch(a.side){case kf.Bottom:d=Math.max(d,k);break;case kf.Top:g=Math.max(g,k);break;case kf.Left:e=Math.max(e,b);break;case kf.Right:f=Math.max(f,b);break;default:throw Error("Unrecognized Side.");}});this.layout.padding.bottom+=d;this.layout.padding.left+=e;this.layout.padding.right+=f;this.layout.padding.top+=g}this.layout.reducePaddingToFitWidth(c.width);this.layout.reducePaddingToFitHeight(c.height);
this.scale=this.layout.computeScale();var k=this.layout.computeCamera(),c=k.position,k=k.frustum;this.camera.left=k.left;this.camera.right=k.right;this.camera.top=k.top;this.camera.bottom=k.bottom;this.camera.position.set(c.x,c.y,100);this.camera.updateProjectionMatrix();d3.select(this.elem).call(this.zoom.transform,d3.zoomIdentity.scale(this.scale).translate(-this.camera.position.x,this.camera.position.y));this.transformSVG();this.updateObjectVisibility();this.queueRenderScene()}else setTimeout(function(){return a.fitToViewport()},
100)};a.prototype.zoomIn=function(){this.zoom.scaleBy(d3.select(this.elem),1.1)};a.prototype.zoomOut=function(){this.zoom.scaleBy(d3.select(this.elem),1/1.1)};a.prototype.transformSVG=function(){var a=this,c=-this.camera.position.x*this.scale,d=this.camera.position.y*this.scale;this.cellBackgroundSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.attr("transform","translate("+c+","+d+") scale("+this.scale+","+-this.scale+")");this.labelsAndAxesSVGRoot.selectAll(".unscale").attr("transform",
"scale("+1/this.scale+")");this.axesLayer.selectAll(".axis").select("path").attr("d",function(b){return b.path(a.scale)}).attr("stroke-width",function(b){return b.strokeWidth(a.scale)})};a.prototype.isVisible=function(a,c){return a.shouldBeVisible(c,this.scale,this.camera.position,this.camera)};a.prototype.updateObjectVisibility=function(){var a=this,c=this,d=this.labelsLayer.selectAll(".label"),e=d.filter(function(a){return(void 0===a.visible||!a.visible)&&c.isVisible(a,this)}).each(function(a){return a.visible=
!0}),f=d.filter(function(a){return(void 0===a.visible||a.visible)&&!c.isVisible(a,this)}).each(function(a){return a.visible=!1});e.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",1);f.selectAll(".opacity").transition().duration(this.elem.tweenDuration).attr("opacity",0);d.filter(function(a){return!!a.scaleDown}).selectAll(".scale").attr("transform",function(b){return"scale("+(a.scale<b.minScale?a.scale/b.minScale:1)+")"});d=this.axesLayer.selectAll(".axis").each(function(a){a.visible=
c.isVisible(a,this)});d.filter(function(a){return!!a.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",1);d.filter(function(a){return!a.visible}).select("path").transition().duration(this.elem.tweenDuration).attr("stroke-opacity",0)};a.prototype.addVerticalFacetLabels=function(a){var b=this;this.elem.verticalFacet in this.stats&&this.grid.getColumn(this.grid.horizontalKeys[this.grid.horizontalKeys.length-1]).forEach(function(c){var d=b.verticalFacetInfo.labelingFunction(c.verticalKey),
f=new ih;f.text=d.label;f.x=c.x+c.width;f.y=c.contentY+c.innerHeight/2;f.side=kf.Right;f.cell=c;f.attributes={"alignment-baseline":"middle",fill:"#666666","font-size":hh["font-size"],"text-anchor":"start","font-style":d.special?"italic":"normal"};f.offsetPosition={x:8};f.minScale=hh["font-size"]/(c.height+b.grid.cellMargin);f.scaleDown=!0;a.push(f)})};a.prototype.addHorizontalFacetLabels=function(a){var b=this;this.elem.horizontalFacet in this.stats&&this.grid.getRow(this.grid.verticalKeys[this.grid.verticalKeys.length-
1]).forEach(function(c){var d=b.horizontalFacetInfo.labelingFunction(c.horizontalKey),f=new ih;f.text=d.label;f.x=c.contentX+c.innerWidth/2;f.y=c.y+c.height;f.side=kf.Top;f.cell=c;f.rotate=-45;f.attributes={"alignment-baseline":"ideographic",fill:"#dd6622","font-size":hh["font-size"],"text-anchor":"start","font-style":d.special?"italic":"normal"};f.offsetPosition={x:8,y:-8};f.minScale=hh["font-size"]/(c.width+b.grid.cellMargin/2);f.scaleDown=!0;a.push(f)})};a.prototype.addVerticalPositioningLabels=
function(a){var b=this;if("scatter"===this.elem.positionMode&&this.elem.verticalPosition in this.stats){var d=this.stats[this.elem.verticalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(c){if(c.items.length){for(var d=c.siblings.left;!(!d||d.items.length||d.siblings.above&&d.siblings.above.items.length);)d=d.siblings.left;var d=d?d.contentX+d.innerWidth:-Infinity,k=c.x+8,n=c.contentY,q=c.contentY+c.innerHeight,
p=new ih;p.id=c.compoundKey+"-left-start";p.text=e;p.x=c.x+8;p.y=c.y+(b.elem.horizontalPosition?8:0);p.side=kf.Left;p.cell=c;p.rotate=-90;p.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"start"};p.offsetPosition={x:ah.bottom,y:-ah.right};p.boundingBox={bottom:n,left:d,right:k,top:n+c.innerHeight*(Math.max(g,.1)-.05)};p.elementMargin=ah;a.push(p);p=new ih;p.id=c.compoundKey+"-left-end";p.text=f;p.x=c.x+8;p.y=c.y+c.height;p.side=kf.Left;p.cell=c;p.rotate=
-90;p.attributes={"alignment-baseline":"ideographic",fill:"#2255aa","font-size":16,"text-anchor":"end"};p.offsetPosition={x:-ah.top,y:-ah.right};p.boundingBox={bottom:n+c.innerHeight*(Math.min(g,.9)+.05),left:d,right:k,top:q};p.elementMargin=ah;a.push(p)}})}};a.prototype.addHorizontalPositioningLabels=function(a){var b=this;if("scatter"===this.elem.positionMode&&this.elem.horizontalPosition in this.stats){var d=this.stats[this.elem.horizontalPosition],e=this.formatNumber(d.numberMin),f=this.formatNumber(d.numberMax),
g=(e.length+3)/(e.length+f.length+6);this.grid.eachCell(function(c){if(c.items.length){for(var d=c.siblings.below;!(!d||d.items.length||d.siblings.right&&d.siblings.right.items.length);)d=d.siblings.below;var d=d?d.contentY+d.innerHeight:-Infinity,k=c.contentY,n=c.contentX,q=n+c.innerWidth,p=new ih;p.id=c.compoundKey+"-bottom-start";p.text=e;p.x=c.x+(b.elem.verticalPosition?8:0);p.y=c.y+8;p.side=kf.Bottom;p.cell=c;p.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"start"};
p.offsetPosition={x:ah.left,y:ah.top};p.boundingBox={bottom:d,left:n,right:n+c.innerWidth*(Math.max(g,.1)-.05),top:k};p.elementMargin=ah;a.push(p);p=new ih;p.id=c.compoundKey+"-bottom-end";p.text=f;p.x=c.x+c.width;p.y=c.y+8;p.side=kf.Bottom;p.cell=c;p.attributes={"alignment-baseline":"hanging",fill:"#118844","font-size":16,"text-anchor":"end"};p.offsetPosition={x:-ah.right,y:ah.top};p.boundingBox={bottom:d,left:n+c.innerWidth*(Math.min(g,.9)+.05),right:q,top:k};p.elementMargin=ah;a.push(p)}})}};a.prototype.determineLabels=
function(){var a=[];this.addVerticalFacetLabels(a);this.addHorizontalFacetLabels(a);this.addVerticalPositioningLabels(a);this.addHorizontalPositioningLabels(a);return a};a.prototype.updateCellBackgrounds=function(){var a=this.grid.getCells().filter(function(a){return a.items.length}),a=this.cellBackgroundLayer.selectAll(".cell").data(a,function(a){return a.compoundKey});a.enter().append("rect").attr("class","cell").attr("x",function(a){return a.contentX||0}).attr("y",function(a){return a.contentY||
0}).attr("width",function(a){return a.innerWidth||0}).attr("height",function(a){return a.innerHeight||0}).attr("fill","#f8f8f9").attr("fill-opacity",0).merge(a).transition().duration(this.elem.tweenDuration).attr("x",function(a){return a.contentX||0}).attr("y",function(a){return a.contentY||0}).attr("width",function(a){return a.innerWidth||0}).attr("height",function(a){return a.innerHeight||0}).attr("fill-opacity",1);a.exit().transition().duration(this.elem.tweenDuration).remove().attr("fill-opacity",
0)};a.prototype.updateAxes=function(){var a=this,c=[];"stacked"!==this.elem.positionMode&&this.grid.eachCell(function(b){if(b.items.length){if(a.elem.verticalPosition){var d=new xf(kf.Left,b);c.push(d)}a.elem.horizontalPosition&&(d=new xf(kf.Bottom,b),c.push(d))}});var d=this.axesLayer.selectAll(".axis").data(c,function(a){return a.key()}),e=d.enter().append("g").attr("class","axis").attr("opacity",0);e.append("path").attr("d",function(b){return b.path(a.scale)}).attr("stroke",function(a){return a.side===
kf.Left?"#2255aa":"#118844"}).attr("stroke-width",function(b){return b.strokeWidth(a.scale)}).attr("stroke-opacity",0).attr("fill","none");e.merge(d).transition().duration(this.elem.tweenDuration).attr("opacity",1);e.merge(d).select("path").transition().duration(this.elem.tweenDuration).attr("d",function(b){return b.path(a.scale)});d.exit().transition().duration(this.elem.tweenDuration).remove().attr("opacity",0)};a.prototype.updateLabels=function(){if(this.scale){this.labels=this.determineLabels();
var a=this.labelsLayer.selectAll(".label").data(this.labels,function(a){return a.id||a.side+"-"+a.text});a.each(function(a){var b=d3.select(this),c=b.select(".current");a.text!==c.text()&&(c.attr("fill-opacity",0),b.select(".old").attr("fill-opacity",1).text(c.text()))}).select(".current").text(function(a){return a.text});var c=function(a){return function(b){return void 0===b.attributes||void 0===b.attributes[a]?hh[a]:b.attributes[a]}},d=a.enter().append("g").attr("class","label").attr("transform",
function(a){return"translate("+a.x+","+a.y+")"}),e=d.append("g").attr("class","flip").attr("transform","scale(1,-1)").append("g").attr("class","rotate").attr("transform",function(a){return"rotate("+("rotate"in a?a.rotate:0)+")"}).append("g").attr("class","unscale").attr("transform","scale("+1/this.scale+")").append("g").attr("class","position").append("g").attr("class","opacity scale"),f=e.append("text").attr("class","old").attr("fill-opacity",0),e=e.append("text").attr("class","current").attr("fill-opacity",
0).text(function(a){return a.text}),g;for(g in hh)hh.hasOwnProperty(g)&&(f.attr(g,c(g)),e.attr(g,c(g)));f=d.merge(a).transition().duration(this.elem.tweenDuration).attr("transform",function(a){return"translate("+a.x+","+a.y+")"});f.select(".rotate").attr("transform",function(a){return"rotate("+("rotate"in a?a.rotate:0)+")"});f.filter(function(a){return!!a.offsetPosition}).select(".position").attr("transform",function(a){return"translate("+(a.offsetPosition.x||0)+","+(a.offsetPosition.y||0)+")"});
d=f.select(".old").attr("fill-opacity",0);f=f.select(".current").attr("fill-opacity",1);for(g in hh)hh.hasOwnProperty(g)&&(d.attr(g,c(g)),f.attr(g,c(g)));a.exit().transition().duration(this.elem.tweenDuration).remove().select(".current").attr("fill-opacity",0)}};a.prototype.dataChange=function(){var a=this,c=this.elem.data;if(c&&c.length)if(this.scene){var d=!!this.spriteMesh;this.resizeHandler();d&&(this.scene.remove(this.spriteMesh),this.spriteMesh.spriteAtlas.clearQueues(),delete this.spriteMesh);
var e=this.elem.spriteImageWidth,f=this.elem.spriteImageHeight,g=e/f,k=c.length;this.spriteMesh=new Sg(k,e,f);this.scene.add(this.spriteMesh);this.spriteMesh.spriteAtlas.onDrawFinished=function(){return a.queueRenderScene()};this.items=[];for(var e=Math.ceil(Math.sqrt(k)),f=Math.ceil(k/e),l=0;l<k;l++){var m=this.spriteMesh.createSprite();m.x=e/2;m.y=f/2;m.opacity=0;m.timestamp=Date.now();m.rebase(m.timestamp);this.items.push({sprite:m,data:c[l]})}this.grid=new uf(this.items);this.grid.cellMargin=
1;this.grid.itemAspectRatio=g;this.grid.itemPositionSetter=function(b,c,d){var e=Date.now();b.sprite.rebase(e);b.sprite.x=c;b.sprite.y=d;b.sprite.opacity=1;b.sprite.timestamp=e+a.elem.tweenDuration;a.renderUntil(b.sprite.timestamp)};this.stats=Yg(c);this.updateGridFaceting();this.updateGridItemPositions();d?this.updateColors():this.elem.colorBy||this.pickColorByField();d?this.updateImageFieldName():this.elem.imageFieldName||this.pickTextDrawingField()}else requestAnimationFrame(this.dataChange.bind(this))};
a.prototype.filteredDataIndicesChange=function(){var a=this.elem.filteredDataIndices;if(this.scene&&this.items){var c=[];if(a)for(var d=0;d<a.length;d++){var e=a[d];e<this.items.length&&(c[e]=!0)}for(var e=[],f=[],g=Date.now(),k=g+this.elem.tweenDuration,d=0;d<this.items.length;d++){var l=this.items[d];!a||c[d]?(e.push(l.data),f.push(l),l.sprite.opacity||(l.sprite.rebase(g),l.sprite.timestamp=k,l.sprite.opacity=1)):0<l.sprite.opacity&&(l.sprite.rebase(g),l.sprite.timestamp=k,l.sprite.opacity=0)}this.renderUntil(k);
this.stats=Yg(e);this.grid.items=f;this.updateGridFaceting();this.updateGridItemPositions()}else requestAnimationFrame(this.filteredDataIndicesChange.bind(this))};a.prototype.pickColorByField=function(){var a=null,c=Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d],f=Math.abs(e.uniqueCount-dh.length);1<e.uniqueCount&&f<c&&(a=d,c=f)}isFinite(c)&&a in this.stats&&(this.autoColorBy=!0,this.elem.set("colorBy",a))};a.prototype.pickTextDrawingField=function(){var a="",
c=-Infinity,d;for(d in this.stats)if(this.stats.hasOwnProperty(d)){var e=this.stats[d],e=e.stringCount+e.stringLengthsCount-e.totalCount;e>c&&(a=d,c=e)}isFinite(c)&&a in this.stats&&this.elem.set("imageFieldName",a)};a.prototype.atlasUrlChange=function(){var a=this,c=this.elem.atlasUrl;c?this.spriteMesh?this.spriteMesh.spriteAtlas.setAtlasUrl(c,this.elem.crossOrigin,function(){for(var b=a.elem.data,c=Date.now(),f=c+a.elem.fadeDuration,g=0;b&&g<b.length;g++)a.spriteMesh.switchTextures(g,c,f);a.renderUntil(f);
a.elem.set("imageFieldName","");a.autoColorBy&&(a.autoColorBy=!1,a.elem.set("colorBy",""))}):requestAnimationFrame(this.atlasUrlChange.bind(this)):this.pickTextDrawingField()};a.prototype.spriteUrlChange=function(){var a=this,c=this.elem.spriteUrl;if(c)if(this.spriteMesh){var d=new Image;void 0!==this.elem.crossOrigin&&(d.crossOrigin=this.elem.crossOrigin);d.onload=function(){var b=a.spriteMesh.defaultTextureCanvas,c=b.getContext("2d");c.clearRect(0,0,b.width,b.height);c.drawImage(d,0,0,b.width,b.height);
a.spriteMesh.defaultTexture.needsUpdate=!0;a.queueRenderScene()};d.src=c}else requestAnimationFrame(this.spriteUrlChange.bind(this))};a.prototype.updateGridStacking=function(){"stacked"===this.elem.positionMode&&(this.grid.computeItemPosition=qf(this.elem.verticalFacet?"middle":"bottom",this.elem.horizontalFacet?"middle":"right"))};a.prototype.updateGridFaceting=function(){if(this.grid){this.updateGridStacking();var a=this.verticalFacetInfo=this.generateFacetingInfo(this.elem.verticalFacet,this.elem.verticalBuckets,
this.elem.verticalBagOfWords,!0);this.grid.verticalFacet=a.facetingFunction;this.grid.verticalKeyCompare=a.keyCompareFunction;a=this.horizontalFacetInfo=this.generateFacetingInfo(this.elem.horizontalFacet,this.elem.horizontalBuckets,this.elem.horizontalBagOfWords,!1);this.grid.horizontalFacet=a.facetingFunction;this.grid.horizontalKeyCompare=a.keyCompareFunction;this.grid.arrange();this.updateCellBackgrounds();this.updateAxes();this.updateLabels();this.fitToViewport()}};a.prototype.updateGridItemPositions=
function(){if(this.grid){this.updateGridStacking();var a=this.grid.cellPadding,c=vf.Tight,d=vf.Uniform,e=!1;if("stacked"===this.elem.positionMode)e=this.grid.verticalGridAlignment!==c||this.grid.horizontalGridAlignment!==c,this.grid.verticalGridAlignment=c,this.grid.horizontalGridAlignment=c,this.grid.cellPadding.top=0,this.grid.cellPadding.left=0,this.grid.cellPadding.right=0,this.grid.cellPadding.bottom=0,this.grid.minCellAspectRatio=0,this.grid.maxCellAspectRatio=Infinity;else{this.elem.verticalPosition?
(e=this.grid.verticalGridAlignment!==d,this.grid.verticalGridAlignment=d):(e=this.grid.verticalGridAlignment!==c,this.grid.verticalGridAlignment=c);this.elem.horizontalPosition?(e=e||this.grid.horizontalGridAlignment!==d,this.grid.horizontalGridAlignment=d):(e=e||this.grid.horizontalGridAlignment!==c,this.grid.horizontalGridAlignment=c);var f=this.generatePositionFunction(this.elem.horizontalPosition)||of,g=this.generatePositionFunction(this.elem.verticalPosition)||pf;this.grid.computeItemPosition=
function(a,b,c,d){return{x:f(a,b,c,d),y:g(a,b,c,d)}};c=this.elem.verticalPosition?8:0;d=this.elem.horizontalPosition?8:0;e=e||0!==a.top||c!==a.left||0!==a.right||d!==a.bottom;this.grid.cellPadding.top=0;this.grid.cellPadding.right=0;this.grid.cellPadding.left=c;this.grid.cellPadding.bottom=d;this.grid.minCellAspectRatio=1;this.grid.maxCellAspectRatio=2}e?(this.grid.arrange(),this.updateCellBackgrounds()):this.grid.positionItems();this.updateAxes();this.updateLabels();this.fitToViewport()}};a.prototype.getPaletteSource=
function(){switch(this.elem.paletteChoice){case "warm":return fh;case "cool":return eh;case "assist":return gh;default:return dh}};a.prototype.updateScalarPalette=function(){var a=this.elem.colorBy,c=this.stats[a],d=this.grid.items,e=d3.rgb("#A52714"),f=d3.scaleLinear();f.domain([c.numberMin,c.numberMax]).range(["white","#1C3AA9"]);for(var g=[],k=0;k<d.length;k++){var l=d[k],l=a in l.data?l.data[a]:NaN,l="number"!==typeof l||isNaN(l)?e:d3.rgb(f(l));g.push(l)}d=this.generateFacetingInfo(a,5,!1,!1).labelingFunction;
e=d3.scaleLinear();e.domain([0,4]).range(["white","#1C3AA9"]);f=[];for(k=4;0<=k;k--)l=d(k),f.push({key:k,color:e(k),content:l});(c.otherCount||c.stringCount||c.totalCount<this.grid.items.length)&&f.push({key:NaN,color:"#A52714",content:{label:"missing",special:!0}});this.elem.set("palette",f);this.grid.cellItemComparator=function(b,c){if(!(a in b.data||a in c.data))return 0;if(!(a in b.data))return-1;if(!(a in c.data))return 1;b=b.data[a];c=c.data[a];if(b===c)return 0;var d="number"!==typeof b||isNaN(b),
e="number"!==typeof c||isNaN(c);return d&&e?0:d?-1:e?1:b-c};return g};a.prototype.updateCategoricalPalette=function(a){var b=this.elem.colorBy,d=this.stats[b],e=this.grid.items,f=Object.keys(d.valueHash);f.sort(function(a,b){return d.valueHash[b].count-d.valueHash[a].count});for(var g=Math.min(a.length,f.length),k=f.slice(0,g).reduce(function(a,b,c){a[b]=c;return a},{}),l=d3.rgb("#F0F0F0"),m=a.map(function(a){return d3.rgb(a)}),n=!1,q=[],p=0;p<e.length;p++){var t=Ug(e[p].data[b]),n=n||!(t in k);q.push(m[k[t]]||
l)}a=a.slice(0,g).map(function(a,b){b=d.valueHash[f[b]].value;return{key:b,color:a,content:{label:b+"",special:"number"!==typeof b&&"string"!==typeof b||b in bh}}});n&&a.push({key:null,color:"#F0F0F0",content:{label:"other",special:!0}});this.elem.set("palette",a);this.grid.cellItemComparator=function(a,c){if(!(b in a.data||b in c.data))return 0;if(!(b in a.data))return 1;if(!(b in c.data))return-1;a=a.data[b];c=c.data[b];if(a===c)return 0;a=Ug(a);c=Ug(c);return a in k||c in k?a in k?c in k?k[a]-
k[c]:-1:1:0};return q};a.prototype.updateColors=function(){if(this.grid){var a=this.elem.colorBy;if(a in this.stats){for(var a=this.stats[a],c=this.getPaletteSource(),a=a.uniqueCount>c.length&&a.isNumeric()?this.updateScalarPalette():this.updateCategoricalPalette(c),c=this.grid.items,d=Date.now(),e=d+this.elem.tweenDuration,f=0;f<c.length;f++){var g=c[f],k=a[f];g.sprite.rebase(d);g.sprite.r=k.r;g.sprite.g=k.g;g.sprite.b=k.b;g.sprite.a=180;g.sprite.timestamp=e}this.renderUntil(e);this.updateGridItemPositionsAfterColorChange()}else this.clearColors()}};
a.prototype.updateGridItemPositionsAfterColorChange=function(){"stacked"!==this.elem.positionMode&&this.elem.verticalPosition&&this.elem.horizontalPosition||this.updateGridItemPositions()};a.prototype.clearColors=function(){for(var a=this.grid.items,c=Date.now(),d=c+this.elem.tweenDuration,e=0;e<a.length;e++){var f=a[e];f.sprite.rebase(c);f.sprite.r=0;f.sprite.g=0;f.sprite.b=0;f.sprite.a=0;f.sprite.timestamp=d}this.renderUntil(d);this.elem.set("palette",[]);this.grid.cellItemComparator&&(this.grid.cellItemComparator=
null,this.updateGridItemPositionsAfterColorChange())};a.prototype.updateImageFieldName=function(){var a=this;if(this.grid){var c=this.grid.items;this.spriteMesh.spriteAtlas.clearQueues();for(var d=Date.now(),e=d+this.elem.fadeDuration,f=0;f<c.length;f++){var g=c[f];0<g.sprite.textureIndex&&g.sprite.switchTextures(d,e)}this.renderUntil(e);var k=this.elem.imageFieldName;if(k in this.stats)for(d=function(b){b=c[b];var d=b.sprite;d.setSpriteImageData({type:"text",data:ch(b.data[k]).label},function(){var b=
Date.now();d.baseTextureTimestamp=b;d.baseTextureIndex=0;d.textureTimestamp=b+a.elem.tweenDuration;d.textureIndex=1;a.renderUntil(d.textureTimestamp)})},f=0;f<c.length;f++)d(f);else this.atlasUrlChange()}};a.prototype.generatePositionFunction=function(a){var b=this.stats[a];if(!b||!b.isNumeric())return null;var d=b.numberMax-b.numberMin;return function(c){return(c.data[a]-b.numberMin)/d}};a.prototype.generateFacetingInfo=function(a,c,d,e){if(!(a in this.stats))return{facetingFunction:function(){return null},
keyCompareFunction:function(){return 0},labelingFunction:ch};var b=this.stats[a];if(b.wordTree&&1<b.wordTree.highestLevel&&d)return this.generateBagOfWordsFacetingInfo(a,c,e);if(b.uniqueCount<=c)return{facetingFunction:function(b){return a in b.data?b.data[a]:null},keyCompareFunction:b.isNumeric()?nf:e?mf:lf,labelingFunction:ch};if(b.isNumeric()&&b.numberMax!==b.numberMin)return this.generateNumericFacetingInfo(a,c);d=Object.keys(b.valueHash);d.sort(function(a,c){return b.valueHash[c].count-b.valueHash[a].count});
var g=d.slice(0,c).reduce(function(a,b){a[b]=!0;return a},{});return{facetingFunction:function(b){if(!(a in b.data))return null;b=b.data[a];return Ug(b)in g?b:"\ufffcOTHER\ufffc"},keyCompareFunction:e?mf:lf,labelingFunction:ch}};a.prototype.generateBagOfWordsFacetingInfo=function(a,c,d){var b=this.stats[a].wordTree,f=b.levelHash;return{facetingFunction:function(d){if(!(a in d.data))return null;for(d=b.nodeHash[Ug(d.data[a])];d.parent&&d.level>c;)d=d.parent;return d.level},keyCompareFunction:function(a,
b){a=f[a];b=f[b];if(void 0===a&&void 0===b)return 0;if(void 0===a)return-1;if(void 0===b)return 1;if(a.nonValueCount&&b.nonValueCount)return 0;if(a.nonValueCount)return-1;if(b.nonValueCount)return 1;b=b.order-a.order;return d?b:-b},labelingFunction:function(a){a=f[+a];if(!a.parent&&!a.commonWords.length)return{label:"other",special:!0};if(a.nonValueCount)return{label:"non-words",special:!0};for(var b=" \u2022 "+a.commonWords.join(" "),d=0;d<a.children.length;d++)if(a.children[d].level>c){b+=" \u2026";
break}for(;a.parent;)a=a.parent,a.commonWords.length&&(b=" \u2022 "+a.commonWords.join(" ")+" "+b);return{label:b}}}};a.prototype.generateNumericFacetingInfo=function(a,c){var b=this,e=this.stats[a],f=e.numberMax-e.numberMin;return{facetingFunction:function(b){if(!(a in b.data))return null;b=b.data[a];return"number"!==typeof b?b:isNaN(b)?b:Math.min(Math.floor(c*(b-e.numberMin)/f),c-1)},keyCompareFunction:nf,labelingFunction:function(a){if("number"!==typeof a||isNaN(+a))return ch(a);var d=e.numberMax-
e.numberMin,f=a/c*d+e.numberMin;a=(1+a)/c*d+e.numberMin;return e.isInteger()?{label:b.formatRange(Math.ceil(f),Math.floor(a))}:{label:b.formatRange(f,a)}}}};a.prototype.formatNumber=function(a){if(null===a)return"null";a=parseFloat(a.toPrecision(3));return 1E3<=Math.abs(a)?d3.format("s")(a):""+a};a.prototype.formatRange=function(a,c){return this.formatNumber(a)+" \u2014 "+this.formatNumber(c)};a.prototype.getKeys=function(){var a;if((a=this.elem.data)&&a.length){for(var c={},d=0;d<a.length;d++)if(a[d])for(var e=
Object.keys(a[d]),f=0;f<e.length;f++)c[e[f]]=!0;a=Object.keys(c)}else a=[];return a.sort()};a.prototype.renderUntil=function(a){this.endTimestamp=Math.max(this.endTimestamp,a);this.queueRenderScene()};a.prototype.resizeHandler=function(){var a=this,c=this.elem.getBoundingClientRect();c.width&&c.height?(this.labelsAndAxesSVG.attr("width",c.width).attr("height",c.height),this.cellBackgroundSVG.attr("width",c.width).attr("height",c.height),this.renderer&&this.renderer.setSize(c.width,c.height),this.camera.right=
c.width/this.scale,this.camera.bottom=-c.height/this.scale,this.camera.updateProjectionMatrix(),this.queueRenderScene()):requestAnimationFrame(function(){return a.resizeHandler()})};a.prototype.queueRenderScene=function(){var a=this;this.renderQueued||(this.renderQueued=!0,requestAnimationFrame(function(){a.renderQueued&&a.renderScene()}))};a.prototype.renderScene=function(){this.renderQueued=!1;var a=Date.now();this.endTimestamp>a&&this.queueRenderScene();if(this.spriteMesh&&(this.spriteMesh.time=
a,81>+Z.REVISION&&this.spriteMesh.onBeforeRender))this.spriteMesh.onBeforeRender();this.renderer&&this.renderer.render(this.scene,this.camera);this.spriteMesh&&this.spriteMesh.spriteAtlas&&this.spriteMesh.spriteAtlas.postRender()};return a}();
Polymer({is:"facets-dive-vis",behaviors:[Polymer.IronResizableBehavior],properties:{data:{type:Array,value:null,observer:"_dataChange"},filteredDataIndices:{type:Array,value:null,observer:"_filteredDataIndicesChange"},atlasUrl:{type:String,value:null,observer:"_atlasUrlChange"},spriteUrl:{type:String,value:null,observer:"_spriteUrlChange"},crossOrigin:{type:String,value:null},keys:{type:Array,value:[],notify:!0,readOnly:!0},stats:{type:Object,value:{},notify:!0,readOnly:!0},scenePadding:{type:Number,
value:8},tweenDuration:{type:Number,value:600},fadeDuration:{type:Number,value:200},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},verticalFacet:{type:String,value:"",observer:"_updateGridFaceting"},verticalBuckets:{type:Number,
value:10,observer:"_updateGridFaceting"},verticalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},horizontalFacet:{type:String,value:"",observer:"_updateGridFaceting"},horizontalBuckets:{type:Number,value:10,observer:"_updateGridFaceting"},horizontalBagOfWords:{type:Boolean,value:!1,observer:"_updateGridFaceting"},positionMode:{type:String,value:"",observer:"_updateGridItemPositions"},verticalPosition:{type:String,value:"",observer:"_updateGridItemPositions"},horizontalPosition:{type:String,
value:"",observer:"_updateGridItemPositions"},colorBy:{type:String,value:"",observer:"_updateColors",notify:!0},imageFieldName:{type:String,value:"",observer:"_updateImageFieldName",notify:!0},palette:{type:Array,value:[],notify:!0},paletteChoice:{type:String,value:"standard",observer:"_updateColors"},selectedData:{type:Array,value:[],notify:!0}},listeners:{"iron-resize":"_onIronResize"},created:function(){this._backing=new jh(this)},ready:function(){this._backing.ready()},_dataChange:function(){this._backing.dataChange();
this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_filteredDataIndicesChange:function(){this._backing.filteredDataIndicesChange();this._setKeys(this._backing.getKeys());this._setStats(this._backing.stats)},_atlasUrlChange:function(){this._backing.atlasUrlChange()},_spriteUrlChange:function(){this._backing.spriteUrlChange()},_updateGridFaceting:function(){this._backing.updateGridFaceting()},_updateGridItemPositions:function(){this._backing.updateGridItemPositions()},_updateColors:function(){this._backing.updateColors()},
_updateImageFieldName:function(){this._backing.updateImageFieldName()},_onIronResize:function(){this._backing.resizeHandler()},fitToViewport:function(){this._backing.fitToViewport()},zoomIn:function(){this._backing.zoomIn()},zoomOut:function(){this._backing.zoomOut()}});
</script>


<dom-module id="facets-dive-controls">
  <template>
    <style>
      :host {
        @apply(--paper-font-common-base);

        box-sizing: border-box;
        display: flex;
        flex-flow: column;
        height: 100%;
        overflow: visible;
        width: 100%;
      }

      .layout-row {
        display: flex;
      }

      /**
       * Menus.
       */
      .menu {
        box-sizing: border-box;
        flex: 1;
        overflow-y: scroll;
      }
      .menu-trigger {
        border-bottom: 1px solid #ccc;
        cursor: pointer;
      }
      paper-menu {
        font-size: 14px;
        margin: 6px;
        padding: 0;
        --paper-menu-focused-item: {
          color: rgba(0,0,0,0);
        };
      }
      paper-submenu .menu-trigger {
        --paper-item: {
          color: #44706e;
        };
        --paper-item-selected: {
          color: #183232;
        };
      }
      paper-submenu .menu-trigger-text {
        font-weight: normal;
      }
      paper-menu .menu-content {
        margin: 0 8px;
        padding: 0 0 24px 0;
      }
      paper-submenu iron-icon {
        margin: 16px 8px 0 0;
      }
      .expand-button {
        color: #9b9b9b;
        --paper-icon-button-ink-color: #9b9b9b;
      }
      paper-menu paper-checkbox {
        display: block;
        font-weight: normal;
        font-size: 12.5px;
        text-align: center;
      }

      paper-item {
        padding: 0 14px;
        --paper-item-min-height: 36px;
      }
      paper-dropdown-menu paper-item {
        border-bottom: 1px solid #ccc;
      }

      #verticalFacet {
        --paper-input-container-input: {
          color: var(--grid-faceting-vertical-label-color);
        };
      }
      #horizontalFacet {
        --paper-input-container-input: {
          color: var(--grid-faceting-horizontal-label-color);
        };
      }
      #verticalPosition {
        --paper-input-container-input: {
          color: var(--item-positioning-vertical-label-color);
        };
      }
      #horizontalPosition {
        --paper-input-container-input: {
          color: var(--item-positioning-horizontal-label-color);
        };
      }

      /**
       * Legend.
       */
      .legend {
        background: #fefefe;
        border-top: 6px solid #a09f9f;
        box-sizing: border-box;
        margin: 8px 0 0 0;
        max-height: 50%;
        overflow-y: scroll;
        padding: 16px 8px 8px 8px;
      }
      .legend .layout-row {
        margin: 0;
      }
      .legend .layout-row span {
        margin: 2px 0 0 8px;
      }

      /**
       * Legend table shim. Polymer's dom-repeat feature has a known issue in
       * which it doesn't work with <tr> elements inside of a <table>. So
       * instead, we use CSS with classed divs to achieve table behavior.
       */
      .legend-table {
        display: table;
        margin-left: 2px;
      }
      .legend-row {
        display: table-row;
      }
      .legend-cell {
        display: table-cell;
      }

      /**
       * Color legend.
       */
      .legend .color {
        font-size: 14px;
      }
      .legend .color iron-icon {
        --iron-icon-width: 16px;
        --iron-icon-height: 16px;
        margin: 0 2px;
      }
      .legend .color iron-icon[fill="#ffffff"] {
        background: #dddddd;
      }
      .legend .color span {
        margin: 0;
      }
      .legend .special {
        font-style: italic;
      }

      .legend h2 {
        @apply(--paper-font-subhead);
        color: #4f423e;
        font-weight: bold;
        line-height: 1;
        margin: 0;
      }
      .legend .color-by-field {
        color: #968e8c;
        display: block;
        font-size: 12.5px;
        font-weight: normal;
        margin: 2px 0 4px 20px;
      }

      .vertical-facet {
        color: var(--grid-faceting-vertical-label-color);
      }
      .vertical-facet iron-icon {
        fill: var(--grid-faceting-vertical-label-color);
        transform: rotate(-90deg) scale(0.9, 1.1);
      }
      .horizontal-facet {
        color: var(--grid-faceting-horizontal-label-color);
      }
      .horizontal-facet iron-icon {
        fill: var(--grid-faceting-horizontal-label-color);
      }
      .vertical-position {
        color: var(--item-positioning-vertical-label-color);
      }
      .vertical-position iron-icon {
        fill: var(--item-positioning-vertical-label-color);
        transform: rotate(-90deg);
      }
      .horizontal-position {
        color: var(--item-positioning-horizontal-label-color);
      }
      .horizontal-position iron-icon {
        fill: var(--item-positioning-horizontal-label-color);
      }
    </style>

    <div class="menu">

      <paper-menu multi="true">

        <paper-submenu>

          <paper-item class="menu-trigger">
            <span class="menu-trigger-text">Faceting</span>
            <span style="flex:1"></span>
            <paper-icon-button icon="image:view-comfy" class="expand-button">
            </paper-icon-button>
          </paper-item>

          <paper-menu class="menu-content" opened="{{_anyFacet(verticalFacet, horizontalFacet)}}">

            <div class="layout-row vertical-facet">
              <iron-icon icon="av:equalizer"></iron-icon>
              <paper-dropdown-menu id="verticalFacet" label="Row-Based Faceting" class="facet-selector">
                <paper-listbox class="dropdown-content" selected="{{verticalFacet}}" attr-for-selected="value">
                  <paper-item value="">&lt;NONE&gt;</paper-item>
                  <template is="dom-repeat" items="[[keys]]">
                    <paper-item value="[[item]]">[[_breakUpAndTruncate(item)]]</paper-item>
                  </template>
                </paper-listbox>
              </paper-dropdown-menu>
            </div>

            <template is="dom-if" if="[[verticalFacet]]">
              <paper-slider pin snaps editable min="1" max="[[_maxBuckets(verticalFacet,verticalBagOfWords)]]" step="1" value="{{verticalBuckets}}" immediate-value="{{verticalBuckets}}"></paper-slider>
            </template>

            <template is="dom-if" if="[[_hasWordTree(verticalFacet)]]">
              <paper-checkbox checked="{{verticalBagOfWords}}">
                Bag of words
              </paper-checkbox>
            </template>

            <div class="layout-row horizontal-facet">
              <iron-icon icon="av:equalizer"></iron-icon>
              <paper-dropdown-menu id="horizontalFacet" label="Column-Based Faceting" class="facet-selector">
                <paper-listbox class="dropdown-content" selected="{{horizontalFacet}}" attr-for-selected="value">
                  <paper-item value="">&lt;NONE&gt;</paper-item>
                  <template is="dom-repeat" items="[[keys]]">
                    <paper-item value="[[item]]">[[_breakUpAndTruncate(item)]]</paper-item>
                  </template>
                </paper-listbox>
              </paper-dropdown-menu>
            </div>

            <template is="dom-if" if="[[horizontalFacet]]">
              <paper-slider pin snaps editable min="1" max="[[_maxBuckets(horizontalFacet,horizontalBagOfWords)]]" step="1" value="{{horizontalBuckets}}" immediate-value="{{horizontalBuckets}}"></paper-slider>
            </template>

            <template is="dom-if" if="[[_hasWordTree(horizontalFacet)]]">
              <paper-checkbox checked="{{horizontalBagOfWords}}">
                Bag of words
              </paper-checkbox>
            </template>

          </paper-menu>

        </paper-submenu>

      </paper-menu>

      <paper-menu multi="true">

        <paper-submenu>

          <paper-item class="menu-trigger">
            <span class="menu-trigger-text">Positioning</span>
            <span style="flex:1"></span>
            <paper-icon-button icon="image:grain" class="expand-button">
            </paper-icon-button>
          </paper-item>

          <paper-menu class="menu-content" opened="{{_anyPosition(verticalPosition,horizontalPosition,positionMode)}}">

            <paper-radio-group selected="{{positionMode}}">
              <paper-radio-button name="stacked">Stacked</paper-radio-button>
              <paper-radio-button name="scatter">Scatter</paper-radio-button>
            </paper-radio-group>

            <template is="dom-if" if="[[_isModeScatter(positionMode)]]">

              <div class="layout-row vertical-position">
                <iron-icon icon="icons:trending-flat"></iron-icon>
                <paper-dropdown-menu id="verticalPosition" label="Vertical Position" class="position-selector">
                  <paper-listbox class="dropdown-content" selected="{{verticalPosition}}" attr-for-selected="value">
                    <paper-item value="">&lt;DEFAULT&gt;</paper-item>
                    <template is="dom-repeat" items="[[keys]]" filter="_isKeyNumeric">
                      <paper-item value="[[item]]">[[item]]</paper-item>
                    </template>
                  </paper-listbox>
                </paper-dropdown-menu>
              </div>

              <div class="layout-row horizontal-position">
                <iron-icon icon="icons:trending-flat"></iron-icon>
                <paper-dropdown-menu id="horizontalPosition" label="Horizontal Position" class="position-selector">
                  <paper-listbox class="dropdown-content" selected="{{horizontalPosition}}" attr-for-selected="value">
                    <paper-item value="">&lt;DEFAULT&gt;</paper-item>
                    <template is="dom-repeat" items="[[keys]]" filter="_isKeyNumeric">
                      <paper-item value="[[item]]">[[item]]</paper-item>
                    </template>
                  </paper-listbox>
                </paper-dropdown-menu>
              </div>

            </template>

          </paper-menu>

        </paper-submenu>

      </paper-menu>

      <paper-menu multi="true">

        <paper-submenu>

          <paper-item class="menu-trigger">
            <span class="menu-trigger-text">Color</span>
            <span style="flex:1"></span>
            <paper-icon-button icon="image:palette" class="expand-button">
            </paper-icon-button>
          </paper-item>

          <paper-menu class="menu-content" opened="{{_anyColor(colorBy)}}">

            <paper-dropdown-menu id="colorBy" label="Color By">
              <paper-listbox class="dropdown-content" selected="{{colorBy}}" attr-for-selected="value">
                <paper-item value="">&lt;NONE&gt;</paper-item>
                <template is="dom-repeat" items="[[keys]]">
                  <paper-item value="[[item]]">[[item]]</paper-item>
                </template>
              </paper-listbox>
            </paper-dropdown-menu>

            <template is="dom-if" if="{{_isKeyCategorical(colorBy)}}">
              <paper-dropdown-menu id="paletteChoice" label="Palette">
                <paper-listbox class="dropdown-content" selected="{{paletteChoice}}" attr-for-selected="value">
                  <paper-item value="standard">standard</paper-item>
                  <paper-item value="warm">warm</paper-item>
                  <paper-item value="cool">cool</paper-item>
                  <paper-item value="assist">assist</paper-item>
                </paper-listbox>
              </paper-dropdown-menu>
            </template>

          </paper-menu>

        </paper-submenu>

      </paper-menu>

      <paper-menu multi="true">

        <paper-submenu>

          <paper-item class="menu-trigger">
            <span class="menu-trigger-text">Display</span>
            <span style="flex:1"></span>
            <paper-icon-button icon="image:image" class="expand-button">
            </paper-icon-button>
          </paper-item>

          <paper-menu class="menu-content" opened="">

            <paper-dropdown-menu id="imageFieldName" label="Show for each Datapoint">
              <paper-listbox class="dropdown-content" selected="{{imageFieldName}}" attr-for-selected="value">
                <paper-item value="">
                  [[_getImageFieldNameDefaultLabel(atlasUrl)]]
                </paper-item>
                <template is="dom-repeat" items="[[keys]]">
                  <paper-item value="[[item]]">[[item]]</paper-item>
                </template>
              </paper-listbox>
            </paper-dropdown-menu>

          </paper-menu>

        </paper-submenu>

      </paper-menu>

    </div>

    <template is="dom-if" if="{{_anySettings(verticalFacet,horizontalFacet,verticalPosition,horizontalPosition,colorBy,palette)}}">

      <div class="legend">

        <template is="dom-if" if="{{_anyFacetOrPosition(verticalFacet, horizontalFacet, verticalPosition, horizontalPosition)}}">

          <h2>Legend</h2>

          <template is="dom-if" if="[[verticalFacet]]">
            <div class="layout-row vertical-facet">
              <iron-icon icon="av:equalizer"></iron-icon>
              <span>[[_breakUpAndTruncate(verticalFacet)]]</span>
            </div>
          </template>
          <template is="dom-if" if="[[horizontalFacet]]">
            <div class="layout-row horizontal-facet">
              <iron-icon icon="av:equalizer"></iron-icon>
              <span>[[_breakUpAndTruncate(horizontalFacet)]]</span>
            </div>
          </template>
          <template is="dom-if" if="[[_isModeScatter(positionMode)]]">
            <template is="dom-if" if="[[verticalPosition]]">
              <div class="layout-row vertical-position">
                <iron-icon icon="icons:trending-flat"></iron-icon>
                <span>[[_breakUpAndTruncate(verticalPosition)]]</span>
              </div>
            </template>
            <template is="dom-if" if="[[horizontalPosition]]">
              <div class="layout-row horizontal-position">
                <iron-icon icon="icons:trending-flat"></iron-icon>
                <span>[[_breakUpAndTruncate(horizontalPosition)]]</span>
              </div>
            </template>
          </template>

        </template>

        <template is="dom-if" if="{{_anyColor(colorBy, palette)}}">

          <h2>Colors</h2>
          <span class="color-by-field">
            by [[_breakUpAndTruncate(colorBy)]]
            <paper-tooltip position="top">[[colorBy]]</paper-tooltip>
          </span>

          <div class="legend-table">
          <template is="dom-repeat" items="[[palette]]">
            <div class="legend-row color">
              <div class="legend-cell">
              <iron-icon icon="av:fiber-manual-record" fill$="[[item.color]]" style$="fill:[[item.color]]"></iron-icon>
              </div>
              <div class="legend-cell">
                <span class$="[[_specialClass(item.content.special)]]">
                  [[_breakUpAndTruncate(item.content.label)]]
                </span>
                <paper-tooltip position="top">[[item.content.label]]</paper-tooltip>
              </div>
            </div>
          </template>
          </div>

        </template>

      </div>

    </template>

  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-controls/facets-dive-controls.js
Polymer({is:"facets-dive-controls",properties:{atlasUrl:{type:String,value:""},keys:{type:Array,value:[]},stats:{type:Object,value:{}},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},positionMode:{type:String,value:"stacked",notify:!0},verticalPosition:{type:String,
value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},gridFacetingVerticalLabelColor:{type:String,value:"#666666",observer:"_updateCSSVars"},gridFacetingHorizontalLabelColor:{type:String,value:"#dd6622",observer:"_updateCSSVars"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa",observer:"_updateCSSVars"},
itemPositioningHorizontalLabelColor:{type:String,value:"#118844",observer:"_updateCSSVars"}},_getImageFieldNameDefaultLabel:function(a){return a?"\x3cIMAGE\x3e":"\x3cDEFAULT\x3e"},_isModeScatter:function(a){return"scatter"===a},_isKeyNumeric:function(a){return this.stats&&a in this.stats&&this.stats[a].isNumeric()},_isKeyCategorical:function(a){return this.stats&&a in this.stats&&!this.stats[a].isNumeric()},_updateCSSVars:function(){this.customStyle["--grid-faceting-vertical-label-color"]=this.gridFacetingVerticalLabelColor;
this.customStyle["--grid-faceting-horizontal-label-color"]=this.gridFacetingHorizontalLabelColor;this.customStyle["--item-positioning-vertical-label-color"]=this.itemPositioningVerticalLabelColor;this.customStyle["--item-positioning-horizontal-label-color"]=this.itemPositioningHorizontalLabelColor;this.updateStyles()},_breakUp:function(a){return(""+a).replace(/([\W_])/g,"$1\u200b")},_breakUpAndTruncate:function(a){return Zg(""+a).replace(/([\W_])/g,"$1\u200b")},_specialClass:function(a){return a?
"special":""},_maxBuckets:function(a,b){var c=this.stats[a];return c?b&&this._hasWordTree(a)?Math.min(100,c.wordTree.highestLevel):Math.min(100,c.uniqueCount+1):100},_hasWordTree:function(a){a=this.stats[a];return!!a&&!!a.wordTree&&1<a.wordTree.highestLevel},_anyFacet:function(){for(var a=0;a<arguments.length;a++);return!(!this.verticalFacet&&!this.horizontalFacet)},_anyPosition:function(){for(var a=0;a<arguments.length;a++);return!(!this.verticalPosition&&!this.horizontalPosition&&"stacked"===this.positionMode)},
_anyFacetOrPosition:function(){for(var a=0;a<arguments.length;a++);return this._anyFacet()||this._anyPosition()},_anyColor:function(){return!!(this.colorBy&&this.palette&&this.palette.length)},_anySettings:function(){return this._anyFacet()||this._anyPosition()||this._anyColor()}});
</script>








<dom-module id="iron-image">
  <template>
    <style>
      :host {
        display: inline-block;
        overflow: hidden;
        position: relative;
      }

      #baseURIAnchor {
        display: none;
      }

      #sizedImgDiv {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;

        display: none;
      }

      #img {
        display: block;
        width: var(--iron-image-width, auto);
        height: var(--iron-image-height, auto);
      }

      :host([sizing]) #sizedImgDiv {
        display: block;
      }

      :host([sizing]) #img {
        display: none;
      }

      #placeholder {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;

        background-color: inherit;
        opacity: 1;

        @apply --iron-image-placeholder;
      }

      #placeholder.faded-out {
        transition: opacity 0.5s linear;
        opacity: 0;
      }
    </style>

    <a id="baseURIAnchor" href="#"></a>
    <div id="sizedImgDiv" role="img" hidden$="[[_computeImgDivHidden(sizing)]]" aria-hidden$="[[_computeImgDivARIAHidden(alt)]]" aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div>
    <img id="img" alt$="[[alt]]" hidden$="[[_computeImgHidden(sizing)]]" on-load="_imgOnLoad" on-error="_imgOnError">
    <div id="placeholder" hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]" class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div>
  </template>

  <script>//~~WEBPATH~~/iron-image/iron-image.html.js
Polymer({is:"iron-image",properties:{src:{type:String,value:""},alt:{type:String,value:null},preventLoad:{type:Boolean,value:!1},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},
width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)","_loadStateObserver(src, preventLoad)"],created:function(){this._resolvedSrc=""},_imgOnLoad:function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))},_imgOnError:function(){this.$.img.src===this._resolveSrc(this.src)&&(this.$.img.removeAttribute("src"),this.$.sizedImgDiv.style.backgroundImage=
"",this._setLoading(!1),this._setLoaded(!1),this._setError(!0))},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){return null!==this.alt?this.alt:""===this.src?"":this._resolveSrc(this.src).replace(/[?|#].*/g,
"").split("/").pop()},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_loadStateObserver:function(a,b){var c=this._resolveSrc(a);c!==this._resolvedSrc&&(this._resolvedSrc=c,this.$.img.removeAttribute("src"),this.$.sizedImgDiv.style.backgroundImage="",""===a||b?this._setLoading(!1):(this.$.img.src=this._resolvedSrc,this.$.sizedImgDiv.style.backgroundImage=
'url("'+this._resolvedSrc+'")',this._setLoading(!0)),this._setLoaded(!1),this._setError(!1))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},_transformChanged:function(){var a=this.$.sizedImgDiv.style,b=this.$.placeholder.style;a.backgroundSize=b.backgroundSize=this.sizing;a.backgroundPosition=b.backgroundPosition=this.sizing?this.position:"";a.backgroundRepeat=b.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(a){a=
Polymer.ResolveUrl.resolveUrl(a,this.$.baseURIAnchor.href);"/"===a[0]&&(a=(location.origin||location.protocol+"//"+location.host)+a);return a}});
</script>
</dom-module>






<dom-module id="paper-material-styles">
  <template>
    <style>
      :host, html {
        --paper-material: {
          display: block;
          position: relative;
        };
        --paper-material-elevation-1: {
          @apply --shadow-elevation-2dp;
        };
        --paper-material-elevation-2: {
          @apply --shadow-elevation-4dp;
        };
        --paper-material-elevation-3: {
          @apply --shadow-elevation-6dp;
        };
        --paper-material-elevation-4: {
          @apply --shadow-elevation-8dp;
        };
        --paper-material-elevation-5: {
          @apply --shadow-elevation-16dp;
        };
      }
      :host(.paper-material), .paper-material {
        @apply --paper-material;
      }
      :host(.paper-material[elevation="1"]), .paper-material[elevation="1"] {
        @apply --paper-material-elevation-1;
      }
      :host(.paper-material[elevation="2"]), .paper-material[elevation="2"] {
        @apply --paper-material-elevation-2;
      }
      :host(.paper-material[elevation="3"]), .paper-material[elevation="3"] {
        @apply --paper-material-elevation-3;
      }
      :host(.paper-material[elevation="4"]), .paper-material[elevation="4"] {
        @apply --paper-material-elevation-4;
      }
      :host(.paper-material[elevation="5"]), .paper-material[elevation="5"] {
        @apply --paper-material-elevation-5;
      }
    </style>
  </template>
</dom-module>





<dom-module id="paper-card">
  <template>
    <style include="paper-material-styles">
      :host {
        display: inline-block;
        position: relative;
        box-sizing: border-box;
        background-color: var(--paper-card-background-color, var(--primary-background-color));
        border-radius: 2px;

        @apply --paper-font-common-base;
        @apply --paper-card;
      }

      /* IE 10 support for HTML5 hidden attr */
      [hidden] {
        display: none !important;
      }

      .header {
        position: relative;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        overflow: hidden;

        @apply --paper-card-header;
      }

      .header iron-image {
        display: block;
        width: 100%;
        --iron-image-width: 100%;
        pointer-events: none;

        @apply --paper-card-header-image;
      }

      .header .title-text {
        padding: 16px;
        font-size: 24px;
        font-weight: 400;
        color: var(--paper-card-header-color, #000);

        @apply --paper-card-header-text;
      }

      .header .title-text.over-image {
        position: absolute;
        bottom: 0px;

        @apply --paper-card-header-image-text;
      }

      :host ::slotted(.card-content) {
        padding: 16px;
        position:relative;

        @apply --paper-card-content;
      }

      :host ::slotted(.card-actions) {
        border-top: 1px solid #e8e8e8;
        padding: 5px 16px;
        position:relative;

        @apply --paper-card-actions;
      }

      :host([elevation="1"]) {
        @apply --paper-material-elevation-1;
      }

      :host([elevation="2"]) {
        @apply --paper-material-elevation-2;
      }

      :host([elevation="3"]) {
        @apply --paper-material-elevation-3;
      }

      :host([elevation="4"]) {
        @apply --paper-material-elevation-4;
      }

      :host([elevation="5"]) {
        @apply --paper-material-elevation-5;
      }
    </style>

    <div class="header">
      <iron-image hidden$="[[!image]]" aria-hidden$="[[_isHidden(image)]]" src="[[image]]" alt="[[alt]]" placeholder="[[placeholderImage]]" preload="[[preloadImage]]" fade="[[fadeImage]]"></iron-image>
      <div hidden$="[[!heading]]" class$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div>
    </div>

    <slot></slot>
  </template>

  <script>//~~WEBPATH~~/paper-card/paper-card.html.js
Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(a){return a?"false":"true"},_headingChanged:function(a){var b=
this.getAttribute("heading"),c=this.getAttribute("aria-label");"string"===typeof c&&c!==b||this.setAttribute("aria-label",a)},_computeHeadingClass:function(a){return a?" over-image":""},_computeAnimated:function(a){return a}});
</script>
</dom-module>


<script>//~~WEBPATH~~/iron-flex-layout/classes/iron-shadow-flex-layout.html.js
console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");
</script>

<style>

  /*******************************
            Flex Layout
  *******************************/

  html /deep/ .layout.horizontal,
  html /deep/ .layout.horizontal-reverse,
  html /deep/ .layout.vertical,
  html /deep/ .layout.vertical-reverse {
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
  }

  html /deep/ .layout.inline {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;
  }

  html /deep/ .layout.horizontal {
    -ms-flex-direction: row;
    -webkit-flex-direction: row;
    flex-direction: row;
  }

  html /deep/ .layout.horizontal-reverse {
    -ms-flex-direction: row-reverse;
    -webkit-flex-direction: row-reverse;
    flex-direction: row-reverse;
  }

  html /deep/ .layout.vertical {
    -ms-flex-direction: column;
    -webkit-flex-direction: column;
    flex-direction: column;
  }

  html /deep/ .layout.vertical-reverse {
    -ms-flex-direction: column-reverse;
    -webkit-flex-direction: column-reverse;
    flex-direction: column-reverse;
  }

  html /deep/ .layout.wrap {
    -ms-flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  html /deep/ .layout.wrap-reverse {
    -ms-flex-wrap: wrap-reverse;
    -webkit-flex-wrap: wrap-reverse;
    flex-wrap: wrap-reverse;
  }

  html /deep/ .flex-auto {
    -ms-flex: 1 1 auto;
    -webkit-flex: 1 1 auto;
    flex: 1 1 auto;
  }

  html /deep/ .flex-none {
    -ms-flex: none;
    -webkit-flex: none;
    flex: none;
  }

  html /deep/ .flex,
  html /deep/ .flex-1 {
    -ms-flex: 1;
    -webkit-flex: 1;
    flex: 1;
  }

  html /deep/ .flex-2 {
    -ms-flex: 2;
    -webkit-flex: 2;
    flex: 2;
  }

  html /deep/ .flex-3 {
    -ms-flex: 3;
    -webkit-flex: 3;
    flex: 3;
  }

  html /deep/ .flex-4 {
    -ms-flex: 4;
    -webkit-flex: 4;
    flex: 4;
  }

  html /deep/ .flex-5 {
    -ms-flex: 5;
    -webkit-flex: 5;
    flex: 5;
  }

  html /deep/ .flex-6 {
    -ms-flex: 6;
    -webkit-flex: 6;
    flex: 6;
  }

  html /deep/ .flex-7 {
    -ms-flex: 7;
    -webkit-flex: 7;
    flex: 7;
  }

  html /deep/ .flex-8 {
    -ms-flex: 8;
    -webkit-flex: 8;
    flex: 8;
  }

  html /deep/ .flex-9 {
    -ms-flex: 9;
    -webkit-flex: 9;
    flex: 9;
  }

  html /deep/ .flex-10 {
    -ms-flex: 10;
    -webkit-flex: 10;
    flex: 10;
  }

  html /deep/ .flex-11 {
    -ms-flex: 11;
    -webkit-flex: 11;
    flex: 11;
  }

  html /deep/ .flex-12 {
    -ms-flex: 12;
    -webkit-flex: 12;
    flex: 12;
  }

  /* alignment in cross axis */

  html /deep/ .layout.start {
    -ms-flex-align: start;
    -webkit-align-items: flex-start;
    align-items: flex-start;
  }

  html /deep/ .layout.center,
  html /deep/ .layout.center-center {
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }

  html /deep/ .layout.end {
    -ms-flex-align: end;
    -webkit-align-items: flex-end;
    align-items: flex-end;
  }

  /* alignment in main axis */

  html /deep/ .layout.start-justified {
    -ms-flex-pack: start;
    -webkit-justify-content: flex-start;
    justify-content: flex-start;
  }

  html /deep/ .layout.center-justified,
  html /deep/ .layout.center-center {
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
  }

  html /deep/ .layout.end-justified {
    -ms-flex-pack: end;
    -webkit-justify-content: flex-end;
    justify-content: flex-end;
  }

  html /deep/ .layout.around-justified {
    -ms-flex-pack: around;
    -webkit-justify-content: space-around;
    justify-content: space-around;
  }

  html /deep/ .layout.justified {
    -ms-flex-pack: justify;
    -webkit-justify-content: space-between;
    justify-content: space-between;
  }

  /* self alignment */

  html /deep/ .self-start {
    -ms-align-self: flex-start;
    -webkit-align-self: flex-start;
    align-self: flex-start;
  }

  html /deep/ .self-center {
    -ms-align-self: center;
    -webkit-align-self: center;
    align-self: center;
  }

  html /deep/ .self-end {
    -ms-align-self: flex-end;
    -webkit-align-self: flex-end;
    align-self: flex-end;
  }

  html /deep/ .self-stretch {
    -ms-align-self: stretch;
    -webkit-align-self: stretch;
    align-self: stretch;
  }

  /*******************************
            Other Layout
  *******************************/

  html /deep/ .block {
    display: block;
  }

  /* IE 10 support for HTML5 hidden attr */
  html /deep/ [hidden] {
    display: none !important;
  }

  html /deep/ .invisible {
    visibility: hidden !important;
  }

  html /deep/ .relative {
    position: relative;
  }

  html /deep/ .fit {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  body.fullbleed {
    margin: 0;
    height: 100vh;
  }

  html /deep/ .scroll {
    -webkit-overflow-scrolling: touch;
    overflow: auto;
  }

  .fixed-bottom,
  .fixed-left,
  .fixed-right,
  .fixed-top {
    position: fixed;
  }

  html /deep/ .fixed-top {
    top: 0;
    left: 0;
    right: 0;
  }

  html /deep/ .fixed-right {
    top: 0;
    right: 0;
    bottom: 0;
  }

  html /deep/ .fixed-bottom {
    right: 0;
    bottom: 0;
    left: 0;
  }

  html /deep/ .fixed-left {
    top: 0;
    bottom: 0;
    left: 0;
  }

</style>


<script>//~~WEBPATH~~/iron-flex-layout/classes/iron-flex-layout.html.js
console.warn("This file is deprecated. Please use `iron-flex-layout/iron-flex-layout-classes.html`, and one of the specific dom-modules instead");
</script>

<style>

  /*******************************
            Flex Layout
  *******************************/

  .layout.horizontal,
  .layout.horizontal-reverse,
  .layout.vertical,
  .layout.vertical-reverse {
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
  }

  .layout.inline {
    display: -ms-inline-flexbox;
    display: -webkit-inline-flex;
    display: inline-flex;
  }

  .layout.horizontal {
    -ms-flex-direction: row;
    -webkit-flex-direction: row;
    flex-direction: row;
  }

  .layout.horizontal-reverse {
    -ms-flex-direction: row-reverse;
    -webkit-flex-direction: row-reverse;
    flex-direction: row-reverse;
  }

  .layout.vertical {
    -ms-flex-direction: column;
    -webkit-flex-direction: column;
    flex-direction: column;
  }

  .layout.vertical-reverse {
    -ms-flex-direction: column-reverse;
    -webkit-flex-direction: column-reverse;
    flex-direction: column-reverse;
  }

  .layout.wrap {
    -ms-flex-wrap: wrap;
    -webkit-flex-wrap: wrap;
    flex-wrap: wrap;
  }

  .layout.wrap-reverse {
    -ms-flex-wrap: wrap-reverse;
    -webkit-flex-wrap: wrap-reverse;
    flex-wrap: wrap-reverse;
  }

  .flex-auto {
    -ms-flex: 1 1 auto;
    -webkit-flex: 1 1 auto;
    flex: 1 1 auto;
  }

  .flex-none {
    -ms-flex: none;
    -webkit-flex: none;
    flex: none;
  }

  .flex,
  .flex-1 {
    -ms-flex: 1;
    -webkit-flex: 1;
    flex: 1;
  }

  .flex-2 {
    -ms-flex: 2;
    -webkit-flex: 2;
    flex: 2;
  }

  .flex-3 {
    -ms-flex: 3;
    -webkit-flex: 3;
    flex: 3;
  }

  .flex-4 {
    -ms-flex: 4;
    -webkit-flex: 4;
    flex: 4;
  }

  .flex-5 {
    -ms-flex: 5;
    -webkit-flex: 5;
    flex: 5;
  }

  .flex-6 {
    -ms-flex: 6;
    -webkit-flex: 6;
    flex: 6;
  }

  .flex-7 {
    -ms-flex: 7;
    -webkit-flex: 7;
    flex: 7;
  }

  .flex-8 {
    -ms-flex: 8;
    -webkit-flex: 8;
    flex: 8;
  }

  .flex-9 {
    -ms-flex: 9;
    -webkit-flex: 9;
    flex: 9;
  }

  .flex-10 {
    -ms-flex: 10;
    -webkit-flex: 10;
    flex: 10;
  }

  .flex-11 {
    -ms-flex: 11;
    -webkit-flex: 11;
    flex: 11;
  }

  .flex-12 {
    -ms-flex: 12;
    -webkit-flex: 12;
    flex: 12;
  }

  /* alignment in cross axis */

  .layout.start {
    -ms-flex-align: start;
    -webkit-align-items: flex-start;
    align-items: flex-start;
  }

  .layout.center,
  .layout.center-center {
    -ms-flex-align: center;
    -webkit-align-items: center;
    align-items: center;
  }

  .layout.end {
    -ms-flex-align: end;
    -webkit-align-items: flex-end;
    align-items: flex-end;
  }

  /* alignment in main axis */

  .layout.start-justified {
    -ms-flex-pack: start;
    -webkit-justify-content: flex-start;
    justify-content: flex-start;
  }

  .layout.center-justified,
  .layout.center-center {
    -ms-flex-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
  }

  .layout.end-justified {
    -ms-flex-pack: end;
    -webkit-justify-content: flex-end;
    justify-content: flex-end;
  }

  .layout.around-justified {
    -ms-flex-pack: around;
    -webkit-justify-content: space-around;
    justify-content: space-around;
  }

  .layout.justified {
    -ms-flex-pack: justify;
    -webkit-justify-content: space-between;
    justify-content: space-between;
  }

  /* self alignment */

  .self-start {
    -ms-align-self: flex-start;
    -webkit-align-self: flex-start;
    align-self: flex-start;
  }

  .self-center {
    -ms-align-self: center;
    -webkit-align-self: center;
    align-self: center;
  }

  .self-end {
    -ms-align-self: flex-end;
    -webkit-align-self: flex-end;
    align-self: flex-end;
  }

  .self-stretch {
    -ms-align-self: stretch;
    -webkit-align-self: stretch;
    align-self: stretch;
  }

  /*******************************
            Other Layout
  *******************************/

  .block {
    display: block;
  }

  /* IE 10 support for HTML5 hidden attr */
  [hidden] {
    display: none !important;
  }

  .invisible {
    visibility: hidden !important;
  }

  .relative {
    position: relative;
  }

  .fit {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  body.fullbleed {
    margin: 0;
    height: 100vh;
  }

  .scroll {
    -webkit-overflow-scrolling: touch;
    overflow: auto;
  }

  /* fixed position */

  .fixed-bottom,
  .fixed-left,
  .fixed-right,
  .fixed-top {
    position: fixed;
  }

  .fixed-top {
    top: 0;
    left: 0;
    right: 0;
  }

  .fixed-right {
    top: 0;
    right: 0;
    bottom: 0;
  }

  .fixed-bottom {
    right: 0;
    bottom: 0;
    left: 0;
  }

  .fixed-left {
    top: 0;
    bottom: 0;
    left: 0;
  }

</style>









<script>//~~WEBPATH~~/facets-dive/lib/info-renderers.js
function kh(a,b){var c=document.createElement("dl"),d;for(d in a)if(a.hasOwnProperty(d)){var e=document.createElement("dt");e.textContent=d;c.appendChild(e);e=document.createElement("dd");e.textContent=a[d];c.appendChild(e)}b.appendChild(c)};
</script>


<dom-module id="facets-dive-info-card">
  <template>
    <style>
      :host {
        @apply(--paper-font-common-base);
        box-sizing: border-box;
        max-height: 100%;
        max-width: 100%;
        overflow: auto;
        padding: 8px;
      }
      ::content dt {
        color: #9e7c65;
        font-size: 14px;
      }
      ::content dd {
        @apply(--paper-font-common-code);
        color: #513726;
        margin: 0 0 16px 0;
      }
    </style>
    
  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive-info-card/facets-dive-info-card.js
Polymer({is:"facets-dive-info-card",properties:{infoRenderer:{type:Object},selectedData:{type:Array,value:[],observer:"_updateSelected"}},_updateSelected:function(a){var b=Polymer.dom(this.root);b.innerHTML="";if(a)for(var c=this.infoRenderer||kh,d=0;d<a.length;d++){var e=a[d],f=document.createElement("div");f.style.width="100%";b.appendChild(f);c(e,f)}}});
</script>




<dom-module id="facets-dive">
  <template>

    <style>
      /**
       * paper-input-container uses an element containing only &nbsp; for
       * spacing purposes. Aggressive vulcanizers sometimes remove this content.
       * This CSS rule forces the containing element to have the correct height
       * in either case.
       */
      ::content paper-input-container > .floated-label-placeholder {
        min-height: 20px;
      }

      :host {
        background: #ffffff;
        box-sizing: border-box;
        display: flex;
        flex: 1;
        height: 100%;
        overflow: hidden;
        position: relative;
        width: 100%;
      }
      .fill {
        bottom: 0;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
      }
      #vis {
        bottom: 0;
        left: 240px;
        position: absolute;
        right: 240px;
        top: 0;
        width: auto;
      }
      #controls {
        background: #e1eae9;
        border-right: 1px solid #cccccc;
        bottom: 0;
        box-sizing: border-box;
        left: 0;
        position: absolute;
        top: 0;
        width: 240px;
      }
      #infoCard {
        background: #fff8f4;
        bottom: 0;
        border-left: 1px solid #c6c6c6;
        box-sizing: border-box;
        position: absolute;
        right: 0;
        top: 0;
        width: 240px;
      }

      /**
       * Zoom Controls.
       */
      .zoom-controls {
        bottom: 14px;
        box-sizing: border-box;
        left: 250px;
        position: absolute;
      }
      .zoom-controls paper-button {
        background-color: #e7e7e7;
        clear: left;
        color: #2b2b2b;
        display: block;
        float: left;
        margin: 4px 8px;
        min-width: 0;
        padding: 8px;
      }
    </style>

    <div class="fill">
      <facets-dive-vis id="vis" class="fill" data="[[data]]" filtered-data-indices="[[filteredDataIndices]]" atlas-url="[[atlasUrl]]" sprite-url="[[spriteUrl]]" cross-origin="[[crossOrigin]]" keys="{{_keys}}" stats="{{_stats}}" sprite-image-width="[[spriteImageWidth]]" sprite-image-height="[[spriteImageHeight]]" vertical-facet="[[verticalFacet]]" vertical-buckets="[[verticalBuckets]]" vertical-bag-of-words="[[verticalBagOfWords]]" horizontal-facet="[[horizontalFacet]]" horizontal-buckets="[[horizontalBuckets]]" horizontal-bag-of-words="[[horizontalBagOfWords]]" position-mode="[[positionMode]]" vertical-position="[[verticalPosition]]" horizontal-position="[[horizontalPosition]]" color-by="{{colorBy}}" image-field-name="{{imageFieldName}}" palette="{{_palette}}" palette-choice="[[paletteChoice]]" grid-faceting-vertical-label-color="{{gridFacetingVerticalLabelColor}}" grid-faceting-horizontal-label-color="{{gridFacetingHorizontalLabelColor}}" item-positioning-vertical-label-color="{{itemPositioningVerticalLabelColor}}" item-positioning-horizontal-label-color="{{itemPositioningHorizontalLabelColor}}" selected-data="{{selectedData}}"></facets-dive-vis>

      <facets-dive-controls id="controls" atlas-url="[[atlasUrl]]" keys="[[_keys]]" stats="[[_stats]]" vertical-facet="{{verticalFacet}}" vertical-buckets="{{verticalBuckets}}" vertical-bag-of-words="{{verticalBagOfWords}}" horizontal-facet="{{horizontalFacet}}" horizontal-buckets="{{horizontalBuckets}}" horizontal-bag-of-words="{{horizontalBagOfWords}}" position-mode="{{positionMode}}" vertical-position="{{verticalPosition}}" horizontal-position="{{horizontalPosition}}" color-by="{{colorBy}}" image-field-name="{{imageFieldName}}" palette="[[_palette]]" palette-choice="{{paletteChoice}}" grid-faceting-vertical-label-color="[[gridFacetingVerticalLabelColor]]" grid-faceting-horizontal-label-color="[[gridFacetingHorizontalLabelColor]]" item-positioning-vertical-label-color="[[itemPositioningVerticalLabelColor]]" item-positioning-horizontal-label-color="[[itemPositioningHorizontalLabelColor]]"></facets-dive-controls>

      <div class="zoom-controls">
        <paper-button raised id="zoomInButton">
          <iron-icon icon="icons:add"></iron-icon>
        </paper-button>
        <paper-button raised id="zoomOutButton">
          <iron-icon icon="icons:remove"></iron-icon>
        </paper-button>
        <paper-button raised id="fitButton">
          <iron-icon icon="icons:aspect-ratio"></iron-icon>
        </paper-button>
      </div>

      <facets-dive-info-card id="infoCard" selected-data="[[selectedData]]" info-renderer="[[infoRenderer]]"></facets-dive-info-card>
    </div>

  </template>
</dom-module>

<script>//~~WEBPATH~~/facets-dive/components/facets-dive/facets-dive.js
Polymer({is:"facets-dive",properties:{data:{type:Array,value:null,notify:!0},filteredDataIndices:{type:Array,value:null},_keys:{type:Array,value:[]},_stats:{type:Object,value:{}},atlasUrl:{type:String,value:null,notify:!0},spriteUrl:{type:String,value:null,notify:!0},crossOrigin:{type:String,value:null,notify:!0},spriteImageWidth:{type:Number,value:64},spriteImageHeight:{type:Number,value:64},gridFacetingVerticalLabelColor:{type:String,value:"#666666"},gridFacetingHorizontalLabelColor:{type:String,
value:"#dd6622"},itemPositioningVerticalLabelColor:{type:String,value:"#2255aa"},itemPositioningHorizontalLabelColor:{type:String,value:"#118844"},verticalFacet:{type:String,value:"",notify:!0},verticalBuckets:{type:Number,value:10,notify:!0},verticalBagOfWords:{type:Boolean,value:!1,notify:!0},horizontalFacet:{type:String,value:"",notify:!0},horizontalBuckets:{type:Number,value:10,notify:!0},horizontalBagOfWords:{type:Boolean,value:!1,notify:!0},positionMode:{type:String,value:"stacked",notify:!0},
verticalPosition:{type:String,value:"",notify:!0},horizontalPosition:{type:String,value:"",notify:!0},colorBy:{type:String,value:"",notify:!0},imageFieldName:{type:String,value:"",notify:!0},_palette:{type:Array,value:[]},paletteChoice:{type:String,value:"standard",notify:!0},selectedData:{type:Array,value:[],notify:!0},height:{type:Number,value:null,observer:"_updateHeight"},infoRenderer:{type:Object}},ready:function(){var a=this.$;a.fitButton.onclick=function(){return a.vis.fitToViewport()};a.zoomInButton.onclick=
function(){return a.vis.zoomIn()};a.zoomOutButton.onclick=function(){return a.vis.zoomOut()};this._updateHeight()},_updateHeight:function(){null!==this.height&&(this.style.height="number"===typeof this.height?this.height+"px":this.height)}});</script>
